{
  "nodes": [
    {
      "content": "Operational Insights Log Search API",
      "pos": [
        26,
        61
      ]
    },
    {
      "content": "Provides an overview of the Operational Insights Search API and includes examples that show you how to use it.",
      "pos": [
        79,
        189
      ]
    },
    {
      "content": "Operational Insights Search API overview and reference",
      "pos": [
        494,
        548
      ]
    },
    {
      "content": "This guide provides a basic tutorial describing how you can use the Operational Insights Log Search API and it provides examples that show you how to use the commands.",
      "pos": [
        550,
        717
      ]
    },
    {
      "content": "Overview of the Log Search API",
      "pos": [
        722,
        752
      ]
    },
    {
      "content": "The Operational Insights Log Search API is RESTful and can be accessed via the Azure Resource Manager API.",
      "pos": [
        754,
        860
      ]
    },
    {
      "content": "In this document you will find examples where the API is accessed through the <bpt id=\"p1\">[</bpt>ARMClient<ept id=\"p1\">](https://github.com/projectkudu/ARMClient)</ept>, an open source command line tool that simplifies invoking the Azure Resource Manager API.",
      "pos": [
        861,
        1083
      ]
    },
    {
      "content": "The use of ARMClient and PowerShell is one of many options to access the Operational Insights Log Search API.",
      "pos": [
        1084,
        1193
      ]
    },
    {
      "content": "With these tools you can utilize the RESTful Azure Resource Manager API to make calls to Operational Insights workspaces and perform search commands within them.",
      "pos": [
        1194,
        1355
      ]
    },
    {
      "content": "The API will output search results to you in JSON format, allowing you to use the search results in many different ways programmatically.",
      "pos": [
        1356,
        1493
      ]
    },
    {
      "content": "The Azure Resource Manager can be used via a <bpt id=\"p1\">[</bpt>Library for .NET<ept id=\"p1\">](https://msdn.microsoft.com/library/azure/dn910477.aspx)</ept> as well as a <bpt id=\"p2\">[</bpt>REST API<ept id=\"p2\">](https://msdn.microsoft.com/library/azure/mt163658.aspx)</ept>.",
      "pos": [
        1495,
        1695
      ]
    },
    {
      "content": "Review the liked web pages to learn more.",
      "pos": [
        1696,
        1737
      ]
    },
    {
      "content": "Basic Search API tutorial",
      "pos": [
        1742,
        1767
      ]
    },
    {
      "content": "To use the ARM Client",
      "pos": [
        1773,
        1794
      ]
    },
    {
      "pos": [
        1799,
        1909
      ],
      "content": "Install <bpt id=\"p1\">[</bpt>Chocolatey<ept id=\"p1\">](https://chocolatey.org/)</ept>, which is an an Open Source Machine Package Manager for Windows."
    },
    {
      "content": "Open a PowerShell window as administrator and then run the following command:",
      "pos": [
        1913,
        1990
      ]
    },
    {
      "content": "Install the ARMClient by opening a new command prompt and run the following command:",
      "pos": [
        2218,
        2302
      ]
    },
    {
      "content": "To perform a simple search using the ARMClient",
      "pos": [
        2353,
        2399
      ]
    },
    {
      "content": "Login to your Microsoft or OrgID account:",
      "pos": [
        2404,
        2445
      ]
    },
    {
      "content": "A successful login lists all subscriptions tied to the given account.",
      "pos": [
        2481,
        2550
      ]
    },
    {
      "content": "For example:",
      "pos": [
        2551,
        2563
      ]
    },
    {
      "content": "Get the Operations Management Suite Workspaces.",
      "pos": [
        3041,
        3088
      ]
    },
    {
      "content": "For example:",
      "pos": [
        3089,
        3101
      ]
    },
    {
      "content": "A successful Get call would output all workspaces tied to the subscription.",
      "pos": [
        3302,
        3377
      ]
    },
    {
      "content": "For example:",
      "pos": [
        3378,
        3390
      ]
    },
    {
      "content": "Create your search variable.",
      "pos": [
        4025,
        4053
      ]
    },
    {
      "content": "For example:",
      "pos": [
        4054,
        4066
      ]
    },
    {
      "content": "Search using your new search variable.",
      "pos": [
        4136,
        4174
      ]
    },
    {
      "content": "For example:",
      "pos": [
        4175,
        4187
      ]
    },
    {
      "content": "Search API reference examples",
      "pos": [
        4422,
        4451
      ]
    },
    {
      "content": "The following examples show you how you can use the Search API.",
      "pos": [
        4452,
        4515
      ]
    },
    {
      "content": "Search - Action/Read",
      "pos": [
        4521,
        4541
      ]
    },
    {
      "content": "Sample Url:",
      "pos": [
        4545,
        4556
      ]
    },
    {
      "content": "Request:",
      "pos": [
        4737,
        4745
      ]
    },
    {
      "content": "The following table describes the properties that are available.",
      "pos": [
        5201,
        5265
      ]
    },
    {
      "content": "Property",
      "pos": [
        5270,
        5278
      ]
    },
    {
      "content": "Description",
      "pos": [
        5283,
        5294
      ]
    },
    {
      "content": "top",
      "pos": [
        5309,
        5312
      ]
    },
    {
      "content": "The maximum number of results to return.",
      "pos": [
        5313,
        5353
      ]
    },
    {
      "content": "highlight",
      "pos": [
        5356,
        5365
      ]
    },
    {
      "content": "Contains pre and post parameters, used usually for highlighting matching fields",
      "pos": [
        5366,
        5445
      ]
    },
    {
      "content": "pre",
      "pos": [
        5448,
        5451
      ]
    },
    {
      "content": "Prefixes the given string to your matched fields.",
      "pos": [
        5452,
        5501
      ]
    },
    {
      "content": "post",
      "pos": [
        5504,
        5508
      ]
    },
    {
      "content": "Appends the given string to your matched fields.",
      "pos": [
        5509,
        5557
      ]
    },
    {
      "content": "query",
      "pos": [
        5560,
        5565
      ]
    },
    {
      "content": "The search query used to collect and return results.",
      "pos": [
        5566,
        5618
      ]
    },
    {
      "content": "start",
      "pos": [
        5621,
        5626
      ]
    },
    {
      "content": "The beginning of the time window you want results to be found from.",
      "pos": [
        5627,
        5694
      ]
    },
    {
      "content": "end",
      "pos": [
        5697,
        5700
      ]
    },
    {
      "content": "The end of the time window you want results to be found from.",
      "pos": [
        5701,
        5762
      ]
    },
    {
      "content": "Response:",
      "pos": [
        5768,
        5777
      ]
    },
    {
      "content": "Search/{ID} - Action/Read",
      "pos": [
        7216,
        7241
      ]
    },
    {
      "content": "Request the contents of a Saved Search:",
      "pos": [
        7245,
        7284
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> If the search returns with a ‘Pending’ status, then polling the updated results can be done through this API.",
      "pos": [
        7481,
        7603
      ]
    },
    {
      "content": "After 6 min, the result of the search will be dropped from the cache and Http Gone will be returned.",
      "pos": [
        7604,
        7704
      ]
    },
    {
      "content": "If the initial search request returned a ‘Successful’ status immediately, it will not be added to the cache causing this API to return Http Gone if queried.",
      "pos": [
        7705,
        7861
      ]
    },
    {
      "content": "The contents of an Http 200 result will be in the same format as the initial search request just with updated values.",
      "pos": [
        7862,
        7979
      ]
    },
    {
      "content": "Saved searches - REST only",
      "pos": [
        7985,
        8011
      ]
    },
    {
      "content": "Request List of Saved Searches:",
      "pos": [
        8015,
        8046
      ]
    },
    {
      "content": "Supported methods: GET PUT DELETE",
      "pos": [
        8237,
        8270
      ]
    },
    {
      "content": "Supported collection methods: GET",
      "pos": [
        8272,
        8305
      ]
    },
    {
      "content": "The following table describes the properties that are available.",
      "pos": [
        8307,
        8371
      ]
    },
    {
      "content": "Property",
      "pos": [
        8374,
        8382
      ]
    },
    {
      "content": "Description",
      "pos": [
        8383,
        8394
      ]
    },
    {
      "content": "Id",
      "pos": [
        8407,
        8409
      ]
    },
    {
      "content": "The unique identifier.",
      "pos": [
        8410,
        8432
      ]
    },
    {
      "content": "Etag",
      "pos": [
        8435,
        8439
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Required for Patch<ept id=\"p1\">**</ept>.",
      "pos": [
        8440,
        8463
      ]
    },
    {
      "content": "Updated by server on each write.",
      "pos": [
        8464,
        8496
      ]
    },
    {
      "content": "Value must be equal to the current stored value or ‘*’ to update.",
      "pos": [
        8497,
        8562
      ]
    },
    {
      "content": "409 returned for old/invalid values.",
      "pos": [
        8563,
        8599
      ]
    },
    {
      "content": "properties.query",
      "pos": [
        8602,
        8618
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Required<ept id=\"p1\">**</ept>.",
      "pos": [
        8619,
        8632
      ]
    },
    {
      "content": "The search query.",
      "pos": [
        8633,
        8650
      ]
    },
    {
      "content": "properties.displayName",
      "pos": [
        8653,
        8675
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Required<ept id=\"p1\">**</ept>.",
      "pos": [
        8676,
        8689
      ]
    },
    {
      "content": "The user defined display name of the query.",
      "pos": [
        8690,
        8733
      ]
    },
    {
      "content": "If modeled as an Azure resource, this would be a Tag.",
      "pos": [
        8734,
        8787
      ]
    },
    {
      "content": "properties.category",
      "pos": [
        8790,
        8809
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Required<ept id=\"p1\">**</ept>.",
      "pos": [
        8810,
        8823
      ]
    },
    {
      "content": "The user defined category of the query.",
      "pos": [
        8824,
        8863
      ]
    },
    {
      "content": "If modeled as an Azure resource this would be a Tag.",
      "pos": [
        8864,
        8916
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph>The Operational Insights Search API currently returns user-created saved searches when polled for saved searches in a workspace.",
      "pos": [
        8920,
        9060
      ]
    },
    {
      "content": "The API will not return saved searches provided by solutions at this time.",
      "pos": [
        9061,
        9135
      ]
    },
    {
      "content": "This functionality will be added at a later date.",
      "pos": [
        9136,
        9185
      ]
    },
    {
      "content": "Delete saved searches",
      "pos": [
        9191,
        9212
      ]
    },
    {
      "content": "Request:",
      "pos": [
        9216,
        9224
      ]
    },
    {
      "content": "Update saved searches",
      "pos": [
        9443,
        9464
      ]
    },
    {
      "content": "Request:",
      "pos": [
        9469,
        9477
      ]
    },
    {
      "content": "Metadata - JSON only",
      "pos": [
        9949,
        9969
      ]
    },
    {
      "content": "Here’s a way to see the fields for all log types for the data collected in your workspace.",
      "pos": [
        9971,
        10061
      ]
    },
    {
      "content": "For example, if you want you know if the Event type has a field named Computer, then this is one way to look up and confirm.",
      "pos": [
        10062,
        10186
      ]
    },
    {
      "content": "Request for Fields:",
      "pos": [
        10190,
        10209
      ]
    },
    {
      "content": "Response:",
      "pos": [
        10395,
        10404
      ]
    },
    {
      "content": "The following table describes the properties that are available.",
      "pos": [
        11578,
        11642
      ]
    },
    {
      "content": "Property",
      "pos": [
        11647,
        11655
      ]
    },
    {
      "content": "Description",
      "pos": [
        11660,
        11671
      ]
    },
    {
      "content": "name",
      "pos": [
        11686,
        11690
      ]
    },
    {
      "content": "Field name.",
      "pos": [
        11691,
        11702
      ]
    },
    {
      "content": "displayName",
      "pos": [
        11705,
        11716
      ]
    },
    {
      "content": "The display name of the field.",
      "pos": [
        11717,
        11747
      ]
    },
    {
      "content": "type",
      "pos": [
        11750,
        11754
      ]
    },
    {
      "content": "The Type of the field value.",
      "pos": [
        11755,
        11783
      ]
    },
    {
      "content": "facetable",
      "pos": [
        11786,
        11795
      ]
    },
    {
      "content": "Combination of current ‘indexed’, ‘stored ‘and ‘facet’ properties.",
      "pos": [
        11796,
        11862
      ]
    },
    {
      "content": "display",
      "pos": [
        11865,
        11872
      ]
    },
    {
      "content": "Current ‘display’ property.",
      "pos": [
        11873,
        11900
      ]
    },
    {
      "content": "True if field is visible in search.",
      "pos": [
        11901,
        11936
      ]
    },
    {
      "content": "ownerType",
      "pos": [
        11939,
        11948
      ]
    },
    {
      "content": "Reduced to only Types belonging to onboarded IP’s.",
      "pos": [
        11949,
        11999
      ]
    },
    {
      "content": "Optional parameters",
      "pos": [
        12006,
        12025
      ]
    },
    {
      "content": "The following information describes optional parameters available.",
      "pos": [
        12026,
        12092
      ]
    },
    {
      "content": "Highlighting",
      "pos": [
        12098,
        12110
      ]
    },
    {
      "content": "The “Highlight” parameter is an optional parameter you may use to request the search subsystem include a set of markers in its response.",
      "pos": [
        12112,
        12248
      ]
    },
    {
      "content": "These markers indicate the start and end highlighted text that matches the terms provided in your search query.",
      "pos": [
        12250,
        12361
      ]
    },
    {
      "content": "You may specify the start and end markers that will be used by search to wrap the highlighted term.",
      "pos": [
        12362,
        12461
      ]
    },
    {
      "content": "Example search query",
      "pos": [
        12465,
        12485
      ]
    },
    {
      "content": "Sample result:",
      "pos": [
        12944,
        12958
      ]
    },
    {
      "content": "Notice that the result above contains an error message that has been prefixed and appended.",
      "pos": [
        13472,
        13563
      ]
    }
  ],
  "content": "<properties\n   pageTitle=\"Operational Insights Log Search API\"\n   description=\"Provides an overview of the Operational Insights Search API and includes examples that show you how to use it.\"\n   services=\"operational-insights\"\n   documentationCenter=\"\"\n   authors=\"bandersmsft\"\n   manager=\"jwhit\"\n   editor=\"\" />\n<tags\n   ms.service=\"operational-insights\"\n   ms.devlang=\"na\"\n   ms.topic=\"article\"\n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"tbd\"\n   ms.date=\"07/21/2015\"\n   ms.author=\"banders\" />\n\n\n\n# Operational Insights Search API overview and reference\n\nThis guide provides a basic tutorial describing how you can use the Operational Insights Log Search API and it provides examples that show you how to use the commands.\n\n## Overview of the Log Search API\n\nThe Operational Insights Log Search API is RESTful and can be accessed via the Azure Resource Manager API. In this document you will find examples where the API is accessed through the [ARMClient](https://github.com/projectkudu/ARMClient), an open source command line tool that simplifies invoking the Azure Resource Manager API. The use of ARMClient and PowerShell is one of many options to access the Operational Insights Log Search API. With these tools you can utilize the RESTful Azure Resource Manager API to make calls to Operational Insights workspaces and perform search commands within them. The API will output search results to you in JSON format, allowing you to use the search results in many different ways programmatically.\n\nThe Azure Resource Manager can be used via a [Library for .NET](https://msdn.microsoft.com/library/azure/dn910477.aspx) as well as a [REST API](https://msdn.microsoft.com/library/azure/mt163658.aspx). Review the liked web pages to learn more.\n\n## Basic Search API tutorial\n\n### To use the ARM Client\n\n1. Install [Chocolatey](https://chocolatey.org/), which is an an Open Source Machine Package Manager for Windows.\n2. Open a PowerShell window as administrator and then run the following command:\n\n    ```\n    @powershell -NoProfile -ExecutionPolicy unrestricted -Command \"iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))\" && SET PATH=%PATH%;%ALLUSERSPROFILE%\\chocolatey\\bin\n    ```\n\n3. Install the ARMClient by opening a new command prompt and run the following command:\n\n    ```\n    choco install armclient\n    ```\n\n### To perform a simple search using the ARMClient\n\n1. Login to your Microsoft or OrgID account:\n\n    ```\n    armclient login\n```\n  A successful login lists all subscriptions tied to the given account. For example:\n\n    ```\n    PS C:\\Users\\SampleUserName> armclient login\n    Welcome YourEmail@ORG.com (Tenant: zzzzzzzz-zzzz-zzzz-zzzz-zzzzzzzzzzzz)\n    User: YourEmail@ORG.com, Tenant: zzzzzzzz-zzzz-zzzz-zzzz-zzzzzzzzzzzz (Example org)\n    There are 3 subscriptions\n    Subscription xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (Example Name 1)\n    Subscription xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (Example Name 2)\n    Subscription xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (Example Name 3)\n    ```\n\n2. Get the Operations Management Suite Workspaces. For example:\n\n    ```\n    armclient get /subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroups/OI-Default-East-US/providers/Microsoft.OperationalInsights/workspaces?api-version=2014-10-10\n    ```\n\n    A successful Get call would output all workspaces tied to the subscription. For example:\n\n    ```\n    {\n    \"value\": [\n    {\n      \"properties\": {\n    \"source\": \"External\",\n    \"customerId\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\",\n    \"portalUrl\": \"https://eus.login.mms.microsoft.com/SignIn.aspx?returnUrl=https%3a%2f%2feus.mms.microsoft.com%2fMain.aspx%3fcid%xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\n      },\n      \"id\": \"/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourcegroups/oi-default-east-us/providers/microsoft.operationalinsights/workspaces/{WORKSPACE NAME}\",\n      \"name\": \"{WORKSPACE NAME}\",\n      \"type\": \"Microsoft.OperationalInsights/workspaces\",\n      \"location\": \"East US\"\n       ]\n    }\n    ```\n3. Create your search variable. For example:\n\n    ```\n    $mySearch = \"{ 'top':150, 'query':'Error'}”;\n    ```\n4. Search using your new search variable. For example:\n\n    ```\n    armclient post /subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroups/OI-Default-East-US/providers/Microsoft.OperationalInsights/workspaces/{WORKSPACE NAME}/search?api-version=2014-10-10 $mySearch\n    ```\n\n## Search API reference examples\nThe following examples show you how you can use the Search API.\n\n### Search - Action/Read\n\n**Sample Url:**\n\n```\n    /subscriptions/{SubscriptionId}/resourceGroups/{ResourceGroupId}/providers/Microsoft.OperationalInsights/workspaces/{WorkspaceName}/search?api-version=2014-10-10\n```\n\n**Request:**\n\n```\n    $savedSearchParametersJson =\n    {\n      \"top\":150,\n      \"highlight\":{\n        \"pre\":\"{[hl]}\",\n        \"post\":\"{[/hl]}\"\n      },\n      \"query\":\"*\",\n      \"start\":\"2015-02-04T21:03:29.231Z\",\n      \"end\":\"2015-02-11T21:03:29.231Z\"\n    }\n    armclient post /subscriptions/{Subscription ID}/resourceGroups/OI-Default-East-US/providers/Microsoft.OperationalInsights/workspaces/{Workspace ID}/search?api-version=2014-10-10 $searchParametersJson\n```\nThe following table describes the properties that are available.\n\n|**Property**|**Description**|\n|---|---|\n|top|The maximum number of results to return.|\n|highlight|Contains pre and post parameters, used usually for highlighting matching fields|\n|pre|Prefixes the given string to your matched fields.|\n|post|Appends the given string to your matched fields.|\n|query|The search query used to collect and return results.|\n|start|The beginning of the time window you want results to be found from.|\n|end|The end of the time window you want results to be found from.|\n\n\n**Response:**\n\n```\n    {\n      \"id\" : \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\",\n      \"__metadata\" : {\n        \"resultType\" : \"raw\",\n        \"total\" : 1455,\n        \"top\" : 150,\n        \"StartTime\" : \"2015-02-11T21:09:07.0345815Z\",\n        \"Status\" : \"Successful\",\n        \"LastUpdated\" : \"2015-02-11T21:09:07.331463Z\",\n        \"CoreResponses\" : [],\n        \"sort\" : [{\n          \"name\" : \"TimeGenerated\",\n          \"order\" : \"desc\"\n        }],\n        \"requestTime\" : 450\n      },\n      \"value\": [{\n        \"SourceSystem\" : \"OpsManager\",\n        \"TimeGenerated\" : \"2015-02-07T14:07:33Z\",\n        \"Source\" : \"SideBySide\",\n        \"EventLog\" : \"Application\",\n        \"Computer\" : \"BAMBAM\",\n        \"EventCategory\" : 0,\n        \"EventLevel\" : 1,\n        \"EventLevelName\" : \"Error\",\n        \"UserName\" : \"N/A\",\n        \"EventID\" : 78,\n        \"MG\" : \"00000000-0000-0000-0000-000000000001\",\n        \"TimeCollected\" : \"2015-02-07T14:10:04.69Z\",\n        \"ManagementGroupName\" : \"AOI-5bf9a37f-e841-462b-80d2-1d19cd97dc40\",\n        \"id\" : \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\",\n        \"Type\" : \"Event\",\n        \"__metadata\" : {\n          \"Type\" : \"Event\",\n          \"TimeGenerated\" : \"2015-02-07T14:07:33Z\",\n          \"highlighting\" : {\n          \"EventLevelName\" : [\"{[hl]}Error{[/hl]}\"]\n        }\n      }]\n    ],\n            \"start\" : \"2015-02-04T21:03:29.231Z\",\n            \"end\" : \"2015-02-11T21:03:29.231Z\"\n          }\n        }\n      }]\n    }\n```\n\n### Search/{ID} - Action/Read\n\n**Request the contents of a Saved Search:**\n\n```\n    armclient post /subscriptions/{SubId}/resourceGroups/{ResourceGroupId}/providers/Microsoft.OperationalInsights/workspaces/{WorkspaceName}/search/{SearchId}?api-version=2014-10-10\n```\n\n>[AZURE.NOTE] If the search returns with a ‘Pending’ status, then polling the updated results can be done through this API. After 6 min, the result of the search will be dropped from the cache and Http Gone will be returned. If the initial search request returned a ‘Successful’ status immediately, it will not be added to the cache causing this API to return Http Gone if queried. The contents of an Http 200 result will be in the same format as the initial search request just with updated values.\n\n### Saved searches - REST only\n\n**Request List of Saved Searches:**\n\n```\n    armclient get /subscriptions/{SubId}/resourceGroups/{ResourceGroupId}/providers/Microsoft.OperationalInsights/workspaces/{WorkspaceName}/savedSearches?api-version=2014-10-10\n```\n\nSupported methods: GET PUT DELETE\n\nSupported collection methods: GET\n\nThe following table describes the properties that are available.\n\n|Property|Description|\n|---|---|\n|Id|The unique identifier.|\n|Etag|**Required for Patch**. Updated by server on each write. Value must be equal to the current stored value or ‘*’ to update. 409 returned for old/invalid values.|\n|properties.query|**Required**. The search query.|\n|properties.displayName|**Required**. The user defined display name of the query. If modeled as an Azure resource, this would be a Tag.|\n|properties.category|**Required**. The user defined category of the query. If modeled as an Azure resource this would be a Tag.|\n\n>[AZURE.NOTE]The Operational Insights Search API currently returns user-created saved searches when polled for saved searches in a workspace. The API will not return saved searches provided by solutions at this time. This functionality will be added at a later date.\n\n### Delete saved searches\n\n**Request:**\n\n```\n    armclient delete /subscriptions/{Subscription ID}/resourceGroups/OI-Default-East-US/providers/Microsoft.OperationalInsights/workspaces/{Workspace ID}/savedSearches/thisIsMyId?api-version=2014-10-10\n```\n\n### Update saved searches\n\n **Request:**\n\n```\n    $savedSearchParametersJson = \"{'etag': 'W/`\"datetime\\'2015-04-16T23%3A35%3A35.3182423Z\\'`\"', 'properties': { 'Category': 'myCategory', 'DisplayName':'myDisplayName', 'Query':'* | measure Count() by Source', 'Version':'1'  }\"\n    armclient put /subscriptions/{Subscription ID}/resourceGroups/OI-Default-East-US/providers/Microsoft.OperationalInsights/workspaces/{Workspace ID}/savedSearches/thisIsMyId?api-version=2014-10-10 $savedSearchParametersJson\n```\n\n### Metadata - JSON only\n\nHere’s a way to see the fields for all log types for the data collected in your workspace. For example, if you want you know if the Event type has a field named Computer, then this is one way to look up and confirm.\n\n**Request for Fields:**\n\n```\n    armclient get /subscriptions/{SubId}/resourceGroups/{ResourceGroupId}/providers/Microsoft.OperationalInsights/workspaces/{WorkspaceName}/schema?api-version=2014-10-10\n```\n\n**Response:**\n\n```\n    {\n      \"__metadata\" : {\n        \"schema\" : {\n          \"name\" : \"Example Name\",\n          \"version\" : 2\n        },\n        \"resultType\" : \"schema\",\n        \"requestTime\" : 35\n      },\n      \"value\" : [{\n          \"name\" : \"MG\",\n          \"displayName\" : \"MG\",\n          \"type\" : \"Guid\",\n          \"facetable\" : true,\n          \"display\" : false,\n          \"ownerType\" : [\"PerfHourly\", \"ProtectionStatus\", \"Capacity_SMBUtilizationByHost\", \"Capacity_ArrayUtilization\", \"Capacity_SMBShareUtilization\", \"SQLAssessmentRecommendation\", \"Event\", \"ConfigurationChange\", \"ConfigurationAlert\", \"ADAssessmentRecommendation\", \"ConfigurationObject\", \"ConfigurationObjectProperty\"]\n        }, {\n          \"name\" : \"ManagementGroupName\",\n          \"displayName\" : \"ManagementGroupName\",\n          \"type\" : \"String\",\n          \"facetable\" : true,\n          \"display\" : true,\n          \"ownerType\" : [\"PerfHourly\", \"ProtectionStatus\", \"Event\", \"ConfigurationChange\", \"ConfigurationAlert\", \"W3CIISLog\", \"AlertHistory\", \"Recommendation\", \"Alert\", \"SecurityEvent\", \"UpdateAgent\", \"RequiredUpdate\", \"ConfigurationObject\", \"ConfigurationObjectProperty\"]\n        }\n      ]\n    }\n```\n\nThe following table describes the properties that are available.\n\n|**Property**|**Description**|\n|---|---|\n|name|Field name.|\n|displayName|The display name of the field.|\n|type|The Type of the field value.|\n|facetable|Combination of current ‘indexed’, ‘stored ‘and ‘facet’ properties.|\n|display|Current ‘display’ property. True if field is visible in search.|\n|ownerType|Reduced to only Types belonging to onboarded IP’s.|\n\n\n## Optional parameters\nThe following information describes optional parameters available.\n\n### Highlighting\n\nThe “Highlight” parameter is an optional parameter you may use to request the search subsystem include a set of markers in its response.\n\nThese markers indicate the start and end highlighted text that matches the terms provided in your search query.\nYou may specify the start and end markers that will be used by search to wrap the highlighted term.\n\n**Example search query**\n\n```\n    $savedSearchParametersJson =\n    {\n      \"top\":150,\n      \"highlight\":{\n        \"pre\":\"{[hl]}\",\n        \"post\":\"{[/hl]}\"\n      },\n      \"query\":\"*\",\n      \"start\":\"2015-02-04T21:03:29.231Z\",\n      \"end\":\"2015-02-11T21:03:29.231Z\"\n    }\n    armclient post /subscriptions/{Subscription ID}/resourceGroups/OI-Default-East-US/providers/Microsoft.OperationalInsights/workspaces/{Workspace ID}/search?api-version=2014-10-10 $searchParametersJson\n```\n\n**Sample result:**\n\n```\n    {\n        \"TimeGenerated\":\n        \"2015-05-18T23:55:59Z\", \"Source\":\n        \"EventLog\": \"Application\",\n        \"Computer\": \"smokedturkey.net\",\n        \"EventCategory\": 0,\n        \"EventLevel\":1,\n        \"EventLevelName\":\n        \"Error\"\n        \"Manager \", \"__metadata\":\n        {\n            \"Type\": \"Event\",\n            \"TimeGenerated\": \"2015-05-18T23:55:59Z\",\n            \"highlighting\": {\n                \"EventLevelName\":\n                [\"{[hl]}Error{[/hl]}\"]\n            }\n        }\n    }\n```\n\nNotice that the result above contains an error message that has been prefixed and appended.\n"
}