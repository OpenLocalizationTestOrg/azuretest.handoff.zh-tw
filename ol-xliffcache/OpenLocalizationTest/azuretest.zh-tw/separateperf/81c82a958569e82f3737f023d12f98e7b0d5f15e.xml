{
  "nodes": [
    {
      "content": "Deploy an Azure App Service API App",
      "pos": [
        28,
        63
      ]
    },
    {
      "content": "Learn how to deploy an API App project to your Azure subscription.",
      "pos": [
        83,
        149
      ]
    },
    {
      "content": "Deploy an Azure App Service API App",
      "pos": [
        488,
        523
      ]
    },
    {
      "content": "Overview",
      "pos": [
        528,
        536
      ]
    },
    {
      "content": "If you're actively developing your own API app using Visual Studio and need to test your API in the cloud, you can create a new API app in your Azure subscription and deploy your code using Visual Studio's convenient App Service deployment features.",
      "pos": [
        538,
        787
      ]
    },
    {
      "content": "This is the second tutorial in a series of three:",
      "pos": [
        790,
        839
      ]
    },
    {
      "pos": [
        844,
        936
      ],
      "content": "In <bpt id=\"p1\">[</bpt>Create an API App<ept id=\"p1\">](app-service-dotnet-create-api-app.md)</ept> you created an API App project."
    },
    {
      "content": "In this tutorial, you will deploy the API app to your Azure subscription.",
      "pos": [
        940,
        1013
      ]
    },
    {
      "pos": [
        1016,
        1165
      ],
      "content": "In <bpt id=\"p1\">[</bpt>Debug an API App<ept id=\"p1\">](../app-service-dotnet-remotely-debug-api-app.md)</ept>, you will use Visual Studio to remotely debug the code while it runs in Azure."
    },
    {
      "content": "Deploy the API app",
      "pos": [
        1170,
        1188
      ]
    },
    {
      "pos": [
        1191,
        1285
      ],
      "content": "In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the project (not the solution) and click <bpt id=\"p2\">**</bpt>Publish...<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Project publish menu option",
      "pos": [
        1290,
        1317
      ]
    },
    {
      "pos": [
        1390,
        1465
      ],
      "content": "Click the <bpt id=\"p1\">**</bpt>Profile<ept id=\"p1\">**</ept> tab and click <bpt id=\"p2\">**</bpt>Microsoft Azure API Apps (Preview)<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Publish Web dialog",
      "pos": [
        1470,
        1488
      ]
    },
    {
      "pos": [
        1576,
        1644
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept> to provision a new API App in your Azure subscription."
    },
    {
      "content": "Select Existing API Services dialog",
      "pos": [
        1648,
        1683
      ]
    },
    {
      "pos": [
        1759,
        1816
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Create an API App<ept id=\"p1\">**</ept> dialog, enter the following:"
    },
    {
      "pos": [
        1820,
        1869
      ],
      "content": "Under <bpt id=\"p1\">**</bpt>API App Name<ept id=\"p1\">**</ept>, enter a name for the app."
    },
    {
      "content": "If you have multiple Azure subscriptions, select the one you want to use.",
      "pos": [
        1873,
        1946
      ]
    },
    {
      "content": "-Under App Service Plan, select from your existing App Service plans, or select <bpt id=\"p1\">**</bpt>Create new App Service plan<ept id=\"p1\">**</ept> and enter the name of a new plan.",
      "pos": [
        1947,
        2092
      ]
    },
    {
      "content": "Under <bpt id=\"p1\">**</bpt>Resource Group<ept id=\"p1\">**</ept>, select from your existing resource groups, or select <bpt id=\"p2\">**</bpt>Create new resource group<ept id=\"p2\">**</ept> and enter a name.",
      "pos": [
        2096,
        2222
      ]
    },
    {
      "content": "The name must be unique; consider using the app name as a prefix and appending some personal information such as your Microsoft ID (without the @ sign).",
      "pos": [
        2223,
        2375
      ]
    },
    {
      "content": "Under <bpt id=\"p1\">**</bpt>Access Level<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Available to Anyone<ept id=\"p2\">**</ept>.",
      "pos": [
        2380,
        2435
      ]
    },
    {
      "content": "This option will make your API completely public, which is fine for this tutorial.",
      "pos": [
        2436,
        2518
      ]
    },
    {
      "content": "You can restrict access later through the Azure Portal.",
      "pos": [
        2519,
        2574
      ]
    },
    {
      "content": "Select a region.",
      "pos": [
        2577,
        2593
      ]
    },
    {
      "content": "Configure Microsoft Azure Web App dialog",
      "pos": [
        2599,
        2639
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to create the API App in your subscription.",
      "pos": [
        2715,
        2771
      ]
    },
    {
      "content": "The process can take a few minutes, so Visual Studio shows a dialog notifying you that the process has initiated.",
      "pos": [
        2772,
        2885
      ]
    },
    {
      "content": "API Service Creation Started confirmation message",
      "pos": [
        2890,
        2939
      ]
    },
    {
      "content": "The provisioning process creates the resource group and API App in your Azure subscription.",
      "pos": [
        3021,
        3112
      ]
    },
    {
      "content": "Visual Studio shows the progress in the <bpt id=\"p1\">**</bpt>Azure App Service Activity<ept id=\"p1\">**</ept> window.",
      "pos": [
        3113,
        3191
      ]
    },
    {
      "content": "Status notification via the Azure App Service Activity window",
      "pos": [
        3196,
        3257
      ]
    },
    {
      "content": "Once the API App is provisioned, right-click the project in Solution Explorer and select <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> to re-open the publish dialog.",
      "pos": [
        3335,
        3466
      ]
    },
    {
      "content": "The publish profile created in the previous step should be pre-selected.",
      "pos": [
        3467,
        3539
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> to begin the deployment process.",
      "pos": [
        3540,
        3590
      ]
    },
    {
      "content": "Deploying the API App",
      "pos": [
        3595,
        3616
      ]
    },
    {
      "pos": [
        3694,
        3766
      ],
      "content": "The <bpt id=\"p1\">**</bpt>Azure App Service Activity<ept id=\"p1\">**</ept> window shows the deployment progress."
    },
    {
      "content": "Status notification of the Azure App Service Activity window",
      "pos": [
        3771,
        3831
      ]
    },
    {
      "content": "View the app in the Azure Portal",
      "pos": [
        3912,
        3944
      ]
    },
    {
      "content": "In this section, you will navigate to the portal to view the basic settings available for API Apps and make iterative changes to your API app.",
      "pos": [
        3946,
        4088
      ]
    },
    {
      "content": "With each deployment, the portal will reflect the changes you're making to your API app.",
      "pos": [
        4089,
        4177
      ]
    },
    {
      "pos": [
        4180,
        4254
      ],
      "content": "In your browser, navigate to the <bpt id=\"p1\">[</bpt>Azure Portal<ept id=\"p1\">](https://portal.azure.com)</ept>."
    },
    {
      "pos": [
        4257,
        4324
      ],
      "content": "Click the <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> button on the sidebar and select <bpt id=\"p2\">**</bpt>API Apps<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Browse options on Azure portal",
      "pos": [
        4328,
        4358
      ]
    },
    {
      "content": "Select the API you created from the list of API apps in your subscription.",
      "pos": [
        4432,
        4506
      ]
    },
    {
      "content": "API Apps list",
      "pos": [
        4510,
        4523
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>API Definition<ept id=\"p1\">**</ept>.",
      "pos": [
        4594,
        4619
      ]
    },
    {
      "content": "The app's <bpt id=\"p1\">**</bpt>API Definition<ept id=\"p1\">**</ept> blade shows the list of API operations that you defined when you created the app.",
      "pos": [
        4620,
        4730
      ]
    },
    {
      "content": "API Definition",
      "pos": [
        4735,
        4749
      ]
    },
    {
      "content": "Now go back to the project in Visual Studio.",
      "pos": [
        4821,
        4865
      ]
    },
    {
      "content": "Add the following code to the <bpt id=\"p1\">**</bpt>ContactsController.cs<ept id=\"p1\">**</ept> file.",
      "pos": [
        4866,
        4927
      ]
    },
    {
      "pos": [
        5130,
        5223
      ],
      "content": "This code adds a <bpt id=\"p1\">**</bpt>Post<ept id=\"p1\">**</ept> method that can be used to post new <ph id=\"ph1\">`Contact`</ph> instances to the API."
    },
    {
      "content": "Adding the Post method to the controller",
      "pos": [
        5228,
        5268
      ]
    },
    {
      "pos": [
        5343,
        5416
      ],
      "content": "In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the project and select <bpt id=\"p2\">**</bpt>Publish<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Project Publish context menu",
      "pos": [
        5421,
        5449
      ]
    },
    {
      "pos": [
        5522,
        5636
      ],
      "content": "Select the <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> configuration from <bpt id=\"p2\">**</bpt>Configuration<ept id=\"p2\">**</ept> drop-down and click <bpt id=\"p3\">**</bpt>Publish<ept id=\"p3\">**</ept> to redeploy the API app."
    },
    {
      "content": "Publish Web settings",
      "pos": [
        5641,
        5661
      ]
    },
    {
      "pos": [
        5740,
        5812
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Preview<ept id=\"p1\">**</ept> tab of the <bpt id=\"p2\">**</bpt>Publish Web<ept id=\"p2\">**</ept> wizard, click <bpt id=\"p3\">**</bpt>Publish<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Publish Web dialog",
      "pos": [
        5818,
        5836
      ]
    },
    {
      "content": "Once the publish process has completed, go back to the portal, and close and reopen the <bpt id=\"p1\">**</bpt>API Definition<ept id=\"p1\">**</ept> blade.",
      "pos": [
        5917,
        6030
      ]
    },
    {
      "content": "You will see the new API endpoint you just created and deployed directly into your Azure subscription.",
      "pos": [
        6031,
        6133
      ]
    },
    {
      "content": "API Definition",
      "pos": [
        6137,
        6151
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        6235,
        6245
      ]
    },
    {
      "content": "You've seen how the direct deployment capabilities in Visual Studio make it easy to iterate and deploy rapidly and test that your API works correctly.",
      "pos": [
        6247,
        6397
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">[</bpt>next tutorial<ept id=\"p1\">](../app-service-dotnet-remotely-debug-api-app.md)</ept>, you'll see how to debug your API app while it runs in Azure.",
      "pos": [
        6398,
        6531
      ]
    },
    {
      "content": "test",
      "pos": [
        6536,
        6540
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Deploy an Azure App Service API App\" \n    description=\"Learn how to deploy an API App project to your Azure subscription.\" \n    services=\"app-service\\api\" \n    documentationCenter=\".net\" \n    authors=\"bradygaster\" \n    manager=\"wpickett\" \n    editor=\"jimbe\"/>\n\n<tags \n    ms.service=\"app-service-api\" \n    ms.workload=\"web\" \n    ms.tgt_pltfrm=\"dotnet\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"08/19/2015\" \n    ms.author=\"bradyg;tarcher\"/>\n\n# Deploy an Azure App Service API App\n\n## Overview\n\nIf you're actively developing your own API app using Visual Studio and need to test your API in the cloud, you can create a new API app in your Azure subscription and deploy your code using Visual Studio's convenient App Service deployment features. \n\nThis is the second tutorial in a series of three:\n\n1. In [Create an API App](app-service-dotnet-create-api-app.md) you created an API App project. \n* In this tutorial, you will deploy the API app to your Azure subscription.\n* In [Debug an API App](../app-service-dotnet-remotely-debug-api-app.md), you will use Visual Studio to remotely debug the code while it runs in Azure.\n\n## Deploy the API app \n\nIn **Solution Explorer**, right-click the project (not the solution) and click **Publish...**. \n\n![Project publish menu option](./media/app-service-dotnet-publish-api-app/20-publish-gesture-v3.png)\n\nClick the **Profile** tab and click **Microsoft Azure API Apps (Preview)**. \n\n![Publish Web dialog](./media/app-service-dotnet-publish-api-app/21-select-api-apps-for-deployment-v2.png)\n\nClick **New** to provision a new API App in your Azure subscription.\n\n![Select Existing API Services dialog](./media/app-service-dotnet-publish-api-app/23-publish-to-apiapps-v3.png)\n\nIn the **Create an API App** dialog, enter the following:\n\n- Under **API App Name**, enter a name for the app. \n- If you have multiple Azure subscriptions, select the one you want to use.\n-Under App Service Plan, select from your existing App Service plans, or select **Create new App Service plan** and enter the name of a new plan. \n- Under **Resource Group**, select from your existing resource groups, or select **Create new resource group** and enter a name. The name must be unique; consider using the app name as a prefix and appending some personal information such as your Microsoft ID (without the @ sign).  \n- Under **Access Level**, select **Available to Anyone**. This option will make your API completely public, which is fine for this tutorial. You can restrict access later through the Azure Portal.\n- Select a region.  \n\n![Configure Microsoft Azure Web App dialog](./media/app-service-dotnet-publish-api-app/24-new-api-app-dialog-v3.png)\n\nClick **OK** to create the API App in your subscription. The process can take a few minutes, so Visual Studio shows a dialog notifying you that the process has initiated. \n\n![API Service Creation Started confirmation message](./media/app-service-dotnet-publish-api-app/25-api-provisioning-started-v3.png)\n\nThe provisioning process creates the resource group and API App in your Azure subscription. Visual Studio shows the progress in the **Azure App Service Activity** window. \n\n![Status notification via the Azure App Service Activity window](./media/app-service-dotnet-publish-api-app/26-provisioning-success-v3.png)\n\nOnce the API App is provisioned, right-click the project in Solution Explorer and select **Publish** to re-open the publish dialog. The publish profile created in the previous step should be pre-selected. Click **Publish** to begin the deployment process. \n\n![Deploying the API App](./media/app-service-dotnet-publish-api-app/26-5-deployment-success-v3.png)\n\nThe **Azure App Service Activity** window shows the deployment progress. \n\n![Status notification of the Azure App Service Activity window](./media/app-service-dotnet-publish-api-app/26-5-deployment-success-v4.png)\n\n## View the app in the Azure Portal\n\nIn this section, you will navigate to the portal to view the basic settings available for API Apps and make iterative changes to your API app. With each deployment, the portal will reflect the changes you're making to your API app. \n\nIn your browser, navigate to the [Azure Portal](https://portal.azure.com). \n\nClick the **Browse** button on the sidebar and select **API Apps**.\n\n![Browse options on Azure portal](./media/app-service-dotnet-publish-api-app/27-browse-in-portal-v3.png)\n\nSelect the API you created from the list of API apps in your subscription.\n\n![API Apps list](./media/app-service-dotnet-publish-api-app/28-view-api-list-v3.png)\n\nClick **API Definition**. The app's **API Definition** blade shows the list of API operations that you defined when you created the app. \n\n![API Definition](./media/app-service-dotnet-publish-api-app/29-api-definition-v3.png)\n\nNow go back to the project in Visual Studio. Add the following code to the **ContactsController.cs** file.  \n\n    [HttpPost]\n    public HttpResponseMessage Post([FromBody] Contact contact)\n    {\n        // todo: save the contact somewhere\n        return Request.CreateResponse(HttpStatusCode.Created);\n    }\n\nThis code adds a **Post** method that can be used to post new `Contact` instances to the API. \n\n![Adding the Post method to the controller](./media/app-service-dotnet-publish-api-app/30-post-method-added-v3.png)\n\nIn **Solution Explorer**, right-click the project and select **Publish**. \n\n![Project Publish context menu](./media/app-service-dotnet-publish-api-app/31-publish-gesture-v3.png)\n\nSelect the **Debug** configuration from **Configuration** drop-down and click **Publish** to redeploy the API app. \n\n![Publish Web settings](./media/app-service-dotnet-publish-api-app/36.5-select-debug-option-v3.png)\n\nIn the **Preview** tab of the **Publish Web** wizard, click **Publish**.  \n\n![Publish Web dialog](./media/app-service-dotnet-publish-api-app/39-re-publish-preview-step-v2.png)\n\nOnce the publish process has completed, go back to the portal, and close and reopen the **API Definition** blade. You will see the new API endpoint you just created and deployed directly into your Azure subscription.\n\n![API Definition](./media/app-service-dotnet-publish-api-app/38-portal-with-post-method-v4.png)\n\n## Next steps\n\nYou've seen how the direct deployment capabilities in Visual Studio make it easy to iterate and deploy rapidly and test that your API works correctly. In the [next tutorial](../app-service-dotnet-remotely-debug-api-app.md), you'll see how to debug your API app while it runs in Azure.\n\n\n \ntest\n"
}