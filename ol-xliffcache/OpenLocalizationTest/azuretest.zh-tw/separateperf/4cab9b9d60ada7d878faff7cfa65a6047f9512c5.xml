{
  "nodes": [
    {
      "content": "Explore Java trace logs in Application Insights",
      "pos": [
        28,
        75
      ]
    },
    {
      "content": "Search Log4J or Logback traces in Application Insights",
      "pos": [
        95,
        149
      ]
    },
    {
      "content": "Explore Java trace logs in Application Insights",
      "pos": [
        472,
        519
      ]
    },
    {
      "content": "If you're using Logback or Log4J (v1.2 or v2.0) for tracing, you can have your trace logs sent automatically to Application Insights where you can explore and search on them.",
      "pos": [
        521,
        695
      ]
    },
    {
      "content": "Install [Application Insights SDK for Java][java], if you haven't already done that.",
      "pos": [
        697,
        781
      ]
    },
    {
      "content": "Add logging libraries to your project",
      "pos": [
        787,
        824
      ]
    },
    {
      "content": "Choose the appropriate way for your project.",
      "pos": [
        827,
        871
      ]
    },
    {
      "content": "If you're using Maven...",
      "pos": [
        879,
        903
      ]
    },
    {
      "content": "If your project is already set up to use Maven for build, merge one of the following snippets of code into your pom.xml file.",
      "pos": [
        905,
        1030
      ]
    },
    {
      "content": "Then refresh the project dependencies, to get the binaries downloaded.",
      "pos": [
        1032,
        1102
      ]
    },
    {
      "content": "Logback",
      "pos": [
        1105,
        1112
      ]
    },
    {
      "content": "Log4J v2.0",
      "pos": [
        1353,
        1363
      ]
    },
    {
      "content": "Log4J v1.2",
      "pos": [
        1603,
        1613
      ]
    },
    {
      "content": "If you're using Gradle...",
      "pos": [
        1859,
        1884
      ]
    },
    {
      "pos": [
        1886,
        2030
      ],
      "content": "If your project is already set up to use Gradle for build, add one of the following lines to the <ph id=\"ph1\">`dependencies`</ph> group in your build.gradle file:"
    },
    {
      "content": "Then refresh the project dependencies, to get the binaries downloaded.",
      "pos": [
        2032,
        2102
      ]
    },
    {
      "content": "Logback",
      "pos": [
        2106,
        2113
      ]
    },
    {
      "content": "Log4J v2.0",
      "pos": [
        2224,
        2234
      ]
    },
    {
      "content": "Log4J v1.2",
      "pos": [
        2344,
        2354
      ]
    },
    {
      "content": "Otherwise ...",
      "pos": [
        2469,
        2482
      ]
    },
    {
      "content": "Download and extract the appropriate appender, then add the appropriate library to your project:",
      "pos": [
        2484,
        2580
      ]
    },
    {
      "content": "Logger",
      "pos": [
        2583,
        2589
      ]
    },
    {
      "content": "Download",
      "pos": [
        2592,
        2600
      ]
    },
    {
      "content": "Library",
      "pos": [
        2603,
        2610
      ]
    },
    {
      "content": "Logback",
      "pos": [
        2626,
        2633
      ]
    },
    {
      "content": "SDK with Logback appender",
      "pos": [
        2635,
        2660
      ]
    },
    {
      "content": "applicationinsights-logging-logback",
      "pos": [
        2738,
        2773
      ]
    },
    {
      "content": "Log4J v2.0",
      "pos": [
        2774,
        2784
      ]
    },
    {
      "content": "SDK with Log4J v2 appender",
      "pos": [
        2786,
        2812
      ]
    },
    {
      "content": "applicationinsights-logging-log4j2",
      "pos": [
        2889,
        2923
      ]
    },
    {
      "content": "Log4j v1.2",
      "pos": [
        2925,
        2935
      ]
    },
    {
      "content": "SDK with Log4J v1.2 appender",
      "pos": [
        2937,
        2965
      ]
    },
    {
      "content": "applicationinsights-logging-log4j1_2",
      "pos": [
        3044,
        3080
      ]
    },
    {
      "content": "Add the appender to your logging framework",
      "pos": [
        3088,
        3130
      ]
    },
    {
      "content": "To start getting traces, merge the relevant snippet of code to the Log4J or Logback configuration file:",
      "pos": [
        3132,
        3235
      ]
    },
    {
      "content": "Logback",
      "pos": [
        3239,
        3246
      ]
    },
    {
      "content": "Log4J v2.0",
      "pos": [
        3463,
        3473
      ]
    },
    {
      "content": "Log4J v1.2",
      "pos": [
        3683,
        3693
      ]
    },
    {
      "content": "The Application Insights appenders can be referenced by any configured logger, and not necessarily by the root logger (as shown in the code samples above).",
      "pos": [
        3934,
        4089
      ]
    },
    {
      "content": "Explore your traces in the Application Insights portal",
      "pos": [
        4094,
        4148
      ]
    },
    {
      "content": "Now that you've configured your project to send traces to Application Insights, you can view and search these traces in the Application Insights portal, in the [Diagnostic Search][diagnostic] blade.",
      "pos": [
        4150,
        4348
      ]
    },
    {
      "content": "In the Application Insights portal, open Diagnostic Search",
      "pos": [
        4352,
        4410
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        4473,
        4483
      ]
    },
    {
      "content": "[Diagnostic search][diagnostic]",
      "pos": [
        4485,
        4516
      ]
    },
    {
      "content": "test",
      "pos": [
        4634,
        4638
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Explore Java trace logs in Application Insights\" \n    description=\"Search Log4J or Logback traces in Application Insights\" \n    services=\"application-insights\" \n    documentationCenter=\"java\"\n    authors=\"alancameronwills\" \n    manager=\"kamrani\"/>\n\n<tags \n    ms.service=\"application-insights\" \n    ms.workload=\"tbd\" \n    ms.tgt_pltfrm=\"ibiza\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"03/05/2015\" \n    ms.author=\"awills\"/>\n\n# Explore Java trace logs in Application Insights\n\nIf you're using Logback or Log4J (v1.2 or v2.0) for tracing, you can have your trace logs sent automatically to Application Insights where you can explore and search on them.\n\nInstall [Application Insights SDK for Java][java], if you haven't already done that.\n\n\n## Add logging libraries to your project\n\n*Choose the appropriate way for your project.*\n\n#### If you're using Maven...\n\nIf your project is already set up to use Maven for build, merge one of the following snippets of code into your pom.xml file.\n\nThen refresh the project dependencies, to get the binaries downloaded.\n\n*Logback*\n\n    <dependencies>\n       <dependency>\n          <groupId>com.microsoft.azure</groupId>\n          <artifactId>applicationinsights-logging-logback</artifactId>\n          <version>[0.9,)</version>\n       </dependency>\n    </dependencies>\n\n*Log4J v2.0*\n\n    <dependencies>\n       <dependency>\n          <groupId>com.microsoft.azure</groupId>\n          <artifactId>applicationinsights-logging-log4j2</artifactId>\n          <version>[0.9,)</version>\n       </dependency>\n    </dependencies>\n\n*Log4J v1.2*\n\n    <dependencies>\n       <dependency>\n          <groupId>com.microsoft.azure</groupId>\n          <artifactId>applicationinsights-logging-log4j1_2</artifactId>\n          <version>[0.9,)</version>\n       </dependency>\n    </dependencies>\n\n#### If you're using Gradle...\n\nIf your project is already set up to use Gradle for build, add one of the following lines to the `dependencies` group in your build.gradle file:\n\nThen refresh the project dependencies, to get the binaries downloaded.\n\n**Logback**\n\n    compile group: 'com.microsoft.azure', name: 'applicationinsights-logging-logback', version: '0.9.+'\n\n**Log4J v2.0**\n\n    compile group: 'com.microsoft.azure', name: 'applicationinsights-logging-log4j2', version: '0.9.+'\n\n**Log4J v1.2**\n\n    compile group: 'com.microsoft.azure', name: 'applicationinsights-logging-log4j1_2', version: '0.9.+'\n\n#### Otherwise ...\n\nDownload and extract the appropriate appender, then add the appropriate library to your project:\n\n\nLogger | Download | Library\n----|----|----\nLogback|[SDK with Logback appender](http://dl.windowsazure.com/applicationinsights/javabin/logbackAppender.zip)|applicationinsights-logging-logback\nLog4J v2.0|[SDK with Log4J v2 appender](http://dl.windowsazure.com/applicationinsights/javabin/log4j2Appender.zip)|applicationinsights-logging-log4j2 \nLog4j v1.2|[SDK with Log4J v1.2 appender](http://dl.windowsazure.com/applicationinsights/javabin/log4j1_2Appender.zip)|applicationinsights-logging-log4j1_2 \n\n\n\n## Add the appender to your logging framework\n\nTo start getting traces, merge the relevant snippet of code to the Log4J or Logback configuration file: \n\n*Logback*\n\n    <appender name=\"aiAppender\" \n      class=\"com.microsoft.applicationinsights.logback.ApplicationInsightsAppender\">\n    </appender>\n    <root level=\"trace\">\n      <appender-ref ref=\"aiAppender\" />\n    </root>\n\n\n*Log4J v2.0*\n\n    \n    <Appenders>\n      <ApplicationInsightsAppender name=\"aiAppender\" />\n    </Appenders>\n    <Loggers>\n      <Root level=\"trace\">\n        <AppenderRef ref=\"aiAppender\"/>\n      </Root>\n    </Loggers>\n\n\n*Log4J v1.2*\n\n    <appender name=\"aiAppender\" \n         class=\"com.microsoft.applicationinsights.log4j.v1_2.ApplicationInsightsAppender\">\n    </appender>\n    <root>\n      <priority value =\"trace\" />\n      <appender-ref ref=\"aiAppender\" />\n    </root>\n\nThe Application Insights appenders can be referenced by any configured logger, and not necessarily by the root logger (as shown in the code samples above).\n\n## Explore your traces in the Application Insights portal\n\nNow that you've configured your project to send traces to Application Insights, you can view and search these traces in the Application Insights portal, in the [Diagnostic Search][diagnostic] blade.\n\n![In the Application Insights portal, open Diagnostic Search](./media/app-insights-java-trace-logs/10-diagnostics.png)\n\n## Next steps\n\n[Diagnostic search][diagnostic]\n\n<!--Link references-->\n\n[diagnostic]: app-insights-diagnostic-search.md\n[java]: app-insights-java-get-started.md\n\n \ntest\n"
}