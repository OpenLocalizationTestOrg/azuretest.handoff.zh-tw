{
  "nodes": [
    {
      "content": "Create a Node.js web app in Azure App Service | Microsoft Azure",
      "pos": [
        27,
        90
      ]
    },
    {
      "content": "Learn how to build and deploy a Node.js web app in Azure.",
      "pos": [
        109,
        166
      ]
    },
    {
      "content": "Build and deploy a Node.js web app in Azure App Service",
      "pos": [
        487,
        542
      ]
    },
    {
      "content": "This tutorial shows you how to create a <bpt id=\"p1\">[</bpt>Node<ept id=\"p1\">] [nodejs.org]</ept> application and deploy it to the <bpt id=\"p2\">[</bpt>Web Apps feature in Azure App Service<ept id=\"p2\">](http://go.microsoft.com/fwlink/?LinkId=529714)</ept> by using <bpt id=\"p3\">[</bpt><ept id=\"p3\">Git]</ept>.",
      "pos": [
        544,
        739
      ]
    },
    {
      "content": "The instructions in this tutorial can be followed on any operating system that is capable of running Node.",
      "pos": [
        740,
        846
      ]
    },
    {
      "content": "A screenshot of the completed application is below:",
      "pos": [
        848,
        899
      ]
    },
    {
      "content": "A browser displaying the 'Hello World' message.",
      "pos": [
        903,
        950
      ]
    },
    {
      "content": "Create a web app and enable Git publishing",
      "pos": [
        977,
        1019
      ]
    },
    {
      "content": "Follow these steps to create a web app and enable Git publishing.",
      "pos": [
        1021,
        1086
      ]
    },
    {
      "pos": [
        1090,
        1396
      ],
      "content": "[AZURE.NOTE]\nTo complete this tutorial, you need a Microsoft Azure account. If you don't have an account, you can [activate your MSDN subscriber benefits](/en-us/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F) or [sign up for a free trial](/en-us/pricing/free-trial/?WT.mc_id=A261C142F).",
      "leadings": [
        "",
        "> "
      ],
      "nodes": [
        {
          "content": "To complete this tutorial, you need a Microsoft Azure account. If you don't have an account, you can [activate your MSDN subscriber benefits](/en-us/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F) or [sign up for a free trial](/en-us/pricing/free-trial/?WT.mc_id=A261C142F).",
          "pos": [
            13,
            304
          ],
          "nodes": [
            {
              "content": "To complete this tutorial, you need a Microsoft Azure account.",
              "pos": [
                0,
                62
              ]
            },
            {
              "content": "If you don't have an account, you can <bpt id=\"p1\">[</bpt>activate your MSDN subscriber benefits<ept id=\"p1\">](/en-us/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F)</ept> or <bpt id=\"p2\">[</bpt>sign up for a free trial<ept id=\"p2\">](/en-us/pricing/free-trial/?WT.mc_id=A261C142F)</ept>.",
              "pos": [
                63,
                291
              ]
            }
          ]
        }
      ]
    },
    {
      "pos": [
        1401,
        1457
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://portal.azure.com)</ept>."
    },
    {
      "pos": [
        1462,
        1517
      ],
      "content": "Click the <bpt id=\"p1\">**</bpt>+ NEW<ept id=\"p1\">**</ept> icon on the top left of the portal."
    },
    {
      "pos": [
        1522,
        1573
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Web + Mobile<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Web app<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        1608,
        1634
      ],
      "content": "Enter a value for <bpt id=\"p1\">**</bpt>URL<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Select an App Service plan or create a new one.",
      "pos": [
        1639,
        1686
      ]
    },
    {
      "content": "If you create a new plan, select the pricing tier, location, and other options.",
      "pos": [
        1687,
        1766
      ]
    },
    {
      "pos": [
        1802,
        1819
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Once the status changes to <bpt id=\"p1\">**</bpt>Running<ept id=\"p1\">**</ept>, the portal automatically opens the blade for your web app.",
      "pos": [
        1824,
        1922
      ]
    },
    {
      "content": "You can also reach the blade by clicking <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept>.",
      "pos": [
        1923,
        1975
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Deployment<ept id=\"p1\">**</ept>.",
      "pos": [
        2006,
        2027
      ]
    },
    {
      "content": "You may need to scroll to see this part of the blade.",
      "pos": [
        2028,
        2081
      ]
    },
    {
      "pos": [
        2112,
        2191
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Choose Source<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Local Git Repository<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Click the <bpt id=\"p1\">**</bpt>deployment credentials<ept id=\"p1\">**</ept> part (outlined in red below).",
      "pos": [
        2229,
        2295
      ]
    },
    {
      "content": "Create a user name and password.",
      "pos": [
        2296,
        2328
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.",
      "pos": [
        2329,
        2344
      ]
    },
    {
      "content": "If you previously enabled publishing for a web app, you don't need to do this step.",
      "pos": [
        2345,
        2428
      ]
    },
    {
      "content": "To publish, you will push to a Git remote repository.",
      "pos": [
        2468,
        2521
      ]
    },
    {
      "content": "Find the URL for the repository, click <bpt id=\"p1\">**</bpt>All Settings<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.",
      "pos": [
        2522,
        2609
      ]
    },
    {
      "content": "The URL is listed under <bpt id=\"p1\">**</bpt>GIT URL<ept id=\"p1\">**</ept>.",
      "pos": [
        2610,
        2646
      ]
    },
    {
      "content": "Build and test your application locally",
      "pos": [
        2668,
        2707
      ]
    },
    {
      "content": "In this section, you will create a <bpt id=\"p1\">**</bpt>server.js<ept id=\"p1\">**</ept> file that contains the 'Hello World' example from <bpt id=\"p2\">[</bpt><ept id=\"p2\">nodejs.org]</ept>.",
      "pos": [
        2709,
        2821
      ]
    },
    {
      "content": "This example has been modified from the original example by adding process.env.PORT as the port to listen on when running in an Azure web app.",
      "pos": [
        2822,
        2964
      ]
    },
    {
      "content": "By using a text editor, create a new file named <bpt id=\"p1\">**</bpt>server.js<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>helloworld<ept id=\"p2\">**</ept> directory.",
      "pos": [
        2969,
        3063
      ]
    },
    {
      "content": "If the <bpt id=\"p1\">**</bpt>helloworld<ept id=\"p1\">**</ept> directory does not exist, create it.",
      "pos": [
        3064,
        3122
      ]
    },
    {
      "pos": [
        3127,
        3205
      ],
      "content": "Add the following as the contents of the <bpt id=\"p1\">**</bpt>server.js<ept id=\"p1\">**</ept> file, and then save it:"
    },
    {
      "content": "Open the command line, and use the following command to start the web app locally:",
      "pos": [
        3463,
        3545
      ]
    },
    {
      "content": "Open your web browser and navigate to http://localhost:1337.",
      "pos": [
        3574,
        3634
      ]
    },
    {
      "content": "A webpage that displays \"Hello World\" will appear, as shown in the screenshot below:",
      "pos": [
        3635,
        3719
      ]
    },
    {
      "content": "A browser displaying the 'Hello World' message.",
      "pos": [
        3727,
        3774
      ]
    },
    {
      "content": "Publish your application",
      "pos": [
        3801,
        3825
      ]
    },
    {
      "pos": [
        3830,
        3973
      ],
      "content": "From the command line, change directories to the <bpt id=\"p1\">**</bpt>helloworld<ept id=\"p1\">**</ept> directory and enter the following command to initialize a local Git repository."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Is the Git command unavailable?",
      "pos": [
        3999,
        4043
      ]
    },
    {
      "content": "<bpt id=\"p1\">    [</bpt>Git<ept id=\"p1\">](http://git-scm.com/%20target=\"_blank)</ept> is a distributed version-control system that you can use to deploy your Azure website.",
      "pos": [
        4044,
        4178
      ]
    },
    {
      "content": "For installation instructions for your platform, see the <bpt id=\"p1\">[</bpt>Git download page<ept id=\"p1\">](http://git-scm.com/download%20target=\"_blank\")</ept>.",
      "pos": [
        4179,
        4303
      ]
    },
    {
      "content": "Use the following commands to add files to the repository:",
      "pos": [
        4308,
        4366
      ]
    },
    {
      "content": "Add a Git remote for pushing updates to the web app that you created previously, by using the following command:",
      "pos": [
        4429,
        4541
      ]
    },
    {
      "content": "Push your changes to Azure by using the following command:",
      "pos": [
        4605,
        4663
      ]
    },
    {
      "content": "You will be prompted for the password that you created earlier.",
      "pos": [
        4700,
        4763
      ]
    },
    {
      "content": "The output should be similar to the following:",
      "pos": [
        4764,
        4810
      ]
    },
    {
      "pos": [
        5464,
        5558
      ],
      "content": "To view your app, click the <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> button on the <bpt id=\"p2\">**</bpt>Web App<ept id=\"p2\">**</ept> part within the Azure portal."
    },
    {
      "content": "Publish changes to your application",
      "pos": [
        5562,
        5597
      ]
    },
    {
      "content": "Open the <bpt id=\"p1\">**</bpt>server.js<ept id=\"p1\">**</ept> file in a text editor, and change 'Hello World\\n' to 'Hello Azure\\n'.",
      "pos": [
        5602,
        5694
      ]
    },
    {
      "content": "Save the file.",
      "pos": [
        5695,
        5709
      ]
    },
    {
      "pos": [
        5713,
        5818
      ],
      "content": "From the command line, change directories to the <bpt id=\"p1\">**</bpt>helloworld<ept id=\"p1\">**</ept> directory and run the following commands:"
    },
    {
      "content": "You will be prompted for the password that you created earlier.",
      "pos": [
        5921,
        5984
      ]
    },
    {
      "pos": [
        5989,
        6076
      ],
      "content": "Browse to your app by clicking <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept>, and note that the updates have been applied."
    },
    {
      "content": "A web page displaying 'Hello Azure'",
      "pos": [
        6084,
        6119
      ]
    },
    {
      "pos": [
        6147,
        6224
      ],
      "content": "You can revert to the previous deployment by selecting it in <bpt id=\"p1\">**</bpt>Deployments<ept id=\"p1\">**</ept>."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> If you want to get started with Azure App Service before you sign up for an Azure account, go to <bpt id=\"p1\">[</bpt>Try App Service<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=523751)</ept>.",
      "pos": [
        6227,
        6402
      ]
    },
    {
      "content": "There, you can immediately create a short-lived starter web app in App Service—no credit card required, and no commitments.",
      "pos": [
        6403,
        6526
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        6530,
        6540
      ]
    },
    {
      "pos": [
        6542,
        6716
      ],
      "content": "While the steps in this article use the Azure portal to create a web app, you can also use the <bpt id=\"p1\">[</bpt>Azure Command-Line Interface<ept id=\"p1\">](../xplat-cli.md)</ept> to perform the same operations."
    },
    {
      "content": "Node.js provides a rich ecosystem of modules that can be used by your applications.",
      "pos": [
        6718,
        6801
      ]
    },
    {
      "content": "To learn how Web Apps works with modules, see <bpt id=\"p1\">[</bpt>Using Node.js modules with Azure applications<ept id=\"p1\">](../nodejs-use-node-modules-azure-apps.md)</ept>.",
      "pos": [
        6802,
        6938
      ]
    },
    {
      "pos": [
        6940,
        7183
      ],
      "content": "To learn more about the versions of Node.js that are provided with Azure and how to specify the version to be used with your application, see <bpt id=\"p1\">[</bpt>Specifying a Node.js version in an Azure application<ept id=\"p1\">](../nodejs-specify-node-version-azure-apps.md)</ept>."
    },
    {
      "pos": [
        7185,
        7401
      ],
      "content": "If you encounter problems with your application after it has been deployed to Azure, see <bpt id=\"p1\">[</bpt>How to debug a Node.js application in Azure App Service<ept id=\"p1\">](web-sites-nodejs-debug.md)</ept> for information on diagnosing the problem."
    },
    {
      "content": "Additional resources",
      "pos": [
        7406,
        7426
      ]
    },
    {
      "content": "Azure PowerShell",
      "pos": [
        7431,
        7447
      ]
    },
    {
      "content": "Azure Command-Line Interface",
      "pos": [
        7488,
        7516
      ]
    },
    {
      "content": "What's changed",
      "pos": [
        7539,
        7553
      ]
    },
    {
      "pos": [
        7556,
        7711
      ],
      "content": "For a guide to the change from Websites to App Service, see <bpt id=\"p1\">[</bpt>Azure App Service and existing Azure services<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=529714)</ept>."
    },
    {
      "pos": [
        7714,
        7874
      ],
      "content": "For a guide to the change from the old portal to the new portal, see <bpt id=\"p1\">[</bpt>Reference for navigating the Azure portal<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=529715)</ept>."
    },
    {
      "content": "test",
      "pos": [
        8727,
        8731
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Create a Node.js web app in Azure App Service | Microsoft Azure\"\n    description=\"Learn how to build and deploy a Node.js web app in Azure.\"\n    services=\"app-service\\web\"\n    documentationCenter=\"nodejs\"\n    authors=\"MikeWasson\"\n    manager=\"wpickett\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"app-service-web\"\n    ms.workload=\"web\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"nodejs\"\n    ms.topic=\"hero-article\"\n    ms.date=\"08/18/2015\"\n    ms.author=\"mwasson\"/>\n\n# Build and deploy a Node.js web app in Azure App Service\n\nThis tutorial shows you how to create a [Node] [nodejs.org] application and deploy it to the [Web Apps feature in Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714) by using [Git]. The instructions in this tutorial can be followed on any operating system that is capable of running Node.\n\nA screenshot of the completed application is below:\n\n![A browser displaying the 'Hello World' message.][helloworld-completed]\n\n##Create a web app and enable Git publishing\n\nFollow these steps to create a web app and enable Git publishing.\n\n> [AZURE.NOTE]\n> To complete this tutorial, you need a Microsoft Azure account. If you don't have an account, you can [activate your MSDN subscriber benefits](/en-us/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F) or [sign up for a free trial](/en-us/pricing/free-trial/?WT.mc_id=A261C142F).\n\n1. Sign in to the [Azure portal](https://portal.azure.com).\n\n2. Click the **+ NEW** icon on the top left of the portal.\n\n3. Click **Web + Mobile**, and then click **Web app**.\n\n    ![][portal-quick-create]\n\n4. Enter a value for **URL**.\n\n5. Select an App Service plan or create a new one. If you create a new plan, select the pricing tier, location, and other options.\n\n    ![][portal-quick-create2]\n\n6. Click **Create**.\n\n7. Once the status changes to **Running**, the portal automatically opens the blade for your web app. You can also reach the blade by clicking **Browse**.\n\n    ![][go-to-dashboard]\n\n8. Click **Deployment**. You may need to scroll to see this part of the blade.\n\n    ![][deployment-part]\n\n9. Click **Choose Source**, click **Local Git Repository**, and then click **OK**.\n\n    ![][setup-git-publishing]\n\n\n10. Click the **deployment credentials** part (outlined in red below). Create a user name and password. Click **Save**. If you previously enabled publishing for a web app, you don't need to do this step.\n\n    ![][deployment-credentials]\n\n\n11. To publish, you will push to a Git remote repository. Find the URL for the repository, click **All Settings**, and then click **Properties**. The URL is listed under **GIT URL**.\n\n    ![][git-url]\n\n##Build and test your application locally\n\nIn this section, you will create a **server.js** file that contains the 'Hello World' example from [nodejs.org]. This example has been modified from the original example by adding process.env.PORT as the port to listen on when running in an Azure web app.\n\n1. By using a text editor, create a new file named **server.js** in the **helloworld** directory. If the **helloworld** directory does not exist, create it.\n\n2. Add the following as the contents of the **server.js** file, and then save it:\n\n        var http = require('http')\n        var port = process.env.PORT || 1337;\n        http.createServer(function(req, res) {\n          res.writeHead(200, { 'Content-Type': 'text/plain' });\n          res.end('Hello World\\n');\n        }).listen(port);\n\n3. Open the command line, and use the following command to start the web app locally:\n\n        node server.js\n\n4. Open your web browser and navigate to http://localhost:1337. A webpage that displays \"Hello World\" will appear, as shown in the screenshot below:\n\n    ![A browser displaying the 'Hello World' message.][helloworld-localhost]\n\n##Publish your application\n\n1. From the command line, change directories to the **helloworld** directory and enter the following command to initialize a local Git repository.\n\n        git init\n\n    > [AZURE.NOTE] Is the Git command unavailable?\n    [Git](http://git-scm.com/%20target=\"_blank) is a distributed version-control system that you can use to deploy your Azure website. For installation instructions for your platform, see the [Git download page](http://git-scm.com/download%20target=\"_blank\").\n\n2. Use the following commands to add files to the repository:\n\n        git add .\n        git commit -m \"initial commit\"\n\n3. Add a Git remote for pushing updates to the web app that you created previously, by using the following command:\n\n        git remote add azure [URL for remote repository]\n\n\n4. Push your changes to Azure by using the following command:\n\n        git push azure master\n\n    You will be prompted for the password that you created earlier. The output should be similar to the following:\n\n        Counting objects: 3, done.\n        Delta compression using up to 8 threads.\n        Compressing objects: 100% (2/2), done.\n        Writing objects: 100% (3/3), 374 bytes, done.\n        Total 3 (delta 0), reused 0 (delta 0)\n        remote: New deployment received.\n        remote: Updating branch 'master'.\n        remote: Preparing deployment for commit id '5ebbe250c9'.\n        remote: Preparing files for deployment.\n        remote: Deploying Web.config to enable Node.js activation.\n        remote: Deployment successful.\n        To https://user@testsite.scm.azurewebsites.net/testsite.git\n         * [new branch]      master -> master\n\n\n5. To view your app, click the **Browse** button on the **Web App** part within the Azure portal.\n\n##Publish changes to your application\n\n1. Open the **server.js** file in a text editor, and change 'Hello World\\n' to 'Hello Azure\\n'. Save the file.\n2. From the command line, change directories to the **helloworld** directory and run the following commands:\n\n        git add .\n        git commit -m \"changing to hello azure\"\n        git push azure master\n\n    You will be prompted for the password that you created earlier.\n\n3. Browse to your app by clicking **Browse**, and note that the updates have been applied.\n\n    ![A web page displaying 'Hello Azure'][helloworld-completed]\n\n4. You can revert to the previous deployment by selecting it in **Deployments**.\n\n>[AZURE.NOTE] If you want to get started with Azure App Service before you sign up for an Azure account, go to [Try App Service](http://go.microsoft.com/fwlink/?LinkId=523751). There, you can immediately create a short-lived starter web app in App Service—no credit card required, and no commitments.\n\n##Next steps\n\nWhile the steps in this article use the Azure portal to create a web app, you can also use the [Azure Command-Line Interface](../xplat-cli.md) to perform the same operations.\n\nNode.js provides a rich ecosystem of modules that can be used by your applications. To learn how Web Apps works with modules, see [Using Node.js modules with Azure applications](../nodejs-use-node-modules-azure-apps.md).\n\nTo learn more about the versions of Node.js that are provided with Azure and how to specify the version to be used with your application, see [Specifying a Node.js version in an Azure application](../nodejs-specify-node-version-azure-apps.md).\n\nIf you encounter problems with your application after it has been deployed to Azure, see [How to debug a Node.js application in Azure App Service](web-sites-nodejs-debug.md) for information on diagnosing the problem.\n\n\n##Additional resources\n\n* [Azure PowerShell](../install-configure-powershell.md)\n* [Azure Command-Line Interface](../xplat-cli.md)\n\n## What's changed\n* For a guide to the change from Websites to App Service, see [Azure App Service and existing Azure services](http://go.microsoft.com/fwlink/?LinkId=529714).\n* For a guide to the change from the old portal to the new portal, see [Reference for navigating the Azure portal](http://go.microsoft.com/fwlink/?LinkId=529715).\n\n\n[nodejs.org]: http://nodejs.org\n[Git]: http://git-scm.com\n\n\n[helloworld-completed]: ./media/web-sites-nodejs-develop-deploy-mac/helloazure.png\n[helloworld-localhost]: ./media/web-sites-nodejs-develop-deploy-mac/helloworldlocal.png\n\n[portal-quick-create]: ./media/web-sites-nodejs-develop-deploy-mac/create-quick-website.png\n\n[portal-quick-create2]: ./media/web-sites-nodejs-develop-deploy-mac/create-quick-website2.png\n\n\n[setup-git-publishing]: ./media/web-sites-nodejs-develop-deploy-mac/setup_git_publishing.png\n\n[go-to-dashboard]: ./media/web-sites-nodejs-develop-deploy-mac/go_to_dashboard.png\n\n[deployment-part]: ./media/web-sites-nodejs-develop-deploy-mac/deployment-part.png\n\n[deployment-credentials]: ./media/web-sites-nodejs-develop-deploy-mac/deployment-credentials.png\n\n\n[git-url]: ./media/web-sites-nodejs-develop-deploy-mac/git-url.png\n\ntest\n"
}