{
  "nodes": [
    {
      "content": "How to configure Azure Redis Cache",
      "pos": [
        27,
        61
      ]
    },
    {
      "content": "Understand the default Redis configuration for Azure Redis Cache and learn how to configure your Azure Redis Cache instances",
      "pos": [
        79,
        203
      ]
    },
    {
      "content": "How to configure Azure Redis Cache",
      "pos": [
        497,
        531
      ]
    },
    {
      "content": "This topic describes how to review and update the configuration for your Azure Redis Cache instances, and covers the default Redis server configuration for Azure Redis Cache instances.",
      "pos": [
        533,
        717
      ]
    },
    {
      "content": "Configure Redis cache settings",
      "pos": [
        722,
        752
      ]
    },
    {
      "pos": [
        754,
        860
      ],
      "content": "Caches can be accessed in the <bpt id=\"p1\">[</bpt>Azure preview portal<ept id=\"p1\">](https://portal.azure.com)</ept> using the <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept> blade."
    },
    {
      "content": "Azure Redis Cache Browse Blade",
      "pos": [
        864,
        894
      ]
    },
    {
      "pos": [
        935,
        978
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Redis Caches<ept id=\"p1\">**</ept> to view your caches."
    },
    {
      "content": "Azure Redis Cache Browse Cache List",
      "pos": [
        982,
        1017
      ]
    },
    {
      "content": "Select the desired cache to view the properties for that cache.",
      "pos": [
        1058,
        1121
      ]
    },
    {
      "content": "Redis Cache All Settings",
      "pos": [
        1125,
        1149
      ]
    },
    {
      "pos": [
        1190,
        1262
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>All settings<ept id=\"p2\">**</ept> to view and configure your cache."
    },
    {
      "content": "Redis Cache Settings",
      "pos": [
        1266,
        1286
      ]
    },
    {
      "content": "Properties",
      "pos": [
        1330,
        1340
      ]
    },
    {
      "pos": [
        1342,
        1440
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> to view information about your cache, including the cache endpoint and ports."
    },
    {
      "content": "Redis Cache Properties",
      "pos": [
        1444,
        1466
      ]
    },
    {
      "content": "Access keys",
      "pos": [
        1510,
        1521
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Access keys<ept id=\"p1\">**</ept> to view or regenerate the access keys for your cache.",
      "pos": [
        1523,
        1598
      ]
    },
    {
      "content": "These keys are used along with the host name and ports from the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> blade by the clients connecting to your cache.",
      "pos": [
        1599,
        1724
      ]
    },
    {
      "content": "Redis Cache Access Keys",
      "pos": [
        1728,
        1751
      ]
    },
    {
      "content": "Access Ports",
      "pos": [
        1795,
        1807
      ]
    },
    {
      "content": "By default, non-SSL access is disabled for new caches.",
      "pos": [
        1809,
        1863
      ]
    },
    {
      "content": "To enable the non-SSL port, click <bpt id=\"p1\">**</bpt>Access Ports<ept id=\"p1\">**</ept> blade and then click <bpt id=\"p2\">**</bpt>No<ept id=\"p2\">**</ept>.",
      "pos": [
        1864,
        1943
      ]
    },
    {
      "content": "Redis Cache Access Ports",
      "pos": [
        1947,
        1971
      ]
    },
    {
      "content": "Pricing tier",
      "pos": [
        2015,
        2027
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Pricing tier<ept id=\"p1\">**</ept> to view or change the pricing tier for your cache.",
      "pos": [
        2029,
        2102
      ]
    },
    {
      "content": "For more information on scaling, see <bpt id=\"p1\">[</bpt>How to Scale Azure Redis Cache<ept id=\"p1\">](cache-how-to-scale.md)</ept>.",
      "pos": [
        2103,
        2196
      ]
    },
    {
      "content": "Redis Cache pricing tier",
      "pos": [
        2200,
        2224
      ]
    },
    {
      "content": "Diagnostics",
      "pos": [
        2272,
        2283
      ]
    },
    {
      "pos": [
        2285,
        2372
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Diagnostics<ept id=\"p1\">**</ept> to configure the storage account used to store cache diagnostics."
    },
    {
      "content": "Redis Cache Diagnostics",
      "pos": [
        2376,
        2399
      ]
    },
    {
      "pos": [
        2440,
        2526
      ],
      "content": "For more information, see <bpt id=\"p1\">[</bpt>How to monitor Azure Redis Cache<ept id=\"p1\">](cache-how-to-monitor.md)</ept>."
    },
    {
      "content": "Maxmemory-policy and maxmemory-reserved",
      "pos": [
        2531,
        2570
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Maxmemory policy<ept id=\"p1\">**</ept> to configure the memory policies for the cache.",
      "pos": [
        2572,
        2646
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>maxmemory-policy<ept id=\"p1\">**</ept> setting configures the eviction policy for the cache and <bpt id=\"p2\">**</bpt>maxmemory-reserved<ept id=\"p2\">**</ept> configures the memory reserved for non-cache processes.",
      "pos": [
        2647,
        2807
      ]
    },
    {
      "content": "Redis Cache Maxmemory Policy",
      "pos": [
        2811,
        2839
      ]
    },
    {
      "pos": [
        2880,
        2959
      ],
      "content": "<bpt id=\"p1\">**</bpt>Maxmemory policy<ept id=\"p1\">**</ept> allows you to choose from the following eviction policies."
    },
    {
      "content": "volatile-lru - this is the default.",
      "pos": [
        2965,
        3000
      ]
    },
    {
      "content": "allkeys-lru",
      "pos": [
        3005,
        3016
      ]
    },
    {
      "content": "volatile-random",
      "pos": [
        3021,
        3036
      ]
    },
    {
      "content": "allkeys-random",
      "pos": [
        3041,
        3055
      ]
    },
    {
      "content": "volatile-ttl",
      "pos": [
        3060,
        3072
      ]
    },
    {
      "content": "noeviction",
      "pos": [
        3077,
        3087
      ]
    },
    {
      "pos": [
        3089,
        3212
      ],
      "content": "For more information about maxmemory policies, see <bpt id=\"p1\">[</bpt>Eviction policies<ept id=\"p1\">](http://redis.io/topics/lru-cache#eviction-policies)</ept>."
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>maxmemory-reserved<ept id=\"p1\">**</ept> setting configures the amount of memory in MB that is reserved for non-cache operations such as replication during failover.",
      "pos": [
        3214,
        3365
      ]
    },
    {
      "content": "It can also be used when you have a high fragmentation ratio.",
      "pos": [
        3366,
        3427
      ]
    },
    {
      "content": "Setting this value allows you to have a more consistent Redis server experience when your load varies.",
      "pos": [
        3428,
        3530
      ]
    },
    {
      "content": "This value should be set higher for workloads which are write heavy.",
      "pos": [
        3531,
        3599
      ]
    },
    {
      "content": "When memory is reserved for such operations it is unavailable for storage of cached data.",
      "pos": [
        3600,
        3689
      ]
    },
    {
      "pos": [
        3692,
        3783
      ],
      "content": "<ph id=\"ph1\">[AZURE.IMPORTANT]</ph> The <bpt id=\"p1\">**</bpt>maxmemory-reserved<ept id=\"p1\">**</ept> setting is only available for Standard caches."
    },
    {
      "content": "Keyspace notifications (advanced settings)",
      "pos": [
        3788,
        3830
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Advanced settings<ept id=\"p1\">**</ept> to configure Redis keyspace notifications.",
      "pos": [
        3832,
        3902
      ]
    },
    {
      "content": "Keyspace notifications allows clients to receive notifications when certain events occur.",
      "pos": [
        3903,
        3992
      ]
    },
    {
      "content": "Redis Cache Advanced Settings",
      "pos": [
        3996,
        4025
      ]
    },
    {
      "pos": [
        4067,
        4190
      ],
      "content": "<ph id=\"ph1\">[AZURE.IMPORTANT]</ph> Keyspace notifications and the <bpt id=\"p1\">**</bpt>notify-keyspace-events<ept id=\"p1\">**</ept> setting are only available for Standard caches."
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Redis Keyspace Notifications<ept id=\"p1\">](http://redis.io/topics/notifications)</ept>.",
      "pos": [
        4192,
        4287
      ]
    },
    {
      "content": "For sample code, see the <bpt id=\"p1\">[</bpt>KeySpaceNotifications.cs<ept id=\"p1\">](https://github.com/rustd/RedisSamples/blob/master/HelloWorld/KeySpaceNotifications.cs)</ept> file in the <bpt id=\"p2\">[</bpt>Hello world<ept id=\"p2\">](https://github.com/rustd/RedisSamples/tree/master/HelloWorld)</ept> sample.",
      "pos": [
        4288,
        4522
      ]
    },
    {
      "content": "Users and tags",
      "pos": [
        4527,
        4541
      ]
    },
    {
      "content": "Redis Cache Users and Tags",
      "pos": [
        4545,
        4571
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>Users<ept id=\"p1\">**</ept> section provides support for role-based access control (RBAC) in the preview portal to help organizations meet their access management requirements simply and precisely.",
      "pos": [
        4612,
        4795
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Role-based access control in the Azure preview portal<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=512803)</ept>.",
      "pos": [
        4796,
        4925
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>Tags<ept id=\"p1\">**</ept> section helps you organize your resources.",
      "pos": [
        4927,
        4982
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Using tags to organize your Azure resources<ept id=\"p1\">](../resource-group-using-tags.md)</ept>.",
      "pos": [
        4983,
        5088
      ]
    },
    {
      "content": "Default Redis server configuration",
      "pos": [
        5093,
        5127
      ]
    },
    {
      "content": "New Azure Redis Cache instances are configured with the following default Redis configuration values.",
      "pos": [
        5129,
        5230
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> The settings in this section cannot be changed using the <ph id=\"ph2\">`StackExchange.Redis.IServer.ConfigSet`</ph> method.",
      "pos": [
        5233,
        5350
      ]
    },
    {
      "content": "If this method is called with one of the commands in this section, an exception similar to the following is thrown:",
      "pos": [
        5351,
        5466
      ]
    },
    {
      "pos": [
        5550,
        5659
      ],
      "content": "Any values that are configurable, such as <bpt id=\"p1\">**</bpt>max-memory-policy<ept id=\"p1\">**</ept>, are configurable through the preview portal."
    },
    {
      "content": "Setting",
      "pos": [
        5662,
        5669
      ]
    },
    {
      "content": "Default value",
      "pos": [
        5670,
        5683
      ]
    },
    {
      "content": "Description",
      "pos": [
        5684,
        5695
      ]
    },
    {
      "content": "databases",
      "pos": [
        5712,
        5721
      ]
    },
    {
      "content": "16",
      "pos": [
        5722,
        5724
      ]
    },
    {
      "content": "The default database is DB 0, you can select a different one on a per-connection basis using connection.GetDataBase(dbid) where dbid is a number between 0 and 15.",
      "pos": [
        5725,
        5887
      ]
    },
    {
      "content": "maxclients",
      "pos": [
        5890,
        5900
      ]
    },
    {
      "pos": [
        5901,
        5940
      ],
      "content": "Depends on the pricing tier<ph id=\"ph1\">&lt;sup&gt;</ph>1<ph id=\"ph2\">&lt;/sup&gt;</ph>"
    },
    {
      "content": "This is the maximum number of connected clients allowed at the same time.",
      "pos": [
        5941,
        6014
      ]
    },
    {
      "content": "Once the limit is reached Redis will close all the new connections sending an error 'max number of clients reached'.",
      "pos": [
        6015,
        6131
      ]
    },
    {
      "content": "maxmemory-policy",
      "pos": [
        6134,
        6150
      ]
    },
    {
      "content": "volatile-lru",
      "pos": [
        6151,
        6163
      ]
    },
    {
      "content": "Maxmemory policy is the setting for how Redis will select what to remove when maxmemory (the size of the cache offering you selected when you created the cache) is reached.",
      "pos": [
        6164,
        6336
      ]
    },
    {
      "content": "With Azure Redis Cache the default setting is volatile-lru, which removes the keys with an expire set using an LRU algorithm.",
      "pos": [
        6337,
        6462
      ]
    },
    {
      "content": "This setting can be configured in the preview portal.",
      "pos": [
        6463,
        6516
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Maxmemory-policy and maxmemory-reserved<ept id=\"p1\">](#maxmemory-policy-and-maxmemory-reserved)</ept>.",
      "pos": [
        6517,
        6627
      ]
    },
    {
      "content": "maxmemory-samples",
      "pos": [
        6630,
        6647
      ]
    },
    {
      "content": "3",
      "pos": [
        6648,
        6649
      ]
    },
    {
      "content": "LRU and minimal TTL algorithms are not precise algorithms but approximated algorithms (in order to save memory), so you can select as well the sample size to check.",
      "pos": [
        6650,
        6814
      ]
    },
    {
      "content": "For instance for default Redis will check three keys and pick the one that was used less recently.",
      "pos": [
        6815,
        6913
      ]
    },
    {
      "content": "lua-time-limit",
      "pos": [
        6916,
        6930
      ]
    },
    {
      "content": "5,000",
      "pos": [
        6931,
        6936
      ]
    },
    {
      "content": "Max execution time of a Lua script in milliseconds.",
      "pos": [
        6937,
        6988
      ]
    },
    {
      "content": "If the maximum execution time is reached Redis will log that a script is still in execution after the maximum allowed time and will start to reply to queries with an error.",
      "pos": [
        6989,
        7161
      ]
    },
    {
      "content": "lua-event-limit",
      "pos": [
        7164,
        7179
      ]
    },
    {
      "content": "500",
      "pos": [
        7180,
        7183
      ]
    },
    {
      "content": "This is the max size of script event queue.",
      "pos": [
        7184,
        7227
      ]
    },
    {
      "content": "client-output-buffer-limit normalclient-output-buffer-limit pubsub",
      "pos": [
        7230,
        7296
      ]
    },
    {
      "content": "0 0 032mb 8mb 60",
      "pos": [
        7297,
        7313
      ]
    },
    {
      "content": "The client output buffer limits can be used to force disconnection of clients that are not reading data from the server fast enough for some reason (a common reason is that a Pub/Sub client can't consume messages as fast as the publisher can produce them).",
      "pos": [
        7314,
        7570
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>http://redis.io/topics/clients<ept id=\"p1\">](http://redis.io/topics/clients)</ept>.",
      "pos": [
        7571,
        7662
      ]
    },
    {
      "pos": [
        7665,
        7743
      ],
      "content": "<ph id=\"ph1\">&lt;sup&gt;</ph>1<ph id=\"ph2\">&lt;/sup&gt;</ph><ph id=\"ph3\">`maxclients`</ph> is different for each Azure Redis Cache pricing tier."
    },
    {
      "content": "C0 (250 MB) cache - up to 256 connections",
      "pos": [
        7749,
        7790
      ]
    },
    {
      "content": "C1 (1 GB) cache - up to 1,000 connections",
      "pos": [
        7795,
        7836
      ]
    },
    {
      "content": "C2 (2.5 GB) cache - up to 2,000 connections",
      "pos": [
        7841,
        7884
      ]
    },
    {
      "content": "C3 (6 GB) cache - up to 5,000 connections",
      "pos": [
        7889,
        7930
      ]
    },
    {
      "content": "C4 (13 GB) cache - up to 10,000 connections",
      "pos": [
        7935,
        7978
      ]
    },
    {
      "content": "C5 (26 GB) cache - up to 15,000 connections",
      "pos": [
        7983,
        8026
      ]
    },
    {
      "content": "C6 (53 GB) cache - up to 20,000 connections",
      "pos": [
        8031,
        8074
      ]
    },
    {
      "content": "Redis commands not supported in Azure Redis Cache",
      "pos": [
        8079,
        8128
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.IMPORTANT]</ph> Because configuration and management of Azure Redis Cache instances is done using the preview portal the following commands are disabled.",
      "pos": [
        8131,
        8286
      ]
    },
    {
      "content": "If you try to invoke them you will receive an error message similar to <ph id=\"ph1\">`\"(error) ERR unknown command\"`</ph>.",
      "pos": [
        8287,
        8390
      ]
    },
    {
      "content": "BGREWRITEAOF",
      "pos": [
        8397,
        8409
      ]
    },
    {
      "content": "BGSAVE",
      "pos": [
        8414,
        8420
      ]
    },
    {
      "content": "CONFIG",
      "pos": [
        8425,
        8431
      ]
    },
    {
      "content": "DEBUG",
      "pos": [
        8436,
        8441
      ]
    },
    {
      "content": "MIGRATE",
      "pos": [
        8446,
        8453
      ]
    },
    {
      "content": "SAVE",
      "pos": [
        8458,
        8462
      ]
    },
    {
      "content": "SHUTDOWN",
      "pos": [
        8467,
        8475
      ]
    },
    {
      "content": "SLAVEOF",
      "pos": [
        8480,
        8487
      ]
    },
    {
      "pos": [
        8489,
        8589
      ],
      "content": "For more information about Redis commands, see <bpt id=\"p1\">[</bpt>http://redis.io/commands<ept id=\"p1\">](http://redis.io/commands)</ept>."
    },
    {
      "content": "Redis console",
      "pos": [
        8594,
        8607
      ]
    },
    {
      "content": "You can securely issue commands to your Azure Redis Cache instances using the <bpt id=\"p1\">**</bpt>Redis Console<ept id=\"p1\">**</ept>, which is available for Standard caches.",
      "pos": [
        8609,
        8745
      ]
    },
    {
      "content": "To access the Redis Console, click <bpt id=\"p1\">**</bpt>Console<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>Redis Cache<ept id=\"p2\">**</ept> blade.",
      "pos": [
        8746,
        8824
      ]
    },
    {
      "content": "Redis console",
      "pos": [
        8828,
        8841
      ]
    },
    {
      "pos": [
        8893,
        8967
      ],
      "content": "<ph id=\"ph1\">[AZURE.IMPORTANT]</ph> The Redis Console is only available for Standard caches."
    },
    {
      "content": "To issue commands against your cache instance, simply type in the desired command into the console.",
      "pos": [
        8969,
        9068
      ]
    },
    {
      "content": "Redis console",
      "pos": [
        9072,
        9085
      ]
    },
    {
      "content": "For list of Redis commands that are disabled for Azure Redis Cache, see the previous <bpt id=\"p1\">[</bpt>Redis commands not supported in Azure Redis Cache<ept id=\"p1\">](#redis-commands-not-supported-in-azure-redis-cache)</ept> section.",
      "pos": [
        9131,
        9328
      ]
    },
    {
      "content": "For more information about Redis commands, see <bpt id=\"p1\">[</bpt>http://redis.io/commands<ept id=\"p1\">](http://redis.io/commands)</ept>.",
      "pos": [
        9329,
        9429
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        9435,
        9445
      ]
    },
    {
      "pos": [
        9450,
        9582
      ],
      "content": "For more information on working with Redis commands, see <bpt id=\"p1\">[</bpt>How can I run Redis commands?<ept id=\"p1\">](cache-faq.md#how-can-i-run-redis-commands)</ept>."
    }
  ],
  "content": "<properties \n   pageTitle=\"How to configure Azure Redis Cache\"\n   description=\"Understand the default Redis configuration for Azure Redis Cache and learn how to configure your Azure Redis Cache instances\"\n   services=\"redis-cache\"\n   documentationCenter=\"na\"\n   authors=\"steved0x\"\n   manager=\"dwrede\"\n   editor=\"tysonn\" />\n<tags \n   ms.service=\"cache\"\n   ms.devlang=\"na\"\n   ms.topic=\"article\"\n   ms.tgt_pltfrm=\"cache-redis\"\n   ms.workload=\"tbd\"\n   ms.date=\"09/03/2015\"\n   ms.author=\"sdanie\" />\n\n# How to configure Azure Redis Cache\n\nThis topic describes how to review and update the configuration for your Azure Redis Cache instances, and covers the default Redis server configuration for Azure Redis Cache instances.\n\n## Configure Redis cache settings\n\nCaches can be accessed in the [Azure preview portal](https://portal.azure.com) using the **Browse** blade.\n\n![Azure Redis Cache Browse Blade](./media/cache-configure/IC796920.png)\n\nClick **Redis Caches** to view your caches.\n\n![Azure Redis Cache Browse Cache List](./media/cache-configure/IC796921.png)\n\nSelect the desired cache to view the properties for that cache.\n\n![Redis Cache All Settings](./media/cache-configure/IC808312.png)\n\nClick **Settings** or **All settings** to view and configure your cache.\n\n![Redis Cache Settings](./media/cache-configure/IC808313.png)\n\n## Properties\n\nClick **Properties** to view information about your cache, including the cache endpoint and ports.\n\n![Redis Cache Properties](./media/cache-configure/IC808314.png)\n\n## Access keys\n\nClick **Access keys** to view or regenerate the access keys for your cache. These keys are used along with the host name and ports from the **Properties** blade by the clients connecting to your cache.\n\n![Redis Cache Access Keys](./media/cache-configure/IC808315.png)\n\n## Access Ports\n\nBy default, non-SSL access is disabled for new caches. To enable the non-SSL port, click **Access Ports** blade and then click **No**.\n\n![Redis Cache Access Ports](./media/cache-configure/IC808316.png)\n\n## Pricing tier\n\nClick **Pricing tier** to view or change the pricing tier for your cache. For more information on scaling, see [How to Scale Azure Redis Cache](cache-how-to-scale.md).\n\n![Redis Cache pricing tier](./media/cache-configure/pricing-tier.png)\n\n## Diagnostics\n\nClick **Diagnostics** to configure the storage account used to store cache diagnostics.\n\n![Redis Cache Diagnostics](./media/cache-configure/IC808317.png)\n\nFor more information, see [How to monitor Azure Redis Cache](cache-how-to-monitor.md).\n\n## Maxmemory-policy and maxmemory-reserved\n\nClick **Maxmemory policy** to configure the memory policies for the cache. The **maxmemory-policy** setting configures the eviction policy for the cache and **maxmemory-reserved** configures the memory reserved for non-cache processes.\n\n![Redis Cache Maxmemory Policy](./media/cache-configure/IC808318.png)\n\n**Maxmemory policy** allows you to choose from the following eviction policies.\n\n-   volatile-lru - this is the default.\n-   allkeys-lru\n-   volatile-random\n-   allkeys-random\n-   volatile-ttl\n-   noeviction\n\nFor more information about maxmemory policies, see [Eviction policies](http://redis.io/topics/lru-cache#eviction-policies).\n\nThe **maxmemory-reserved** setting configures the amount of memory in MB that is reserved for non-cache operations such as replication during failover. It can also be used when you have a high fragmentation ratio. Setting this value allows you to have a more consistent Redis server experience when your load varies. This value should be set higher for workloads which are write heavy. When memory is reserved for such operations it is unavailable for storage of cached data.\n\n>[AZURE.IMPORTANT] The **maxmemory-reserved** setting is only available for Standard caches.\n\n## Keyspace notifications (advanced settings)\n\nClick **Advanced settings** to configure Redis keyspace notifications. Keyspace notifications allows clients to receive notifications when certain events occur.\n\n![Redis Cache Advanced Settings](./media/cache-configure/IC808319.png)\n\n>[AZURE.IMPORTANT] Keyspace notifications and the **notify-keyspace-events** setting are only available for Standard caches.\n\nFor more information, see [Redis Keyspace Notifications](http://redis.io/topics/notifications). For sample code, see the [KeySpaceNotifications.cs](https://github.com/rustd/RedisSamples/blob/master/HelloWorld/KeySpaceNotifications.cs) file in the [Hello world](https://github.com/rustd/RedisSamples/tree/master/HelloWorld) sample.\n\n## Users and tags\n\n![Redis Cache Users and Tags](./media/cache-configure/IC808320.png)\n\nThe **Users** section provides support for role-based access control (RBAC) in the preview portal to help organizations meet their access management requirements simply and precisely. For more information, see [Role-based access control in the Azure preview portal](http://go.microsoft.com/fwlink/?LinkId=512803).\n\nThe **Tags** section helps you organize your resources. For more information, see [Using tags to organize your Azure resources](../resource-group-using-tags.md).\n\n## Default Redis server configuration\n\nNew Azure Redis Cache instances are configured with the following default Redis configuration values.\n\n>[AZURE.NOTE] The settings in this section cannot be changed using the `StackExchange.Redis.IServer.ConfigSet` method. If this method is called with one of the commands in this section, an exception similar to the following is thrown:  \n>\n>`StackExchange.Redis.RedisServerException: ERR unknown command 'CONFIG'`\n>  \n>Any values that are configurable, such as **max-memory-policy**, are configurable through the preview portal.\n\n|Setting|Default value|Description|\n|---|---|---|\n|databases|16|The default database is DB 0, you can select a different one on a per-connection basis using connection.GetDataBase(dbid) where dbid is a number between 0 and 15.|\n|maxclients|Depends on the pricing tier<sup>1</sup>|This is the maximum number of connected clients allowed at the same time. Once the limit is reached Redis will close all the new connections sending an error 'max number of clients reached'.|\n|maxmemory-policy|volatile-lru|Maxmemory policy is the setting for how Redis will select what to remove when maxmemory (the size of the cache offering you selected when you created the cache) is reached. With Azure Redis Cache the default setting is volatile-lru, which removes the keys with an expire set using an LRU algorithm. This setting can be configured in the preview portal. For more information, see [Maxmemory-policy and maxmemory-reserved](#maxmemory-policy-and-maxmemory-reserved).|\n|maxmemory-samples|3|LRU and minimal TTL algorithms are not precise algorithms but approximated algorithms (in order to save memory), so you can select as well the sample size to check. For instance for default Redis will check three keys and pick the one that was used less recently.|\n|lua-time-limit|5,000|Max execution time of a Lua script in milliseconds. If the maximum execution time is reached Redis will log that a script is still in execution after the maximum allowed time and will start to reply to queries with an error.|\n|lua-event-limit|500|This is the max size of script event queue.|\n|client-output-buffer-limit normalclient-output-buffer-limit pubsub|0 0 032mb 8mb 60|The client output buffer limits can be used to force disconnection of clients that are not reading data from the server fast enough for some reason (a common reason is that a Pub/Sub client can't consume messages as fast as the publisher can produce them). For more information, see [http://redis.io/topics/clients](http://redis.io/topics/clients).|\n\n<sup>1</sup>`maxclients` is different for each Azure Redis Cache pricing tier.\n\n-   C0 (250 MB) cache - up to 256 connections\n-   C1 (1 GB) cache - up to 1,000 connections\n-   C2 (2.5 GB) cache - up to 2,000 connections\n-   C3 (6 GB) cache - up to 5,000 connections\n-   C4 (13 GB) cache - up to 10,000 connections\n-   C5 (26 GB) cache - up to 15,000 connections\n-   C6 (53 GB) cache - up to 20,000 connections\n\n## Redis commands not supported in Azure Redis Cache\n\n>[AZURE.IMPORTANT] Because configuration and management of Azure Redis Cache instances is done using the preview portal the following commands are disabled. If you try to invoke them you will receive an error message similar to `\"(error) ERR unknown command\"`.\n>\n>-  BGREWRITEAOF\n>-  BGSAVE\n>-  CONFIG\n>-  DEBUG\n>-  MIGRATE\n>-  SAVE\n>-  SHUTDOWN\n>-  SLAVEOF\n\nFor more information about Redis commands, see [http://redis.io/commands](http://redis.io/commands).\n\n## Redis console\n\nYou can securely issue commands to your Azure Redis Cache instances using the **Redis Console**, which is available for Standard caches. To access the Redis Console, click **Console** from the **Redis Cache** blade.\n\n![Redis console](./media/cache-configure/redis-console-menu.png)\n\n>[AZURE.IMPORTANT] The Redis Console is only available for Standard caches.\n\nTo issue commands against your cache instance, simply type in the desired command into the console.\n\n![Redis console](./media/cache-configure/redis-console.png)\n\nFor list of Redis commands that are disabled for Azure Redis Cache, see the previous [Redis commands not supported in Azure Redis Cache](#redis-commands-not-supported-in-azure-redis-cache) section. For more information about Redis commands, see [http://redis.io/commands](http://redis.io/commands). \n\n## Next steps\n-   For more information on working with Redis commands, see [How can I run Redis commands?](cache-faq.md#how-can-i-run-redis-commands)."
}