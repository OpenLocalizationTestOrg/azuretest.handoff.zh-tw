{
  "nodes": [
    {
      "content": "<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>: This article creates a virtual machine that is not connected to a virtual network.",
      "pos": [
        70,
        162
      ]
    },
    {
      "content": "If you want your virtual machine to use a virtual network so you can connect to your virtual machines directly by hostname or set up",
      "pos": [
        163,
        295
      ]
    },
    {
      "content": "cross-premises connections, use the <bpt id=\"p1\">**</bpt>From Gallery<ept id=\"p1\">**</ept> method instead and specify the virtual network when you create the virtual machine.",
      "pos": [
        296,
        432
      ]
    },
    {
      "content": "For more information about virtual networks, see <bpt id=\"p1\">[</bpt>Azure Virtual Network Overview<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=294063)</ept>.",
      "pos": [
        433,
        564
      ]
    },
    {
      "content": "Sign in to the Azure Management Portal using your Azure account.",
      "pos": [
        569,
        633
      ]
    },
    {
      "pos": [
        637,
        774
      ],
      "content": "In the Management Portal, at the bottom left of the web page, click <bpt id=\"p1\">**</bpt>+New<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Virtual Machine<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>From Gallery<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Create a New Virtual Machine",
      "pos": [
        782,
        810
      ]
    },
    {
      "pos": [
        824,
        950
      ],
      "content": "Select a CentOS virtual machine image from <bpt id=\"p1\">**</bpt>Platform Images<ept id=\"p1\">**</ept>, and then click the next arrow at the bottom right of the page."
    },
    {
      "pos": [
        959,
        1040
      ],
      "content": "On the <bpt id=\"p1\">**</bpt>Virtual machine configuration<ept id=\"p1\">**</ept> page, provide the following information:"
    },
    {
      "pos": [
        1047,
        1105
      ],
      "content": "Provide a <bpt id=\"p1\">**</bpt>Virtual Machine Name<ept id=\"p1\">**</ept>, such as \"testlinuxvm\"."
    },
    {
      "pos": [
        1112,
        1205
      ],
      "content": "Specify a <bpt id=\"p1\">**</bpt>New User Name<ept id=\"p1\">**</ept>, such as \"newuser\", which will be added to the Sudoers list file."
    },
    {
      "pos": [
        1212,
        1315
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>New Password<ept id=\"p1\">**</ept> box, type a <bpt id=\"p2\">[</bpt>strong password<ept id=\"p2\">](http://msdn.microsoft.com/library/ms161962.aspx)</ept>."
    },
    {
      "pos": [
        1322,
        1375
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Confirm Password<ept id=\"p1\">**</ept> box, retype the password."
    },
    {
      "pos": [
        1382,
        1438
      ],
      "content": "Select the appropriate <bpt id=\"p1\">**</bpt>Size<ept id=\"p1\">**</ept> from the drop down list."
    },
    {
      "content": "Click the next arrow to continue.",
      "pos": [
        1444,
        1477
      ]
    },
    {
      "pos": [
        1486,
        1558
      ],
      "content": "On the <bpt id=\"p1\">**</bpt>Virtual machine mode<ept id=\"p1\">**</ept> page, provide the following information:"
    },
    {
      "pos": [
        1565,
        1603
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Standalone Virtual Machine<ept id=\"p1\">**</ept>."
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>DNS Name<ept id=\"p1\">**</ept> box, type a valid DNS address.",
      "pos": [
        1610,
        1660
      ]
    },
    {
      "content": "For example,  \"testlinuxvm\"",
      "pos": [
        1662,
        1689
      ]
    },
    {
      "pos": [
        1696,
        1786
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Storage Account<ept id=\"p1\">**</ept> box, select <bpt id=\"p2\">**</bpt>Use an automatically generated storage account<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        1793,
        1903
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Region/Affinity Group/Virtual Network<ept id=\"p1\">**</ept> box, select a region where this virtual image will be hosted."
    },
    {
      "content": "Click the next arrow to continue.",
      "pos": [
        1909,
        1942
      ]
    },
    {
      "pos": [
        1947,
        2038
      ],
      "content": "On the <bpt id=\"p1\">**</bpt>Virtual machine options<ept id=\"p1\">**</ept> page, select <bpt id=\"p2\">**</bpt>(none)<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Availability Set<ept id=\"p3\">**</ept> box."
    },
    {
      "content": "Click the check mark to continue.",
      "pos": [
        2044,
        2077
      ]
    },
    {
      "content": "Wait while Azure prepares your virtual machine.",
      "pos": [
        2086,
        2133
      ]
    },
    {
      "content": "Configure Endpoints",
      "pos": [
        2137,
        2156
      ]
    },
    {
      "content": "After the virtual machine is created, configure endpoints in order to remotely connect.",
      "pos": [
        2157,
        2244
      ]
    },
    {
      "pos": [
        2249,
        2372
      ],
      "content": "In the Management Portal, click <bpt id=\"p1\">**</bpt>Virtual Machines<ept id=\"p1\">**</ept>, click the name of your new virtual machine, then click <bpt id=\"p2\">**</bpt>Endpoints<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        2377,
        2488
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Edit Endpoint<ept id=\"p1\">**</ept> at the bottom of the page, and edit the SSH endpoint so that its <bpt id=\"p2\">**</bpt>Public Port<ept id=\"p2\">**</ept> is 22."
    },
    {
      "content": "Connect to the Virtual Machine",
      "pos": [
        2492,
        2522
      ]
    },
    {
      "content": "When the virtual machine has been provisioned and the endpoints configured you can connect to it using SSH or PuTTY.",
      "pos": [
        2523,
        2639
      ]
    },
    {
      "content": "Connecting Using SSH",
      "pos": [
        2644,
        2664
      ]
    },
    {
      "content": "If you are using Linux, connect to the virtual machine using SSH.",
      "pos": [
        2665,
        2730
      ]
    },
    {
      "content": "At the command prompt, run:",
      "pos": [
        2732,
        2759
      ]
    },
    {
      "content": "Enter the user's password.",
      "pos": [
        2832,
        2858
      ]
    },
    {
      "content": "Connecting using PuTTY",
      "pos": [
        2863,
        2885
      ]
    },
    {
      "content": "If you are using a Windows computer, connect to the VM using PuTTY.",
      "pos": [
        2886,
        2953
      ]
    },
    {
      "content": "PuTTY can be downloaded from the <bpt id=\"p1\">[</bpt>PuTTY Download Page<ept id=\"p1\">][PuTTYDownLoad]</ept>.",
      "pos": [
        2954,
        3024
      ]
    },
    {
      "content": "Download and save <bpt id=\"p1\">**</bpt>putty.exe<ept id=\"p1\">**</ept> to a directory on your computer.",
      "pos": [
        3030,
        3094
      ]
    },
    {
      "content": "Open a command prompt, navigate to that folder, and execute <bpt id=\"p1\">**</bpt>putty.exe<ept id=\"p1\">**</ept>.",
      "pos": [
        3095,
        3169
      ]
    },
    {
      "content": "Enter \"testlinuxvm.cloudapp.net\" for the <bpt id=\"p1\">**</bpt>Host Name<ept id=\"p1\">**</ept> and \"22\" for the <bpt id=\"p2\">**</bpt>Port<ept id=\"p2\">**</ept>.",
      "pos": [
        3174,
        3255
      ]
    },
    {
      "content": "<ph id=\"ph1\">![</ph>PuTTY Screen<ph id=\"ph2\">][Image6]</ph>",
      "pos": [
        3256,
        3279
      ]
    },
    {
      "content": "Update the Virtual Machine (optional)",
      "pos": [
        3285,
        3322
      ]
    },
    {
      "content": "Once you've connected to the virtual machine, you can optionally install updates.",
      "pos": [
        3323,
        3404
      ]
    },
    {
      "content": "Run:",
      "pos": [
        3405,
        3409
      ]
    },
    {
      "content": "Enter the password again.",
      "pos": [
        3434,
        3459
      ]
    },
    {
      "content": "Wait while updates install.",
      "pos": [
        3461,
        3488
      ]
    }
  ],
  "content": "<properties writer=\"kathydav\" editor=\"tysonn\" manager=\"jeffreyg\" /> \n\n**Note**: This article creates a virtual machine that is not connected to a virtual network. If you want your virtual machine to use a virtual network so you can connect to your virtual machines directly by hostname or set up\ncross-premises connections, use the **From Gallery** method instead and specify the virtual network when you create the virtual machine. For more information about virtual networks, see [Azure Virtual Network Overview](http://go.microsoft.com/fwlink/p/?LinkID=294063).\n\n1. Sign in to the Azure Management Portal using your Azure account.\n2. In the Management Portal, at the bottom left of the web page, click **+New**, click **Virtual Machine**, and then click **From Gallery**.\n\n    ![Create a New Virtual Machine][Image1]\n\n3. Select a CentOS virtual machine image from **Platform Images**, and then click the next arrow at the bottom right of the page.\n    \n4. On the **Virtual machine configuration** page, provide the following information:\n    - Provide a **Virtual Machine Name**, such as \"testlinuxvm\".\n    - Specify a **New User Name**, such as \"newuser\", which will be added to the Sudoers list file.\n    - In the **New Password** box, type a [strong password](http://msdn.microsoft.com/library/ms161962.aspx).\n    - In the **Confirm Password** box, retype the password.\n    - Select the appropriate **Size** from the drop down list.\n\n    Click the next arrow to continue.\n    \n5. On the **Virtual machine mode** page, provide the following information:\n    - Select **Standalone Virtual Machine**.\n    - In the **DNS Name** box, type a valid DNS address.  For example,  \"testlinuxvm\"\n    - In the **Storage Account** box, select **Use an automatically generated storage account**.\n    - In the **Region/Affinity Group/Virtual Network** box, select a region where this virtual image will be hosted.\n\n    Click the next arrow to continue.\n\n6. On the **Virtual machine options** page, select **(none)** in the **Availability Set** box.\n\n    Click the check mark to continue.\n    \n7. Wait while Azure prepares your virtual machine.\n\n##Configure Endpoints\nAfter the virtual machine is created, configure endpoints in order to remotely connect.\n\n1. In the Management Portal, click **Virtual Machines**, click the name of your new virtual machine, then click **Endpoints**.\n\n2. Click **Edit Endpoint** at the bottom of the page, and edit the SSH endpoint so that its **Public Port** is 22.\n\n##Connect to the Virtual Machine\nWhen the virtual machine has been provisioned and the endpoints configured you can connect to it using SSH or PuTTY.\n\n###Connecting Using SSH\nIf you are using Linux, connect to the virtual machine using SSH.  At the command prompt, run:\n\n    $ ssh newuser@testlinuxvm.cloudapp.net -o ServerAliveInterval=180\n\nEnter the user's password.\n\n###Connecting using PuTTY\nIf you are using a Windows computer, connect to the VM using PuTTY. PuTTY can be downloaded from the [PuTTY Download Page][PuTTYDownLoad]. \n\n1. Download and save **putty.exe** to a directory on your computer. Open a command prompt, navigate to that folder, and execute **putty.exe**.\n\n2. Enter \"testlinuxvm.cloudapp.net\" for the **Host Name** and \"22\" for the **Port**.\n![PuTTY Screen][Image6]  \n\n##Update the Virtual Machine (optional)\nOnce you've connected to the virtual machine, you can optionally install updates. Run:\n\n    $ sudo yum update\n\nEnter the password again.  Wait while updates install.\n\n\n[PuTTYDownload]: http://www.puttyssh.org/download.html\n\n[Image1]: ./media/create-and-configure-centos-vm-in-portal/CreateVM.png\n\n[Image6]: ./media/create-and-configure-centos-vm-in-portal/putty.png\n"
}