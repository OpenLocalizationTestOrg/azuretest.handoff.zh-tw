{
  "nodes": [
    {
      "content": "Tutorial: Create a pipeline with Copy Activity using Visual Studio",
      "pos": [
        28,
        94
      ]
    },
    {
      "content": "In this tutorial, you will create an Azure Data Factory pipeline with a Copy Activity by using Visual Studio.",
      "pos": [
        114,
        223
      ]
    },
    {
      "content": "Tutorial: Create and monitor a data factory using Visual Studio",
      "pos": [
        551,
        614
      ]
    },
    {
      "content": "[AZURE.SELECTOR]",
      "pos": [
        617,
        633
      ]
    },
    {
      "content": "Tutorial Overview",
      "pos": [
        637,
        654
      ]
    },
    {
      "content": "Using Data Factory Editor",
      "pos": [
        688,
        713
      ]
    },
    {
      "content": "Using PowerShell",
      "pos": [
        760,
        776
      ]
    },
    {
      "content": "Using Visual Studio",
      "pos": [
        830,
        849
      ]
    },
    {
      "content": "In This Tutorial",
      "pos": [
        893,
        909
      ]
    },
    {
      "content": "In This tutorial you will first create an Azure data factory named  <bpt id=\"p1\">**</bpt>ADFTutorialDataFactoryVS<ept id=\"p1\">**</ept> using the Azure Preview Portal and then do the following using Visual Studio 2013:",
      "pos": [
        910,
        1089
      ]
    },
    {
      "content": "Create two linked services: <bpt id=\"p1\">**</bpt>AzureStorageLinkedService1<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>AzureSqlinkedService1<ept id=\"p2\">**</ept>.",
      "pos": [
        1094,
        1183
      ]
    },
    {
      "content": "The AzureStorageLinkedService1 links an Azure storage and AzureSqlLinkedService1 links an Azure SQL database to the data factory: <bpt id=\"p1\">**</bpt>ADFTutorialDataFactoryVS<ept id=\"p1\">**</ept>.",
      "pos": [
        1184,
        1343
      ]
    },
    {
      "content": "The input data for the pipeline resides in a blob container in the Azure blob storage and output data will be stored in a table in the Azure SQL database.",
      "pos": [
        1344,
        1498
      ]
    },
    {
      "content": "Therefore, you add these two data stores as linked services to the data factory.",
      "pos": [
        1499,
        1579
      ]
    },
    {
      "content": "Create two data factory tables: <bpt id=\"p1\">**</bpt>EmpTableFromBlob<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>EmpSQLTable<ept id=\"p2\">**</ept>, which represent the input/output data that is stored in the data stores.",
      "pos": [
        1583,
        1729
      ]
    },
    {
      "content": "For the EmpTableFromBlob, you will specify the blob container that contains a blob with the source data and for the EmpSQLTable, you will specify the SQL table that will store the output data.",
      "pos": [
        1730,
        1922
      ]
    },
    {
      "content": "You will also specify other properties such as structure of the data, availability of the data, etc...",
      "pos": [
        1923,
        2025
      ]
    },
    {
      "content": "Create a pipeline named <bpt id=\"p1\">**</bpt>ADFTutorialPipeline<ept id=\"p1\">**</ept> in the ADFTutorialDataFactoryVS.",
      "pos": [
        2029,
        2109
      ]
    },
    {
      "content": "The pipeline will have a <bpt id=\"p1\">**</bpt>Copy Activity<ept id=\"p1\">**</ept> that copies input data from the Azure blob to the output Azure SQL table",
      "pos": [
        2110,
        2225
      ]
    },
    {
      "pos": [
        2232,
        2292
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"CreateDataFactory\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Create an Azure Data Factory"
    },
    {
      "pos": [
        2293,
        2407
      ],
      "content": "In this step, you use the Azure Preview Portal to create an Azure data factory named <bpt id=\"p1\">**</bpt>ADFTutorialDataFactoryVS<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        2413,
        2638
      ],
      "content": "After logging into the <bpt id=\"p1\">[</bpt>Azure Preview Portal<ept id=\"p1\">](http://portal.azure.com)</ept>, click <bpt id=\"p2\">**</bpt>NEW<ept id=\"p2\">**</ept> from the bottom-left corner, select <bpt id=\"p3\">**</bpt>Data analytics<ept id=\"p3\">**</ept> in the <bpt id=\"p4\">**</bpt>Create<ept id=\"p4\">**</ept> blade, and click <bpt id=\"p5\">**</bpt>Data Factory<ept id=\"p5\">**</ept> in the <bpt id=\"p6\">**</bpt>Data analytics<ept id=\"p6\">**</ept> blade."
    },
    {
      "content": "New-&gt;DataFactory",
      "pos": [
        2647,
        2663
      ]
    },
    {
      "pos": [
        2738,
        2772
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>New data factory<ept id=\"p1\">**</ept> blade:"
    },
    {
      "pos": [
        2780,
        2832
      ],
      "content": "Enter <bpt id=\"p1\">**</bpt>ADFTutorialDataFactoryVS<ept id=\"p1\">**</ept> for the <bpt id=\"p2\">**</bpt>name<ept id=\"p2\">**</ept>."
    },
    {
      "content": "New data factory blade",
      "pos": [
        2849,
        2871
      ]
    },
    {
      "pos": [
        2955,
        3006
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>RESOURCE GROUP NAME<ept id=\"p1\">**</ept> and do the following:"
    },
    {
      "pos": [
        3018,
        3056
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create a new resource group<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        3068,
        3200
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Create resource group<ept id=\"p1\">**</ept> blade, enter <bpt id=\"p2\">**</bpt>ADFTutorialResourceGroup<ept id=\"p2\">**</ept> for the <bpt id=\"p3\">**</bpt>name<ept id=\"p3\">**</ept> of the resource group, and click <bpt id=\"p4\">**</bpt>OK<ept id=\"p4\">**</ept>."
    },
    {
      "content": "Create Resource Group",
      "pos": [
        3217,
        3238
      ]
    },
    {
      "content": "Some of the steps in this tutorial assume that you use the name: <bpt id=\"p1\">**</bpt>ADFTutorialResourceGroup<ept id=\"p1\">**</ept> for the resource group.",
      "pos": [
        3319,
        3436
      ]
    },
    {
      "content": "To learn about resource groups, see <bpt id=\"p1\">[</bpt>Using resource groups to manage your Azure resources<ept id=\"p1\">](resource-group-overview.md)</ept>.",
      "pos": [
        3437,
        3556
      ]
    },
    {
      "pos": [
        3562,
        3643
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>New data factory<ept id=\"p1\">**</ept> blade, notice that <bpt id=\"p2\">**</bpt>Add to Startboard<ept id=\"p2\">**</ept> is selected."
    },
    {
      "pos": [
        3647,
        3698
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>New data factory<ept id=\"p2\">**</ept> blade."
    },
    {
      "content": "The name of the Azure data factory must be globally unique.",
      "pos": [
        3704,
        3763
      ]
    },
    {
      "content": "If you receive the error: <bpt id=\"p1\">**</bpt>Data factory name “ADFTutorialDataFactoryVS” is not available<ept id=\"p1\">**</ept>, change the name of the data factory (for example, yournameADFTutorialDataFactoryVS) and try creating again.",
      "pos": [
        3764,
        3964
      ]
    },
    {
      "content": "Use this name in place of ADFTutorialFactory while performing remaining steps in this tutorial.",
      "pos": [
        3965,
        4060
      ]
    },
    {
      "content": "See [Data Factory - Naming Rules][data-factory-naming-rules] topic for naming rules for Data Factory artifacts.",
      "pos": [
        4061,
        4172
      ]
    },
    {
      "content": "Data Factory name not available",
      "pos": [
        4187,
        4218
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>NOTIFICATIONS<ept id=\"p1\">**</ept> hub on the left and look for notifications from the creation process.",
      "pos": [
        4309,
        4402
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>X<ept id=\"p1\">**</ept> to close the <bpt id=\"p2\">**</bpt>NOTIFICATIONS<ept id=\"p2\">**</ept> blade if it is open.",
      "pos": [
        4403,
        4466
      ]
    },
    {
      "pos": [
        4472,
        4559
      ],
      "content": "After the creation is complete, you will see the <bpt id=\"p1\">**</bpt>DATA FACTORY<ept id=\"p1\">**</ept> blade as shown below."
    },
    {
      "content": "Data factory home page",
      "pos": [
        4567,
        4589
      ]
    },
    {
      "content": "Create and deploy Data Factory entities using Visual Studio",
      "pos": [
        4676,
        4735
      ]
    },
    {
      "content": "Pre-requisites",
      "pos": [
        4742,
        4756
      ]
    },
    {
      "content": "You must have the following installed on your computer:",
      "pos": [
        4757,
        4812
      ]
    },
    {
      "content": "Visual Studio 2013",
      "pos": [
        4816,
        4834
      ]
    },
    {
      "content": "Download Azure SDK for Visual Studio 2013.",
      "pos": [
        4837,
        4879
      ]
    },
    {
      "content": "Navigate to <bpt id=\"p1\">[</bpt>Azure Download Page<ept id=\"p1\">](http://azure.microsoft.com/downloads/)</ept> and click <bpt id=\"p2\">**</bpt>VS 2013 install<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>.NET<ept id=\"p3\">**</ept> section.",
      "pos": [
        4880,
        5007
      ]
    },
    {
      "content": "Walkthrough",
      "pos": [
        5013,
        5024
      ]
    },
    {
      "content": "Create the Visual Studio project",
      "pos": [
        5031,
        5063
      ]
    },
    {
      "content": "Launch <bpt id=\"p1\">**</bpt>Visual Studio 2013<ept id=\"p1\">**</ept>.",
      "pos": [
        5068,
        5098
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept>, point to <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, and click <bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept>.",
      "pos": [
        5099,
        5155
      ]
    },
    {
      "content": "You should see the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog box.",
      "pos": [
        5156,
        5202
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept> dialog, select the <bpt id=\"p2\">**</bpt>DataFactory<ept id=\"p2\">**</ept> template, and click <bpt id=\"p3\">**</bpt>Empty Data Factory Project<ept id=\"p3\">**</ept>.",
      "pos": [
        5208,
        5317
      ]
    },
    {
      "content": "If you don't see the DataFactory template, close Visual Studio, install Azure SDK for Visual Studio 2013, and reopen Visual Studio.",
      "pos": [
        5318,
        5449
      ]
    },
    {
      "content": "New project dialog box",
      "pos": [
        5459,
        5481
      ]
    },
    {
      "pos": [
        5553,
        5651
      ],
      "content": "Enter a <bpt id=\"p1\">**</bpt>name<ept id=\"p1\">**</ept> for the project, <bpt id=\"p2\">**</bpt>location<ept id=\"p2\">**</ept>, and a name for the <bpt id=\"p3\">**</bpt>solution<ept id=\"p3\">**</ept>, and click <bpt id=\"p4\">**</bpt>OK<ept id=\"p4\">**</ept>."
    },
    {
      "content": "Solution Explorer",
      "pos": [
        5659,
        5676
      ]
    },
    {
      "content": "Create linked services",
      "pos": [
        5752,
        5774
      ]
    },
    {
      "content": "Linked services link data stores or compute services to an Azure data factory.",
      "pos": [
        5775,
        5853
      ]
    },
    {
      "content": "A data store can be an Azure Storage, Azure SQL Database or an on-premises SQL Server database.",
      "pos": [
        5854,
        5949
      ]
    },
    {
      "content": "In this step, you will create two linked services: <bpt id=\"p1\">**</bpt>AzureStorageLinkedService1<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>AzureSqlLinkedService1<ept id=\"p2\">**</ept>.",
      "pos": [
        5951,
        6064
      ]
    },
    {
      "content": "AzureStorageLinkedService1 linked service links an Azure Storage Account and AzureSqlLinkedService links an Azure SQL database to the data factory: <bpt id=\"p1\">**</bpt>ADFTutorialDataFactory<ept id=\"p1\">**</ept>.",
      "pos": [
        6065,
        6240
      ]
    },
    {
      "content": "Create the Azure Storage linked service",
      "pos": [
        6249,
        6288
      ]
    },
    {
      "pos": [
        6293,
        6392
      ],
      "content": "Right-click <bpt id=\"p1\">**</bpt>Linked Services<ept id=\"p1\">**</ept> in the solution explorer, point to <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>, and click <bpt id=\"p3\">**</bpt>New Item<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        6402,
        6511
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Azure Storage Linked Service<ept id=\"p2\">**</ept> from the list, and click <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>."
    },
    {
      "content": "New Linked Service",
      "pos": [
        6520,
        6538
      ]
    },
    {
      "pos": [
        6618,
        6717
      ],
      "content": "Replace <bpt id=\"p1\">**</bpt>accountname<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>accountkey<ept id=\"p2\">**</ept> with the name of your Azure storage account and its key."
    },
    {
      "content": "Azure Storage Linked Service",
      "pos": [
        6726,
        6754
      ]
    },
    {
      "pos": [
        6836,
        6886
      ],
      "content": "Save the <bpt id=\"p1\">**</bpt>AzureStorageLinkedService1.json<ept id=\"p1\">**</ept> file."
    },
    {
      "content": "Create the Azure SQL linked service",
      "pos": [
        6893,
        6928
      ]
    },
    {
      "pos": [
        6933,
        7050
      ],
      "content": "Right-click on <bpt id=\"p1\">**</bpt>Linked Services<ept id=\"p1\">**</ept> node in the <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept> again, point to <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>, and click <bpt id=\"p4\">**</bpt>New Item<ept id=\"p4\">**</ept>."
    },
    {
      "pos": [
        7055,
        7121
      ],
      "content": "This time, select <bpt id=\"p1\">**</bpt>Azure SQL Linked Service<ept id=\"p1\">**</ept>, and click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        7126,
        7330
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>AzureSqlLinkedService1.json file<ept id=\"p1\">**</ept>, replace <bpt id=\"p2\">**</bpt>servername<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>databasename<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>username@servername<ept id=\"p4\">**</ept>, and <bpt id=\"p5\">**</bpt>password<ept id=\"p5\">**</ept> with names of your Azure SQL server, database, user account, and  password."
    },
    {
      "pos": [
        7339,
        7385
      ],
      "content": "Save the <bpt id=\"p1\">**</bpt>AzureSqlLinkedService1.json<ept id=\"p1\">**</ept> file."
    },
    {
      "content": "Create input and output tables",
      "pos": [
        7393,
        7423
      ]
    },
    {
      "content": "In the previous step, you created linked services <bpt id=\"p1\">**</bpt>AzureStorageLinkedService1<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>AzureSqlLinkedService1<ept id=\"p2\">**</ept> to link an Azure Storage account and Azure SQL database to the data factory: <bpt id=\"p3\">**</bpt>ADFTutorialDataFactory<ept id=\"p3\">**</ept>.",
      "pos": [
        7424,
        7640
      ]
    },
    {
      "content": "In this step, you will define two data factory tables -- <bpt id=\"p1\">**</bpt>EmpTableFromBlob<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>EmpSQLTable<ept id=\"p2\">**</ept> -- that represent the input/output data that is stored in the data stores referred by AzureStorageLinkedService1 and AzureSqlLinkedService1 respectively.",
      "pos": [
        7641,
        7892
      ]
    },
    {
      "content": "For  EmpTableFromBlob, you will specify the blob container that contains a blob with the source data and for EmpSQLTable, you will specify the SQL table that will store the output data.",
      "pos": [
        7893,
        8078
      ]
    },
    {
      "content": "Create the input table",
      "pos": [
        8085,
        8107
      ]
    },
    {
      "pos": [
        8112,
        8206
      ],
      "content": "Right-click <bpt id=\"p1\">**</bpt>Tables<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept>, point to <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>, and click <bpt id=\"p4\">**</bpt>New Item<ept id=\"p4\">**</ept>."
    },
    {
      "pos": [
        8211,
        8288
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Azure Blob<ept id=\"p2\">**</ept>, and click <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        8296,
        8388
      ],
      "content": "Replace the JSON text with the following text and save the <bpt id=\"p1\">**</bpt>AzureBlobLocation1.json<ept id=\"p1\">**</ept> file."
    },
    {
      "content": "Create the output table",
      "pos": [
        9291,
        9314
      ]
    },
    {
      "pos": [
        9320,
        9420
      ],
      "content": "Right-click <bpt id=\"p1\">**</bpt>Tables<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept> again, point to <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>, and click <bpt id=\"p4\">**</bpt>New Item<ept id=\"p4\">**</ept>."
    },
    {
      "pos": [
        9425,
        9501
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>Azure SQL<ept id=\"p2\">**</ept>, and click <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        9507,
        9603
      ],
      "content": "Replace the JSON text with the following JSON and save the <bpt id=\"p1\">**</bpt>AzureSqlTableLocation1.json<ept id=\"p1\">**</ept> file."
    },
    {
      "content": "Create the pipeline",
      "pos": [
        10288,
        10307
      ]
    },
    {
      "content": "You have created input/output linked services and tables so far.",
      "pos": [
        10309,
        10373
      ]
    },
    {
      "content": "Now, you will create a pipeline with a <bpt id=\"p1\">**</bpt>Copy Activity<ept id=\"p1\">**</ept> to copy data from the Azure blob to Azure SQL database.",
      "pos": [
        10374,
        10486
      ]
    },
    {
      "pos": [
        10493,
        10590
      ],
      "content": "Right-click <bpt id=\"p1\">**</bpt>Pipelines<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Solution Explorer<ept id=\"p2\">**</ept>, point to <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>, and click <bpt id=\"p4\">**</bpt>New Item<ept id=\"p4\">**</ept>."
    },
    {
      "pos": [
        10597,
        10680
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Copy Data Pipeline<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Add New Item<ept id=\"p2\">**</ept> dialog box and click <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        10686,
        10769
      ],
      "content": "Replace the JSON with the following JSON and save the <bpt id=\"p1\">**</bpt>CopyActivity1.json<ept id=\"p1\">**</ept> file.."
    },
    {
      "content": "Publish/deploy Data Factory entities",
      "pos": [
        12487,
        12523
      ]
    },
    {
      "pos": [
        12531,
        12657
      ],
      "content": "In the toolbar area, right-click and select <bpt id=\"p1\">**</bpt>Data Factory<ept id=\"p1\">**</ept> to enabled the Data Factory toolbar if it is not already enabled."
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Data Factory toolbar<ept id=\"p1\">**</ept>, click the <bpt id=\"p2\">**</bpt>drop-down box<ept id=\"p2\">**</ept> to see all the data factories in your Azure subscription.",
      "pos": [
        12663,
        12781
      ]
    },
    {
      "content": "If you see the <bpt id=\"p1\">**</bpt>Sign-in to Visual Studio<ept id=\"p1\">**</ept> dialog box:",
      "pos": [
        12782,
        12837
      ]
    },
    {
      "pos": [
        12847,
        13002
      ],
      "content": "Enter the <bpt id=\"p1\">**</bpt>email account<ept id=\"p1\">**</ept> associated with the Azure subscription in which you want to create the data factory, enter <bpt id=\"p2\">**</bpt>Password<ept id=\"p2\">**</ept>, and click <bpt id=\"p3\">**</bpt>Sign-in<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Once the sign-in is successful, you should see all the data factories in the Azure subscription.",
      "pos": [
        13011,
        13107
      ]
    },
    {
      "content": "In this tutorial, you will create a new data facotry.",
      "pos": [
        13108,
        13161
      ]
    },
    {
      "pos": [
        13173,
        13324
      ],
      "content": "In the drop-down list, select <bpt id=\"p1\">**</bpt>ADFTutorialFactoryVS<ept id=\"p1\">**</ept>, and click <bpt id=\"p2\">**</bpt>Publish<ept id=\"p2\">**</ept> button to deploy/publish the linked services, datasets, and the pipeline."
    },
    {
      "content": "Publish button",
      "pos": [
        13336,
        13350
      ]
    },
    {
      "content": "You should see the status of publishing in the Data Factory Task List window that is shown in the picture above.",
      "pos": [
        13412,
        13524
      ]
    },
    {
      "content": "Confirm that publishing has succeeded.",
      "pos": [
        13525,
        13563
      ]
    },
    {
      "content": "Use Server Explorer to review Data Factory entities",
      "pos": [
        13568,
        13619
      ]
    },
    {
      "pos": [
        13624,
        13704
      ],
      "content": "In <bpt id=\"p1\">**</bpt>Visual Studio<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept> on the menu, and click <bpt id=\"p3\">**</bpt>Server Explorer<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        13708,
        14216
      ],
      "content": "In the Server Explorer window, expand **Azure** and expand **Data Factory**. If you see **Sign in to Visual Studio**, enter the **account** associated with your Azure subscription and click **Continue**. Enter **password**, and click **Sign in**. Visual Studio tries to get information about all Azure data factories in your subscription. You will see the status of this operation in the **Data Factory Task List** window.\n ![Server Explorer](./media/data-factory-get-started-using-vs/server-explorer.png)",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "In the Server Explorer window, expand **Azure** and expand **Data Factory**. If you see **Sign in to Visual Studio**, enter the **account** associated with your Azure subscription and click **Continue**. Enter **password**, and click **Sign in**. Visual Studio tries to get information about all Azure data factories in your subscription. You will see the status of this operation in the **Data Factory Task List** window.",
          "pos": [
            0,
            422
          ],
          "nodes": [
            {
              "content": "In the Server Explorer window, expand <bpt id=\"p1\">**</bpt>Azure<ept id=\"p1\">**</ept> and expand <bpt id=\"p2\">**</bpt>Data Factory<ept id=\"p2\">**</ept>.",
              "pos": [
                0,
                76
              ]
            },
            {
              "content": "If you see <bpt id=\"p1\">**</bpt>Sign in to Visual Studio<ept id=\"p1\">**</ept>, enter the <bpt id=\"p2\">**</bpt>account<ept id=\"p2\">**</ept> associated with your Azure subscription and click <bpt id=\"p3\">**</bpt>Continue<ept id=\"p3\">**</ept>.",
              "pos": [
                77,
                203
              ]
            },
            {
              "content": "Enter <bpt id=\"p1\">**</bpt>password<ept id=\"p1\">**</ept>, and click <bpt id=\"p2\">**</bpt>Sign in<ept id=\"p2\">**</ept>.",
              "pos": [
                204,
                246
              ]
            },
            {
              "content": "Visual Studio tries to get information about all Azure data factories in your subscription.",
              "pos": [
                247,
                338
              ]
            },
            {
              "content": "You will see the status of this operation in the <bpt id=\"p1\">**</bpt>Data Factory Task List<ept id=\"p1\">**</ept> window.",
              "pos": [
                339,
                422
              ]
            }
          ]
        },
        {
          "content": "<ph id=\"ph1\"> ![</ph>Server Explorer<ph id=\"ph2\">](./media/data-factory-get-started-using-vs/server-explorer.png)</ph>",
          "pos": [
            423,
            505
          ]
        }
      ]
    },
    {
      "pos": [
        14220,
        14488
      ],
      "content": "You can right-click on a data factory, and select Export Data Factory to New Project to create a Visual Studio project based on an existing data factory.\n ![Export data factory to a VS project](./media/data-factory-get-started-using-vs/export-data-factory-menu.png)",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "You can right-click on a data factory, and select Export Data Factory to New Project to create a Visual Studio project based on an existing data factory.",
          "pos": [
            0,
            153
          ]
        },
        {
          "content": "Export data factory to a VS project",
          "pos": [
            157,
            192
          ]
        }
      ]
    },
    {
      "content": "Update Data Factory tools for Visual Studio",
      "pos": [
        14495,
        14538
      ]
    },
    {
      "content": "To update Azure Data Factory tools for Visual Studio, do the following:",
      "pos": [
        14539,
        14610
      ]
    },
    {
      "pos": [
        14615,
        14681
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> on the menu and select <bpt id=\"p2\">**</bpt>Extensions and Updates<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        14686,
        14764
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Updates<ept id=\"p1\">**</ept> in the left pane and then select <bpt id=\"p2\">**</bpt>Visual Studio Gallery<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>Azure Data Factory tools for Visual Studio<ept id=\"p1\">**</ept> and click <bpt id=\"p2\">**</bpt>Update<ept id=\"p2\">**</ept>.",
      "pos": [
        14768,
        14843
      ]
    },
    {
      "content": "If you do not see this entry, you already have the latest version of the tools.",
      "pos": [
        14844,
        14923
      ]
    },
    {
      "pos": [
        14926,
        15159
      ],
      "content": "See <bpt id=\"p1\">[</bpt>Monitor datasets and pipeline<ept id=\"p1\">](data-factory-get-started-using-editor.md/#MonitorDataSetsAndPipeline)</ept> for instructions on how to use the Azure Preview Portal to monitor the pipeline and datasets you have created in this tutorial."
    },
    {
      "content": "Send Feedback",
      "pos": [
        15165,
        15178
      ]
    },
    {
      "content": "We would really appreciate your feedback on this article.",
      "pos": [
        15179,
        15236
      ]
    },
    {
      "content": "Please take a few minutes to submit your feedback via <bpt id=\"p1\">[</bpt>email<ept id=\"p1\">](mailto:adfdocfeedback@microsoft.com?subject=data-factory-get-started-using-vs.md)</ept>.",
      "pos": [
        15237,
        15381
      ]
    },
    {
      "content": "test",
      "pos": [
        15383,
        15387
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Tutorial: Create a pipeline with Copy Activity using Visual Studio\" \n    description=\"In this tutorial, you will create an Azure Data Factory pipeline with a Copy Activity by using Visual Studio.\" \n    services=\"data-factory\" \n    documentationCenter=\"\" \n    authors=\"spelluru\" \n    manager=\"jhubbard\" \n    editor=\"monicar\"/>\n\n<tags \n    ms.service=\"data-factory\" \n    ms.workload=\"data-services\" \n    ms.tgt_pltfrm=\"na\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"07/27/2015\" \n    ms.author=\"spelluru\"/>\n\n# Tutorial: Create and monitor a data factory using Visual Studio\n> [AZURE.SELECTOR]\n- [Tutorial Overview](data-factory-get-started.md)\n- [Using Data Factory Editor](data-factory-get-started-using-editor.md)\n- [Using PowerShell](data-factory-monitor-manage-using-powershell.md)\n- [Using Visual Studio](data-factory-get-started-using-vs.md)\n\n\n##In This Tutorial\nIn This tutorial you will first create an Azure data factory named  **ADFTutorialDataFactoryVS** using the Azure Preview Portal and then do the following using Visual Studio 2013:\n\n1. Create two linked services: **AzureStorageLinkedService1** and **AzureSqlinkedService1**. The AzureStorageLinkedService1 links an Azure storage and AzureSqlLinkedService1 links an Azure SQL database to the data factory: **ADFTutorialDataFactoryVS**. The input data for the pipeline resides in a blob container in the Azure blob storage and output data will be stored in a table in the Azure SQL database. Therefore, you add these two data stores as linked services to the data factory.\n2. Create two data factory tables: **EmpTableFromBlob** and **EmpSQLTable**, which represent the input/output data that is stored in the data stores. For the EmpTableFromBlob, you will specify the blob container that contains a blob with the source data and for the EmpSQLTable, you will specify the SQL table that will store the output data. You will also specify other properties such as structure of the data, availability of the data, etc...\n3. Create a pipeline named **ADFTutorialPipeline** in the ADFTutorialDataFactoryVS. The pipeline will have a **Copy Activity** that copies input data from the Azure blob to the output Azure SQL table \n\n\n## <a name=\"CreateDataFactory\"></a>Create an Azure Data Factory\nIn this step, you use the Azure Preview Portal to create an Azure data factory named **ADFTutorialDataFactoryVS**.\n\n1.  After logging into the [Azure Preview Portal](http://portal.azure.com), click **NEW** from the bottom-left corner, select **Data analytics** in the **Create** blade, and click **Data Factory** in the **Data analytics** blade. \n\n    ![New->DataFactory](./media/data-factory-get-started-using-vs/NewDataFactoryMenu.png)   \n\n6. In the **New data factory** blade:\n    1. Enter **ADFTutorialDataFactoryVS** for the **name**. \n    \n        ![New data factory blade](./media/data-factory-get-started-using-vs/getstarted-new-data-factory.png)\n    2. Click **RESOURCE GROUP NAME** and do the following:\n        1. Click **Create a new resource group**.\n        2. In the **Create resource group** blade, enter **ADFTutorialResourceGroup** for the **name** of the resource group, and click **OK**. \n\n            ![Create Resource Group](./media/data-factory-get-started-using-vs/CreateNewResourceGroup.png)\n\n        Some of the steps in this tutorial assume that you use the name: **ADFTutorialResourceGroup** for the resource group. To learn about resource groups, see [Using resource groups to manage your Azure resources](resource-group-overview.md).  \n7. In the **New data factory** blade, notice that **Add to Startboard** is selected.\n8. Click **Create** in the **New data factory** blade.\n\n    The name of the Azure data factory must be globally unique. If you receive the error: **Data factory name “ADFTutorialDataFactoryVS” is not available**, change the name of the data factory (for example, yournameADFTutorialDataFactoryVS) and try creating again. Use this name in place of ADFTutorialFactory while performing remaining steps in this tutorial. See [Data Factory - Naming Rules][data-factory-naming-rules] topic for naming rules for Data Factory artifacts.  \n     \n    ![Data Factory name not available](./media/data-factory-get-started-using-vs/getstarted-data-factory-not-available.png)\n\n9. Click **NOTIFICATIONS** hub on the left and look for notifications from the creation process. Click **X** to close the **NOTIFICATIONS** blade if it is open. \n10. After the creation is complete, you will see the **DATA FACTORY** blade as shown below.\n\n    ![Data factory home page](./media/data-factory-get-started-using-vs/getstarted-data-factory-home-page.png)\n\n## Create and deploy Data Factory entities using Visual Studio \n\n### Pre-requisites\nYou must have the following installed on your computer: \n- Visual Studio 2013\n- Download Azure SDK for Visual Studio 2013. Navigate to [Azure Download Page](http://azure.microsoft.com/downloads/) and click **VS 2013 install** in the **.NET** section.\n\n### Walkthrough\n\n#### Create the Visual Studio project \n1. Launch **Visual Studio 2013**. Click **File**, point to **New**, and click **Project**. You should see the **New Project** dialog box.  \n2. In the **New Project** dialog, select the **DataFactory** template, and click **Empty Data Factory Project**. If you don't see the DataFactory template, close Visual Studio, install Azure SDK for Visual Studio 2013, and reopen Visual Studio.  \n\n    ![New project dialog box](./media/data-factory-get-started-using-vs/new-project-dialog.png)\n\n3. Enter a **name** for the project, **location**, and a name for the **solution**, and click **OK**.\n\n    ![Solution Explorer](./media/data-factory-get-started-using-vs/solution-explorer.png)   \n\n#### Create linked services\nLinked services link data stores or compute services to an Azure data factory. A data store can be an Azure Storage, Azure SQL Database or an on-premises SQL Server database.\n\nIn this step, you will create two linked services: **AzureStorageLinkedService1** and **AzureSqlLinkedService1**. AzureStorageLinkedService1 linked service links an Azure Storage Account and AzureSqlLinkedService links an Azure SQL database to the data factory: **ADFTutorialDataFactory**. \n\n##### Create the Azure Storage linked service\n\n4. Right-click **Linked Services** in the solution explorer, point to **Add**, and click **New Item**.      \n5. In the **Add New Item** dialog box, select **Azure Storage Linked Service** from the list, and click **Add**. \n\n    ![New Linked Service](./media/data-factory-get-started-using-vs/new-linked-service-dialog.png)\n \n3. Replace **accountname** and **accountkey** with the name of your Azure storage account and its key. \n\n    ![Azure Storage Linked Service](./media/data-factory-get-started-using-vs/azure-storage-linked-service.png)\n\n4. Save the **AzureStorageLinkedService1.json** file.\n\n#### Create the Azure SQL linked service\n\n5. Right-click on **Linked Services** node in the **Solution Explorer** again, point to **Add**, and click **New Item**. \n6. This time, select **Azure SQL Linked Service**, and click **Add**. \n7. In the **AzureSqlLinkedService1.json file**, replace **servername**, **databasename**, **username@servername**, and **password** with names of your Azure SQL server, database, user account, and  password.    \n8.  Save the **AzureSqlLinkedService1.json** file. \n\n\n### Create input and output tables\nIn the previous step, you created linked services **AzureStorageLinkedService1** and **AzureSqlLinkedService1** to link an Azure Storage account and Azure SQL database to the data factory: **ADFTutorialDataFactory**. In this step, you will define two data factory tables -- **EmpTableFromBlob** and **EmpSQLTable** -- that represent the input/output data that is stored in the data stores referred by AzureStorageLinkedService1 and AzureSqlLinkedService1 respectively. For  EmpTableFromBlob, you will specify the blob container that contains a blob with the source data and for EmpSQLTable, you will specify the SQL table that will store the output data.\n\n#### Create the input table\n\n9. Right-click **Tables** in the **Solution Explorer**, point to **Add**, and click **New Item**.\n10. In the **Add New Item** dialog box, select **Azure Blob**, and click **Add**.   \n10. Replace the JSON text with the following text and save the **AzureBlobLocation1.json** file. \n\n        {\n            \"name\": \"EmpTableFromBlob\",\n            \"properties\":\n            {\n                \"structure\":  \n                [ \n                    { \"name\": \"FirstName\", \"type\": \"String\"},\n                    { \"name\": \"LastName\", \"type\": \"String\"}\n                ],\n                \"location\": \n                {\n                    \"type\": \"AzureBlobLocation\",\n                    \"folderPath\": \"adftutorial/\",\n                    \"format\":\n                    {\n                        \"type\": \"TextFormat\",\n                        \"columnDelimiter\": \",\"\n                    },\n                    \"linkedServiceName\": \"AzureStorageLinkedService1\"\n                },\n                \"availability\": \n                {\n                    \"frequency\": \"Hour\",\n                    \"interval\": 1,\n                    \"waitOnExternal\": {}\n                }\n            }\n        }\n\n#### Create the output table\n\n11. Right-click **Tables** in the **Solution Explorer** again, point to **Add**, and click **New Item**.\n12. In the **Add New Item** dialog box, select **Azure SQL**, and click **Add**. \n13. Replace the JSON text with the following JSON and save the **AzureSqlTableLocation1.json** file.\n\n        {\n            \"name\": \"EmpSQLTable\",\n            \"properties\":\n            {\n                \"structure\":\n                [\n                    { \"name\": \"FirstName\", \"type\": \"String\"},\n                    { \"name\": \"LastName\", \"type\": \"String\"}\n                ],\n                \"location\":\n                {\n                    \"type\": \"AzureSqlTableLocation\",\n                    \"tableName\": \"emp\",\n                    \"linkedServiceName\": \"AzureSqlLinkedService1\"\n                },\n                \"availability\": \n                {\n                    \"frequency\": \"Hour\",\n                    \"interval\": 1            \n                }\n            }\n        }\n\n#### Create the pipeline \nYou have created input/output linked services and tables so far. Now, you will create a pipeline with a **Copy Activity** to copy data from the Azure blob to Azure SQL database. \n\n\n1. Right-click **Pipelines** in the **Solution Explorer**, point to **Add**, and click **New Item**.  \n15. Select **Copy Data Pipeline** in the **Add New Item** dialog box and click **Add**. \n16. Replace the JSON with the following JSON and save the **CopyActivity1.json** file..\n            \n         {\n            \"name\": \"ADFTutorialPipeline\",\n            \"properties\":\n            {   \n                \"description\" : \"Copy data from a blob to Azure SQL table\",\n                \"activities\":   \n                [\n                    {\n                        \"name\": \"CopyFromBlobToSQL\",\n                        \"description\": \"Push Regional Effectiveness Campaign data to Azure SQL database\",\n                        \"type\": \"CopyActivity\",\n                        \"inputs\": [ {\"name\": \"EmpTableFromBlob\"} ],\n                        \"outputs\": [ {\"name\": \"EmpSQLTable\"} ],     \n                        \"transformation\":\n                        {\n                            \"source\":\n                            {                               \n                                \"type\": \"BlobSource\"\n                            },\n                            \"sink\":\n                            {\n                                \"type\": \"SqlSink\",\n                                \"writeBatchSize\": 10000,\n                                \"writeBatchTimeout\": \"60:00:00\"\n                            }   \n                        },\n                        \"Policy\":\n                        {\n                            \"concurrency\": 1,\n                            \"executionPriorityOrder\": \"NewestFirst\",\n                            \"style\": \"StartOfInterval\",\n                            \"retry\": 0,\n                            \"timeout\": \"01:00:00\"\n                        }       \n                    }\n                ],\n        \n                \"start\": \"2015-07-12T00:00:00Z\",\n                \"end\": \"2015-07-13T00:00:00Z\",\n                \"isPaused\": false\n            }\n        } \n\n#### Publish/deploy Data Factory entities\n  \n18. In the toolbar area, right-click and select **Data Factory** to enabled the Data Factory toolbar if it is not already enabled. \n19. In the **Data Factory toolbar**, click the **drop-down box** to see all the data factories in your Azure subscription. If you see the **Sign-in to Visual Studio** dialog box: \n    20. Enter the **email account** associated with the Azure subscription in which you want to create the data factory, enter **Password**, and click **Sign-in**.\n    21. Once the sign-in is successful, you should see all the data factories in the Azure subscription. In this tutorial, you will create a new data facotry.       \n22. In the drop-down list, select **ADFTutorialFactoryVS**, and click **Publish** button to deploy/publish the linked services, datasets, and the pipeline.    \n\n    ![Publish button](./media/data-factory-get-started-using-vs/publish.png)\n\n23. You should see the status of publishing in the Data Factory Task List window that is shown in the picture above. Confirm that publishing has succeeded.\n\n## Use Server Explorer to review Data Factory entities\n\n1. In **Visual Studio**, click **View** on the menu, and click **Server Explorer**.\n2. In the Server Explorer window, expand **Azure** and expand **Data Factory**. If you see **Sign in to Visual Studio**, enter the **account** associated with your Azure subscription and click **Continue**. Enter **password**, and click **Sign in**. Visual Studio tries to get information about all Azure data factories in your subscription. You will see the status of this operation in the **Data Factory Task List** window.\n    ![Server Explorer](./media/data-factory-get-started-using-vs/server-explorer.png)\n3. You can right-click on a data factory, and select Export Data Factory to New Project to create a Visual Studio project based on an existing data factory.\n    ![Export data factory to a VS project](./media/data-factory-get-started-using-vs/export-data-factory-menu.png)  \n\n## Update Data Factory tools for Visual Studio\nTo update Azure Data Factory tools for Visual Studio, do the following:\n\n1. Click **Tools** on the menu and select **Extensions and Updates**. \n2. Select **Updates** in the left pane and then select **Visual Studio Gallery**.\n4. Select **Azure Data Factory tools for Visual Studio** and click **Update**. If you do not see this entry, you already have the latest version of the tools. \n\nSee [Monitor datasets and pipeline](data-factory-get-started-using-editor.md/#MonitorDataSetsAndPipeline) for instructions on how to use the Azure Preview Portal to monitor the pipeline and datasets you have created in this tutorial.\n\n\n## Send Feedback\nWe would really appreciate your feedback on this article. Please take a few minutes to submit your feedback via [email](mailto:adfdocfeedback@microsoft.com?subject=data-factory-get-started-using-vs.md).\n\ntest\n"
}