{
  "nodes": [
    {
      "content": "How to manage service configurations and profiles",
      "pos": [
        27,
        76
      ]
    },
    {
      "content": "Learn how to work with service configurations and profiles configuration files| which store settings for the deployment environments and publish settings for cloud services.",
      "pos": [
        94,
        267
      ]
    },
    {
      "content": "How to manage service configurations and profiles",
      "pos": [
        567,
        616
      ]
    },
    {
      "content": "Overview",
      "pos": [
        620,
        628
      ]
    },
    {
      "content": "When you publish a cloud service, Visual Studio stores configuration information in two kinds of configuration files: service configurations and profiles.",
      "pos": [
        630,
        784
      ]
    },
    {
      "content": "Service configurations (.cscfg files) store settings for the deployment environments for an Azure cloud service.",
      "pos": [
        785,
        897
      ]
    },
    {
      "content": "Azure uses these configuration files when it manages your cloud services.",
      "pos": [
        898,
        971
      ]
    },
    {
      "content": "On the other hand, profiles (.azurePubxml files) store publish settings for cloud services.",
      "pos": [
        972,
        1063
      ]
    },
    {
      "content": "These settings are a record of what you choose when you use the publish wizard, and are used locally by Visual Studio.",
      "pos": [
        1064,
        1182
      ]
    },
    {
      "content": "This topic explains how to work with both types of configuration files.",
      "pos": [
        1183,
        1254
      ]
    },
    {
      "content": "Service Configurations",
      "pos": [
        1259,
        1281
      ]
    },
    {
      "content": "You can create multiple service configurations to use for each of your deployment environments.",
      "pos": [
        1283,
        1378
      ]
    },
    {
      "content": "For example, you might create a service configuration for the local environment that you use to run and test an Azure application and another service configuration for your production environment.",
      "pos": [
        1379,
        1575
      ]
    },
    {
      "content": "You can add, delete, rename, and modify these service configurations based on your requirements.",
      "pos": [
        1577,
        1673
      ]
    },
    {
      "content": "You can manage these service configurations from Visual Studio, as shown in the following illustration.",
      "pos": [
        1674,
        1777
      ]
    },
    {
      "content": "Manage Service Configurations",
      "pos": [
        1781,
        1810
      ]
    },
    {
      "content": "You can also open the <bpt id=\"p1\">**</bpt>Manage Configurations<ept id=\"p1\">**</ept> dialog box from the role’s property pages.",
      "pos": [
        1913,
        2003
      ]
    },
    {
      "content": "To open the properties for a role in your Azure project, open the shortcut menu for that role, and then choose <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.",
      "pos": [
        2004,
        2130
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept> tab, expand the <bpt id=\"p2\">**</bpt>Service Configuration<ept id=\"p2\">**</ept> list, and then click <bpt id=\"p3\">**</bpt>Manage<ept id=\"p3\">**</ept> to open the <bpt id=\"p4\">**</bpt>Manage Configurations<ept id=\"p4\">**</ept> dialog box.",
      "pos": [
        2131,
        2274
      ]
    },
    {
      "content": "To add a service configuration",
      "pos": [
        2280,
        2310
      ]
    },
    {
      "pos": [
        2315,
        2422
      ],
      "content": "In Solution Explorer open the shortcut menu for the Azure project and then click <bpt id=\"p1\">**</bpt>Manage Configurations<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        2429,
        2486
      ],
      "content": "The <bpt id=\"p1\">**</bpt>Manage Service Configurations<ept id=\"p1\">**</ept> dialog box appears."
    },
    {
      "content": "To add a service configuration, you must create a copy of an existing configuration.",
      "pos": [
        2491,
        2575
      ]
    },
    {
      "content": "To do this, choose the configuration that you want to copy from the Name list and then click <bpt id=\"p1\">**</bpt>Create copy<ept id=\"p1\">**</ept>.",
      "pos": [
        2576,
        2685
      ]
    },
    {
      "content": "(Optional) To give the service configuration a different name, choose the new service configuration from the Name list and then click <bpt id=\"p1\">**</bpt>Rename<ept id=\"p1\">**</ept>.",
      "pos": [
        2690,
        2835
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> text box, type the name that you want to use for this service configuration and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.",
      "pos": [
        2836,
        2950
      ]
    },
    {
      "content": "A new service configuration file that is named ServiceConfiguration.",
      "pos": [
        2956,
        3024
      ]
    },
    {
      "content": ".cscfg is added to the Azure project in Solution Explorer.",
      "pos": [
        3034,
        3092
      ]
    },
    {
      "content": "To delete a service configuration",
      "pos": [
        3099,
        3132
      ]
    },
    {
      "pos": [
        3137,
        3245
      ],
      "content": "In Solution Explorer, open the shortcut menu for the Azure project and then click <bpt id=\"p1\">**</bpt>Manage Configurations<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        3255,
        3312
      ],
      "content": "The <bpt id=\"p1\">**</bpt>Manage Service Configurations<ept id=\"p1\">**</ept> dialog box appears."
    },
    {
      "content": "To delete a service configuration, choose the configuration that you want to delete from the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> list and then click <bpt id=\"p2\">**</bpt>Remove<ept id=\"p2\">**</ept>.",
      "pos": [
        3317,
        3450
      ]
    },
    {
      "content": "A dialog box appears to verify that you want to delete this configuration.",
      "pos": [
        3451,
        3525
      ]
    },
    {
      "pos": [
        3530,
        3547
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Delete<ept id=\"p1\">**</ept>."
    },
    {
      "content": "The service configuration file is removed from the Azure project in Solution Explorer.",
      "pos": [
        3556,
        3642
      ]
    },
    {
      "content": "To rename a service configuration",
      "pos": [
        3649,
        3682
      ]
    },
    {
      "pos": [
        3687,
        3795
      ],
      "content": "In Solution Explorer, open the shortcut menu for the Azure project and then click <bpt id=\"p1\">**</bpt>Manage Configurations<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        3802,
        3859
      ],
      "content": "The <bpt id=\"p1\">**</bpt>Manage Service Configurations<ept id=\"p1\">**</ept> dialog box appears."
    },
    {
      "content": "To rename a service configuration, choose the new service configuration from the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> list and then click <bpt id=\"p2\">**</bpt>Rename<ept id=\"p2\">**</ept>.",
      "pos": [
        3864,
        3985
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> text box, type the name that you want to use for this service configuration and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.",
      "pos": [
        3986,
        4100
      ]
    },
    {
      "content": "The name of the service configuration file is changed in the Azure project in Solution Explorer.",
      "pos": [
        4106,
        4202
      ]
    },
    {
      "content": "To change a service configuration",
      "pos": [
        4208,
        4241
      ]
    },
    {
      "content": "If you want to change a service configuration, open the shortcut menu for the specific role you want to change in the Azure project and then click Properties.",
      "pos": [
        4245,
        4403
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>How to: Configure the Roles for an Azure Cloud Service with Visual Studio<ept id=\"p1\">](https://msdn.microsoft.com/library/azure/hh369931.aspx)</ept> for more information.",
      "pos": [
        4404,
        4561
      ]
    },
    {
      "content": "Make different setting combinations by using profiles",
      "pos": [
        4566,
        4619
      ]
    },
    {
      "content": "By using a profile, you can automatically fill in the <bpt id=\"p1\">**</bpt>Publish Wizard<ept id=\"p1\">**</ept> with different combinations of settings for different purposes.",
      "pos": [
        4621,
        4757
      ]
    },
    {
      "content": "For example, you can have one profile for debugging and another for release builds.",
      "pos": [
        4758,
        4841
      ]
    },
    {
      "content": "In that case, your <bpt id=\"p1\">**</bpt>Debug<ept id=\"p1\">**</ept> profile would have <bpt id=\"p2\">**</bpt>IntelliTrace<ept id=\"p2\">**</ept> enabled and the <bpt id=\"p3\">**</bpt>Debug<ept id=\"p3\">**</ept> configuration selected, and your <bpt id=\"p4\">**</bpt>Release<ept id=\"p4\">**</ept> profile would have <bpt id=\"p5\">**</bpt>IntelliTrace<ept id=\"p5\">**</ept> disabled and the <bpt id=\"p6\">**</bpt>Release<ept id=\"p6\">**</ept> configuration selected.",
      "pos": [
        4842,
        5066
      ]
    },
    {
      "content": "You could also use different profiles to deploy a service using a different storage account.",
      "pos": [
        5067,
        5159
      ]
    },
    {
      "content": "When you run the wizard for the first time, a default profile is created.",
      "pos": [
        5161,
        5234
      ]
    },
    {
      "content": "Visual Studio stores the profile in a file that has an .azurePubXml extension, which is added to your Azure project under the <bpt id=\"p1\">**</bpt>Profiles<ept id=\"p1\">**</ept> folder.",
      "pos": [
        5235,
        5381
      ]
    },
    {
      "content": "If you manually specify different choices when you run the wizard later, the file automatically updates.",
      "pos": [
        5382,
        5486
      ]
    },
    {
      "content": "Before you run the following procedure, you should have already published your cloud service at least once.",
      "pos": [
        5487,
        5594
      ]
    },
    {
      "content": "To add a profile",
      "pos": [
        5600,
        5616
      ]
    },
    {
      "pos": [
        5621,
        5695
      ],
      "content": "Open the shortcut menu for your Azure project, and then click <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Next to the <bpt id=\"p1\">**</bpt>Target profile<ept id=\"p1\">**</ept> list, click the <bpt id=\"p2\">**</bpt>Save Profile<ept id=\"p2\">**</ept> button, as the following illustration shows.",
      "pos": [
        5700,
        5808
      ]
    },
    {
      "content": "This creates a profile for you.",
      "pos": [
        5809,
        5840
      ]
    },
    {
      "content": "Create an new profile",
      "pos": [
        5848,
        5869
      ]
    },
    {
      "pos": [
        5972,
        6053
      ],
      "content": "After the profile is created, click <bpt id=\"p1\">**</bpt>&lt;Manage…&gt;<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Target profile<ept id=\"p2\">**</ept> list."
    },
    {
      "pos": [
        6060,
        6140
      ],
      "content": "The <bpt id=\"p1\">**</bpt>Manage Profiles<ept id=\"p1\">**</ept> dialog box appears, as the following illustration shows."
    },
    {
      "content": "Manage Profiles Dialog",
      "pos": [
        6148,
        6170
      ]
    },
    {
      "pos": [
        6270,
        6341
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> list, choose a profile, and then click <bpt id=\"p2\">**</bpt>Create Copy<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        6346,
        6374
      ],
      "content": "Choose the <bpt id=\"p1\">**</bpt>Close<ept id=\"p1\">**</ept> button."
    },
    {
      "content": "The new profile appears in the Target profile list.",
      "pos": [
        6381,
        6432
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Target profile<ept id=\"p1\">**</ept> list, click the profile that you just created.",
      "pos": [
        6437,
        6509
      ]
    },
    {
      "content": "The Publish Wizard settings are filled in with the choices from the profile you selected.",
      "pos": [
        6510,
        6599
      ]
    },
    {
      "content": "Click the <bpt id=\"p1\">**</bpt>Previous<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept> buttons to display each page of the Publish Wizard, and then customize the settings for this profile.",
      "pos": [
        6604,
        6741
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Publish Azure Application Wizard<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=623085)</ept> for information.",
      "pos": [
        6742,
        6846
      ]
    },
    {
      "content": "After you finish customizing the settings, click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to go back to the Settings page.",
      "pos": [
        6851,
        6941
      ]
    },
    {
      "content": "The profile is saved when you publish the service by using these settings or if you click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> next to the list of profiles.",
      "pos": [
        6942,
        7070
      ]
    },
    {
      "content": "To rename or delete a profile",
      "pos": [
        7076,
        7105
      ]
    },
    {
      "pos": [
        7110,
        7184
      ],
      "content": "Open the shortcut menu for your Azure project, and then click <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        7189,
        7238
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Target profile<ept id=\"p1\">**</ept> list, click <bpt id=\"p2\">**</bpt>Manage<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        7243,
        7351
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Manage Profiles<ept id=\"p1\">**</ept> dialog box, click the profile that you want to delete, and then click <bpt id=\"p2\">**</bpt>Remove<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        7356,
        7414
      ],
      "content": "In the confirmation dialog box that appears, click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        7419,
        7435
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Close<ept id=\"p1\">**</ept>."
    },
    {
      "content": "To change a profile",
      "pos": [
        7441,
        7460
      ]
    },
    {
      "pos": [
        7465,
        7539
      ],
      "content": "Open the shortcut menu for your Azure project, and then click <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        7544,
        7618
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Target profile<ept id=\"p1\">**</ept> list, click the profile that you want to change."
    },
    {
      "content": "Click the <bpt id=\"p1\">**</bpt>Previous<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept> buttons to display each page of the Publish Wizard, and then change the settings you want.",
      "pos": [
        7623,
        7749
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Publish Azure Application Wizard<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=623085)</ept> for information.",
      "pos": [
        7750,
        7854
      ]
    },
    {
      "pos": [
        7859,
        7950
      ],
      "content": "After you finish changing the settings, click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> to go back to the <bpt id=\"p2\">**</bpt>Settings<ept id=\"p2\">**</ept> page."
    },
    {
      "content": "(Optional) Click <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> to publish the cloud service using the new settings.",
      "pos": [
        7955,
        8036
      ]
    },
    {
      "content": "If you don’t want to publish your cloud service at this time, and you close the Publish Wizard, Visual Studio asks you if you want to save the changes to the profile.",
      "pos": [
        8037,
        8203
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        8208,
        8218
      ]
    },
    {
      "pos": [
        8220,
        8384
      ],
      "content": "To learn about configuring other parts of your Azure project from Visual Studio, see <bpt id=\"p1\">[</bpt>Configuring an Azure Project<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkID=623075)</ept>"
    },
    {
      "content": "test",
      "pos": [
        8387,
        8391
      ]
    }
  ],
  "content": "<properties \n   pageTitle=\"How to manage service configurations and profiles\"\n   description=\"Learn how to work with service configurations and profiles configuration files| which store settings for the deployment environments and publish settings for cloud services.\"\n   services=\"visual-studio-online\"\n   documentationCenter=\"na\"\n   authors=\"kempb\"\n   manager=\"douge\"\n   editor=\"tglee\" />\n<tags \n   ms.service=\"multiple\"\n   ms.devlang=\"dotnet\"\n   ms.topic=\"article\"\n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"multiple\"\n   ms.date=\"08/13/2015\"\n   ms.author=\"kempb\" />\n\n# How to manage service configurations and profiles\n\n##Overview\n\nWhen you publish a cloud service, Visual Studio stores configuration information in two kinds of configuration files: service configurations and profiles. Service configurations (.cscfg files) store settings for the deployment environments for an Azure cloud service. Azure uses these configuration files when it manages your cloud services. On the other hand, profiles (.azurePubxml files) store publish settings for cloud services. These settings are a record of what you choose when you use the publish wizard, and are used locally by Visual Studio. This topic explains how to work with both types of configuration files.\n\n## Service Configurations\n\nYou can create multiple service configurations to use for each of your deployment environments. For example, you might create a service configuration for the local environment that you use to run and test an Azure application and another service configuration for your production environment.\n\nYou can add, delete, rename, and modify these service configurations based on your requirements. You can manage these service configurations from Visual Studio, as shown in the following illustration.\n\n![Manage Service Configurations](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-service-config.png)\n\nYou can also open the **Manage Configurations** dialog box from the role’s property pages. To open the properties for a role in your Azure project, open the shortcut menu for that role, and then choose **Properties**. On the **Settings** tab, expand the **Service Configuration** list, and then click **Manage** to open the **Manage Configurations** dialog box.\n\n### To add a service configuration\n\n1. In Solution Explorer open the shortcut menu for the Azure project and then click **Manage Configurations**. \n\n    The **Manage Service Configurations** dialog box appears.\n\n1. To add a service configuration, you must create a copy of an existing configuration. To do this, choose the configuration that you want to copy from the Name list and then click **Create copy**.\n\n1. (Optional) To give the service configuration a different name, choose the new service configuration from the Name list and then click **Rename**. In the **Name** text box, type the name that you want to use for this service configuration and then click **OK**.\n\n    A new service configuration file that is named ServiceConfiguration.<New Name>.cscfg is added to the Azure project in Solution Explorer.\n\n\n### To delete a service configuration\n\n1. In Solution Explorer, open the shortcut menu for the Azure project and then click **Manage Configurations**.\n    \n    The **Manage Service Configurations** dialog box appears.\n\n1. To delete a service configuration, choose the configuration that you want to delete from the **Name** list and then click **Remove**. A dialog box appears to verify that you want to delete this configuration.\n\n1. Click **Delete**. \n \n     The service configuration file is removed from the Azure project in Solution Explorer.\n\n\n### To rename a service configuration\n\n1. In Solution Explorer, open the shortcut menu for the Azure project and then click **Manage Configurations**.\n \n    The **Manage Service Configurations** dialog box appears.\n\n1. To rename a service configuration, choose the new service configuration from the **Name** list and then click **Rename**. In the **Name** text box, type the name that you want to use for this service configuration and then click **OK**.\n\n    The name of the service configuration file is changed in the Azure project in Solution Explorer.\n\n### To change a service configuration\n\n- If you want to change a service configuration, open the shortcut menu for the specific role you want to change in the Azure project and then click Properties. See [How to: Configure the Roles for an Azure Cloud Service with Visual Studio](https://msdn.microsoft.com/library/azure/hh369931.aspx) for more information.\n\n## Make different setting combinations by using profiles\n\nBy using a profile, you can automatically fill in the **Publish Wizard** with different combinations of settings for different purposes. For example, you can have one profile for debugging and another for release builds. In that case, your **Debug** profile would have **IntelliTrace** enabled and the **Debug** configuration selected, and your **Release** profile would have **IntelliTrace** disabled and the **Release** configuration selected. You could also use different profiles to deploy a service using a different storage account.\n\nWhen you run the wizard for the first time, a default profile is created. Visual Studio stores the profile in a file that has an .azurePubXml extension, which is added to your Azure project under the **Profiles** folder. If you manually specify different choices when you run the wizard later, the file automatically updates. Before you run the following procedure, you should have already published your cloud service at least once.\n\n### To add a profile\n\n1. Open the shortcut menu for your Azure project, and then click **Publish**.\n\n1. Next to the **Target profile** list, click the **Save Profile** button, as the following illustration shows. This creates a profile for you.\n\n    ![Create an new profile](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/create-new-profile.png)\n\n1. After the profile is created, click **<Manage…>** in the **Target profile** list. \n\n    The **Manage Profiles** dialog box appears, as the following illustration shows.\n\n    ![Manage Profiles Dialog](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-profiles.png)\n\n1. In the **Name** list, choose a profile, and then click **Create Copy**.\n\n1. Choose the **Close** button.\n \n    The new profile appears in the Target profile list.\n\n1. In the **Target profile** list, click the profile that you just created. The Publish Wizard settings are filled in with the choices from the profile you selected.\n\n1. Click the **Previous** and **Next** buttons to display each page of the Publish Wizard, and then customize the settings for this profile. See [Publish Azure Application Wizard](http://go.microsoft.com/fwlink/p/?LinkID=623085) for information.\n\n1. After you finish customizing the settings, click **Next** to go back to the Settings page. The profile is saved when you publish the service by using these settings or if you click **Save** next to the list of profiles.\n\n### To rename or delete a profile\n\n1. Open the shortcut menu for your Azure project, and then click **Publish**.\n\n1. In the **Target profile** list, click **Manage**.\n\n1. In the **Manage Profiles** dialog box, click the profile that you want to delete, and then click **Remove**.\n\n1. In the confirmation dialog box that appears, click **OK**.\n\n1. Click **Close**.\n\n### To change a profile\n\n1. Open the shortcut menu for your Azure project, and then click **Publish**.\n\n1. In the **Target profile** list, click the profile that you want to change.\n\n1. Click the **Previous** and **Next** buttons to display each page of the Publish Wizard, and then change the settings you want. See [Publish Azure Application Wizard](http://go.microsoft.com/fwlink/p/?LinkID=623085) for information.\n\n1. After you finish changing the settings, click **Next** to go back to the **Settings** page.\n\n1. (Optional) Click **Publish** to publish the cloud service using the new settings. If you don’t want to publish your cloud service at this time, and you close the Publish Wizard, Visual Studio asks you if you want to save the changes to the profile.\n\n## Next steps\n\nTo learn about configuring other parts of your Azure project from Visual Studio, see [Configuring an Azure Project](http://go.microsoft.com/fwlink/p/?LinkID=623075)\n\n\ntest\n"
}