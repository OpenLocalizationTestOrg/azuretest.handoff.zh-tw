{
  "nodes": [
    {
      "content": "Add Mobile Services to an existing app (Windows Store JavaScript) | Microsoft Azure",
      "pos": [
        27,
        110
      ]
    },
    {
      "content": "Learn how to get started using Mobile Services to leverage data in your Windows Store JavaScript app.",
      "pos": [
        129,
        230
      ]
    },
    {
      "content": "Add Mobile Services to an existing app",
      "pos": [
        571,
        609
      ]
    },
    {
      "content": "Overview",
      "pos": [
        749,
        757
      ]
    },
    {
      "content": "This topic shows you how to use Azure Mobile Services to leverage data in a Windows Store app.",
      "pos": [
        758,
        852
      ]
    },
    {
      "content": "In this tutorial, you will download a Visual Studio 2013 project for an app that stores data in memory, create a new mobile service, integrate the mobile service with the app, and then sign-in to the Azure Management Portal to view changes to data made when running the app.",
      "pos": [
        853,
        1127
      ]
    },
    {
      "content": "To complete this tutorial, you need the following:",
      "pos": [
        1129,
        1179
      ]
    },
    {
      "content": "An active Azure account.",
      "pos": [
        1183,
        1207
      ]
    },
    {
      "content": "If you don't have an account, you can create a free trial account in just a couple of minutes.",
      "pos": [
        1208,
        1302
      ]
    },
    {
      "content": "For details, see <bpt id=\"p1\">[</bpt>Azure Free Trial<ept id=\"p1\">](http://azure.microsoft.com/pricing/free-trial/?WT.mc_id=A0E0E5C02&amp;amp;returnurl=http%3A%2F%2Fazure.microsoft.com%2Fen-us%2Fdocumentation%2Farticles%2Fmobile-services-windows-store-javascript-get-started-data%2F)</ept>.",
      "pos": [
        1303,
        1551
      ]
    },
    {
      "content": "Visual Studio 2013, which you will use to connect your Windows Store app project to Mobile Services.",
      "pos": [
        1554,
        1654
      ]
    },
    {
      "content": "Download the GetStartedWithData project",
      "pos": [
        1658,
        1697
      ]
    },
    {
      "content": "This tutorial is built on the [GetStartedWithMobileServices app][Developer Code Samples site], which is a Windows Store app project in Visual Studio 2013.",
      "pos": [
        1699,
        1853
      ]
    },
    {
      "content": "The UI for this app is identical to the app generated by the Mobile Services quickstart, except that added items are stored locally in memory.",
      "pos": [
        1854,
        1996
      ]
    },
    {
      "content": "Download the JavaScript version of the GetStartedWithData sample app from the [Developer Code Samples site].",
      "pos": [
        2003,
        2111
      ]
    },
    {
      "pos": [
        2116,
        2220
      ],
      "content": "In Visual Studio, open the downloaded project, expand the <bpt id=\"p1\">**</bpt>js<ept id=\"p1\">**</ept> folder and examine the default.js file."
    },
    {
      "pos": [
        2226,
        2308
      ],
      "content": "Notice that added <bpt id=\"p1\">**</bpt>TodoItem<ept id=\"p1\">**</ept> objects are stored in an in-memory <bpt id=\"p2\">**</bpt>List<ept id=\"p2\">**</ept> object."
    },
    {
      "pos": [
        2313,
        2375
      ],
      "content": "Press the <bpt id=\"p1\">**</bpt>F5<ept id=\"p1\">**</ept> key to rebuild the project and start the app."
    },
    {
      "pos": [
        2380,
        2453
      ],
      "content": "In the app, type some text in <bpt id=\"p1\">**</bpt>Insert a TodoItem<ept id=\"p1\">**</ept>, then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        2473,
        2566
      ],
      "content": "Notice that the saved text is displayed in the second column under <bpt id=\"p1\">**</bpt>Query and update data<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        2570,
        2645
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"create-service\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Create a new mobile service from Visual Studio"
    },
    {
      "content": "In Solution Explorer, expand the <bpt id=\"p1\">**</bpt>services<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>mobile services<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>&amp;lt;your_service&amp;gt;<ept id=\"p3\">**</ept> folders, open the service.js script file, and notice the new global variable, which looks like the following example:",
      "pos": [
        2791,
        3001
      ]
    },
    {
      "content": "Add a new table for data storage",
      "pos": [
        3583,
        3615
      ]
    },
    {
      "content": "Update the app to use the mobile service",
      "pos": [
        3737,
        3777
      ]
    },
    {
      "content": "Test the app against your new mobile service",
      "pos": [
        3921,
        3965
      ]
    },
    {
      "content": "In Visual Studio, press the F5 key to run the app.",
      "pos": [
        3970,
        4020
      ]
    },
    {
      "pos": [
        4025,
        4096
      ],
      "content": "As before, type text in <bpt id=\"p1\">**</bpt>Insert a TodoItem<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>."
    },
    {
      "content": "This sends a new item as an insert to the mobile service.",
      "pos": [
        4102,
        4159
      ]
    },
    {
      "pos": [
        4164,
        4254
      ],
      "content": "In the [Management Portal], click <bpt id=\"p1\">**</bpt>Mobile Services<ept id=\"p1\">**</ept>, and then click your mobile service."
    },
    {
      "pos": [
        4259,
        4305
      ],
      "content": "Click the <bpt id=\"p1\">**</bpt>Data<ept id=\"p1\">**</ept> tab, then click <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        4311,
        4509
      ],
      "content": "Notice that the <bpt id=\"p1\">**</bpt>TodoItem<ept id=\"p1\">**</ept> table now contains data, with id values generated by Mobile Services, and that columns have been automatically added to the table to match the TodoItem class in the app."
    },
    {
      "pos": [
        4514,
        4629
      ],
      "content": "In the app, check one of the items in the list, then go back to the Browse tab in the portal and click <bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        4635,
        4705
      ],
      "content": "Notice that the complete value has changed from <bpt id=\"p1\">**</bpt>false<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>true<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        4710,
        4850
      ],
      "content": "In the default.js project file, replace the existing <bpt id=\"p1\">**</bpt>RefreshTodoItems<ept id=\"p1\">**</ept> function with the following code that filters out completed items:"
    },
    {
      "pos": [
        5257,
        5350
      ],
      "content": "In the app, check another one of the items in the list and then click the <bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept> button."
    },
    {
      "content": "Notice that the checked item now disappears from the list.",
      "pos": [
        5356,
        5414
      ]
    },
    {
      "content": "Each refresh results in a round-trip to the mobile service, which now returns filtered data.",
      "pos": [
        5415,
        5507
      ]
    },
    {
      "pos": [
        5509,
        5563
      ],
      "content": "This concludes the <bpt id=\"p1\">**</bpt>Get started with data<ept id=\"p1\">**</ept> tutorial."
    },
    {
      "pos": [
        5568,
        5604
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"next-steps\"&gt;</ph> <ph id=\"ph2\">&lt;/a&gt;</ph>Next steps"
    },
    {
      "content": "This tutorial demonstrated the basics of enabling a Windows Store app to work with data in Mobile Services.",
      "pos": [
        5606,
        5713
      ]
    },
    {
      "content": "Next, consider reading up on one of these other topics:",
      "pos": [
        5715,
        5770
      ]
    },
    {
      "pos": [
        5774,
        5921
      ],
      "content": "[Add authentication to your app](mobile-services-windows-store-javascript-get-started-users.md)\n<br/>Learn how to authenticate users of your app.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "<bpt id=\"p1\">[</bpt>Add authentication to your app<ept id=\"p1\">](mobile-services-windows-store-javascript-get-started-users.md)</ept>",
          "pos": [
            0,
            95
          ]
        },
        {
          "content": "Learn how to authenticate users of your app.",
          "pos": [
            101,
            145
          ]
        }
      ]
    },
    {
      "pos": [
        5925,
        6112
      ],
      "content": "[Add push notifications  to your app](mobile-services-javascript-backend-windows-store-javascript-get-started-push.md)\n<br/>Learn how to send a very basic push notification to your app.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "<bpt id=\"p1\">[</bpt>Add push notifications  to your app<ept id=\"p1\">](mobile-services-javascript-backend-windows-store-javascript-get-started-push.md)</ept>",
          "pos": [
            0,
            118
          ]
        },
        {
          "content": "Learn how to send a very basic push notification to your app.",
          "pos": [
            124,
            185
          ]
        }
      ]
    },
    {
      "pos": [
        6116,
        6305
      ],
      "content": "[Mobile Services HTML/JavaScript How-to Conceptual Reference](mobile-services-html-how-to-use-client-library.md)\n<br/>Learn more about how to use Mobile Services with HTML and JavaScript.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "<bpt id=\"p1\">[</bpt>Mobile Services HTML/JavaScript How-to Conceptual Reference<ept id=\"p1\">](mobile-services-html-how-to-use-client-library.md)</ept>",
          "pos": [
            0,
            112
          ]
        },
        {
          "content": "Learn more about how to use Mobile Services with HTML and JavaScript.",
          "pos": [
            118,
            187
          ]
        }
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Add Mobile Services to an existing app (Windows Store JavaScript) | Microsoft Azure\"\n    description=\"Learn how to get started using Mobile Services to leverage data in your Windows Store JavaScript app.\"\n    services=\"mobile-services\"\n    documentationCenter=\"windows\"\n    authors=\"ggailey777\"\n    manager=\"dwrede\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"mobile-services\"\n    ms.workload=\"mobile\"\n    ms.tgt_pltfrm=\"mobile-windows-store\"\n    ms.devlang=\"javascript\"\n    ms.topic=\"article\"\n    ms.date=\"06/16/2015\" \n    ms.author=\"glenga\"/>\n\n\n# Add Mobile Services to an existing app\n\n[AZURE.INCLUDE [mobile-services-selector-get-started-data-legacy](../../includes/mobile-services-selector-get-started-data-legacy.md)]\n\n##Overview\nThis topic shows you how to use Azure Mobile Services to leverage data in a Windows Store app. In this tutorial, you will download a Visual Studio 2013 project for an app that stores data in memory, create a new mobile service, integrate the mobile service with the app, and then sign-in to the Azure Management Portal to view changes to data made when running the app.\n\nTo complete this tutorial, you need the following:\n\n* An active Azure account. If you don't have an account, you can create a free trial account in just a couple of minutes. For details, see [Azure Free Trial](http://azure.microsoft.com/pricing/free-trial/?WT.mc_id=A0E0E5C02&amp;returnurl=http%3A%2F%2Fazure.microsoft.com%2Fen-us%2Fdocumentation%2Farticles%2Fmobile-services-windows-store-javascript-get-started-data%2F).\n* Visual Studio 2013, which you will use to connect your Windows Store app project to Mobile Services.\n\n##Download the GetStartedWithData project\n\nThis tutorial is built on the [GetStartedWithMobileServices app][Developer Code Samples site], which is a Windows Store app project in Visual Studio 2013. The UI for this app is identical to the app generated by the Mobile Services quickstart, except that added items are stored locally in memory.  \n\n1. Download the JavaScript version of the GetStartedWithData sample app from the [Developer Code Samples site].\n\n2. In Visual Studio, open the downloaded project, expand the **js** folder and examine the default.js file.\n\n    Notice that added **TodoItem** objects are stored in an in-memory **List** object.\n\n3. Press the **F5** key to rebuild the project and start the app.\n\n4. In the app, type some text in **Insert a TodoItem**, then click **Save**.\n\n    ![][0]  \n\n    Notice that the saved text is displayed in the second column under **Query and update data**.\n\n##<a name=\"create-service\"></a>Create a new mobile service from Visual Studio\n\n[AZURE.INCLUDE [mobile-services-create-new-service-vs2013](../../includes/mobile-services-create-new-service-vs2013.md)]\n\n<ol start=\"7\">\n<li><p>In Solution Explorer, expand the **services**, **mobile services**, **&lt;your_service&gt;** folders, open the service.js script file, and notice the new global variable, which looks like the following example:</p>\n\n        <pre><code>var todolistClient = new WindowsAzure.MobileServiceClient(\n                \"https://todolist.azure-mobile.net/\",\n                \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\");</code></pre>\n\n    <p>This code provides access to your new mobile service in your app by using a global variable. The client is created by supplying the URI and the application key of the new mobile service. Because a reference to this script was was added to the default.html file, this variable is available to all script files that are also referenced from this page.</p>\n</li>\n</ol>\n\n##Add a new table for data storage\n\n[AZURE.INCLUDE [mobile-services-create-new-table-vs2013](../../includes/mobile-services-create-new-table-vs2013.md)]\n\n##Update the app to use the mobile service\n\n[AZURE.INCLUDE [mobile-services-windows-javascript-update-data-app](../../includes/mobile-services-windows-javascript-update-data-app.md)]\n\n##Test the app against your new mobile service\n\n1. In Visual Studio, press the F5 key to run the app.\n\n2. As before, type text in **Insert a TodoItem**, and then click **Save**.\n\n    This sends a new item as an insert to the mobile service.\n\n3. In the [Management Portal], click **Mobile Services**, and then click your mobile service.\n\n4. Click the **Data** tab, then click **Browse**.\n\n    Notice that the **TodoItem** table now contains data, with id values generated by Mobile Services, and that columns have been automatically added to the table to match the TodoItem class in the app.\n\n5. In the app, check one of the items in the list, then go back to the Browse tab in the portal and click **Refresh**.\n\n    Notice that the complete value has changed from **false** to **true**.\n\n6. In the default.js project file, replace the existing **RefreshTodoItems** function with the following code that filters out completed items:\n\n        var refreshTodoItems = function () {\n            // More advanced query that filters out completed items.\n            todoTable.where({ complete: false })\n               .read()\n               .done(function (results) {\n                   todoItems = new WinJS.Binding.List(results);\n                   listItems.winControl.itemDataSource = todoItems.dataSource;\n               });\n        };\n\n7. In the app, check another one of the items in the list and then click the **Refresh** button.\n\n    Notice that the checked item now disappears from the list. Each refresh results in a round-trip to the mobile service, which now returns filtered data.\n\nThis concludes the **Get started with data** tutorial.\n\n## <a name=\"next-steps\"> </a>Next steps\n\nThis tutorial demonstrated the basics of enabling a Windows Store app to work with data in Mobile Services.  Next, consider reading up on one of these other topics:\n\n* [Add authentication to your app](mobile-services-windows-store-javascript-get-started-users.md)\n  <br/>Learn how to authenticate users of your app.\n\n* [Add push notifications  to your app](mobile-services-javascript-backend-windows-store-javascript-get-started-push.md)\n  <br/>Learn how to send a very basic push notification to your app.\n\n* [Mobile Services HTML/JavaScript How-to Conceptual Reference](mobile-services-html-how-to-use-client-library.md)\n  <br/>Learn more about how to use Mobile Services with HTML and JavaScript.\n\n<!-- Anchors. -->\n\n[Get the Windows Store app]: #download-app\n[Create the mobile service]: #create-service\n[Add a data table for storage]: #add-table\n[Update the app to use Mobile Services]: #update-app\n[Test the app against Mobile Services]: #test-app\n[Next Steps]:#next-steps\n\n<!-- Images. -->\n[0]: ./media/mobile-services-windows-store-javascript-get-started-data/mobile-quickstart-startup.png\n\n[9]: ./media/mobile-services-windows-store-javascript-get-started-data-vs2013/mobile-todoitem-data-browse.png\n[10]: ./media/mobile-services-windows-store-javascript-get-started-data-vs2013/mobile-data-sample-download-js-vs12.png\n\n\n<!-- URLs. -->\n[Azure Management Portal]: https://manage.windowsazure.com/\n[Management Portal]: https://manage.windowsazure.com/\n[Mobile Services SDK]: http://go.microsoft.com/fwlink/?LinkId=257545\n[Developer Code Samples site]:  http://go.microsoft.com/fwlink/p/?LinkId=328660\n[Mobile Services HTML/JavaScript How-to Conceptual Reference]: mobile-services-html-how-to-use-client-library.md\n"
}