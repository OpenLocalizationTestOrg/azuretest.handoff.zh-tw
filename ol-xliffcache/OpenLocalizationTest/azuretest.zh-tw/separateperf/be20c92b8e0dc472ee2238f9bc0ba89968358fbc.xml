{
  "nodes": [
    {
      "content": "Introduction to ExpressRoute | Microsoft Azure",
      "pos": [
        27,
        73
      ]
    },
    {
      "content": "This page provides an overview of the ExpressRoute service, including how an ExpressRoute connection works, working with exchange providers and network service providers, and ExpressRoute public, private, and Microsoft peering.",
      "pos": [
        91,
        318
      ]
    },
    {
      "content": "ExpressRoute technical overview",
      "pos": [
        627,
        658
      ]
    },
    {
      "content": "Microsoft Azure ExpressRoute lets you create private connections between Microsoft datacenters and the infrastructure that’s on your premises or in a co-location environment.",
      "pos": [
        660,
        834
      ]
    },
    {
      "content": "With ExpressRoute, you can establish connections to Microsoft cloud services, such as Microsoft Azure and Office 365, at an ExpressRoute partner co-location facility.",
      "pos": [
        835,
        1001
      ]
    },
    {
      "content": "Or, you can directly connect from your existing WAN network by using, for example, an MPLS VPN provided by a network service provider.",
      "pos": [
        1002,
        1136
      ]
    },
    {
      "content": "ExpressRoute connections offer higher security, more reliability, faster speeds and lower latencies than typical connections over the Internet.",
      "pos": [
        1139,
        1282
      ]
    },
    {
      "content": "In some cases, using ExpressRoute connections to transfer data between your on-premises network and Azure can also yield significant cost benefits.",
      "pos": [
        1283,
        1430
      ]
    },
    {
      "content": "If you already have created a cross-premises connection from your on-premises network to Azure, you can migrate to an ExpressRoute connection while keeping your virtual network intact.",
      "pos": [
        1431,
        1615
      ]
    },
    {
      "pos": [
        1617,
        1683
      ],
      "content": "See the <bpt id=\"p1\">[</bpt>ExpressRoute FAQ<ept id=\"p1\">](expressroute-faqs.md)</ept> for more details."
    },
    {
      "content": "How does an ExpressRoute connection work?",
      "pos": [
        1688,
        1729
      ]
    },
    {
      "content": "In order to connect your WAN to Microsoft cloud services, you must order a dedicated circuit and have it enabled through a connectivity provider.",
      "pos": [
        1731,
        1876
      ]
    },
    {
      "content": "There are two connectivity provider types to choose from: direct layer 3 through an exchange provider (EXP), or layer 3 through a network service provider (NSP).",
      "pos": [
        1877,
        2038
      ]
    },
    {
      "content": "You can choose to enable one, or both types of connectivity between your WAN and the Microsoft cloud.",
      "pos": [
        2039,
        2140
      ]
    },
    {
      "content": "Exchange providers and network service providers",
      "pos": [
        2147,
        2195
      ]
    },
    {
      "content": "ExpressRoute providers are classified as Network Service Providers (NSPs) and Exchange providers (EXPs).",
      "pos": [
        2196,
        2300
      ]
    },
    {
      "content": "Exchange Provider",
      "pos": [
        2375,
        2392
      ]
    },
    {
      "content": "Network Service Provider",
      "pos": [
        2397,
        2421
      ]
    },
    {
      "content": "Typical Connectivity model",
      "pos": [
        2442,
        2468
      ]
    },
    {
      "content": "Point-to-point Ethernet links or Connectivity at a cloud exchange",
      "pos": [
        2472,
        2537
      ]
    },
    {
      "content": "Any-to-any connectivity through a telco VPN",
      "pos": [
        2540,
        2583
      ]
    },
    {
      "content": "Supported Bandwidths",
      "pos": [
        2589,
        2609
      ]
    },
    {
      "content": "200 Mbps, 500 Mbps, 1 Gbps and 10 Gbps",
      "pos": [
        2612,
        2650
      ]
    },
    {
      "content": "10 Mbps, 50 Mbps, 100 Mbps, 500 Mbps, 1 Gbps",
      "pos": [
        2651,
        2695
      ]
    },
    {
      "content": "Connectivity Providers",
      "pos": [
        2700,
        2722
      ]
    },
    {
      "content": "Exchange Providers",
      "pos": [
        2726,
        2744
      ]
    },
    {
      "content": "Network Service Providers",
      "pos": [
        2774,
        2799
      ]
    },
    {
      "content": "Routing",
      "pos": [
        2832,
        2839
      ]
    },
    {
      "content": "BGP sessions directly with customer edge routers",
      "pos": [
        2842,
        2890
      ]
    },
    {
      "content": "BGP sessions with telco",
      "pos": [
        2892,
        2915
      ]
    },
    {
      "content": "Pricing",
      "pos": [
        2920,
        2927
      ]
    },
    {
      "content": "EXP pricing",
      "pos": [
        2931,
        2942
      ]
    },
    {
      "content": "NSP pricing",
      "pos": [
        3003,
        3014
      ]
    },
    {
      "content": "Exchange providers (EXPs)",
      "pos": [
        3080,
        3105
      ]
    },
    {
      "content": "We partner with cloud exchange service providers such as Equinix and TeleCity group, and also with point-to-point connectivity service providers such as Cole and Level 3, to offer connectivity between Azure and the customer’s premises.",
      "pos": [
        3106,
        3341
      ]
    },
    {
      "content": "We offer circuit bandwidths from 200 Mbps to 10 Gbps (200 Mbps, 500 Mbps, 1 Gbps and 10 Gbps).",
      "pos": [
        3342,
        3436
      ]
    },
    {
      "content": "If you want a direct layer 3 connection through an exchange provider, you can do this one of 3 ways:",
      "pos": [
        3438,
        3538
      ]
    },
    {
      "content": "You can be co-located with the cloud exchanges such as Equinix's Cloud Exchange or TeleCity's Cloud IX in the locations we offer services in.",
      "pos": [
        3542,
        3683
      ]
    },
    {
      "content": "In such cases you will order redundant connectivity to the cloud exchange.",
      "pos": [
        3684,
        3758
      ]
    },
    {
      "content": "You can work with providers such as Level 3 to have Ethernet circuits setup between your data centers and Microsoft.",
      "pos": [
        3762,
        3878
      ]
    },
    {
      "content": "You can work with your local connectivity provider to acquire redundant connectivity to the closest exchange provider facility and connect to the cloud exchange.",
      "pos": [
        3882,
        4043
      ]
    },
    {
      "content": "We do require you to have redundant connectivity me meet the requirements for our SLA.",
      "pos": [
        4045,
        4131
      ]
    },
    {
      "content": "We do not support direct connectivity to the Microsoft edge.",
      "pos": [
        4132,
        4192
      ]
    },
    {
      "content": "Dedicated circuits will always be enabled through an Ethernet provider or the local cloud exchange.",
      "pos": [
        4193,
        4292
      ]
    },
    {
      "content": "While this sets up layer 2 connectivity between Microsoft and your network, we will not support extending the layer 2 domain.",
      "pos": [
        4293,
        4418
      ]
    },
    {
      "content": "You must setup redundant routing sessions between your edge routers and the Microsoft edge routers to have layer 3 connectivity.",
      "pos": [
        4419,
        4547
      ]
    },
    {
      "pos": [
        4549,
        4767
      ],
      "content": "For more information about configuration and to see real-world examples, you can follow this step by step guidance: <bpt id=\"p1\">[</bpt>Configure an ExpressRoute connection through an exchange provider<ept id=\"p1\">](expressroute-configuring-exps.md)</ept>."
    },
    {
      "content": "Network service providers (NSPs)",
      "pos": [
        4774,
        4806
      ]
    },
    {
      "content": "We partner with Telcos such as AT&amp;T, and British Telecom to offer connectivity between Azure and your WAN.",
      "pos": [
        4808,
        4914
      ]
    },
    {
      "content": "We offer circuit bandwidths from 10 Mbps to 1 Gbps (10 Mbps, 50 Mbps, 100 Mbps, 500 Mbps, 1 Gbps).",
      "pos": [
        4915,
        5013
      ]
    },
    {
      "content": "If you use VPN services from any of the network service providers we partner with, they can extend the networks into Azure without having to deploy any new hardware or making major configuration changes to your existing networks.",
      "pos": [
        5016,
        5245
      ]
    },
    {
      "pos": [
        5247,
        5471
      ],
      "content": "For more information about configuration and to see real-world examples, you can follow this step by step guidance: <bpt id=\"p1\">[</bpt>Configure an ExpressRoute connection through a network service provider<ept id=\"p1\">](expressroute-configuring-nsps.md)</ept>."
    },
    {
      "content": "ExpressRoute peerings",
      "pos": [
        5476,
        5497
      ]
    },
    {
      "content": "The figure below provides a logical representation of connectivity between your WAN and Microsoft.",
      "pos": [
        5498,
        5596
      ]
    },
    {
      "content": "You must order a <bpt id=\"p1\">*</bpt>dedicated circuit<ept id=\"p1\">*</ept> to connect your WAN to Microsoft through a connectivity provider (NSP / EXP).",
      "pos": [
        5597,
        5711
      ]
    },
    {
      "content": "A dedicated circuit represents a logical connection between your WAN and Microsoft through the connectivity provider.",
      "pos": [
        5712,
        5829
      ]
    },
    {
      "content": "You may order many dedicated circuits, each of them can be in the same or different regions and can be connected to your WAN through different service providers.",
      "pos": [
        5830,
        5991
      ]
    },
    {
      "content": "A dedicated circuit will have multiple routing domains associated with it – public, private, and Microsoft.",
      "pos": [
        6057,
        6164
      ]
    },
    {
      "content": "Each of the routing domains are configured identically on a pair of routers (in active-active or loadsharing configuration) for high availability.",
      "pos": [
        6165,
        6311
      ]
    },
    {
      "content": "Private peering",
      "pos": [
        6385,
        6400
      ]
    },
    {
      "content": "Azure compute services, namely virtual machines (IaaS) and cloud services (PaaS) deployed within a virtual network can be connected through the private peering domain.",
      "pos": [
        6401,
        6568
      ]
    },
    {
      "content": "The private peering domain is considered to be a trusted extension of your core network into Microsoft Azure.",
      "pos": [
        6569,
        6678
      ]
    },
    {
      "content": "You can setup bidirectional connectivity between your core network and Azure virtual networks (VNets).",
      "pos": [
        6679,
        6781
      ]
    },
    {
      "content": "This will enable you to connect to virtual machines and cloud services directly on their private IP addresses.",
      "pos": [
        6782,
        6892
      ]
    },
    {
      "content": "You can connect more than one virtual network to the private peering domain.",
      "pos": [
        6896,
        6972
      ]
    },
    {
      "content": "Review the <bpt id=\"p1\">[</bpt>FAQ page<ept id=\"p1\">](expressroute-faqs.md)</ept> for information on limits and limitations.",
      "pos": [
        6973,
        7059
      ]
    },
    {
      "content": "Public peering",
      "pos": [
        7069,
        7083
      ]
    },
    {
      "content": "Services such as Azure Storage, SQL databases and Websites are offered on public IP addresses.",
      "pos": [
        7084,
        7178
      ]
    },
    {
      "content": "You can privately connect to services hosted on public IP addresses, including VIPs of your cloud services, through the public peering routing domain.",
      "pos": [
        7179,
        7329
      ]
    },
    {
      "content": "You can connect the public peering domain to your extranet and connect to all Azure services on their public IP addresses from your WAN without having to connect through the internet.",
      "pos": [
        7330,
        7513
      ]
    },
    {
      "content": "Connectivity is always initiated from your WAN to Microsoft Azure services.",
      "pos": [
        7514,
        7589
      ]
    },
    {
      "content": "Microsoft Azure services will not be able to initiate connections into your network through this routing domain.",
      "pos": [
        7590,
        7702
      ]
    },
    {
      "content": "Once public peering is enabled, you will be able to connect to all Azure services.",
      "pos": [
        7703,
        7785
      ]
    },
    {
      "content": "We do not allow you to selectively pick services for which we advertise routes to.",
      "pos": [
        7786,
        7868
      ]
    },
    {
      "content": "You can review the list of prefixes we advertise to you through this peering at <bpt id=\"p1\">[</bpt>Microsoft Azure Datacenter IP Ranges<ept id=\"p1\">](http://www.microsoft.com/download/details.aspx?id=41653)</ept> page.",
      "pos": [
        7869,
        8050
      ]
    },
    {
      "content": "You can define custom route filters within your network to consume only the routes you need.",
      "pos": [
        8051,
        8143
      ]
    },
    {
      "pos": [
        8146,
        8275
      ],
      "content": "Review the <bpt id=\"p1\">[</bpt>FAQ page<ept id=\"p1\">](expressroute-faqs.md)</ept> for more information on services supported through the public peering routing domain."
    },
    {
      "content": "Microsoft peering",
      "pos": [
        8283,
        8300
      ]
    },
    {
      "content": "Connectivity to all other Microsoft online services (such as Office 365 services) will be through the Microsoft peering.",
      "pos": [
        8301,
        8421
      ]
    },
    {
      "content": "We enable bidirectional connectivity between your WAN and Microsoft cloud services through the Microsoft peering routing domain.",
      "pos": [
        8422,
        8550
      ]
    },
    {
      "content": "You must connect to Microsoft cloud services only over public IP addresses that are owned by you or your connectivity provider and must adhere to all the rules we define.",
      "pos": [
        8551,
        8721
      ]
    },
    {
      "content": "Review the <bpt id=\"p1\">[</bpt>ExpressRoute prerequisites<ept id=\"p1\">](expressroute-prerequisites.md)</ept> page for more information.",
      "pos": [
        8722,
        8819
      ]
    },
    {
      "content": "Review the <bpt id=\"p1\">[</bpt>FAQ page<ept id=\"p1\">](expressroute-faqs.md)</ept> for more information on services supported, costs and configuration details.",
      "pos": [
        8821,
        8941
      ]
    },
    {
      "content": "Review the <bpt id=\"p1\">[</bpt>ExpressRoute Locations<ept id=\"p1\">](expressroute-locations.md)</ept> page for information on the list of connectivity providers offering Microsoft peering support.",
      "pos": [
        8942,
        9099
      ]
    },
    {
      "content": "The table below compares the three routing domains.",
      "pos": [
        9102,
        9153
      ]
    },
    {
      "content": "Private Peering",
      "pos": [
        9159,
        9174
      ]
    },
    {
      "content": "Public Peering",
      "pos": [
        9179,
        9193
      ]
    },
    {
      "content": "Microsoft Peering",
      "pos": [
        9198,
        9215
      ]
    },
    {
      "content": "Max.",
      "pos": [
        9240,
        9244
      ]
    },
    {
      "content": "prefixes supported per peering",
      "pos": [
        9247,
        9277
      ]
    },
    {
      "content": "4000 by default, 10,000 with ExpressRoute Premium",
      "pos": [
        9280,
        9329
      ]
    },
    {
      "content": "4000 by default, 10,000 with ExpressRoute Premium",
      "pos": [
        9330,
        9379
      ]
    },
    {
      "content": "200",
      "pos": [
        9380,
        9383
      ]
    },
    {
      "content": "IP address ranges supported",
      "pos": [
        9388,
        9415
      ]
    },
    {
      "content": "Any valid IPv4 address within your WAN",
      "pos": [
        9418,
        9456
      ]
    },
    {
      "content": "Public IPv4 addresses owned by you or your connectivity provider",
      "pos": [
        9457,
        9521
      ]
    },
    {
      "content": "Public IPv4 addresses owned by you or your connectivity provider",
      "pos": [
        9522,
        9586
      ]
    },
    {
      "content": "AS Number Requirements",
      "pos": [
        9591,
        9613
      ]
    },
    {
      "content": "Private and public AS numbers .",
      "pos": [
        9616,
        9647
      ]
    },
    {
      "content": "Customer must own public AS number.",
      "pos": [
        9648,
        9683
      ]
    },
    {
      "content": "Private and public AS numbers.",
      "pos": [
        9686,
        9716
      ]
    },
    {
      "content": "Customer must own public AS number.",
      "pos": [
        9717,
        9752
      ]
    },
    {
      "content": "Public AS numbers only.",
      "pos": [
        9754,
        9777
      ]
    },
    {
      "content": "AS number must be validated against routing registries to validate ownership.",
      "pos": [
        9778,
        9855
      ]
    },
    {
      "content": "Routing Interface IP addresses",
      "pos": [
        9860,
        9890
      ]
    },
    {
      "content": "RFC1918 and public IP addresses",
      "pos": [
        9893,
        9924
      ]
    },
    {
      "content": "Public IP addresses registered to customers / NSP in routing registries.",
      "pos": [
        9925,
        9997
      ]
    },
    {
      "content": "Public IP addresses registered to customers / NSP in routing registries.",
      "pos": [
        9999,
        10071
      ]
    },
    {
      "content": "MD5 Hash support",
      "pos": [
        10076,
        10092
      ]
    },
    {
      "content": "Yes",
      "pos": [
        10096,
        10099
      ]
    },
    {
      "content": "Yes",
      "pos": [
        10100,
        10103
      ]
    },
    {
      "content": "Yes",
      "pos": [
        10104,
        10107
      ]
    },
    {
      "content": "You can choose to enable one or more of the routing domains as part of their dedicated circuit.",
      "pos": [
        10110,
        10205
      ]
    },
    {
      "content": "You can choose to have all the routing domains put on the same VPN (for NSP case) if they wish to ingest them into a single routing domain.",
      "pos": [
        10206,
        10345
      ]
    },
    {
      "content": "You can also put them on different routing domains similar to the diagram above.",
      "pos": [
        10346,
        10426
      ]
    },
    {
      "content": "The recommended configuration is that private peering is connected directly to the core network, and the public and Microsoft peering links connected to your extranet.",
      "pos": [
        10427,
        10594
      ]
    },
    {
      "content": "If you choose to have all three peering sessions, you must have three pairs of BGP sessions (one pair for each peering type).",
      "pos": [
        10597,
        10722
      ]
    },
    {
      "content": "The BGP session pairs provide a highly available link.",
      "pos": [
        10723,
        10777
      ]
    },
    {
      "content": "If you are connecting through EXPs, you will be responsible for configuring and managing routing (unless EXP offers to manage routing for you).",
      "pos": [
        10778,
        10921
      ]
    },
    {
      "content": "If you choose to connect through NSPs, you can rely on the NSP to manage routing for you.",
      "pos": [
        10922,
        11011
      ]
    },
    {
      "content": "You can learn more by reviewing the workflows for setting up ExpressRoute",
      "pos": [
        11012,
        11085
      ]
    },
    {
      "content": "Next Steps",
      "pos": [
        11091,
        11101
      ]
    },
    {
      "content": "Find a service provider.",
      "pos": [
        11105,
        11129
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>ExpressRoute Service Providers and Locations<ept id=\"p1\">](expressroute-locations.md)</ept>.",
      "pos": [
        11130,
        11208
      ]
    },
    {
      "content": "Configure your ExpressRoute connection.",
      "pos": [
        11211,
        11250
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Configure an ExpressRoute connection through a network service provider<ept id=\"p1\">](expressroute-configuring-nsps.md)</ept> or <bpt id=\"p2\">[</bpt>Configure an ExpressRoute connection through an exchange provider<ept id=\"p2\">](expressroute-configuring-exps.md)</ept> for instructions.",
      "pos": [
        11251,
        11485
      ]
    },
    {
      "content": "test",
      "pos": [
        11488,
        11492
      ]
    }
  ],
  "content": "<properties \n   pageTitle=\"Introduction to ExpressRoute | Microsoft Azure\"\n   description=\"This page provides an overview of the ExpressRoute service, including how an ExpressRoute connection works, working with exchange providers and network service providers, and ExpressRoute public, private, and Microsoft peering.\"\n   documentationCenter=\"na\"\n   services=\"expressroute\"\n   authors=\"cherylmc\"\n   manager=\"carolz\"\n   editor=\"\"/>\n<tags \n   ms.service=\"expressroute\"\n   ms.devlang=\"na\"\n   ms.topic=\"article\" \n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"infrastructure-services\" \n   ms.date=\"08/25/2015\"\n   ms.author=\"cherylmc\"/>\n\n# ExpressRoute technical overview\n\nMicrosoft Azure ExpressRoute lets you create private connections between Microsoft datacenters and the infrastructure that’s on your premises or in a co-location environment. With ExpressRoute, you can establish connections to Microsoft cloud services, such as Microsoft Azure and Office 365, at an ExpressRoute partner co-location facility. Or, you can directly connect from your existing WAN network by using, for example, an MPLS VPN provided by a network service provider.\n \nExpressRoute connections offer higher security, more reliability, faster speeds and lower latencies than typical connections over the Internet. In some cases, using ExpressRoute connections to transfer data between your on-premises network and Azure can also yield significant cost benefits. If you already have created a cross-premises connection from your on-premises network to Azure, you can migrate to an ExpressRoute connection while keeping your virtual network intact.\n\nSee the [ExpressRoute FAQ](expressroute-faqs.md) for more details.\n\n## How does an ExpressRoute connection work?\n\nIn order to connect your WAN to Microsoft cloud services, you must order a dedicated circuit and have it enabled through a connectivity provider. There are two connectivity provider types to choose from: direct layer 3 through an exchange provider (EXP), or layer 3 through a network service provider (NSP). You can choose to enable one, or both types of connectivity between your WAN and the Microsoft cloud.  \n\n## Exchange providers and network service providers\nExpressRoute providers are classified as Network Service Providers (NSPs) and Exchange providers (EXPs).\n\n![](./media/expressroute-introduction/expressroute-nsp-exp.png)\n\n\n|   |**Exchange Provider**|**Network Service Provider**|\n|---|---|---|\n|**Typical Connectivity model**| Point-to-point Ethernet links or Connectivity at a cloud exchange | Any-to-any connectivity through a telco VPN |\n|**Supported Bandwidths**|200 Mbps, 500 Mbps, 1 Gbps and 10 Gbps|10 Mbps, 50 Mbps, 100 Mbps, 500 Mbps, 1 Gbps|\n|**Connectivity Providers**|[Exchange Providers](expressroute-locations.md)|[Network Service Providers](expressroute-locations.md)|\n|**Routing**|BGP sessions directly with customer edge routers| BGP sessions with telco|\n|**Pricing**|[EXP pricing](http://azure.microsoft.com/pricing/details/expressroute/)|[NSP pricing](http://azure.microsoft.com/pricing/details/expressroute/)|\n\n### Exchange providers (EXPs)\nWe partner with cloud exchange service providers such as Equinix and TeleCity group, and also with point-to-point connectivity service providers such as Cole and Level 3, to offer connectivity between Azure and the customer’s premises. We offer circuit bandwidths from 200 Mbps to 10 Gbps (200 Mbps, 500 Mbps, 1 Gbps and 10 Gbps).\n\nIf you want a direct layer 3 connection through an exchange provider, you can do this one of 3 ways:\n\n- You can be co-located with the cloud exchanges such as Equinix's Cloud Exchange or TeleCity's Cloud IX in the locations we offer services in. In such cases you will order redundant connectivity to the cloud exchange. \n- You can work with providers such as Level 3 to have Ethernet circuits setup between your data centers and Microsoft. \n- You can work with your local connectivity provider to acquire redundant connectivity to the closest exchange provider facility and connect to the cloud exchange.\n\nWe do require you to have redundant connectivity me meet the requirements for our SLA. We do not support direct connectivity to the Microsoft edge. Dedicated circuits will always be enabled through an Ethernet provider or the local cloud exchange. While this sets up layer 2 connectivity between Microsoft and your network, we will not support extending the layer 2 domain. You must setup redundant routing sessions between your edge routers and the Microsoft edge routers to have layer 3 connectivity.\n\nFor more information about configuration and to see real-world examples, you can follow this step by step guidance: [Configure an ExpressRoute connection through an exchange provider](expressroute-configuring-exps.md).\n\n\n### Network service providers (NSPs)\n\nWe partner with Telcos such as AT&T, and British Telecom to offer connectivity between Azure and your WAN. We offer circuit bandwidths from 10 Mbps to 1 Gbps (10 Mbps, 50 Mbps, 100 Mbps, 500 Mbps, 1 Gbps). \n\nIf you use VPN services from any of the network service providers we partner with, they can extend the networks into Azure without having to deploy any new hardware or making major configuration changes to your existing networks.\n\nFor more information about configuration and to see real-world examples, you can follow this step by step guidance: [Configure an ExpressRoute connection through a network service provider](expressroute-configuring-nsps.md).\n\n## ExpressRoute peerings\nThe figure below provides a logical representation of connectivity between your WAN and Microsoft. You must order a *dedicated circuit* to connect your WAN to Microsoft through a connectivity provider (NSP / EXP). A dedicated circuit represents a logical connection between your WAN and Microsoft through the connectivity provider. You may order many dedicated circuits, each of them can be in the same or different regions and can be connected to your WAN through different service providers. \n\n![](./media/expressroute-introduction/expressroute-basic.png)\n\nA dedicated circuit will have multiple routing domains associated with it – public, private, and Microsoft. Each of the routing domains are configured identically on a pair of routers (in active-active or loadsharing configuration) for high availability. \n\n![](./media/expressroute-introduction/expressroute-peerings.png)\n\n\n### Private peering\nAzure compute services, namely virtual machines (IaaS) and cloud services (PaaS) deployed within a virtual network can be connected through the private peering domain. The private peering domain is considered to be a trusted extension of your core network into Microsoft Azure. You can setup bidirectional connectivity between your core network and Azure virtual networks (VNets). This will enable you to connect to virtual machines and cloud services directly on their private IP addresses.  \n\nYou can connect more than one virtual network to the private peering domain. Review the [FAQ page](expressroute-faqs.md) for information on limits and limitations. \n  \n\n### Public peering\nServices such as Azure Storage, SQL databases and Websites are offered on public IP addresses. You can privately connect to services hosted on public IP addresses, including VIPs of your cloud services, through the public peering routing domain. You can connect the public peering domain to your extranet and connect to all Azure services on their public IP addresses from your WAN without having to connect through the internet. Connectivity is always initiated from your WAN to Microsoft Azure services. Microsoft Azure services will not be able to initiate connections into your network through this routing domain. Once public peering is enabled, you will be able to connect to all Azure services. We do not allow you to selectively pick services for which we advertise routes to. You can review the list of prefixes we advertise to you through this peering at [Microsoft Azure Datacenter IP Ranges](http://www.microsoft.com/download/details.aspx?id=41653) page. You can define custom route filters within your network to consume only the routes you need. \n\nReview the [FAQ page](expressroute-faqs.md) for more information on services supported through the public peering routing domain. \n \n### Microsoft peering\nConnectivity to all other Microsoft online services (such as Office 365 services) will be through the Microsoft peering. We enable bidirectional connectivity between your WAN and Microsoft cloud services through the Microsoft peering routing domain. You must connect to Microsoft cloud services only over public IP addresses that are owned by you or your connectivity provider and must adhere to all the rules we define. Review the [ExpressRoute prerequisites](expressroute-prerequisites.md) page for more information.\n\nReview the [FAQ page](expressroute-faqs.md) for more information on services supported, costs and configuration details. Review the [ExpressRoute Locations](expressroute-locations.md) page for information on the list of connectivity providers offering Microsoft peering support.\n\n\nThe table below compares the three routing domains.\n\n||**Private Peering**|**Public Peering**|**Microsoft Peering**|\n|---|---|---|---|\n|**Max. # prefixes supported per peering**|4000 by default, 10,000 with ExpressRoute Premium|4000 by default, 10,000 with ExpressRoute Premium|200|\n|**IP address ranges supported**|Any valid IPv4 address within your WAN|Public IPv4 addresses owned by you or your connectivity provider|Public IPv4 addresses owned by you or your connectivity provider|\n|**AS Number Requirements**|Private and public AS numbers . Customer must own public AS number. | Private and public AS numbers. Customer must own public AS number.| Public AS numbers only. AS number must be validated against routing registries to validate ownership.|\n|**Routing Interface IP addresses**|RFC1918 and public IP addresses|Public IP addresses registered to customers / NSP in routing registries.| Public IP addresses registered to customers / NSP in routing registries.|\n|**MD5 Hash support**| Yes|Yes|Yes|\n\nYou can choose to enable one or more of the routing domains as part of their dedicated circuit. You can choose to have all the routing domains put on the same VPN (for NSP case) if they wish to ingest them into a single routing domain. You can also put them on different routing domains similar to the diagram above. The recommended configuration is that private peering is connected directly to the core network, and the public and Microsoft peering links connected to your extranet.\n \nIf you choose to have all three peering sessions, you must have three pairs of BGP sessions (one pair for each peering type). The BGP session pairs provide a highly available link. If you are connecting through EXPs, you will be responsible for configuring and managing routing (unless EXP offers to manage routing for you). If you choose to connect through NSPs, you can rely on the NSP to manage routing for you. You can learn more by reviewing the workflows for setting up ExpressRoute\n\n\n## Next Steps\n\n- Find a service provider. See [ExpressRoute Service Providers and Locations](expressroute-locations.md).\n- Configure your ExpressRoute connection. See [Configure an ExpressRoute connection through a network service provider](expressroute-configuring-nsps.md) or [Configure an ExpressRoute connection through an exchange provider](expressroute-configuring-exps.md) for instructions. \n\ntest\n"
}