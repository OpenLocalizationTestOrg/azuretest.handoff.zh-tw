{
  "nodes": [
    {
      "content": "Create a Web App in Azure App Service using the Azure SDK for Java",
      "pos": [
        28,
        94
      ]
    },
    {
      "content": "Learn how to create a Web App on Azure App Service programmatically using the Azure SDK for Java.",
      "pos": [
        114,
        211
      ]
    },
    {
      "content": "Create a Web App in Azure App Service using the Azure SDK for Java",
      "pos": [
        567,
        633
      ]
    },
    {
      "content": "<ph id=\"ph1\">\n\n##</ph> Overview\n\nThis walkthrough shows you how to create an Azure SDK for Java application that creates a Web App in [Azure App Service][], then deploy an application to it.",
      "pos": [
        716,
        888
      ]
    },
    {
      "content": "It consists of two parts:\n\n- Part 1 demonstrates how to build a Java application that creates a web app.",
      "pos": [
        889,
        993
      ]
    },
    {
      "content": "- Part 2 demonstrates how to create a simple JSP \"Hello World\" application, then use an FTP client to deploy code to App Service.",
      "pos": [
        994,
        1123
      ]
    },
    {
      "content": "Prerequisites\n\n### Software Installations\n\nThe AzureWebDemo application code in this article was written using Azure Java SDK 0.7.0, which you can install using the [Web Platform Installer][] (WebPI).",
      "pos": [
        1129,
        1329
      ]
    },
    {
      "content": "In addition, make sure to use the latest version of the [Azure Toolkit for Eclipse][].",
      "pos": [
        1330,
        1416
      ]
    },
    {
      "content": "After you install the SDK, update the dependencies in your Eclipse project by running <bpt id=\"p1\">**</bpt>Update Index<ept id=\"p1\">**</ept> in <bpt id=\"p2\">**</bpt>Maven Repositories<ept id=\"p2\">**</ept>, then re-add the latest version of each package in the <bpt id=\"p3\">**</bpt>Dependencies<ept id=\"p3\">**</ept> window.",
      "pos": [
        1417,
        1625
      ]
    },
    {
      "content": "You can verify the version of your installed software in Eclipse by clicking <bpt id=\"p1\">**</bpt>Help &gt; Installation Details<ept id=\"p1\">**</ept>; you should have at least the following versions:\n\n- Package for Microsoft Azure Libraries for Java 0.7.0.20150309\n- Eclipse IDE for Java EE Developers 4.4.2.20150219\n\n\n### Create and Configure Cloud Resources in Azure\n\nBefore you begin this procedure, you need to have an active Azure subscription and set up a default Active Directory (AD) on Azure.",
      "pos": [
        1626,
        2086
      ]
    },
    {
      "content": "Create an Active Directory (AD) in Azure\n\nIf you do not already have an Active Directory (AD) on your Azure subscription, log into the [Azure classic portal][] with your Microsoft account.",
      "pos": [
        2093,
        2281
      ]
    },
    {
      "content": "If you have multiple subscriptions, click <bpt id=\"p1\">**</bpt>Subscriptions<ept id=\"p1\">**</ept> and select the default directory for the subscription you want to use for this project.",
      "pos": [
        2282,
        2429
      ]
    },
    {
      "content": "Then click <bpt id=\"p1\">**</bpt>Apply<ept id=\"p1\">**</ept> to switch to that subscription view.",
      "pos": [
        2430,
        2487
      ]
    },
    {
      "content": "1.",
      "pos": [
        2489,
        2491
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>Active Directory<ept id=\"p1\">**</ept> from the menu at left.",
      "pos": [
        2492,
        2542
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Click New &gt; Directory &gt; Custom Create<ept id=\"p1\">**</ept>.",
      "pos": [
        2543,
        2585
      ]
    },
    {
      "content": "2.",
      "pos": [
        2587,
        2589
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Add Directory<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Create New Directory<ept id=\"p2\">**</ept>.",
      "pos": [
        2590,
        2644
      ]
    },
    {
      "content": "3.",
      "pos": [
        2646,
        2648
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept>, enter a directory name.",
      "pos": [
        2649,
        2685
      ]
    },
    {
      "content": "4.",
      "pos": [
        2687,
        2689
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Domain<ept id=\"p1\">**</ept>, enter a domain name.",
      "pos": [
        2690,
        2725
      ]
    },
    {
      "content": "This is a basic domain name that is included by default with your directory; it has the form `",
      "pos": [
        2726,
        2820
      ]
    },
    {
      "content": ".onmicrosoft.com`.",
      "pos": [
        2833,
        2851
      ]
    },
    {
      "content": "You can name it based on the directory name or another domain name that you own.",
      "pos": [
        2852,
        2932
      ]
    },
    {
      "content": "Later, you can add another domain name that your organization already uses.",
      "pos": [
        2933,
        3008
      ]
    },
    {
      "content": "5.",
      "pos": [
        3010,
        3012
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Country or region<ept id=\"p1\">**</ept>, select your locale.",
      "pos": [
        3013,
        3058
      ]
    },
    {
      "content": "For more information on AD, see [What is an Azure AD directory][]?",
      "pos": [
        3060,
        3126
      ]
    },
    {
      "content": "Create a Management Certificate for Azure\n\nThe Azure SDK for Java uses management certificates to authenticate with Azure subscriptions.",
      "pos": [
        3133,
        3269
      ]
    },
    {
      "content": "These are X.509 v3 certificates you use to authenticate a client application that uses the Service Management API to act on behalf of the subscription owner to manage subscription resources.",
      "pos": [
        3270,
        3460
      ]
    },
    {
      "content": "The code in this procedure uses a self-signed certificate to authenticate with Azure.",
      "pos": [
        3462,
        3547
      ]
    },
    {
      "content": "For this procedure, you need to create a certificate and upload it to the [Azure classic portal][] beforehand.",
      "pos": [
        3548,
        3658
      ]
    },
    {
      "content": "This involves the following steps:\n\n- Generate a PFX file representing your client certificate and save it locally.",
      "pos": [
        3659,
        3774
      ]
    },
    {
      "content": "- Generate a management certificate (CER file) from the PFX file.",
      "pos": [
        3775,
        3840
      ]
    },
    {
      "content": "- Upload the CER file to your Azure subscription.",
      "pos": [
        3841,
        3890
      ]
    },
    {
      "content": "- Convert the PFX file into JKS, because Java uses that format to authenticate using certificates.",
      "pos": [
        3891,
        3989
      ]
    },
    {
      "content": "- Write the application's authentication code, which refers to the local JKS file.",
      "pos": [
        3990,
        4072
      ]
    },
    {
      "content": "When you complete this procedure, the CER certificate will reside in your Azure subscription and the JKS certificate will reside on your local drive.",
      "pos": [
        4074,
        4223
      ]
    },
    {
      "content": "For more information on management certificates, see [Create and Upload a Management Certificate for Azure][].",
      "pos": [
        4224,
        4334
      ]
    },
    {
      "content": "Create a certificate\n\nTo create your own self-signed certificate, open a command console on your operating system and run the following commands.",
      "pos": [
        4342,
        4487
      ]
    },
    {
      "content": "<bpt id=\"p1\">&gt; **</bpt>Note:<ept id=\"p1\">**</ept>  The computer on which you run this command must have the JDK installed.",
      "pos": [
        4489,
        4573
      ]
    },
    {
      "content": "Also, the path to the keytool depends on the location in which you install the JDK.",
      "pos": [
        4574,
        4657
      ]
    },
    {
      "content": "For more information, see [Key and Certificate Management Tool (keytool)][] in the Java online docs.",
      "pos": [
        4658,
        4758
      ]
    },
    {
      "content": "To create the .pfx file:",
      "pos": [
        4760,
        4784
      ]
    },
    {
      "content": "/bin/keytool -genkey -alias",
      "pos": [
        4808,
        4835
      ]
    },
    {
      "content": "/",
      "pos": [
        4881,
        4882
      ]
    },
    {
      "content": ".pfx -storepass",
      "pos": [
        4898,
        4913
      ]
    },
    {
      "content": "<ph id=\"ph1\">\n     -validity 3650 -keyalg RSA -keysize 2048 -storetype pkcs12\n     -dname \"CN=Self Signed Certificate 20141118170652\"</ph>\n\nTo create the .cer file:",
      "pos": [
        4924,
        5070
      ]
    },
    {
      "content": "/bin/keytool -export -alias",
      "pos": [
        5094,
        5121
      ]
    },
    {
      "content": "/",
      "pos": [
        5185,
        5186
      ]
    },
    {
      "content": ".pfx",
      "pos": [
        5202,
        5206
      ]
    },
    {
      "content": "-storepass",
      "pos": [
        5212,
        5222
      ]
    },
    {
      "content": "-rfc -file",
      "pos": [
        5234,
        5244
      ]
    },
    {
      "content": "/",
      "pos": [
        5261,
        5262
      ]
    },
    {
      "content": ".cer\n\nwhere:\n\n- `",
      "pos": [
        5278,
        5295
      ]
    },
    {
      "content": "` is the path to the directory in which you installed Java.",
      "pos": [
        5313,
        5372
      ]
    },
    {
      "content": "- `",
      "pos": [
        5373,
        5376
      ]
    },
    {
      "content": "<ph id=\"ph1\">` is the keystore entry identifier (for example, `</ph>AzureRemoteAccess`).",
      "pos": [
        5389,
        5459
      ]
    },
    {
      "content": "- `",
      "pos": [
        5460,
        5463
      ]
    },
    {
      "content": "<ph id=\"ph1\">` is the path to the directory in which you want to store certificates (for example `</ph>C:/Certificates`).",
      "pos": [
        5479,
        5582
      ]
    },
    {
      "content": "- `",
      "pos": [
        5583,
        5586
      ]
    },
    {
      "content": "<ph id=\"ph1\">` is the name of the certificate file (for example `</ph>AzureWebDemoCert`).",
      "pos": [
        5602,
        5673
      ]
    },
    {
      "content": "- `",
      "pos": [
        5674,
        5677
      ]
    },
    {
      "content": "` is the password you choose to protect the certificate; it must be at least 6 characters long.",
      "pos": [
        5687,
        5782
      ]
    },
    {
      "content": "You can enter no password, although this is not recommended.",
      "pos": [
        5783,
        5843
      ]
    },
    {
      "content": "- `",
      "pos": [
        5844,
        5847
      ]
    },
    {
      "content": "` is the X.500 Distinguished Name to be associated with alias, and is used as the issuer and subject fields in the self-signed certificate.",
      "pos": [
        5854,
        5993
      ]
    },
    {
      "content": "For more information, see [Create and Upload a Management Certificate for Azure][].",
      "pos": [
        5995,
        6078
      ]
    },
    {
      "content": "Upload the certificate\n\nTo upload a self-signed certificate to Azure, go to the <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept> page in the classic portal, then click the <bpt id=\"p2\">**</bpt>Management Certificates<ept id=\"p2\">**</ept> tab.",
      "pos": [
        6086,
        6254
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Upload<ept id=\"p1\">**</ept> at the bottom of the page and navigate to the location of the CER file you created.",
      "pos": [
        6255,
        6355
      ]
    },
    {
      "content": "Convert the PFX file into JKS\n\nIn the Windows Command Prompt (running as admin), cd to the directory containing the certificates and run the following command, where `",
      "pos": [
        6363,
        6530
      ]
    },
    {
      "content": "` is the directory in which you installed Java on your computer:",
      "pos": [
        6548,
        6612
      ]
    },
    {
      "content": "/bin/keytool.exe -importkeystore",
      "pos": [
        6636,
        6668
      ]
    },
    {
      "content": "-srckeystore",
      "pos": [
        6674,
        6686
      ]
    },
    {
      "content": "/",
      "pos": [
        6703,
        6704
      ]
    },
    {
      "content": ".pfx",
      "pos": [
        6720,
        6724
      ]
    },
    {
      "content": "-destkeystore",
      "pos": [
        6730,
        6743
      ]
    },
    {
      "content": "/",
      "pos": [
        6760,
        6761
      ]
    },
    {
      "content": ".jks",
      "pos": [
        6777,
        6781
      ]
    },
    {
      "content": "-srcstoretype pkcs12 -deststoretype JKS\n\n1.",
      "pos": [
        6787,
        6830
      ]
    },
    {
      "content": "When prompted, enter the destination keystore password; this will be the password for the JKS file.",
      "pos": [
        6831,
        6930
      ]
    },
    {
      "content": "2.",
      "pos": [
        6932,
        6934
      ]
    },
    {
      "content": "When prompted, enter the source keystore password; this is the password you specified for the PFX file.",
      "pos": [
        6935,
        7038
      ]
    },
    {
      "content": "The two passwords do not have to be the same.",
      "pos": [
        7040,
        7085
      ]
    },
    {
      "content": "You can enter no password, although this is not recommended.",
      "pos": [
        7086,
        7146
      ]
    },
    {
      "content": "Build a Web App creation application\n\n### Create the Eclipse Workspace and Maven Project\n\nIn this section you create a workspace and a Maven project for the web app creation application, named AzureWebDemo.",
      "pos": [
        7152,
        7358
      ]
    },
    {
      "content": "1.",
      "pos": [
        7360,
        7362
      ]
    },
    {
      "content": "Create a new Maven project.",
      "pos": [
        7363,
        7390
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>File &gt; New &gt; Maven Project<ept id=\"p1\">**</ept>.",
      "pos": [
        7391,
        7428
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>New Maven Project<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Create a simple project<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Use default workspace location<ept id=\"p3\">**</ept>.",
      "pos": [
        7429,
        7529
      ]
    },
    {
      "content": "2.",
      "pos": [
        7531,
        7533
      ]
    },
    {
      "content": "On the second page of <bpt id=\"p1\">**</bpt>New Maven Project<ept id=\"p1\">**</ept>, specify the following:\n\n    - Group ID: `com.",
      "pos": [
        7534,
        7624
      ]
    },
    {
      "content": ".azure.webdemo`",
      "pos": [
        7634,
        7649
      ]
    },
    {
      "content": "- Artifact ID: AzureWebDemo",
      "pos": [
        7654,
        7681
      ]
    },
    {
      "content": "- Version: 0.0.1-SNAPSHOT",
      "pos": [
        7686,
        7711
      ]
    },
    {
      "content": "- Packaging: jar",
      "pos": [
        7716,
        7732
      ]
    },
    {
      "content": "- Name: AzureWebDemo\n\n    Click **Finish**.",
      "pos": [
        7737,
        7780
      ]
    },
    {
      "content": "3.",
      "pos": [
        7782,
        7784
      ]
    },
    {
      "content": "Open the new project's pom.xml file in Project Explorer.",
      "pos": [
        7785,
        7841
      ]
    },
    {
      "content": "Select the <bpt id=\"p1\">**</bpt>Dependencies<ept id=\"p1\">**</ept> tab.",
      "pos": [
        7842,
        7874
      ]
    },
    {
      "content": "As this is a new project, no packages are listed yet.",
      "pos": [
        7875,
        7928
      ]
    },
    {
      "content": "4.",
      "pos": [
        7930,
        7932
      ]
    },
    {
      "content": "Open the Maven Repositories view.",
      "pos": [
        7933,
        7966
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Click Window &gt; Show View &gt; Other &gt; Maven &gt; Maven Repositories<ept id=\"p1\">**</ept> and click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.",
      "pos": [
        7967,
        8050
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>Maven Repositories<ept id=\"p1\">**</ept> view will appear at the bottom of the IDE.",
      "pos": [
        8051,
        8120
      ]
    },
    {
      "content": "5.",
      "pos": [
        8122,
        8124
      ]
    },
    {
      "content": "Open <bpt id=\"p1\">**</bpt>Global Repositories<ept id=\"p1\">**</ept>, right-click the <bpt id=\"p2\">**</bpt>central<ept id=\"p2\">**</ept> repository, and select <bpt id=\"p3\">**</bpt>Rebuild Index<ept id=\"p3\">**</ept>.",
      "pos": [
        8125,
        8224
      ]
    },
    {
      "content": "![][1]\n    \n    This step can take several minutes depending on the speed of your connection.",
      "pos": [
        8230,
        8323
      ]
    },
    {
      "content": "When the index rebuilds, you should see the Microsoft Azure packages in the <bpt id=\"p1\">**</bpt>central<ept id=\"p1\">**</ept> Maven repository.",
      "pos": [
        8324,
        8429
      ]
    },
    {
      "content": "6.",
      "pos": [
        8431,
        8433
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Dependencies<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.",
      "pos": [
        8434,
        8469
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Enter Group ID...<ept id=\"p1\">**</ept> enter <ph id=\"ph1\">`azure-management`</ph>.",
      "pos": [
        8470,
        8520
      ]
    },
    {
      "content": "Select the packages for base management and App Service Web Apps management:\n\n        <bpt id=\"p1\">com.microsoft.azure  azure-management\n        com.microsoft.azure  azure-management-websites\n\n    &gt; **</bpt>Note:<ept id=\"p1\">**</ept> If you are updating the dependencies after a new version",
      "pos": [
        8521,
        8773
      ]
    },
    {
      "content": "&gt; release, you need to re-add each of the dependencies in this",
      "pos": [
        8778,
        8840
      ]
    },
    {
      "content": "list.",
      "pos": [
        8841,
        8846
      ]
    },
    {
      "content": "&gt; Aft<bpt id=\"p1\">er</bpt> you <ept id=\"p1\">c</ept><ph id=\"ph1\">l</ph>ick **Add** and select each dependency",
      "pos": [
        8851,
        8903
      ]
    },
    {
      "content": "it appears\n    &gt; with the new ver<bpt id=\"p1\">sio</bpt>n number in <ept id=\"p1\">th</ept><ph id=\"ph1\">e</ph> **Dependencies** list.",
      "pos": [
        8905,
        8979
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.",
      "pos": [
        8981,
        8994
      ]
    },
    {
      "content": "The Azure packages then appear in the <bpt id=\"p1\">**</bpt>Dependencies<ept id=\"p1\">**</ept> list.",
      "pos": [
        8995,
        9055
      ]
    },
    {
      "content": "Writing Java Code to Create a Web App by Calling the Azure SDK\n\nNext, write the code that calls APIs in the Azure SDK for Java to create the App Service web app.",
      "pos": [
        9062,
        9223
      ]
    },
    {
      "content": "1.",
      "pos": [
        9225,
        9227
      ]
    },
    {
      "content": "Create a Java class to contain the main entry point code.",
      "pos": [
        9228,
        9285
      ]
    },
    {
      "content": "In Project Explorer, right-click on the project node and select <bpt id=\"p1\">**</bpt>New &gt; Class<ept id=\"p1\">**</ept>.",
      "pos": [
        9286,
        9366
      ]
    },
    {
      "content": "2.",
      "pos": [
        9368,
        9370
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>New Java Class<ept id=\"p1\">**</ept>, name the class <ph id=\"ph1\">`WebCreator`</ph> and check the <bpt id=\"p2\">**</bpt>public static void main<ept id=\"p2\">**</ept> checkbox.",
      "pos": [
        9371,
        9473
      ]
    },
    {
      "content": "The selections should appear as follows:\n\n    ![][2]\n\n3.",
      "pos": [
        9474,
        9530
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.",
      "pos": [
        9531,
        9548
      ]
    },
    {
      "content": "The WebCreator.java file appears in Project Explorer.",
      "pos": [
        9549,
        9602
      ]
    },
    {
      "content": "Calling the Azure API to Create an App Service Web App\n\n\n#### Add necessary imports\n\nIn WebCreator.java, add the following imports; these imports provide access to classes in the management libraries for consuming Azure APIs:\n\n    // General imports\n    import java.net.URI;\n    import java.util.ArrayList;\n    \n    // Imports for Exceptions\n    import java.io.IOException;\n    import java.net.URISyntaxException;\n    import javax.xml.parsers.ParserConfigurationException;\n    import com.microsoft.windowsazure.exception.ServiceException;\n    import org.xml.sax.SAXException;\n    \n    // Imports for Azure App Service management configuration\n    import com.microsoft.windowsazure.Configuration;\n    import com.microsoft.windowsazure.management.configuration.ManagementConfiguration;\n    \n    // Service management imports for App Service Web Apps creation\n    import com.microsoft.windowsazure.management.websites.*;\n    import com.microsoft.windowsazure.management.websites.models.*;\n    \n    // Imports for authentication\n    import com.microsoft.windowsazure.core.utils.KeyStoreType;\n\n\n#### Define the main entry point class\n\nBecause the purpose of the AzureWebDemo application is to create an App Service Web App, name the main class for this application <ph id=\"ph1\">`WebAppCreator`</ph>.",
      "pos": [
        9609,
        10885
      ]
    },
    {
      "content": "This class provides the main entry point code that calls the Azure Service Management API to create the web app.",
      "pos": [
        10886,
        10998
      ]
    },
    {
      "content": "Add the following parameter definitions for the web app and webspace.",
      "pos": [
        11000,
        11069
      ]
    },
    {
      "content": "You will need to provide your own Azure subscription ID and certificate information.",
      "pos": [
        11070,
        11154
      ]
    },
    {
      "content": "<ph id=\"ph1\">public class WebAppCreator {\n    \n        // Parameter definitions used for authentication.\n        private static String uri = \"https://management.core.windows.net/\";\n        private static String subscriptionId = \"</ph>",
      "pos": [
        11160,
        11376
      ]
    },
    {
      "content": "\";",
      "pos": [
        11393,
        11395
      ]
    },
    {
      "content": "private static String keyStoreLocation = \"",
      "pos": [
        11404,
        11446
      ]
    },
    {
      "content": "\";",
      "pos": [
        11470,
        11472
      ]
    },
    {
      "content": "private static String keyStorePassword = \"",
      "pos": [
        11481,
        11523
      ]
    },
    {
      "content": "\";\n    \n        // Define web app parameter values.",
      "pos": [
        11545,
        11596
      ]
    },
    {
      "content": "private static String webAppName = \"WebDemoWebApp\";\n        private static String domainName = \".azurewebsites.net\";\n        private static String webSpaceName = WebSpaceNames.WESTUSWEBSPACE;\n        private static String appServicePlanName = \"WebDemoAppServicePlan\";\n\nwhere:\n\n- `",
      "pos": [
        11605,
        11885
      ]
    },
    {
      "content": "` is the Azure subscription ID in which you want to create the resource.",
      "pos": [
        11902,
        11974
      ]
    },
    {
      "content": "- `",
      "pos": [
        11975,
        11978
      ]
    },
    {
      "content": "<ph id=\"ph1\">` is the path and filename to the JKS file in your local certificate store directory. For example, `</ph>C:/Certificates/CertificateName.jks<ph id=\"ph2\">` for Linux and `</ph>C:\\Certificates\\CertificateName.jks` for Windows.",
      "pos": [
        12002,
        12203
      ]
    },
    {
      "content": "- `",
      "pos": [
        12204,
        12207
      ]
    },
    {
      "content": "` is the password you specified when you created your JKS certificate.",
      "pos": [
        12229,
        12299
      ]
    },
    {
      "content": "<ph id=\"ph1\">- `webAppName`</ph> can be any name you choose; this procedure uses the name <ph id=\"ph2\">`WebDemoWebApp`</ph>.",
      "pos": [
        12300,
        12388
      ]
    },
    {
      "content": "The full domain name is the <ph id=\"ph1\">`webAppName`</ph> with the <ph id=\"ph2\">`domainName`</ph> appended, so in this case the full domain is <ph id=\"ph3\">`webdemowebapp.azurewebsites.net`</ph>.",
      "pos": [
        12389,
        12531
      ]
    },
    {
      "content": "<ph id=\"ph1\">- `domainName`</ph> should be specified as shown above.",
      "pos": [
        12532,
        12582
      ]
    },
    {
      "content": "<ph id=\"ph1\">- `webSpaceName`</ph> should be one of the values defined in the [WebSpaceNames][] class.",
      "pos": [
        12583,
        12667
      ]
    },
    {
      "content": "<ph id=\"ph1\">- `appServicePlanName`</ph> should be specified as shown above.",
      "pos": [
        12668,
        12726
      ]
    },
    {
      "content": "<bpt id=\"p1\">&gt; **</bpt>Note:<ept id=\"p1\">**</ept> Each time you run this application, you need to change the value",
      "pos": [
        12728,
        12804
      ]
    },
    {
      "content": "&gt; <ph id=\"ph1\">of `webAppNam</ph><ph id=\"ph2\">e</ph>` a<ph id=\"ph3\">nd `appServicePlanNam</ph><ph id=\"ph4\">e</ph>` (or delete the web app on the Azu",
      "pos": [
        12806,
        12882
      ]
    },
    {
      "content": "&gt; Portal) before running the application again.",
      "pos": [
        12886,
        12933
      ]
    },
    {
      "content": "Otherwise, execution",
      "pos": [
        12934,
        12954
      ]
    },
    {
      "content": "ll \n&gt; fail because the same resource already exists on Azure.",
      "pos": [
        12957,
        13018
      ]
    },
    {
      "content": "Define the web creation method\n\nNext, define a method to create the web app.",
      "pos": [
        13026,
        13102
      ]
    },
    {
      "content": "This method, <ph id=\"ph1\">`createWebApp`</ph>, specifies the parameters of the web app and the webspace.",
      "pos": [
        13103,
        13189
      ]
    },
    {
      "content": "It also creates and configures the App Service Web Apps management client, which is defined by the [WebSiteManagementClient][] object.",
      "pos": [
        13190,
        13324
      ]
    },
    {
      "content": "The management client is key to creating Web Apps.",
      "pos": [
        13325,
        13375
      ]
    },
    {
      "content": "It provides RESTful web services that allow applications to manage web apps (performing operations such as create, update, and delete) by calling the service management API.",
      "pos": [
        13376,
        13549
      ]
    },
    {
      "content": "<ph id=\"ph1\">private static void createWebApp() throws Exception {\n\n        // Specify configuration settings for the App Service management client.\n        Configuration config = ManagementConfiguration.configure(\n            new URI(uri),\n            subscriptionId,\n            keyStoreLocation,  // Path to the JKS file\n            keyStorePassword,  // Password for the JKS file\n            KeyStoreType.jks   // Flag that you are using a JKS keystore\n        );\n\n        // Create the App Service Web Apps management client to call Azure APIs\n        // and pass it the App Service management configuration object.\n        WebSiteManagementClient webAppManagementClient = WebSiteManagementService.create(config);\n\n        // Create an App Service plan for the web app with the specified parameters.\n        WebHostingPlanCreateParameters appServicePlanParams = new WebHostingPlanCreateParameters();\n        appServicePlanParams.setName(appServicePlanName);\n        appServicePlanParams.setSKU(SkuOptions.Free);\n        webAppManagementClient.getWebHostingPlansOperations().create(webSpaceName, appServicePlanParams);\n\n        // Set webspace parameters.\n        WebSiteCreateParameters.WebSpaceDetails webSpaceDetails = new WebSiteCreateParameters.WebSpaceDetails();\n        webSpaceDetails.setGeoRegion(GeoRegionNames.WESTUS);\n        webSpaceDetails.setPlan(WebSpacePlanNames.VIRTUALDEDICATEDPLAN);\n        webSpaceDetails.setName(webSpaceName);\n\n        // Set web app parameters.\n        // Note that the server farm name takes the Azure App Service plan name.\n        WebSiteCreateParameters webAppCreateParameters = new WebSiteCreateParameters();\n        webAppCreateParameters.setName(webAppName);\n        webAppCreateParameters.setServerFarm(appServicePlanName);\n        webAppCreateParameters.setWebSpace(webSpaceDetails);\n\n        // Set usage metrics attributes.\n        WebSiteGetUsageMetricsResponse.UsageMetric usageMetric = new WebSiteGetUsageMetricsResponse.UsageMetric();\n        usageMetric.setSiteMode(WebSiteMode.Basic);\n        usageMetric.setComputeMode(WebSiteComputeMode.Shared);\n\n        // Define the web app object.\n        ArrayList</ph>",
      "pos": [
        13555,
        15708
      ]
    },
    {
      "content": "fullWebAppName = new ArrayList",
      "pos": [
        15717,
        15747
      ]
    },
    {
      "content": "();",
      "pos": [
        15755,
        15758
      ]
    },
    {
      "content": "fullWebAppName.add(webAppName + domainName);",
      "pos": [
        15767,
        15811
      ]
    },
    {
      "content": "WebSite webApp = new WebSite();",
      "pos": [
        15820,
        15851
      ]
    },
    {
      "content": "webApp.setHostNames(fullWebAppName);\n\n        // Create the web app.",
      "pos": [
        15860,
        15928
      ]
    },
    {
      "content": "WebSiteCreateResponse webAppCreateResponse = webAppManagementClient.getWebSitesOperations().create(webSpaceName, webAppCreateParameters);\n\n        // Output the HTTP status code of the response; 200 indicates the request succeeded; 4xx indicates failure.",
      "pos": [
        15937,
        16191
      ]
    },
    {
      "content": "System.out.println(\"----------\");\n        System.out.println(\"Web app created - HTTP response \" + webAppCreateResponse.getStatusCode() + \"\\n\");\n\n        // Output the name of the web app that this application created.",
      "pos": [
        16200,
        16417
      ]
    },
    {
      "content": "String shinyNewWebAppName = webAppCreateResponse.getWebSite().getName();\n        System.out.println(\"----------\\n\");\n        System.out.println(\"Name of web app created: \" + shinyNewWebAppName + \"\\n\");\n        System.out.println(\"----------\\n\");\n    }\n\nThe code will output the HTTP status of the response indicating success or failure, and if successful, will output the name of the created web app.",
      "pos": [
        16426,
        16826
      ]
    },
    {
      "content": "Define the main() method\n\nProvide the main() method code that calls createWebApp() to create the web app.",
      "pos": [
        16834,
        16939
      ]
    },
    {
      "content": "Finally, call <ph id=\"ph1\">`createWebApp`</ph> from <ph id=\"ph2\">`main`</ph>:\n\n        public static void main(String[] args)\n            throws IOException, URISyntaxException, ServiceException,\n            ParserConfigurationException, SAXException, Exception {\n\n            // Create web app\n            createWebApp();\n\n        }  // end of main()\n\n    }  // end of WebAppCreator class\n\n\n#### Run the application and verify web app creation\n\nTo verify that your application runs, click <bpt id=\"p1\">**</bpt>Run &gt; Run<ept id=\"p1\">**</ept>.",
      "pos": [
        16941,
        17409
      ]
    },
    {
      "content": "When the application completes running, you should see the following output in the Eclipse console:\n\n    ----------\n    Web app created - HTTP response 200\n    \n    ----------\n    \n    Name of web app created: WebDemoWebApp\n    \n    ----------\n\nLog into the Azure classic portal and click <bpt id=\"p1\">**</bpt>Web Apps<ept id=\"p1\">**</ept>.",
      "pos": [
        17410,
        17712
      ]
    },
    {
      "content": "The new web app should appear in the Web Apps list within a few minutes.",
      "pos": [
        17713,
        17785
      ]
    },
    {
      "content": "Deploying an Application to the Web App\n\nAfter you have run AzureWebDemo and created the new web app, log into the classic portal, click <bpt id=\"p1\">**</bpt>Web Apps<ept id=\"p1\">**</ept>, and select <bpt id=\"p2\">**</bpt>WebDemoWebApp<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Web Apps<ept id=\"p3\">**</ept> list.",
      "pos": [
        17791,
        17996
      ]
    },
    {
      "content": "In the web app's dashboard page, click <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> (or click the URL, <ph id=\"ph1\">`webdemowebapp.azurewebsites.net`</ph>) to navigate to it.",
      "pos": [
        17997,
        18119
      ]
    },
    {
      "content": "You will see a blank placeholder page, because no content has been published to the web app yet.",
      "pos": [
        18120,
        18216
      ]
    },
    {
      "content": "Next you will create a \"Hello World\" application and deploy it to the web app.",
      "pos": [
        18218,
        18296
      ]
    },
    {
      "content": "Create a JSP Hello World application\n\n#### Create the application\n\nIn order to demonstrate how to deploy an application to the web, the following procedure shows you how to create a simple \"Hello World\" Java application and upload it to the App Service Web App that your application created.",
      "pos": [
        18303,
        18594
      ]
    },
    {
      "content": "1.",
      "pos": [
        18596,
        18598
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>File &gt; New &gt; Dynamic Web Project<ept id=\"p1\">**</ept>.",
      "pos": [
        18599,
        18642
      ]
    },
    {
      "content": "Name it <ph id=\"ph1\">`JSPHello`</ph>.",
      "pos": [
        18643,
        18662
      ]
    },
    {
      "content": "You do not need to change any other settings in this dialog.",
      "pos": [
        18663,
        18723
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.",
      "pos": [
        18724,
        18741
      ]
    },
    {
      "content": "![][3]\n\n2.",
      "pos": [
        18747,
        18757
      ]
    },
    {
      "content": "In Project Explorer, expand the <bpt id=\"p1\">**</bpt>JSPHello<ept id=\"p1\">**</ept> project, right-click <bpt id=\"p2\">**</bpt>WebContent<ept id=\"p2\">**</ept>, then click <bpt id=\"p3\">**</bpt>New &gt; JSP File<ept id=\"p3\">**</ept>.",
      "pos": [
        18758,
        18870
      ]
    },
    {
      "content": "In the New JSP File dialog, name the new file <ph id=\"ph1\">`index.jsp`</ph>.",
      "pos": [
        18871,
        18929
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.",
      "pos": [
        18930,
        18945
      ]
    },
    {
      "content": "3.",
      "pos": [
        18947,
        18949
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Select JSP Template<ept id=\"p1\">**</ept> dialog, select <bpt id=\"p2\">**</bpt>New JSP File (html)<ept id=\"p2\">**</ept> and click <bpt id=\"p3\">**</bpt>Finish<ept id=\"p3\">**</ept>.",
      "pos": [
        18950,
        19041
      ]
    },
    {
      "content": "4.",
      "pos": [
        19043,
        19045
      ]
    },
    {
      "content": "In index.jsp, add the following code in the `",
      "pos": [
        19046,
        19091
      ]
    },
    {
      "content": "` tag sections:",
      "pos": [
        19110,
        19125
      ]
    },
    {
      "content": "<ph id=\"ph1\">\n\n\n####</ph> Run the Hello World application in localhost\n\nBefore you run this application, you need to configure a few properties.",
      "pos": [
        19303,
        19429
      ]
    },
    {
      "content": "1.",
      "pos": [
        19431,
        19433
      ]
    },
    {
      "content": "Right-click the <bpt id=\"p1\">**</bpt>JSPHello<ept id=\"p1\">**</ept> project and select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.",
      "pos": [
        19434,
        19497
      ]
    },
    {
      "content": "2.",
      "pos": [
        19499,
        19501
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> dialog: select <bpt id=\"p2\">**</bpt>Java Build Path<ept id=\"p2\">**</ept>, select the <bpt id=\"p3\">**</bpt>Order and Export<ept id=\"p3\">**</ept> tab, check <bpt id=\"p4\">**</bpt>JRE System Library<ept id=\"p4\">**</ept>, then click <bpt id=\"p5\">**</bpt>Up<ept id=\"p5\">**</ept> to move it to the top of the list.",
      "pos": [
        19502,
        19679
      ]
    },
    {
      "content": "![][4]\n\n3.",
      "pos": [
        19685,
        19695
      ]
    },
    {
      "content": "Also in the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> dialog: select <bpt id=\"p2\">**</bpt>Targeted Runtimes<ept id=\"p2\">**</ept> and click <bpt id=\"p3\">**</bpt>New<ept id=\"p3\">**</ept>.",
      "pos": [
        19696,
        19778
      ]
    },
    {
      "content": "4.",
      "pos": [
        19780,
        19782
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>New Server Runtime Environment<ept id=\"p1\">**</ept> dialog, select a server such as <bpt id=\"p2\">**</bpt>Apache Tomcat v7.0<ept id=\"p2\">**</ept> and click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>.",
      "pos": [
        19783,
        19899
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Tomcat Server<ept id=\"p1\">**</ept> dialog, set <bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept> to <ph id=\"ph1\">`Apache Tomcat v7.0`</ph>, and set <bpt id=\"p3\">**</bpt>Tomcat Installation Directory<ept id=\"p3\">**</ept> to the directory in which you installed the version of Tomcat server you want to use.",
      "pos": [
        19900,
        20098
      ]
    },
    {
      "content": "![][5]\n\n    Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.",
      "pos": [
        20104,
        20133
      ]
    },
    {
      "content": "5.",
      "pos": [
        20135,
        20137
      ]
    },
    {
      "content": "You then return to the <bpt id=\"p1\">**</bpt>Targeted Runtimes<ept id=\"p1\">**</ept> page of the <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> dialog.",
      "pos": [
        20138,
        20217
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>Apache Tomcat v7.0<ept id=\"p1\">**</ept>, then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.",
      "pos": [
        20218,
        20267
      ]
    },
    {
      "content": "![][6]\n\n6.",
      "pos": [
        20273,
        20283
      ]
    },
    {
      "content": "In the Eclipse <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Run<ept id=\"p2\">**</ept>.",
      "pos": [
        20284,
        20327
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Run As<ept id=\"p1\">**</ept> dialog, select <bpt id=\"p2\">**</bpt>Run on Server<ept id=\"p2\">**</ept>.",
      "pos": [
        20328,
        20379
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Run on Server<ept id=\"p1\">**</ept> dialog, select <bpt id=\"p2\">**</bpt>Tomcat v7.0 Server<ept id=\"p2\">**</ept>:\n\n    ![][7]\n\n    Click <bpt id=\"p3\">**</bpt>Finish<ept id=\"p3\">**</ept>.",
      "pos": [
        20380,
        20478
      ]
    },
    {
      "content": "7.",
      "pos": [
        20480,
        20482
      ]
    },
    {
      "content": "When the application runs, you should see the <bpt id=\"p1\">**</bpt>JSPHello<ept id=\"p1\">**</ept> page appear in a localhost window in Eclipse (<ph id=\"ph1\">`http://localhost:8080/JSPHello/`</ph>), displaying the following message:\n\n    <ph id=\"ph2\">`Hello World, the time is Tue Mar 24 23:21:10 GMT 2015`</ph><ph id=\"ph3\">\n\n\n####</ph> Export the application as a WAR\n\nExport the web project files as a web archive (WAR) file so that you can deploy it to the web app.",
      "pos": [
        20483,
        20857
      ]
    },
    {
      "content": "The following web project files reside in the WebContent folder:\n\n    META-INF\n    WEB-INF\n    index.jsp\n\n1.",
      "pos": [
        20858,
        20966
      ]
    },
    {
      "content": "Right-click the WebContent folder and select <bpt id=\"p1\">**</bpt>Export<ept id=\"p1\">**</ept>.",
      "pos": [
        20967,
        21023
      ]
    },
    {
      "content": "2.",
      "pos": [
        21025,
        21027
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Export Select<ept id=\"p1\">**</ept> dialog, click <bpt id=\"p2\">**</bpt>Web &gt; WAR<ept id=\"p2\">**</ept> file, then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>.",
      "pos": [
        21028,
        21107
      ]
    },
    {
      "content": "3.",
      "pos": [
        21109,
        21111
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>WAR Export<ept id=\"p1\">**</ept> dialog, select the src directory in the current project, and include the name of the WAR file at the end.",
      "pos": [
        21112,
        21239
      ]
    },
    {
      "content": "For example:\n\n    `",
      "pos": [
        21240,
        21259
      ]
    },
    {
      "content": "/JSPHello/src/JSPHello.war`\n\nFor more information on deploying WAR files, see <bpt id=\"p1\">[</bpt><ept id=\"p1\">Add a Java application to Azure App Service Web Apps](web-sites-java-add-app.md)</ept>.",
      "pos": [
        21273,
        21433
      ]
    },
    {
      "content": "Deploying the Hello World Application Using FTP\n\nSelect a third-party FTP client to publish the application.",
      "pos": [
        21440,
        21548
      ]
    },
    {
      "content": "This procedure describes two options: the Kudu console built into Azure; and FileZilla, a popular tool with a convenient, graphical UI.",
      "pos": [
        21549,
        21684
      ]
    },
    {
      "content": "<bpt id=\"p1\">&gt; **</bpt>Note:<ept id=\"p1\">**</ept> The Azure Plugin for Eclipse with Java 2.4 supports deployment to storage accounts and cloud services, but does not currently support deployment to web apps.",
      "pos": [
        21686,
        21855
      ]
    },
    {
      "content": "You can deploy to storage accounts and cloud services using an Azure Deployment Project as described in <bpt id=\"p1\">[</bpt><ept id=\"p1\">Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/azure/hh690944.aspx)</ept>, but not to web apps.",
      "pos": [
        21856,
        22094
      ]
    },
    {
      "content": "Use other methods such as FTP or GitHub to transfer files to your web app.",
      "pos": [
        22095,
        22169
      ]
    },
    {
      "content": "<bpt id=\"p1\">&gt; **</bpt>Note:<ept id=\"p1\">**</ept> We do not recommend using FTP from the Windows command prompt (the command-line FTP.EXE utility that ships with Windows).",
      "pos": [
        22171,
        22304
      ]
    },
    {
      "content": "FTP clients that use active FTP, such as FTP.EXE, often fail to work over firewalls.",
      "pos": [
        22305,
        22389
      ]
    },
    {
      "content": "Active FTP specifies an internal LAN-based address, to which an FTP server will likely fail to connect.",
      "pos": [
        22390,
        22493
      ]
    },
    {
      "content": "For more information on deployment to an App Service web app using FTP, see the following topics:\n\n<bpt id=\"p1\">- [</bpt><ept id=\"p1\">Deploy using an FTP utility](web-sites-deploy.md)</ept><ph id=\"ph1\">\n\n\n####</ph> Set up deployment credentials\n\nMake sure you have run the <bpt id=\"p2\">**</bpt>AzureWebDemo<ept id=\"p2\">**</ept> application to create a web app.",
      "pos": [
        22495,
        22761
      ]
    },
    {
      "content": "You will transfer files to this location.",
      "pos": [
        22762,
        22803
      ]
    },
    {
      "content": "1.",
      "pos": [
        22805,
        22807
      ]
    },
    {
      "content": "Log into the classic portal and click <bpt id=\"p1\">**</bpt>Web Apps<ept id=\"p1\">**</ept>.",
      "pos": [
        22808,
        22859
      ]
    },
    {
      "content": "Make sure <bpt id=\"p1\">**</bpt>WebDemoWebApp<ept id=\"p1\">**</ept> appears in the list of web apps, and make sure that it is running.",
      "pos": [
        22860,
        22954
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>WebDemoWebApp<ept id=\"p1\">**</ept> to open its <bpt id=\"p2\">**</bpt>Dashboard<ept id=\"p2\">**</ept> page.",
      "pos": [
        22955,
        23010
      ]
    },
    {
      "content": "2.",
      "pos": [
        23012,
        23014
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Dashboard<ept id=\"p1\">**</ept> page, under <bpt id=\"p2\">**</bpt>Quick Glance<ept id=\"p2\">**</ept>, click <bpt id=\"p3\">**</bpt>Set up your deployment credentials<ept id=\"p3\">**</ept> (if you already have deployment credentials, this reads <bpt id=\"p4\">**</bpt>Reset your deployment credentials<ept id=\"p4\">**</ept>).",
      "pos": [
        23015,
        23206
      ]
    },
    {
      "content": "Deployment credentials are associated with a Microsoft account.",
      "pos": [
        23212,
        23275
      ]
    },
    {
      "content": "You need to specify a username and password that you can use to deploy using Git and FTP.",
      "pos": [
        23276,
        23365
      ]
    },
    {
      "content": "You can use these credentials to deploy to any web app in all Azure subscriptions associated with your Microsoft account.",
      "pos": [
        23366,
        23487
      ]
    },
    {
      "content": "Provide Git and FTP deployment credentials in the dialog, and record the username and password for future use.",
      "pos": [
        23488,
        23598
      ]
    },
    {
      "content": "Get FTP connection information\n\nTo use FTP to deploy application files to the newly created web app, you need to obtain connection information.",
      "pos": [
        23606,
        23749
      ]
    },
    {
      "content": "There are two ways to obtain connection information.",
      "pos": [
        23750,
        23802
      ]
    },
    {
      "content": "One way is to visit the web app's <bpt id=\"p1\">**</bpt>Dashboard<ept id=\"p1\">**</ept> page; the other way is to download the web app's publish profile.",
      "pos": [
        23803,
        23916
      ]
    },
    {
      "content": "The publish profile is an XML file that provides information such as FTP host name and logon credentials for your web apps in Azure App Service.",
      "pos": [
        23917,
        24061
      ]
    },
    {
      "content": "You can use this username and password to deploy to any web app in all subscriptions associated with the Azure account, not only this one.",
      "pos": [
        24062,
        24200
      ]
    },
    {
      "content": "To obtain FTP connection information from the web app's blade in the [Azure Portal][]:\n\n1.",
      "pos": [
        24202,
        24292
      ]
    },
    {
      "content": "Under <bpt id=\"p1\">**</bpt>Essentials<ept id=\"p1\">**</ept>, find and copy the <bpt id=\"p2\">**</bpt>FTP hostname<ept id=\"p2\">**</ept>.",
      "pos": [
        24293,
        24350
      ]
    },
    {
      "content": "This is a URI similar to <ph id=\"ph1\">`ftp://waws-prod-bay-NNN.ftp.azurewebsites.windows.net`</ph>.",
      "pos": [
        24351,
        24432
      ]
    },
    {
      "content": "2.",
      "pos": [
        24434,
        24436
      ]
    },
    {
      "content": "Under <bpt id=\"p1\">**</bpt>Essentials<ept id=\"p1\">**</ept>, find and copy <bpt id=\"p2\">**</bpt>FTP/Deployment username<ept id=\"p2\">**</ept>.",
      "pos": [
        24437,
        24501
      ]
    },
    {
      "content": "This will have the form <bpt id=\"p1\">*</bpt>webappname\\deployment-username<ept id=\"p1\">*</ept>; for example <ph id=\"ph1\">`WebDemoWebApp\\deployer77`</ph>.",
      "pos": [
        24502,
        24599
      ]
    },
    {
      "content": "To obtain FTP connection information from the publish profile:\n\n1.",
      "pos": [
        24601,
        24667
      ]
    },
    {
      "content": "In the web app's blade, click <bpt id=\"p1\">**</bpt>Get publish profile<ept id=\"p1\">**</ept>.",
      "pos": [
        24668,
        24722
      ]
    },
    {
      "content": "This will download a .publishsettings file to your local drive.",
      "pos": [
        24723,
        24786
      ]
    },
    {
      "content": "2.",
      "pos": [
        24788,
        24790
      ]
    },
    {
      "content": "Open the .publishsettings file in an XML editor or text editor and find the `",
      "pos": [
        24791,
        24868
      ]
    },
    {
      "content": "<ph id=\"ph1\">` element containing `</ph>publishMethod=\"FTP\"`.",
      "pos": [
        24884,
        24927
      ]
    },
    {
      "content": "It should look like the following:",
      "pos": [
        24928,
        24962
      ]
    },
    {
      "content": "<ph id=\"ph1\">\n\n3.</ph> Note that the web app's <ph id=\"ph2\">`publishProfile`</ph> settings map to the FileZilla Site Manager settings as follows:\n\n<ph id=\"ph3\">- `publishUrl`</ph> is the same as <bpt id=\"p1\">**</bpt>FTP host name<ept id=\"p1\">**</ept>, the value you set in <bpt id=\"p2\">**</bpt>Host<ept id=\"p2\">**</ept>.",
      "pos": [
        25329,
        25519
      ]
    },
    {
      "content": "<ph id=\"ph1\">- `publishMethod=\"FTP\"`</ph> means that you set <bpt id=\"p1\">**</bpt>Protocol<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>FTP - File Transfer Protocol<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Encryption<ept id=\"p3\">**</ept> to <bpt id=\"p4\">**</bpt>Use plain FTP<ept id=\"p4\">**</ept>.",
      "pos": [
        25520,
        25653
      ]
    },
    {
      "content": "<ph id=\"ph1\">- `userName`</ph> and <ph id=\"ph2\">`userPWD`</ph> are keys for the actual username and password values you specified when you reset the deployment credentials.",
      "pos": [
        25654,
        25790
      ]
    },
    {
      "content": "<ph id=\"ph1\">`userName`</ph> is the same as <bpt id=\"p1\">**</bpt>Deployment / FTP user<ept id=\"p1\">**</ept>.",
      "pos": [
        25791,
        25843
      ]
    },
    {
      "content": "They map to <bpt id=\"p1\">**</bpt>User<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Password<ept id=\"p2\">**</ept> in FileZilla.",
      "pos": [
        25844,
        25895
      ]
    },
    {
      "content": "<ph id=\"ph1\">- `ftpPassiveMode=\"True\"`</ph> means that the FTP site uses passive FTP transfer; select <bpt id=\"p1\">**</bpt>Passive<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>Transfer Settings<ept id=\"p2\">**</ept> tab.",
      "pos": [
        25896,
        26025
      ]
    },
    {
      "content": "Configure the Web App to host a Java application\n\nBefore you publish the application, you need to change a few configuration settings so that the web app can host a Java application.",
      "pos": [
        26033,
        26215
      ]
    },
    {
      "content": "1.",
      "pos": [
        26217,
        26219
      ]
    },
    {
      "content": "In the classic portal, go to the web app's <bpt id=\"p1\">**</bpt>Dashboard<ept id=\"p1\">**</ept> page and click <bpt id=\"p2\">**</bpt>Configure<ept id=\"p2\">**</ept>.",
      "pos": [
        26220,
        26306
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> page, specify the following settings.",
      "pos": [
        26307,
        26365
      ]
    },
    {
      "content": "2.",
      "pos": [
        26367,
        26369
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Java version<ept id=\"p1\">**</ept> the default is <bpt id=\"p2\">**</bpt>Off<ept id=\"p2\">**</ept>; select the Java version your application targets; for example 1.7.0_51.",
      "pos": [
        26370,
        26485
      ]
    },
    {
      "content": "After you do this, also make sure that <bpt id=\"p1\">**</bpt>Web container<ept id=\"p1\">**</ept> is set to a version of Tomcat Server.",
      "pos": [
        26486,
        26580
      ]
    },
    {
      "content": "3.",
      "pos": [
        26582,
        26584
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Default Documents<ept id=\"p1\">**</ept>, add index.jsp and move it up to the top of the list.",
      "pos": [
        26585,
        26663
      ]
    },
    {
      "content": "(The default file for web apps is hostingstart.html.)\n\n4.",
      "pos": [
        26664,
        26721
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.",
      "pos": [
        26722,
        26737
      ]
    },
    {
      "content": "Publish your application using Kudu\n\nOne way to publish the application is to use the Kudu debug console built into Azure.",
      "pos": [
        26745,
        26867
      ]
    },
    {
      "content": "Kudu is known to be stable and consistent with App Service Web Apps and Tomcat Server.",
      "pos": [
        26868,
        26954
      ]
    },
    {
      "content": "You access the console for the web app by browsing to a URL of the following form:\n\n`https://",
      "pos": [
        26955,
        27048
      ]
    },
    {
      "content": ".scm.azurewebsites.net/DebugConsole`\n\n1.",
      "pos": [
        27060,
        27100
      ]
    },
    {
      "content": "For this procedure, the Kudu console is located at the following URL; browse to this location:\n\n    <ph id=\"ph1\">`https://webdemowebapp.scm.azurewebsites.net/DebugConsole`</ph><ph id=\"ph2\">\n\n2.</ph> From the top menu, select <bpt id=\"p1\">**</bpt>Debug Console &gt; CMD<ept id=\"p1\">**</ept>.",
      "pos": [
        27101,
        27314
      ]
    },
    {
      "content": "3.",
      "pos": [
        27316,
        27318
      ]
    },
    {
      "content": "In the console command line, navigate to <ph id=\"ph1\">`/site/wwwroot`</ph> (or click <ph id=\"ph2\">`site`</ph>, then <ph id=\"ph3\">`wwwroot`</ph> in the directory view at the top of the page):\n\n    <ph id=\"ph4\">`cd /site/wwwroot`</ph><ph id=\"ph5\">\n\n4.</ph> After you specify <bpt id=\"p1\">**</bpt>Java version<ept id=\"p1\">**</ept>, Tomcat server should create a webapps directory.",
      "pos": [
        27319,
        27568
      ]
    },
    {
      "content": "In the console command line, navigate to the webapps directory:\n\n    <ph id=\"ph1\">`mkdir webapps`</ph><ph id=\"ph2\">\n\n    `cd webapps`</ph><ph id=\"ph3\">\n\n5.</ph> Drag JSPHello.war from `",
      "pos": [
        27569,
        27700
      ]
    },
    {
      "content": "/JSPHello/src/<ph id=\"ph1\">` and drop it into the Kudu directory view under `</ph>/site/wwwroot/webapps`.",
      "pos": [
        27714,
        27801
      ]
    },
    {
      "content": "Do not drag it to the \"Drag here to upload and zip\" area, because Tomcat will unzip it.",
      "pos": [
        27802,
        27889
      ]
    },
    {
      "content": "![][8]\n\nAt first JSPHello.war appears in the directory area by itself:\n\n  ![][9]\n\nIn a short time (probably less than 5 minutes) Tomcat Server will unzip the WAR file into an unpacked JSPHello directory.",
      "pos": [
        27893,
        28096
      ]
    },
    {
      "content": "Click the ROOT directory to see whether index.jsp has been unzipped and copied there.",
      "pos": [
        28097,
        28182
      ]
    },
    {
      "content": "If so, navigate back to the webapps directory to see whether the unpacked JSPHello directory has been created.",
      "pos": [
        28183,
        28293
      ]
    },
    {
      "content": "If you do not see these items, wait and repeat.",
      "pos": [
        28294,
        28341
      ]
    },
    {
      "content": "![][10]\n\n\n#### Publish your application using FileZilla (optional)\n\nAnother tool you can use to publish the application is FileZilla, a popular third-party FTP client with a convenient, graphical UI.",
      "pos": [
        28345,
        28544
      ]
    },
    {
      "content": "You can download and install FileZilla from <bpt id=\"p1\">[</bpt><ept id=\"p1\">http://filezilla-project.org/](http://filezilla-project.org/)</ept> if you do not already have it.",
      "pos": [
        28545,
        28682
      ]
    },
    {
      "content": "For more information on using the client, see the <bpt id=\"p1\">[</bpt><ept id=\"p1\">FileZilla documentation](https://wiki.filezilla-project.org/Documentation)</ept> and this blog entry on <bpt id=\"p2\">[</bpt><ept id=\"p2\">FTP Clients - Part 4: FileZilla](http://blogs.msdn.com/b/robert_mcmurray/archive/2008/12/17/ftp-clients-part-4-filezilla.aspx)</ept>.",
      "pos": [
        28683,
        28960
      ]
    },
    {
      "content": "1.",
      "pos": [
        28962,
        28964
      ]
    },
    {
      "content": "In FileZilla, click <bpt id=\"p1\">**</bpt>File &gt; Site Manager<ept id=\"p1\">**</ept>.",
      "pos": [
        28965,
        29009
      ]
    },
    {
      "content": "2.",
      "pos": [
        29010,
        29012
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Site Manager<ept id=\"p1\">**</ept> dialog, click <bpt id=\"p2\">**</bpt>New Site<ept id=\"p2\">**</ept>.",
      "pos": [
        29013,
        29064
      ]
    },
    {
      "content": "A new blank FTP site will appear in <bpt id=\"p1\">**</bpt>Select Entry<ept id=\"p1\">**</ept> prompting you to provide a name.",
      "pos": [
        29065,
        29150
      ]
    },
    {
      "content": "For this procedure, name it <ph id=\"ph1\">`AzureWebDemo-FTP`</ph>.",
      "pos": [
        29151,
        29198
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> tab, specify the following settings:\n    <bpt id=\"p2\">- **</bpt>Host:<ept id=\"p2\">**</ept> Enter the <bpt id=\"p3\">**</bpt>FTP Host Name<ept id=\"p3\">**</ept> that you copied from the dashboard.",
      "pos": [
        29204,
        29339
      ]
    },
    {
      "content": "<bpt id=\"p1\">- **</bpt>Port:<ept id=\"p1\">**</ept> (Leave this blank, as this is a passive transfer and the server will determine the port to use.)\n    <bpt id=\"p2\">- **</bpt>Protocol:<ept id=\"p2\">**</ept> FTP File Transfer Protocol\n    <bpt id=\"p3\">- **</bpt>Encryption:<ept id=\"p3\">**</ept> Use plain FTP\n    <bpt id=\"p4\">- **</bpt>Logon Type:<ept id=\"p4\">**</ept> Normal\n    <bpt id=\"p5\">- **</bpt>User:<ept id=\"p5\">**</ept> Enter the Deployment / FTP user that you copied from the dashboard.",
      "pos": [
        29344,
        29648
      ]
    },
    {
      "content": "This is the full FTP username, which has the form <bpt id=\"p1\">*</bpt>webappname\\username<ept id=\"p1\">*</ept>.",
      "pos": [
        29649,
        29721
      ]
    },
    {
      "content": "<bpt id=\"p1\">- **</bpt>Password:<ept id=\"p1\">**</ept> Enter the password that you specified when you set the deployment credentials.",
      "pos": [
        29726,
        29820
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Transfer Settings<ept id=\"p1\">**</ept> tab, select <bpt id=\"p2\">**</bpt>Passive<ept id=\"p2\">**</ept>.",
      "pos": [
        29826,
        29879
      ]
    },
    {
      "content": "3.",
      "pos": [
        29881,
        29883
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Connect<ept id=\"p1\">**</ept>.",
      "pos": [
        29884,
        29902
      ]
    },
    {
      "content": "If successful, FileZilla's console will display a <ph id=\"ph1\">`Status: Connected`</ph> message and issue a <ph id=\"ph2\">`LIST`</ph> command to list the directory contents.",
      "pos": [
        29903,
        30039
      ]
    },
    {
      "content": "4.",
      "pos": [
        30041,
        30043
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Local<ept id=\"p1\">**</ept> site panel, select the source directory in which the JSPHello.war file resides; the path will be similar to the following:\n\n    `",
      "pos": [
        30044,
        30190
      ]
    },
    {
      "content": "/JSPHello/src/`\n\n5.",
      "pos": [
        30204,
        30223
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Remote<ept id=\"p1\">**</ept> site panel, select the destination folder.",
      "pos": [
        30224,
        30284
      ]
    },
    {
      "content": "You will deploy the WAR file to the <ph id=\"ph1\">`webapps`</ph> directory under the web app's root.",
      "pos": [
        30285,
        30366
      ]
    },
    {
      "content": "Navigate to <ph id=\"ph1\">`/site/wwwroot`</ph>, right-click on <ph id=\"ph2\">`wwwroot`</ph>, and select <bpt id=\"p1\">**</bpt>Create directory<ept id=\"p1\">**</ept>.",
      "pos": [
        30367,
        30454
      ]
    },
    {
      "content": "Name the directory <ph id=\"ph1\">`webapps`</ph> and enter that directory.",
      "pos": [
        30455,
        30509
      ]
    },
    {
      "content": "6.",
      "pos": [
        30511,
        30513
      ]
    },
    {
      "content": "Transfer JSPHello.war to <ph id=\"ph1\">`/site/wwwroot/webapps`</ph>.",
      "pos": [
        30514,
        30563
      ]
    },
    {
      "content": "Select JSPHello.war in the <bpt id=\"p1\">**</bpt>Local<ept id=\"p1\">**</ept> file list, right-click on it and select <bpt id=\"p2\">**</bpt>Upload<ept id=\"p2\">**</ept>.",
      "pos": [
        30564,
        30652
      ]
    },
    {
      "content": "You should see it appear in <ph id=\"ph1\">`/site/wwwroot/webapps`</ph>.",
      "pos": [
        30653,
        30705
      ]
    },
    {
      "content": "7.",
      "pos": [
        30707,
        30709
      ]
    },
    {
      "content": "After you copy JSPHello.war to the webapps directory, Tomcat Server will automatically unpack (unzip) the files in the WAR file.",
      "pos": [
        30710,
        30838
      ]
    },
    {
      "content": "Although Tomcat Server begins unpacking almost immediately, it might take a long time (possibly hours) for the files to appear in the FTP client.",
      "pos": [
        30839,
        30984
      ]
    },
    {
      "content": "Run the Hello World application on the Web App\n\n1.",
      "pos": [
        30992,
        31042
      ]
    },
    {
      "content": "After you have uploaded the WAR file and verified that Tomcat server has created an unpacked <ph id=\"ph1\">`JSPHello`</ph> directory, browse to <ph id=\"ph2\">`http://webdemowebapp.azurewebsites.net/JSPHello`</ph> to run the application.",
      "pos": [
        31043,
        31241
      ]
    },
    {
      "content": "<bpt id=\"p1\">&gt; **</bpt>Note:<ept id=\"p1\">**</ept> If you click <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept> from the classic portal, you might",
      "pos": [
        31247,
        31317
      ]
    },
    {
      "content": "get the default webpage, saying \"This Java based web application has",
      "pos": [
        31322,
        31390
      ]
    },
    {
      "content": "been successfully created.\"",
      "pos": [
        31395,
        31422
      ]
    },
    {
      "content": "You might have to refresh the webpage in",
      "pos": [
        31423,
        31463
      ]
    },
    {
      "content": "order to view the application output instead of the default webpage.",
      "pos": [
        31468,
        31536
      ]
    },
    {
      "content": "2.",
      "pos": [
        31538,
        31540
      ]
    },
    {
      "content": "When the application runs, you should see a web page with the following output:\n\n    <ph id=\"ph1\">`Hello World, the time is Tue Mar 24 23:21:10 GMT 2015`</ph><ph id=\"ph2\">\n\n\n####</ph> Clean up Azure resources\n\nThis procedure creates an App Service web app.",
      "pos": [
        31541,
        31761
      ]
    },
    {
      "content": "You will be billed for the resource as long as it exists.",
      "pos": [
        31762,
        31819
      ]
    },
    {
      "content": "Unless you plan to continue using the web app for testing or development, you should consider stopping or deleting it.",
      "pos": [
        31820,
        31938
      ]
    },
    {
      "content": "A web app that has been stopped will still incur a small charge, but you can restart it at any time.",
      "pos": [
        31939,
        32039
      ]
    },
    {
      "content": "Deleting a web app erases all data you have uploaded to it.",
      "pos": [
        32040,
        32099
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]</ph><ph id=\"ph2\">\n\n[AZURE.INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]</ph><ph id=\"ph3\">\n\n  [1]: ./media/java-create-azure-website-using-java-sdk/eclipse-maven-repositories-rebuild-index.png\n  [2]: ./media/java-create-azure-website-using-java-sdk/eclipse-new-java-class.png\n  [3]: ./media/java-create-azure-website-using-java-sdk/eclipse-new-dynamic-web-project.png\n  [4]: ./media/java-create-azure-website-using-java-sdk/eclipse-java-build-path.png\n  [5]: ./media/java-create-azure-website-using-java-sdk/eclipse-targeted-runtimes-tomcat-server.png\n  [6]: ./media/java-create-azure-website-using-java-sdk/eclipse-targeted-runtimes-properties-page.png\n  [7]: ./media/java-create-azure-website-using-java-sdk/eclipse-run-on-server.png\n  [8]: ./media/java-create-azure-website-using-java-sdk/kudu-console-drag-drop.png\n  [9]: ./media/java-create-azure-website-using-java-sdk/kudu-console-jsphello-war-1.png\n  [10]: ./media/java-create-azure-website-using-java-sdk/kudu-console-jsphello-war-2.png\n \n\n[Azure App Service]: http://go.microsoft.com/fwlink/?LinkId=529714\n[Web Platform Installer]: http://go.microsoft.com/fwlink/?LinkID=252838\n[Azure Toolkit for Eclipse]: https://msdn.microsoft.com/library/azure/hh690946.aspx\n[Azure classic portal]: https://manage.windowsazure.com\n[What is an Azure AD directory]: http://technet.microsoft.com/library/jj573650.aspx\n[Create and Upload a Management Certificate for Azure]: http://msdn.microsoft.com/library/azure/gg551722.aspx\n[Key and Certificate Management Tool (keytool)]: http://docs.oracle.com/javase/6/docs/technotes/tools/windows/keytool.html\n[WebSiteManagementClient]: http://dl.windowsazure.com/javadoc/com/microsoft/windowsazure/management/websites/WebSiteManagementClient.html\n[WebSpaceNames]: http://dl.windowsazure.com/javadoc/com/microsoft/windowsazure/management/websites/models/WebSpaceNames.html\n[Azure Portal]: https://portal.azure.com</ph>\n\ntest",
      "pos": [
        32101,
        34113
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Create a Web App in Azure App Service using the Azure SDK for Java\" \n    description=\"Learn how to create a Web App on Azure App Service programmatically using the Azure SDK for Java.\" \n    tags=\"azure-classic-portal\"\n    services=\"app-service\\web\" \n    documentationCenter=\"Java\" \n    authors=\"donntrenton\" \n    manager=\"wpickett\" \n    editor=\"jimbe\"/>\n\n<tags \n    ms.service=\"multiple\" \n    ms.workload=\"na\" \n    ms.tgt_pltfrm=\"na\" \n    ms.devlang=\"Java\" \n    ms.topic=\"article\" \n    ms.date=\"08/31/2015\" \n    ms.author=\"v-donntr\"/>\n\n\n# Create a Web App in Azure App Service using the Azure SDK for Java\n\n<!-- Azure Active Directory workflow is not yet available on the Azure Portal -->\n\n## Overview\n\nThis walkthrough shows you how to create an Azure SDK for Java application that creates a Web App in [Azure App Service][], then deploy an application to it. It consists of two parts:\n\n- Part 1 demonstrates how to build a Java application that creates a web app.\n- Part 2 demonstrates how to create a simple JSP \"Hello World\" application, then use an FTP client to deploy code to App Service.\n\n\n## Prerequisites\n\n### Software Installations\n\nThe AzureWebDemo application code in this article was written using Azure Java SDK 0.7.0, which you can install using the [Web Platform Installer][] (WebPI). In addition, make sure to use the latest version of the [Azure Toolkit for Eclipse][]. After you install the SDK, update the dependencies in your Eclipse project by running **Update Index** in **Maven Repositories**, then re-add the latest version of each package in the **Dependencies** window. You can verify the version of your installed software in Eclipse by clicking **Help > Installation Details**; you should have at least the following versions:\n\n- Package for Microsoft Azure Libraries for Java 0.7.0.20150309\n- Eclipse IDE for Java EE Developers 4.4.2.20150219\n\n\n### Create and Configure Cloud Resources in Azure\n\nBefore you begin this procedure, you need to have an active Azure subscription and set up a default Active Directory (AD) on Azure.\n\n\n### Create an Active Directory (AD) in Azure\n\nIf you do not already have an Active Directory (AD) on your Azure subscription, log into the [Azure classic portal][] with your Microsoft account. If you have multiple subscriptions, click **Subscriptions** and select the default directory for the subscription you want to use for this project. Then click **Apply** to switch to that subscription view.\n\n1. Select **Active Directory** from the menu at left. **Click New > Directory > Custom Create**.\n\n2. In **Add Directory**, select **Create New Directory**.\n\n3. In **Name**, enter a directory name.\n\n4. In **Domain**, enter a domain name. This is a basic domain name that is included by default with your directory; it has the form `<domain_name>.onmicrosoft.com`. You can name it based on the directory name or another domain name that you own. Later, you can add another domain name that your organization already uses.\n\n5. In **Country or region**, select your locale.\n\nFor more information on AD, see [What is an Azure AD directory][]?\n\n\n### Create a Management Certificate for Azure\n\nThe Azure SDK for Java uses management certificates to authenticate with Azure subscriptions. These are X.509 v3 certificates you use to authenticate a client application that uses the Service Management API to act on behalf of the subscription owner to manage subscription resources.\n\nThe code in this procedure uses a self-signed certificate to authenticate with Azure. For this procedure, you need to create a certificate and upload it to the [Azure classic portal][] beforehand. This involves the following steps:\n\n- Generate a PFX file representing your client certificate and save it locally.\n- Generate a management certificate (CER file) from the PFX file.\n- Upload the CER file to your Azure subscription.\n- Convert the PFX file into JKS, because Java uses that format to authenticate using certificates.\n- Write the application's authentication code, which refers to the local JKS file.\n\nWhen you complete this procedure, the CER certificate will reside in your Azure subscription and the JKS certificate will reside on your local drive. For more information on management certificates, see [Create and Upload a Management Certificate for Azure][].\n\n\n#### Create a certificate\n\nTo create your own self-signed certificate, open a command console on your operating system and run the following commands.\n\n> **Note:**  The computer on which you run this command must have the JDK installed. Also, the path to the keytool depends on the location in which you install the JDK. For more information, see [Key and Certificate Management Tool (keytool)][] in the Java online docs.\n\nTo create the .pfx file:\n\n    <java-install-dir>/bin/keytool -genkey -alias <keystore-id>\n     -keystore <cert-store-dir>/<cert-file-name>.pfx -storepass <password>\n     -validity 3650 -keyalg RSA -keysize 2048 -storetype pkcs12\n     -dname \"CN=Self Signed Certificate 20141118170652\"\n\nTo create the .cer file:\n\n    <java-install-dir>/bin/keytool -export -alias <keystore-id>\n     -storetype pkcs12 -keystore <cert-store-dir>/<cert-file-name>.pfx\n     -storepass <password> -rfc -file <cert-store-dir>/<cert-file-name>.cer\n\nwhere:\n\n- `<java-install-dir>` is the path to the directory in which you installed Java.\n- `<keystore-id>` is the keystore entry identifier (for example, `AzureRemoteAccess`).\n- `<cert-store-dir>` is the path to the directory in which you want to store certificates (for example `C:/Certificates`).\n- `<cert-file-name>` is the name of the certificate file (for example `AzureWebDemoCert`).\n- `<password>` is the password you choose to protect the certificate; it must be at least 6 characters long. You can enter no password, although this is not recommended.\n- `<dname>` is the X.500 Distinguished Name to be associated with alias, and is used as the issuer and subject fields in the self-signed certificate.\n\nFor more information, see [Create and Upload a Management Certificate for Azure][].\n\n\n#### Upload the certificate\n\nTo upload a self-signed certificate to Azure, go to the **Settings** page in the classic portal, then click the **Management Certificates** tab. Click **Upload** at the bottom of the page and navigate to the location of the CER file you created.\n\n\n#### Convert the PFX file into JKS\n\nIn the Windows Command Prompt (running as admin), cd to the directory containing the certificates and run the following command, where `<java-install-dir>` is the directory in which you installed Java on your computer:\n\n    <java-install-dir>/bin/keytool.exe -importkeystore\n     -srckeystore <cert-store-dir>/<cert-file-name>.pfx\n     -destkeystore <cert-store-dir>/<cert-file-name>.jks\n     -srcstoretype pkcs12 -deststoretype JKS\n\n1. When prompted, enter the destination keystore password; this will be the password for the JKS file.\n\n2. When prompted, enter the source keystore password; this is the password you specified for the PFX file.\n\nThe two passwords do not have to be the same. You can enter no password, although this is not recommended.\n\n\n## Build a Web App creation application\n\n### Create the Eclipse Workspace and Maven Project\n\nIn this section you create a workspace and a Maven project for the web app creation application, named AzureWebDemo.\n\n1. Create a new Maven project. Click **File > New > Maven Project**. In **New Maven Project**, select **Create a simple project** and **Use default workspace location**.\n\n2. On the second page of **New Maven Project**, specify the following:\n\n    - Group ID: `com.<username>.azure.webdemo`\n    - Artifact ID: AzureWebDemo\n    - Version: 0.0.1-SNAPSHOT\n    - Packaging: jar\n    - Name: AzureWebDemo\n\n    Click **Finish**.\n\n3. Open the new project's pom.xml file in Project Explorer. Select the **Dependencies** tab. As this is a new project, no packages are listed yet.\n\n4. Open the Maven Repositories view. **Click Window > Show View > Other > Maven > Maven Repositories** and click **OK**. The **Maven Repositories** view will appear at the bottom of the IDE.\n\n5. Open **Global Repositories**, right-click the **central** repository, and select **Rebuild Index**.\n\n    ![][1]\n    \n    This step can take several minutes depending on the speed of your connection. When the index rebuilds, you should see the Microsoft Azure packages in the **central** Maven repository.\n\n6. In **Dependencies**, click **Add**. In **Enter Group ID...** enter `azure-management`. Select the packages for base management and App Service Web Apps management:\n\n        com.microsoft.azure  azure-management\n        com.microsoft.azure  azure-management-websites\n\n    > **Note:** If you are updating the dependencies after a new version\n    > release, you need to re-add each of the dependencies in this list.\n    > After you click **Add** and select each dependency, it appears\n    > with the new version number in the **Dependencies** list.\n\nClick **OK**. The Azure packages then appear in the **Dependencies** list.\n\n\n### Writing Java Code to Create a Web App by Calling the Azure SDK\n\nNext, write the code that calls APIs in the Azure SDK for Java to create the App Service web app.\n\n1. Create a Java class to contain the main entry point code. In Project Explorer, right-click on the project node and select **New > Class**.\n\n2. In **New Java Class**, name the class `WebCreator` and check the **public static void main** checkbox. The selections should appear as follows:\n\n    ![][2]\n\n3. Click **Finish**. The WebCreator.java file appears in Project Explorer.\n\n\n### Calling the Azure API to Create an App Service Web App\n\n\n#### Add necessary imports\n\nIn WebCreator.java, add the following imports; these imports provide access to classes in the management libraries for consuming Azure APIs:\n\n    // General imports\n    import java.net.URI;\n    import java.util.ArrayList;\n    \n    // Imports for Exceptions\n    import java.io.IOException;\n    import java.net.URISyntaxException;\n    import javax.xml.parsers.ParserConfigurationException;\n    import com.microsoft.windowsazure.exception.ServiceException;\n    import org.xml.sax.SAXException;\n    \n    // Imports for Azure App Service management configuration\n    import com.microsoft.windowsazure.Configuration;\n    import com.microsoft.windowsazure.management.configuration.ManagementConfiguration;\n    \n    // Service management imports for App Service Web Apps creation\n    import com.microsoft.windowsazure.management.websites.*;\n    import com.microsoft.windowsazure.management.websites.models.*;\n    \n    // Imports for authentication\n    import com.microsoft.windowsazure.core.utils.KeyStoreType;\n\n\n#### Define the main entry point class\n\nBecause the purpose of the AzureWebDemo application is to create an App Service Web App, name the main class for this application `WebAppCreator`. This class provides the main entry point code that calls the Azure Service Management API to create the web app.\n\nAdd the following parameter definitions for the web app and webspace. You will need to provide your own Azure subscription ID and certificate information.\n\n    public class WebAppCreator {\n    \n        // Parameter definitions used for authentication.\n        private static String uri = \"https://management.core.windows.net/\";\n        private static String subscriptionId = \"<subscription-id>\";\n        private static String keyStoreLocation = \"<certificate-store-path>\";\n        private static String keyStorePassword = \"<certificate-password>\";\n    \n        // Define web app parameter values.\n        private static String webAppName = \"WebDemoWebApp\";\n        private static String domainName = \".azurewebsites.net\";\n        private static String webSpaceName = WebSpaceNames.WESTUSWEBSPACE;\n        private static String appServicePlanName = \"WebDemoAppServicePlan\";\n\nwhere:\n\n- `<subscription-id>` is the Azure subscription ID in which you want to create the resource.\n- `<certificate-store-path>` is the path and filename to the JKS file in your local certificate store directory. For example, `C:/Certificates/CertificateName.jks` for Linux and `C:\\Certificates\\CertificateName.jks` for Windows.\n- `<certificate-password>` is the password you specified when you created your JKS certificate.\n- `webAppName` can be any name you choose; this procedure uses the name `WebDemoWebApp`. The full domain name is the `webAppName` with the `domainName` appended, so in this case the full domain is `webdemowebapp.azurewebsites.net`.\n- `domainName` should be specified as shown above.\n- `webSpaceName` should be one of the values defined in the [WebSpaceNames][] class.\n- `appServicePlanName` should be specified as shown above.\n\n> **Note:** Each time you run this application, you need to change the value \n> of `webAppName` and `appServicePlanName` (or delete the web app on the Azure \n> Portal) before running the application again. Otherwise, execution will \n> fail because the same resource already exists on Azure.\n\n\n#### Define the web creation method\n\nNext, define a method to create the web app. This method, `createWebApp`, specifies the parameters of the web app and the webspace. It also creates and configures the App Service Web Apps management client, which is defined by the [WebSiteManagementClient][] object. The management client is key to creating Web Apps. It provides RESTful web services that allow applications to manage web apps (performing operations such as create, update, and delete) by calling the service management API.\n\n    private static void createWebApp() throws Exception {\n\n        // Specify configuration settings for the App Service management client.\n        Configuration config = ManagementConfiguration.configure(\n            new URI(uri),\n            subscriptionId,\n            keyStoreLocation,  // Path to the JKS file\n            keyStorePassword,  // Password for the JKS file\n            KeyStoreType.jks   // Flag that you are using a JKS keystore\n        );\n\n        // Create the App Service Web Apps management client to call Azure APIs\n        // and pass it the App Service management configuration object.\n        WebSiteManagementClient webAppManagementClient = WebSiteManagementService.create(config);\n\n        // Create an App Service plan for the web app with the specified parameters.\n        WebHostingPlanCreateParameters appServicePlanParams = new WebHostingPlanCreateParameters();\n        appServicePlanParams.setName(appServicePlanName);\n        appServicePlanParams.setSKU(SkuOptions.Free);\n        webAppManagementClient.getWebHostingPlansOperations().create(webSpaceName, appServicePlanParams);\n\n        // Set webspace parameters.\n        WebSiteCreateParameters.WebSpaceDetails webSpaceDetails = new WebSiteCreateParameters.WebSpaceDetails();\n        webSpaceDetails.setGeoRegion(GeoRegionNames.WESTUS);\n        webSpaceDetails.setPlan(WebSpacePlanNames.VIRTUALDEDICATEDPLAN);\n        webSpaceDetails.setName(webSpaceName);\n\n        // Set web app parameters.\n        // Note that the server farm name takes the Azure App Service plan name.\n        WebSiteCreateParameters webAppCreateParameters = new WebSiteCreateParameters();\n        webAppCreateParameters.setName(webAppName);\n        webAppCreateParameters.setServerFarm(appServicePlanName);\n        webAppCreateParameters.setWebSpace(webSpaceDetails);\n\n        // Set usage metrics attributes.\n        WebSiteGetUsageMetricsResponse.UsageMetric usageMetric = new WebSiteGetUsageMetricsResponse.UsageMetric();\n        usageMetric.setSiteMode(WebSiteMode.Basic);\n        usageMetric.setComputeMode(WebSiteComputeMode.Shared);\n\n        // Define the web app object.\n        ArrayList<String> fullWebAppName = new ArrayList<String>();\n        fullWebAppName.add(webAppName + domainName);\n        WebSite webApp = new WebSite();\n        webApp.setHostNames(fullWebAppName);\n\n        // Create the web app.\n        WebSiteCreateResponse webAppCreateResponse = webAppManagementClient.getWebSitesOperations().create(webSpaceName, webAppCreateParameters);\n\n        // Output the HTTP status code of the response; 200 indicates the request succeeded; 4xx indicates failure.\n        System.out.println(\"----------\");\n        System.out.println(\"Web app created - HTTP response \" + webAppCreateResponse.getStatusCode() + \"\\n\");\n\n        // Output the name of the web app that this application created.\n        String shinyNewWebAppName = webAppCreateResponse.getWebSite().getName();\n        System.out.println(\"----------\\n\");\n        System.out.println(\"Name of web app created: \" + shinyNewWebAppName + \"\\n\");\n        System.out.println(\"----------\\n\");\n    }\n\nThe code will output the HTTP status of the response indicating success or failure, and if successful, will output the name of the created web app.\n\n\n#### Define the main() method\n\nProvide the main() method code that calls createWebApp() to create the web app.\n\nFinally, call `createWebApp` from `main`:\n\n        public static void main(String[] args)\n            throws IOException, URISyntaxException, ServiceException,\n            ParserConfigurationException, SAXException, Exception {\n\n            // Create web app\n            createWebApp();\n\n        }  // end of main()\n\n    }  // end of WebAppCreator class\n\n\n#### Run the application and verify web app creation\n\nTo verify that your application runs, click **Run > Run**. When the application completes running, you should see the following output in the Eclipse console:\n\n    ----------\n    Web app created - HTTP response 200\n    \n    ----------\n    \n    Name of web app created: WebDemoWebApp\n    \n    ----------\n\nLog into the Azure classic portal and click **Web Apps**. The new web app should appear in the Web Apps list within a few minutes.\n\n\n## Deploying an Application to the Web App\n\nAfter you have run AzureWebDemo and created the new web app, log into the classic portal, click **Web Apps**, and select **WebDemoWebApp** in the **Web Apps** list. In the web app's dashboard page, click **Browse** (or click the URL, `webdemowebapp.azurewebsites.net`) to navigate to it. You will see a blank placeholder page, because no content has been published to the web app yet.\n\nNext you will create a \"Hello World\" application and deploy it to the web app.\n\n\n### Create a JSP Hello World application\n\n#### Create the application\n\nIn order to demonstrate how to deploy an application to the web, the following procedure shows you how to create a simple \"Hello World\" Java application and upload it to the App Service Web App that your application created.\n\n1. Click **File > New > Dynamic Web Project**. Name it `JSPHello`. You do not need to change any other settings in this dialog. Click **Finish**.\n\n    ![][3]\n\n2. In Project Explorer, expand the **JSPHello** project, right-click **WebContent**, then click **New > JSP File**. In the New JSP File dialog, name the new file `index.jsp`. Click **Next**.\n\n3. In the **Select JSP Template** dialog, select **New JSP File (html)** and click **Finish**.\n\n4. In index.jsp, add the following code in the `<head>` and `<body>` tag sections:\n\n        <head>\n          ...\n          java.util.Date date = new java.util.Date();\n        </head>\n    \n        <body>\n          Hello, the time is <%= date %> \n        </body>\n\n\n#### Run the Hello World application in localhost\n\nBefore you run this application, you need to configure a few properties.\n\n1. Right-click the **JSPHello** project and select **Properties**.\n\n2. In the **Properties** dialog: select **Java Build Path**, select the **Order and Export** tab, check **JRE System Library**, then click **Up** to move it to the top of the list.\n\n    ![][4]\n\n3. Also in the **Properties** dialog: select **Targeted Runtimes** and click **New**.\n\n4. In the **New Server Runtime Environment** dialog, select a server such as **Apache Tomcat v7.0** and click **Next**. In the **Tomcat Server** dialog, set **Name** to `Apache Tomcat v7.0`, and set **Tomcat Installation Directory** to the directory in which you installed the version of Tomcat server you want to use.\n\n    ![][5]\n\n    Click **Finish**.\n\n5. You then return to the **Targeted Runtimes** page of the **Properties** dialog. Select **Apache Tomcat v7.0**, then click **OK**.\n\n    ![][6]\n\n6. In the Eclipse **Run** menu, click **Run**. In the **Run As** dialog, select **Run on Server**. In the **Run on Server** dialog, select **Tomcat v7.0 Server**:\n\n    ![][7]\n\n    Click **Finish**.\n\n7. When the application runs, you should see the **JSPHello** page appear in a localhost window in Eclipse (`http://localhost:8080/JSPHello/`), displaying the following message:\n\n    `Hello World, the time is Tue Mar 24 23:21:10 GMT 2015`\n\n\n#### Export the application as a WAR\n\nExport the web project files as a web archive (WAR) file so that you can deploy it to the web app. The following web project files reside in the WebContent folder:\n\n    META-INF\n    WEB-INF\n    index.jsp\n\n1. Right-click the WebContent folder and select **Export**.\n\n2. In the **Export Select** dialog, click **Web > WAR** file, then click **Next**.\n\n3. In the **WAR Export** dialog, select the src directory in the current project, and include the name of the WAR file at the end. For example:\n\n    `<project-path>/JSPHello/src/JSPHello.war`\n\nFor more information on deploying WAR files, see [Add a Java application to Azure App Service Web Apps](web-sites-java-add-app.md).\n\n\n### Deploying the Hello World Application Using FTP\n\nSelect a third-party FTP client to publish the application. This procedure describes two options: the Kudu console built into Azure; and FileZilla, a popular tool with a convenient, graphical UI.\n\n> **Note:** The Azure Plugin for Eclipse with Java 2.4 supports deployment to storage accounts and cloud services, but does not currently support deployment to web apps. You can deploy to storage accounts and cloud services using an Azure Deployment Project as described in [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/azure/hh690944.aspx), but not to web apps. Use other methods such as FTP or GitHub to transfer files to your web app.\n\n> **Note:** We do not recommend using FTP from the Windows command prompt (the command-line FTP.EXE utility that ships with Windows). FTP clients that use active FTP, such as FTP.EXE, often fail to work over firewalls. Active FTP specifies an internal LAN-based address, to which an FTP server will likely fail to connect.\n\nFor more information on deployment to an App Service web app using FTP, see the following topics:\n\n- [Deploy using an FTP utility](web-sites-deploy.md)\n\n\n#### Set up deployment credentials\n\nMake sure you have run the **AzureWebDemo** application to create a web app. You will transfer files to this location.\n\n1. Log into the classic portal and click **Web Apps**. Make sure **WebDemoWebApp** appears in the list of web apps, and make sure that it is running. Click **WebDemoWebApp** to open its **Dashboard** page.\n\n2. On the **Dashboard** page, under **Quick Glance**, click **Set up your deployment credentials** (if you already have deployment credentials, this reads **Reset your deployment credentials**).\n\n    Deployment credentials are associated with a Microsoft account. You need to specify a username and password that you can use to deploy using Git and FTP. You can use these credentials to deploy to any web app in all Azure subscriptions associated with your Microsoft account. Provide Git and FTP deployment credentials in the dialog, and record the username and password for future use.\n\n\n#### Get FTP connection information\n\nTo use FTP to deploy application files to the newly created web app, you need to obtain connection information. There are two ways to obtain connection information. One way is to visit the web app's **Dashboard** page; the other way is to download the web app's publish profile. The publish profile is an XML file that provides information such as FTP host name and logon credentials for your web apps in Azure App Service. You can use this username and password to deploy to any web app in all subscriptions associated with the Azure account, not only this one.\n\nTo obtain FTP connection information from the web app's blade in the [Azure Portal][]:\n\n1. Under **Essentials**, find and copy the **FTP hostname**. This is a URI similar to `ftp://waws-prod-bay-NNN.ftp.azurewebsites.windows.net`.\n\n2. Under **Essentials**, find and copy **FTP/Deployment username**. This will have the form *webappname\\deployment-username*; for example `WebDemoWebApp\\deployer77`.\n\nTo obtain FTP connection information from the publish profile:\n\n1. In the web app's blade, click **Get publish profile**. This will download a .publishsettings file to your local drive.\n\n2. Open the .publishsettings file in an XML editor or text editor and find the `<publishProfile>` element containing `publishMethod=\"FTP\"`. It should look like the following:\n\n        <publishProfile\n            profileName=\"WebDemoWebApp - FTP\"\n            publishMethod=\"FTP\"\n            publishUrl=\"ftp://waws-prod-bay-NNN.ftp.azurewebsites.windows.net/site/wwwroot\"\n            ftpPassiveMode=\"True\"\n            userName=\"WebDemoWebApp\\$WebDemoWebApp\"\n            userPWD=\"<deployment-password>\"\n            ...\n        </publishProfile>\n\n3. Note that the web app's `publishProfile` settings map to the FileZilla Site Manager settings as follows:\n\n- `publishUrl` is the same as **FTP host name**, the value you set in **Host**.\n- `publishMethod=\"FTP\"` means that you set **Protocol** to **FTP - File Transfer Protocol**, and **Encryption** to **Use plain FTP**.\n- `userName` and `userPWD` are keys for the actual username and password values you specified when you reset the deployment credentials. `userName` is the same as **Deployment / FTP user**. They map to **User** and **Password** in FileZilla.\n- `ftpPassiveMode=\"True\"` means that the FTP site uses passive FTP transfer; select **Passive** on the **Transfer Settings** tab.\n\n\n#### Configure the Web App to host a Java application\n\nBefore you publish the application, you need to change a few configuration settings so that the web app can host a Java application.\n\n1. In the classic portal, go to the web app's **Dashboard** page and click **Configure**. On the **Configure** page, specify the following settings.\n\n2. In **Java version** the default is **Off**; select the Java version your application targets; for example 1.7.0_51. After you do this, also make sure that **Web container** is set to a version of Tomcat Server.\n\n3. In **Default Documents**, add index.jsp and move it up to the top of the list. (The default file for web apps is hostingstart.html.)\n\n4. Click **Save**.\n\n\n#### Publish your application using Kudu\n\nOne way to publish the application is to use the Kudu debug console built into Azure. Kudu is known to be stable and consistent with App Service Web Apps and Tomcat Server. You access the console for the web app by browsing to a URL of the following form:\n\n`https://<webappname>.scm.azurewebsites.net/DebugConsole`\n\n1. For this procedure, the Kudu console is located at the following URL; browse to this location:\n\n    `https://webdemowebapp.scm.azurewebsites.net/DebugConsole`\n\n2. From the top menu, select **Debug Console > CMD**.\n\n3. In the console command line, navigate to `/site/wwwroot` (or click `site`, then `wwwroot` in the directory view at the top of the page):\n\n    `cd /site/wwwroot`\n\n4. After you specify **Java version**, Tomcat server should create a webapps directory. In the console command line, navigate to the webapps directory:\n\n    `mkdir webapps`\n\n    `cd webapps`\n\n5. Drag JSPHello.war from `<project-path>/JSPHello/src/` and drop it into the Kudu directory view under `/site/wwwroot/webapps`. Do not drag it to the \"Drag here to upload and zip\" area, because Tomcat will unzip it.\n\n  ![][8]\n\nAt first JSPHello.war appears in the directory area by itself:\n\n  ![][9]\n\nIn a short time (probably less than 5 minutes) Tomcat Server will unzip the WAR file into an unpacked JSPHello directory. Click the ROOT directory to see whether index.jsp has been unzipped and copied there. If so, navigate back to the webapps directory to see whether the unpacked JSPHello directory has been created. If you do not see these items, wait and repeat.\n\n  ![][10]\n\n\n#### Publish your application using FileZilla (optional)\n\nAnother tool you can use to publish the application is FileZilla, a popular third-party FTP client with a convenient, graphical UI. You can download and install FileZilla from [http://filezilla-project.org/](http://filezilla-project.org/) if you do not already have it. For more information on using the client, see the [FileZilla documentation](https://wiki.filezilla-project.org/Documentation) and this blog entry on [FTP Clients - Part 4: FileZilla](http://blogs.msdn.com/b/robert_mcmurray/archive/2008/12/17/ftp-clients-part-4-filezilla.aspx).\n\n1. In FileZilla, click **File > Site Manager**.\n2. In the **Site Manager** dialog, click **New Site**. A new blank FTP site will appear in **Select Entry** prompting you to provide a name. For this procedure, name it `AzureWebDemo-FTP`.\n\n    On the **General** tab, specify the following settings:\n    - **Host:** Enter the **FTP Host Name** that you copied from the dashboard.\n    - **Port:** (Leave this blank, as this is a passive transfer and the server will determine the port to use.)\n    - **Protocol:** FTP File Transfer Protocol\n    - **Encryption:** Use plain FTP\n    - **Logon Type:** Normal\n    - **User:** Enter the Deployment / FTP user that you copied from the dashboard. This is the full FTP username, which has the form *webappname\\username*.\n    - **Password:** Enter the password that you specified when you set the deployment credentials.\n\n    On the **Transfer Settings** tab, select **Passive**.\n\n3. Click **Connect**. If successful, FileZilla's console will display a `Status: Connected` message and issue a `LIST` command to list the directory contents.\n\n4. In the **Local** site panel, select the source directory in which the JSPHello.war file resides; the path will be similar to the following:\n\n    `<project-path>/JSPHello/src/`\n\n5. In the **Remote** site panel, select the destination folder. You will deploy the WAR file to the `webapps` directory under the web app's root. Navigate to `/site/wwwroot`, right-click on `wwwroot`, and select **Create directory**. Name the directory `webapps` and enter that directory.\n\n6. Transfer JSPHello.war to `/site/wwwroot/webapps`. Select JSPHello.war in the **Local** file list, right-click on it and select **Upload**. You should see it appear in `/site/wwwroot/webapps`.\n\n7. After you copy JSPHello.war to the webapps directory, Tomcat Server will automatically unpack (unzip) the files in the WAR file. Although Tomcat Server begins unpacking almost immediately, it might take a long time (possibly hours) for the files to appear in the FTP client.\n\n\n#### Run the Hello World application on the Web App\n\n1. After you have uploaded the WAR file and verified that Tomcat server has created an unpacked `JSPHello` directory, browse to `http://webdemowebapp.azurewebsites.net/JSPHello` to run the application.\n\n    > **Note:** If you click **Browse** from the classic portal, you might\n    get the default webpage, saying \"This Java based web application has\n    been successfully created.\" You might have to refresh the webpage in\n    order to view the application output instead of the default webpage.\n\n2. When the application runs, you should see a web page with the following output:\n\n    `Hello World, the time is Tue Mar 24 23:21:10 GMT 2015`\n\n\n#### Clean up Azure resources\n\nThis procedure creates an App Service web app. You will be billed for the resource as long as it exists. Unless you plan to continue using the web app for testing or development, you should consider stopping or deleting it. A web app that has been stopped will still incur a small charge, but you can restart it at any time. Deleting a web app erases all data you have uploaded to it.\n\n[AZURE.INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]\n\n[AZURE.INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]\n\n  [1]: ./media/java-create-azure-website-using-java-sdk/eclipse-maven-repositories-rebuild-index.png\n  [2]: ./media/java-create-azure-website-using-java-sdk/eclipse-new-java-class.png\n  [3]: ./media/java-create-azure-website-using-java-sdk/eclipse-new-dynamic-web-project.png\n  [4]: ./media/java-create-azure-website-using-java-sdk/eclipse-java-build-path.png\n  [5]: ./media/java-create-azure-website-using-java-sdk/eclipse-targeted-runtimes-tomcat-server.png\n  [6]: ./media/java-create-azure-website-using-java-sdk/eclipse-targeted-runtimes-properties-page.png\n  [7]: ./media/java-create-azure-website-using-java-sdk/eclipse-run-on-server.png\n  [8]: ./media/java-create-azure-website-using-java-sdk/kudu-console-drag-drop.png\n  [9]: ./media/java-create-azure-website-using-java-sdk/kudu-console-jsphello-war-1.png\n  [10]: ./media/java-create-azure-website-using-java-sdk/kudu-console-jsphello-war-2.png\n \n\n[Azure App Service]: http://go.microsoft.com/fwlink/?LinkId=529714\n[Web Platform Installer]: http://go.microsoft.com/fwlink/?LinkID=252838\n[Azure Toolkit for Eclipse]: https://msdn.microsoft.com/library/azure/hh690946.aspx\n[Azure classic portal]: https://manage.windowsazure.com\n[What is an Azure AD directory]: http://technet.microsoft.com/library/jj573650.aspx\n[Create and Upload a Management Certificate for Azure]: http://msdn.microsoft.com/library/azure/gg551722.aspx\n[Key and Certificate Management Tool (keytool)]: http://docs.oracle.com/javase/6/docs/technotes/tools/windows/keytool.html\n[WebSiteManagementClient]: http://dl.windowsazure.com/javadoc/com/microsoft/windowsazure/management/websites/WebSiteManagementClient.html\n[WebSpaceNames]: http://dl.windowsazure.com/javadoc/com/microsoft/windowsazure/management/websites/models/WebSpaceNames.html\n[Azure Portal]: https://portal.azure.com\n\ntest\n"
}