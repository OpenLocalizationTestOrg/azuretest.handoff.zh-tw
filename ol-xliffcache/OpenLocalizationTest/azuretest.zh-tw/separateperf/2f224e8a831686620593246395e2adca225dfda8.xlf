<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="zh-tw">
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>SSO for On Prem IWA Apps Using KCD with Application Proxy</source>
          <target state="new">SSO for On Prem IWA Apps Using KCD with Application Proxy</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Covers how to get up and running with Azure AD Application Proxy.</source>
          <target state="new">Covers how to get up and running with Azure AD Application Proxy.</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>SSO for on-prem IWA apps using KCD with Application Proxy</source>
          <target state="new">SSO for on-prem IWA apps using KCD with Application Proxy</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>You can enable Single Sign On (SSO) to your applications using Integrated Windows Authentication (IWA) by giving Application Proxy Connectors permission in Active Directory to impersonate users and send and receive tokens on their behalf.</source>
          <target state="new">You can enable Single Sign On (SSO) to your applications using Integrated Windows Authentication (IWA) by giving Application Proxy Connectors permission in Active Directory to impersonate users and send and receive tokens on their behalf.</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.IMPORTANT]</ph> Application Proxy is a feature that is available only if you upgraded to the Premium or Basic edition of Azure Active Directory.</source>
          <target state="new"><ph id="ph1">[AZURE.IMPORTANT]</ph> Application Proxy is a feature that is available only if you upgraded to the Premium or Basic edition of Azure Active Directory.</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>For more information, see <bpt id="p1">[</bpt>Azure Active Directory editions<ept id="p1">](active-directory-editions.md)</ept>.</source>
          <target state="new">For more information, see <bpt id="p1">[</bpt>Azure Active Directory editions<ept id="p1">](active-directory-editions.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Network diagram</source>
          <target state="new">Network diagram</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>Microsoft AAD authentication flow diagram</source>
          <target state="new">Microsoft AAD authentication flow diagram</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>This diagram explains the flow when a user attempts to access an on-prem application that uses IWA.</source>
          <target state="new">This diagram explains the flow when a user attempts to access an on-prem application that uses IWA.</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>The general flow is:</source>
          <target state="new">The general flow is:</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>The user enters the URL to access the on-prem application through Application Proxy.</source>
          <target state="new">The user enters the URL to access the on-prem application through Application Proxy.</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Application Proxy redirects the request to Azure AD authentication services to preauthenticate.</source>
          <target state="new">Application Proxy redirects the request to Azure AD authentication services to preauthenticate.</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>At this point, Azure AD applies any applicable authentication and authorization policies, such as multifactor authentication.</source>
          <target state="new">At this point, Azure AD applies any applicable authentication and authorization policies, such as multifactor authentication.</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>If the user is validated, Azure AD creates a token and sends it to the user.</source>
          <target state="new">If the user is validated, Azure AD creates a token and sends it to the user.</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>The user passes the token to Application Proxy.</source>
          <target state="new">The user passes the token to Application Proxy.</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>Application Proxy validates the token and retrieves the User Principal Name (UPN) from it, and then sends the request, the UPN, and the Service Principal Name (SPN) to the Connector through a dually authenticated secure channel.</source>
          <target state="new">Application Proxy validates the token and retrieves the User Principal Name (UPN) from it, and then sends the request, the UPN, and the Service Principal Name (SPN) to the Connector through a dually authenticated secure channel.</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>The Connector performs Kerberos Constrained Delegation (KCD) negotiation with the on-prem AD, impersonating the user to get a Kerberos token to the application.</source>
          <target state="new">The Connector performs Kerberos Constrained Delegation (KCD) negotiation with the on-prem AD, impersonating the user to get a Kerberos token to the application.</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Active Directory sends the Kerberos token for the application to the Connector.</source>
          <target state="new">Active Directory sends the Kerberos token for the application to the Connector.</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>The Connector sends the original request to the application server, using the Kerberos token it received from AD.</source>
          <target state="new">The Connector sends the original request to the application server, using the Kerberos token it received from AD.</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>The application sends the response to the Connector which is then returned to the Application Proxy service and finally to the user.</source>
          <target state="new">The application sends the response to the Connector which is then returned to the Application Proxy service and finally to the user.</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Prerequisites</source>
          <target state="new">Prerequisites</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Make sure that your apps, such as your SharePoint Web apps, are set to use Integrated Windows Authentication.</source>
          <target state="new">Make sure that your apps, such as your SharePoint Web apps, are set to use Integrated Windows Authentication.</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>For more information see <bpt id="p1">[</bpt>Enable Support for Kerberos Authentication<ept id="p1">](https://technet.microsoft.com/library/dd759186.aspx)</ept>, or for SharePoint see <bpt id="p2">[</bpt>Plan for Kerberos authentication in SharePoint 2013<ept id="p2">](https://technet.microsoft.com/library/ee806870.aspx)</ept>.</source>
          <target state="new">For more information see <bpt id="p1">[</bpt>Enable Support for Kerberos Authentication<ept id="p1">](https://technet.microsoft.com/library/dd759186.aspx)</ept>, or for SharePoint see <bpt id="p2">[</bpt>Plan for Kerberos authentication in SharePoint 2013<ept id="p2">](https://technet.microsoft.com/library/ee806870.aspx)</ept>.</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Create Service Principal Names for your applications.</source>
          <target state="new">Create Service Principal Names for your applications.</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Make sure that the server running the Connector and the server running the app you are publishing are domain joined and part of the same domain.</source>
          <target state="new">Make sure that the server running the Connector and the server running the app you are publishing are domain joined and part of the same domain.</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>For more information on domain join, see <bpt id="p1">[</bpt>Join a Computer to a Domain<ept id="p1">](https://technet.microsoft.com/library/dd807102.aspx)</ept>.</source>
          <target state="new">For more information on domain join, see <bpt id="p1">[</bpt>Join a Computer to a Domain<ept id="p1">](https://technet.microsoft.com/library/dd807102.aspx)</ept>.</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Active Directory configuration</source>
          <target state="new">Active Directory configuration</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>The Active Directory configuration varies, depending on whether your Application Proxy Connector and the published server are in the same domain or not.</source>
          <target state="new">The Active Directory configuration varies, depending on whether your Application Proxy Connector and the published server are in the same domain or not.</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Connector and published server in the same domain</source>
          <target state="new">Connector and published server in the same domain</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>In Active Directory, go to <bpt id="p1">**</bpt>Tools<ept id="p1">**</ept> &gt; <bpt id="p2">**</bpt>Users and Computers<ept id="p2">**</ept>.</source>
          <target state="new">In Active Directory, go to <bpt id="p1">**</bpt>Tools<ept id="p1">**</ept> &gt; <bpt id="p2">**</bpt>Users and Computers<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Select the server running the Connector.</source>
          <target state="new">Select the server running the Connector.</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Right click and select <bpt id="p1">**</bpt>Properties<ept id="p1">**</ept> &gt; <bpt id="p2">**</bpt>Delegation<ept id="p2">**</ept>.</source>
          <target state="new">Right click and select <bpt id="p1">**</bpt>Properties<ept id="p1">**</ept> &gt; <bpt id="p2">**</bpt>Delegation<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Trust this computer for delegation to specified services only<ept id="p1">**</ept> and under <bpt id="p2">**</bpt>Services to which this account can present delegated credentials<ept id="p2">**</ept>, add the value for the Service Principal Name (SPN) identity of the application server.</source>
          <target state="new">Select <bpt id="p1">**</bpt>Trust this computer for delegation to specified services only<ept id="p1">**</ept> and under <bpt id="p2">**</bpt>Services to which this account can present delegated credentials<ept id="p2">**</ept>, add the value for the Service Principal Name (SPN) identity of the application server.</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>This enables the Application Proxy Connector to impersonate users in AD against the applications defined in the list.</source>
          <target state="new">This enables the Application Proxy Connector to impersonate users in AD against the applications defined in the list.</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>Connector-SVR Properties window screenshot</source>
          <target state="new">Connector-SVR Properties window screenshot</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Connector and published server in different domains</source>
          <target state="new">Connector and published server in different domains</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>For a list of prerequisites for working with KCD across domains, see <bpt id="p1">[</bpt>Kerberos Constrained Delegation across domains<ept id="p1">](https://technet.microsoft.com/library/hh831477.aspx)</ept>.</source>
          <target state="new">For a list of prerequisites for working with KCD across domains, see <bpt id="p1">[</bpt>Kerberos Constrained Delegation across domains<ept id="p1">](https://technet.microsoft.com/library/hh831477.aspx)</ept>.</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>In Windows 2012 R2, use the <ph id="ph1">`principalsallowedtodelegateto`</ph> property on the Connector server to enable the Application Proxy to delegate for the Connector server, where the published server is <ph id="ph2">`sharepointserviceaccount`</ph> and the delegating server is <ph id="ph3">`connectormachineaccount`</ph>.</source>
          <target state="new">In Windows 2012 R2, use the <ph id="ph1">`principalsallowedtodelegateto`</ph> property on the Connector server to enable the Application Proxy to delegate for the Connector server, where the published server is <ph id="ph2">`sharepointserviceaccount`</ph> and the delegating server is <ph id="ph3">`connectormachineaccount`</ph>.</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> <ph id="ph2">`sharepointserviceaccount`</ph> can be the SPS machine account or a service account under which the SPS app pool is running.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> <ph id="ph2">`sharepointserviceaccount`</ph> can be the SPS machine account or a service account under which the SPS app pool is running.</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Azure portal configuration</source>
          <target state="new">Azure portal configuration</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Publish your application according to the instructions described in <bpt id="p1">[</bpt>Publish applications with Application Proxy<ept id="p1">](active-directory-application-proxy-publish.md)</ept>.</source>
          <target state="new">Publish your application according to the instructions described in <bpt id="p1">[</bpt>Publish applications with Application Proxy<ept id="p1">](active-directory-application-proxy-publish.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Make sure to select <bpt id="p1">**</bpt>Azure Active Directory<ept id="p1">**</ept> as the <bpt id="p2">**</bpt>Preauthentication Method<ept id="p2">**</ept>.</source>
          <target state="new">Make sure to select <bpt id="p1">**</bpt>Azure Active Directory<ept id="p1">**</ept> as the <bpt id="p2">**</bpt>Preauthentication Method<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>After your application appears in the list of applications, select it and click <bpt id="p1">**</bpt>Configure<ept id="p1">**</ept>.</source>
          <target state="new">After your application appears in the list of applications, select it and click <bpt id="p1">**</bpt>Configure<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>Under <bpt id="p1">**</bpt>Properties<ept id="p1">**</ept>, set <bpt id="p2">**</bpt>Internal Authentication Method<ept id="p2">**</ept> to <bpt id="p3">**</bpt>Integrated Windows Authentication<ept id="p3">**</ept>.</source>
          <target state="new">Under <bpt id="p1">**</bpt>Properties<ept id="p1">**</ept>, set <bpt id="p2">**</bpt>Internal Authentication Method<ept id="p2">**</ept> to <bpt id="p3">**</bpt>Integrated Windows Authentication<ept id="p3">**</ept>.</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Advanced Application Configuration</source>
          <target state="new">Advanced Application Configuration</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>Enter the <bpt id="p1">**</bpt>Internal Application SPN<ept id="p1">**</ept> of the application server.</source>
          <target state="new">Enter the <bpt id="p1">**</bpt>Internal Application SPN<ept id="p1">**</ept> of the application server.</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>In this example, the SPN for our published application is http/lob.contoso.com.</source>
          <target state="new">In this example, the SPN for our published application is http/lob.contoso.com.</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.IMPORTANT]</ph> The UPNs in Azure Active Directory must be identical to the UPNs in your on-premises Active Directory in order for preauthentication to work.</source>
          <target state="new"><ph id="ph1">[AZURE.IMPORTANT]</ph> The UPNs in Azure Active Directory must be identical to the UPNs in your on-premises Active Directory in order for preauthentication to work.</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>Make sure your Azure Active Directory is synchronized with your on-premises Active Directory.</source>
          <target state="new">Make sure your Azure Active Directory is synchronized with your on-premises Active Directory.</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>Internal Authentication Method</source>
          <target state="new">Internal Authentication Method</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>If you use Azure AD for preauthentication, you can set an internal authentication method to enable your users to benefit from single-sign on (SSO) to this application.</source>
          <target state="new">If you use Azure AD for preauthentication, you can set an internal authentication method to enable your users to benefit from single-sign on (SSO) to this application.</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Integrated Windows Authentication<ept id="p1">**</ept> (IWA) if your application uses IWA and you can configure Kerberos Constrained Delegation (KCD) to enable SSO for this application.</source>
          <target state="new">Select <bpt id="p1">**</bpt>Integrated Windows Authentication<ept id="p1">**</ept> (IWA) if your application uses IWA and you can configure Kerberos Constrained Delegation (KCD) to enable SSO for this application.</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>Applications that use IWA must be configured using KCD, otherwise Application Proxy will not be able to publish these applications.</source>
          <target state="new">Applications that use IWA must be configured using KCD, otherwise Application Proxy will not be able to publish these applications.</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>None<ept id="p1">**</ept> if your application does not use IWA.</source>
          <target state="new">Select <bpt id="p1">**</bpt>None<ept id="p1">**</ept> if your application does not use IWA.</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>Internal Application SPN</source>
          <target state="new">Internal Application SPN</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>This is the Service-Principal-Name (SPN) of the internal application as configured in the on-prem Azure AD.</source>
          <target state="new">This is the Service-Principal-Name (SPN) of the internal application as configured in the on-prem Azure AD.</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>The SPN is used by the Application Proxy Connector to fetch Kerberos tokens for the application using KCD.</source>
          <target state="new">The SPN is used by the Application Proxy Connector to fetch Kerberos tokens for the application using KCD.</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>test</source>
          <target state="new">test</target>
        </trans-unit>
      </group>
    </body>
  </file>
  <header xmlns="">
    <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">
    </xliffext:oltranslationpriority>
    <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">2f224e8a831686620593246395e2adca225dfda8</xliffext:olfilehash>
  </header>
</xliff>