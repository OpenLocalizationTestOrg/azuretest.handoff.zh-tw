{
  "nodes": [
    {
      "content": "Python web and worker roles with Python Tools 2.2 for Visual Studio | Microsoft Azure",
      "pos": [
        27,
        112
      ]
    },
    {
      "content": "Overview of using Python Tools for Visual Studio to create Azure cloud services including web roles and worker roles.",
      "pos": [
        131,
        248
      ]
    },
    {
      "content": "Python web and worker roles with Python Tools 2.2 for Visual Studio",
      "pos": [
        552,
        619
      ]
    },
    {
      "pos": [
        621,
        733
      ],
      "content": "This article provides an overview of using Python web and worker roles using <bpt id=\"p1\">[</bpt>Python Tools for Visual Studio<ept id=\"p1\">][]</ept>."
    },
    {
      "content": "Prerequisites",
      "pos": [
        738,
        751
      ]
    },
    {
      "content": "Visual Studio 2013 or 2015",
      "pos": [
        756,
        782
      ]
    },
    {
      "pos": [
        786,
        831
      ],
      "content": "<bpt id=\"p1\">[</bpt>Python Tools 2.2 for Visual Studio<ept id=\"p1\">][]</ept> (PTVS)"
    },
    {
      "pos": [
        835,
        901
      ],
      "content": "<bpt id=\"p1\">[</bpt>Azure SDK Tools for VS 2013<ept id=\"p1\">][]</ept> or <bpt id=\"p2\">[</bpt>Azure SDK Tools for VS 2015<ept id=\"p2\">][]</ept>"
    },
    {
      "pos": [
        905,
        951
      ],
      "content": "<bpt id=\"p1\">[</bpt>Python 2.7 32-bit<ept id=\"p1\">][]</ept> or <bpt id=\"p2\">[</bpt>Python 3.4 32-bit<ept id=\"p2\">][]</ept>"
    },
    {
      "content": "What are Python web and worker roles?",
      "pos": [
        1057,
        1094
      ]
    },
    {
      "content": "Azure provides three compute models for running applications: [Web Apps feature in Azure App Service][execution model-web sites], [Azure Virtual Machines][execution model-vms], and [Azure Cloud Services][execution model-cloud services].",
      "pos": [
        1096,
        1332
      ]
    },
    {
      "content": "All three models support Python.",
      "pos": [
        1333,
        1365
      ]
    },
    {
      "content": "Cloud Services, which include web and worker roles, provide <bpt id=\"p1\">*</bpt>Platform as a Service (PaaS)<ept id=\"p1\">*</ept>.",
      "pos": [
        1366,
        1457
      ]
    },
    {
      "content": "Within a cloud service, a web role provides a dedicated Internet Information Services (IIS) web server to host front-end web applications, while a worker role can run asynchronous, long-running or perpetual tasks independent of user interaction or input.",
      "pos": [
        1458,
        1712
      ]
    },
    {
      "content": "For more information, see [What is a Cloud Service?].",
      "pos": [
        1714,
        1767
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> <bpt id=\"p1\">*</bpt>Looking to build a simple website?<ept id=\"p1\">*</ept>",
      "pos": [
        1771,
        1820
      ]
    },
    {
      "content": "If your scenario involves just a simple website front-end, consider using the lightweight Web Apps feature in Azure App Service.",
      "pos": [
        1821,
        1949
      ]
    },
    {
      "content": "You can easily upgrade to a Cloud Service as your website grows and your requirements change.",
      "pos": [
        1950,
        2043
      ]
    },
    {
      "content": "See the <ph id=\"ph1\">&lt;a href=\"/develop/python/\"&gt;</ph>Python Developer Center<ph id=\"ph2\">&lt;/a&gt;</ph> for articles that cover development of the Web Apps feature in Azure App Service.",
      "pos": [
        2044,
        2188
      ]
    },
    {
      "content": "Project creation",
      "pos": [
        2201,
        2217
      ]
    },
    {
      "pos": [
        2219,
        2328
      ],
      "content": "In Visual Studio, you can select <bpt id=\"p1\">**</bpt>Azure Cloud Service<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>New Project<ept id=\"p2\">**</ept> dialog box, under <bpt id=\"p3\">**</bpt>Python<ept id=\"p3\">**</ept>."
    },
    {
      "content": "New Project Dialog",
      "pos": [
        2332,
        2350
      ]
    },
    {
      "content": "In the Azure Cloud Service wizard, you can create new web and worker roles.",
      "pos": [
        2419,
        2494
      ]
    },
    {
      "content": "Azure Cloud Service Dialog",
      "pos": [
        2498,
        2524
      ]
    },
    {
      "content": "The worker role template comes with boilerplate code to connect to a Azure storage account or Azure Service Bus.",
      "pos": [
        2586,
        2698
      ]
    },
    {
      "content": "Cloud Service Solution",
      "pos": [
        2702,
        2724
      ]
    },
    {
      "content": "You can add web or worker roles to an existing cloud service at any time.",
      "pos": [
        2774,
        2847
      ]
    },
    {
      "content": "You can choose to add existing projects in your solution, or create new ones.",
      "pos": [
        2849,
        2926
      ]
    },
    {
      "content": "Add Role Command",
      "pos": [
        2930,
        2946
      ]
    },
    {
      "content": "Your cloud service can contain roles implemented in different languages.",
      "pos": [
        3014,
        3086
      ]
    },
    {
      "content": "For example, you can have a Python web role implemented using Django, with Python, or with C# worker roles.",
      "pos": [
        3088,
        3195
      ]
    },
    {
      "content": "You can easily communicate between your roles using Service Bus queues or storage queues.",
      "pos": [
        3197,
        3286
      ]
    },
    {
      "content": "Run locally",
      "pos": [
        3291,
        3302
      ]
    },
    {
      "content": "If you set your cloud service project as the startup project and press F5, the cloud service will run in the local Azure emulator.",
      "pos": [
        3304,
        3434
      ]
    },
    {
      "content": "Although PTVS supports launching in the emulator, debugging (for example, breakpoints) will not work.",
      "pos": [
        3436,
        3537
      ]
    },
    {
      "content": "To debug your web and worker roles, you can set the role project as the startup project and debug that instead.",
      "pos": [
        3539,
        3650
      ]
    },
    {
      "content": "You can also set multiple startup projects.",
      "pos": [
        3652,
        3695
      ]
    },
    {
      "content": "Right-click the solution and then select <bpt id=\"p1\">**</bpt>Set StartUp Projects<ept id=\"p1\">**</ept>.",
      "pos": [
        3697,
        3763
      ]
    },
    {
      "content": "Solution Startup Project Properties",
      "pos": [
        3767,
        3802
      ]
    },
    {
      "content": "Publish to Azure",
      "pos": [
        3856,
        3872
      ]
    },
    {
      "pos": [
        3874,
        3968
      ],
      "content": "To publish, right-click the cloud service project in the solution and then select <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Microsoft Azure Publish Sign In",
      "pos": [
        3972,
        4003
      ]
    },
    {
      "content": "On the settings page, select the cloud service you want to publish to.",
      "pos": [
        4062,
        4132
      ]
    },
    {
      "content": "Microsoft Azure Publish Settings",
      "pos": [
        4136,
        4168
      ]
    },
    {
      "content": "You can create a new cloud service if you don't already have one available.",
      "pos": [
        4228,
        4303
      ]
    },
    {
      "content": "Create Cloud Service Dialog",
      "pos": [
        4307,
        4334
      ]
    },
    {
      "content": "It's also useful to enable remote desktop connections to the machine(s) for debugging failures.",
      "pos": [
        4406,
        4501
      ]
    },
    {
      "content": "Remote Desktop Configuration Dialog",
      "pos": [
        4505,
        4540
      ]
    },
    {
      "pos": [
        4620,
        4678
      ],
      "content": "When you are done configuring settings, click <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Some progress will appear in the output window, then you'll see the Microsoft Azure Activity Log window.",
      "pos": [
        4680,
        4784
      ]
    },
    {
      "content": "Microsoft Azure Activity Log Window",
      "pos": [
        4788,
        4823
      ]
    },
    {
      "content": "Deployment will take several minutes to complete, then your web and/or worker roles will be running on Azure!",
      "pos": [
        4887,
        4996
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        5001,
        5011
      ]
    },
    {
      "content": "For more detailed information about working with web and worker roles in Python Tools for Visual Studio, see the PTVS documentation:",
      "pos": [
        5013,
        5145
      ]
    },
    {
      "content": "Cloud Service Projects",
      "pos": [
        5150,
        5172
      ]
    },
    {
      "content": "For more details about using Azure services from your web and worker roles, such as using Azure Storage or Service Bus, see the following articles.",
      "pos": [
        5177,
        5324
      ]
    },
    {
      "content": "[Blob Service][]",
      "pos": [
        5328,
        5344
      ]
    },
    {
      "content": "[Table Service][]",
      "pos": [
        5347,
        5364
      ]
    },
    {
      "content": "[Queue Service][]",
      "pos": [
        5367,
        5384
      ]
    },
    {
      "content": "[Service Bus Queues][]",
      "pos": [
        5387,
        5409
      ]
    },
    {
      "content": "[Service Bus Topics][]",
      "pos": [
        5412,
        5434
      ]
    },
    {
      "content": "test",
      "pos": [
        6734,
        6738
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Python web and worker roles with Python Tools 2.2 for Visual Studio | Microsoft Azure\"\n    description=\"Overview of using Python Tools for Visual Studio to create Azure cloud services including web roles and worker roles.\"\n    services=\"\"\n    documentationCenter=\"python\"\n    authors=\"huguesv\"\n    manager=\"wpickett\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"cloud-services\"\n    ms.workload=\"tbd\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"python\"\n    ms.topic=\"hero-article\"\n    ms.date=\"08/30/2015\"\n    ms.author=\"huvalo\"/>\n\n\n\n\n# Python web and worker roles with Python Tools 2.2 for Visual Studio\n\nThis article provides an overview of using Python web and worker roles using [Python Tools for Visual Studio][].\n\n## Prerequisites\n\n - Visual Studio 2013 or 2015\n - [Python Tools 2.2 for Visual Studio][] (PTVS)\n - [Azure SDK Tools for VS 2013][] or [Azure SDK Tools for VS 2015][]\n - [Python 2.7 32-bit][] or [Python 3.4 32-bit][]\n\n[AZURE.INCLUDE [create-account-and-websites-note](../includes/create-account-and-websites-note.md)]\n\n## What are Python web and worker roles?\n\nAzure provides three compute models for running applications: [Web Apps feature in Azure App Service][execution model-web sites], [Azure Virtual Machines][execution model-vms], and [Azure Cloud Services][execution model-cloud services]. All three models support Python. Cloud Services, which include web and worker roles, provide *Platform as a Service (PaaS)*. Within a cloud service, a web role provides a dedicated Internet Information Services (IIS) web server to host front-end web applications, while a worker role can run asynchronous, long-running or perpetual tasks independent of user interaction or input.\n\nFor more information, see [What is a Cloud Service?].\n\n> [AZURE.NOTE] *Looking to build a simple website?*\nIf your scenario involves just a simple website front-end, consider using the lightweight Web Apps feature in Azure App Service. You can easily upgrade to a Cloud Service as your website grows and your requirements change. See the <a href=\"/develop/python/\">Python Developer Center</a> for articles that cover development of the Web Apps feature in Azure App Service.\n<br />\n\n\n## Project creation\n\nIn Visual Studio, you can select **Azure Cloud Service** in the **New Project** dialog box, under **Python**.\n\n![New Project Dialog](./media/cloud-services-python-ptvs/new-project-cloud-service.png)\n\nIn the Azure Cloud Service wizard, you can create new web and worker roles.\n\n![Azure Cloud Service Dialog](./media/cloud-services-python-ptvs/new-service-wizard.png)\n\nThe worker role template comes with boilerplate code to connect to a Azure storage account or Azure Service Bus.\n\n![Cloud Service Solution](./media/cloud-services-python-ptvs/worker.png)\n\nYou can add web or worker roles to an existing cloud service at any time.  You can choose to add existing projects in your solution, or create new ones.\n\n![Add Role Command](./media/cloud-services-python-ptvs/add-new-or-existing-role.png)\n\nYour cloud service can contain roles implemented in different languages.  For example, you can have a Python web role implemented using Django, with Python, or with C# worker roles.  You can easily communicate between your roles using Service Bus queues or storage queues.\n\n## Run locally\n\nIf you set your cloud service project as the startup project and press F5, the cloud service will run in the local Azure emulator.\n\nAlthough PTVS supports launching in the emulator, debugging (for example, breakpoints) will not work.\n\nTo debug your web and worker roles, you can set the role project as the startup project and debug that instead.  You can also set multiple startup projects.  Right-click the solution and then select **Set StartUp Projects**.\n\n![Solution Startup Project Properties](./media/cloud-services-python-ptvs/startup.png)\n\n## Publish to Azure\n\nTo publish, right-click the cloud service project in the solution and then select **Publish**.\n\n![Microsoft Azure Publish Sign In](./media/cloud-services-python-ptvs/publish-sign-in.png)\n\nOn the settings page, select the cloud service you want to publish to.\n\n![Microsoft Azure Publish Settings](./media/cloud-services-python-ptvs/publish-settings.png)\n\nYou can create a new cloud service if you don't already have one available.\n\n![Create Cloud Service Dialog](./media/cloud-services-python-ptvs/publish-create-cloud-service.png)\n\nIt's also useful to enable remote desktop connections to the machine(s) for debugging failures.\n\n![Remote Desktop Configuration Dialog](./media/cloud-services-python-ptvs/publish-remote-desktop-configuration.png)\n\nWhen you are done configuring settings, click **Publish**.\n\nSome progress will appear in the output window, then you'll see the Microsoft Azure Activity Log window.\n\n![Microsoft Azure Activity Log Window](./media/cloud-services-python-ptvs/publish-activity-log.png)\n\nDeployment will take several minutes to complete, then your web and/or worker roles will be running on Azure!\n\n## Next steps\n\nFor more detailed information about working with web and worker roles in Python Tools for Visual Studio, see the PTVS documentation:\n\n- [Cloud Service Projects][]\n\nFor more details about using Azure services from your web and worker roles, such as using Azure Storage or Service Bus, see the following articles.\n\n- [Blob Service][]\n- [Table Service][]\n- [Queue Service][]\n- [Service Bus Queues][]\n- [Service Bus Topics][]\n\n\n<!--Link references-->\n\n[What is a Cloud Service?]: /manage/services/cloud-services/what-is-a-cloud-service/\n[execution model-web sites]: fundamentals-application-models.md#WebSites\n[execution model-vms]: fundamentals-application-models.md#VMachine\n[execution model-cloud services]: fundamentals-application-models.md#CloudServices\n[Python Developer Center]: /develop/python/\n\n[Blob Service]: storage-python-how-to-use-blob-storage.md\n[Queue Service]: storage-python-how-to-use-queue-storage.md\n[Table Service]: storage-python-how-to-use-table-storage.md\n[Service Bus Queues]: service-bus-python-how-to-use-queues.md\n[Service Bus Topics]: service-bus-python-how-to-use-topics-subscriptions.md\n\n\n<!--External Link references-->\n\n[Python Tools for Visual Studio]: http://aka.ms/ptvs\n[Python Tools for Visual Studio Documentation]: http://aka.ms/ptvsdocs\n[Cloud Service Projects]: http://go.microsoft.com/fwlink/?LinkId=624028\n[Python Tools 2.2 for Visual Studio]: http://go.microsoft.com/fwlink/?LinkID=624025\n[Azure SDK Tools for VS 2013]: http://go.microsoft.com/fwlink/?LinkId=323510\n[Azure SDK Tools for VS 2015]: http://go.microsoft.com/fwlink/?LinkId=518003\n[Python 2.7 32-bit]: http://go.microsoft.com/fwlink/?LinkId=517190\n[Python 3.4 32-bit]: http://go.microsoft.com/fwlink/?LinkId=517191\n\ntest\n"
}