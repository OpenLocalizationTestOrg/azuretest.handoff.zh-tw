{
  "nodes": [
    {
      "content": "Add Authentication to Existing Azure Mobile Services App (iOS) | Microsoft Azure",
      "pos": [
        27,
        107
      ]
    },
    {
      "content": "Learn how to use Mobile Services to authenticate users of your iOS app through a variety of identity providers, including Google, Facebook, Twitter, and Microsoft.",
      "pos": [
        126,
        289
      ]
    },
    {
      "content": "Add Authentication to Existing Azure Mobile Services app",
      "pos": [
        615,
        671
      ]
    },
    {
      "content": "In this tutorial, you add authentication to the Quick Start project using a supported identity provider.",
      "pos": [
        797,
        901
      ]
    },
    {
      "content": "This tutorial is based on the <bpt id=\"p1\">[</bpt><ept id=\"p1\">Mobile Services Quick Start tutorial]</ept>, which you must complete first.",
      "pos": [
        902,
        1002
      ]
    },
    {
      "pos": [
        1006,
        1090
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"register\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Register app for authentication and configure Mobile Services"
    },
    {
      "pos": [
        1354,
        1423
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"permissions\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Restrict permissions to authenticated users"
    },
    {
      "content": "In Xcode, open the project.",
      "pos": [
        1567,
        1594
      ]
    },
    {
      "content": "Press the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> button to  start the app.",
      "pos": [
        1595,
        1638
      ]
    },
    {
      "content": "Verify that an exception with a status code of 401 (Unauthorized) is raised after the app starts.",
      "pos": [
        1639,
        1736
      ]
    },
    {
      "content": "This happens because the app attempts to access Mobile Services as an unauthenticated user, but the <bpt id=\"p1\">_</bpt>TodoItem<ept id=\"p1\">_</ept> table now requires authentication.",
      "pos": [
        1737,
        1882
      ]
    },
    {
      "pos": [
        1886,
        1944
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"add-authentication\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Add authentication to app"
    },
    {
      "pos": [
        2060,
        2129
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"store-authentication\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Store authentication tokens in app"
    },
    {
      "pos": [
        2267,
        2302
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"next-steps\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Next steps"
    },
    {
      "pos": [
        2304,
        2437
      ],
      "content": "In the next tutorial, <bpt id=\"p1\">[</bpt><ept id=\"p1\">Service-side authorization of Mobile Services users]</ept>, you will user the user ID value to filter returned data."
    },
    {
      "content": "test",
      "pos": [
        3660,
        3664
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Add Authentication to Existing Azure Mobile Services App (iOS) | Microsoft Azure\"\n    description=\"Learn how to use Mobile Services to authenticate users of your iOS app through a variety of identity providers, including Google, Facebook, Twitter, and Microsoft.\"\n    services=\"mobile-services\"\n    documentationCenter=\"ios\"\n    authors=\"krisragh\"\n    manager=\"dwrede\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"mobile-services\"\n    ms.workload=\"mobile\"\n    ms.tgt_pltfrm=\"mobile-ios\"\n    ms.devlang=\"objective-c\"\n    ms.topic=\"article\"\n    ms.date=\"07/01/2015\"\n    ms.author=\"krisragh\"/>\n\n# Add Authentication to Existing Azure Mobile Services app\n\n[AZURE.INCLUDE [mobile-services-selector-get-started-users](../../includes/mobile-services-selector-get-started-users.md)]\n\nIn this tutorial, you add authentication to the Quick Start project using a supported identity provider. This tutorial is based on the [Mobile Services Quick Start tutorial], which you must complete first.\n\n##<a name=\"register\"></a>Register app for authentication and configure Mobile Services\n\n[AZURE.INCLUDE [mobile-services-register-authentication](../../includes/mobile-services-register-authentication.md)]\n\n[AZURE.INCLUDE [mobile-services-dotnet-backend-aad-server-extension](../../includes/mobile-services-dotnet-backend-aad-server-extension.md)]\n\n##<a name=\"permissions\"></a>Restrict permissions to authenticated users\n\n[AZURE.INCLUDE [mobile-services-restrict-permissions-dotnet-backend](../../includes/mobile-services-restrict-permissions-dotnet-backend.md)]\n\nIn Xcode, open the project. Press the **Run** button to  start the app. Verify that an exception with a status code of 401 (Unauthorized) is raised after the app starts. This happens because the app attempts to access Mobile Services as an unauthenticated user, but the _TodoItem_ table now requires authentication.\n\n##<a name=\"add-authentication\"></a>Add authentication to app\n\n[AZURE.INCLUDE [mobile-services-ios-authenticate-app](../../includes/mobile-services-ios-authenticate-app.md)]\n\n##<a name=\"store-authentication\"></a>Store authentication tokens in app\n\n[AZURE.INCLUDE [mobile-services-ios-authenticate-app-with-token](../../includes/mobile-services-ios-authenticate-app-with-token.md)]\n\n##<a name=\"next-steps\"></a>Next steps\n\nIn the next tutorial, [Service-side authorization of Mobile Services users], you will user the user ID value to filter returned data.\n\n<!-- Anchors. -->\n[Register your app for authentication and configure Mobile Services]: #register\n[Restrict table permissions to authenticated users]: #permissions\n[Add authentication to the app]: #add-authentication\n[Next Steps]:#next-steps\n[Storing authentication tokens in your app]:#store-authentication\n\n<!-- URLs. -->\n[Service-side authorization of Mobile Services users]: mobile-services-dotnet-backend-service-side-authorization.md\n[Mobile Services Quick Start tutorial]: mobile-services-dotnet-backend-ios-get-started.md\n[Get started with data]: mobile-services-dotnet-backend-ios-get-started-data.md\n[Get started with authentication]: mobile-services-dotnet-backend-ios-get-started-users.md\n[Get started with push notifications]: mobile-services-dotnet-backend-ios-get-started-push.md\n[Authorize users with scripts]: ../mobile-services-dotnet-backend-ios-authorize-users-in-scripts.md\n\n[Azure Management Portal]: https://manage.windowsazure.com/\n[Mobile Services .NET How-to Conceptual Reference]: /develop/mobile/how-to-guides/work-with-net-client-library\n[Register your Windows Store app package for Microsoft authentication]: ../mobile-services-how-to-register-store-app-package-microsoft-authentication.md\n\ntest\n"
}