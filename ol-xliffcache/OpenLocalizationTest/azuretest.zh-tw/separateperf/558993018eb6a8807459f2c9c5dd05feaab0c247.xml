{
  "nodes": [
    {
      "content": "Create a simple experiment in Machine Learning Studio | Microsoft Azure",
      "pos": [
        27,
        98
      ]
    },
    {
      "content": "A first machine learning tutorial for creating a simple experiment to train and test a linear regression model in Azure Machine Learning Studio.",
      "pos": [
        117,
        261
      ]
    },
    {
      "content": "Machine learning tutorial: Create your first experiment in Azure Machine Learning Studio",
      "pos": [
        719,
        807
      ]
    },
    {
      "content": "In this first machine learning tutorial, we'll create a linear regression model that predicts the price of an automobile based on different variables such as make and technical specifications.",
      "pos": [
        809,
        1001
      ]
    },
    {
      "content": "To do this, we'll use Azure Machine Learning Studio to develop and iterate on a simple predictive analytics experiment.",
      "pos": [
        1002,
        1121
      ]
    },
    {
      "content": "A Machine Learning Studio experiment consists of dragging components to a canvas, and connecting them in order to <bpt id=\"p1\">*</bpt>create a model<ept id=\"p1\">*</ept>, <bpt id=\"p2\">*</bpt>train the model<ept id=\"p2\">*</ept>, and <bpt id=\"p3\">*</bpt>score and test the model<ept id=\"p3\">*</ept>.",
      "pos": [
        1217,
        1399
      ]
    },
    {
      "content": "The experiment uses predictive modeling techniques in the form of Machine Learning Studio modules that ingest data, train a model against it, and apply the model to new data.",
      "pos": [
        1400,
        1574
      ]
    },
    {
      "content": "You can also add modules to preprocess data and select features, split data into training and test sets, and evaluate or cross-validate the quality of your model.",
      "pos": [
        1575,
        1737
      ]
    },
    {
      "content": "Enter Machine Learning Studio: <bpt id=\"p1\">[</bpt>https://studio.azureml.net<ept id=\"p1\">](https://studio.azureml.net)</ept>, and click the <bpt id=\"p2\">**</bpt>Get started<ept id=\"p2\">**</ept> button.",
      "pos": [
        1741,
        1867
      ]
    },
    {
      "content": "You can choose either the Guest Access or sign in with your Microsoft account.",
      "pos": [
        1868,
        1946
      ]
    },
    {
      "pos": [
        1948,
        2090
      ],
      "content": "And for more general information about Machine Learning Studio, see <bpt id=\"p1\">[</bpt>What is Machine Learning Studio?<ept id=\"p1\">](machine-learning-what-is-ml-studio.md)</ept>."
    },
    {
      "content": "Five steps to create an experiment",
      "pos": [
        2095,
        2129
      ]
    },
    {
      "content": "In this machine learning tutorial, you'll follow five basic steps to build an experiment in Machine Learning Studio in order to create, train, and score your model:",
      "pos": [
        2131,
        2295
      ]
    },
    {
      "content": "Create a model",
      "pos": [
        2299,
        2313
      ]
    },
    {
      "content": "Step 1: Get data",
      "pos": [
        2321,
        2337
      ]
    },
    {
      "content": "Step 2: Preprocess data",
      "pos": [
        2346,
        2369
      ]
    },
    {
      "content": "Step 3: Define features",
      "pos": [
        2378,
        2401
      ]
    },
    {
      "content": "Train the model",
      "pos": [
        2405,
        2420
      ]
    },
    {
      "content": "Step 4: Choose and apply a learning algorithm",
      "pos": [
        2428,
        2473
      ]
    },
    {
      "content": "Score and test the model",
      "pos": [
        2477,
        2501
      ]
    },
    {
      "content": "Step 5: Predict new automobile prices",
      "pos": [
        2509,
        2546
      ]
    },
    {
      "content": "Step 1: Get data",
      "pos": [
        2867,
        2883
      ]
    },
    {
      "content": "There are a number of sample datasets included with Machine Learning Studio that you can choose from, and you can import data from many sources.",
      "pos": [
        2885,
        3029
      ]
    },
    {
      "content": "For this example, we will use the included sample dataset, <bpt id=\"p1\">**</bpt>Automobile price data (Raw)<ept id=\"p1\">**</ept>.",
      "pos": [
        3030,
        3121
      ]
    },
    {
      "content": "This dataset includes entries for a number of individual automobiles, including information such as make, model, technical specifications, and price.",
      "pos": [
        3122,
        3271
      ]
    },
    {
      "content": "Start a new experiment by clicking <bpt id=\"p1\">**</bpt>+NEW<ept id=\"p1\">**</ept> at the bottom of the Machine Learning Studio window, select <bpt id=\"p2\">**</bpt>EXPERIMENT<ept id=\"p2\">**</ept>, and then select <bpt id=\"p3\">**</bpt>Blank Experiment<ept id=\"p3\">**</ept>.",
      "pos": [
        3276,
        3433
      ]
    },
    {
      "content": "Select the default experiment name at the top of the canvas and rename it to something meaningful, for example, <bpt id=\"p1\">**</bpt>Automobile price prediction<ept id=\"p1\">**</ept>.",
      "pos": [
        3434,
        3578
      ]
    },
    {
      "content": "To the left of the experiment canvas is a palette of datasets and modules.",
      "pos": [
        3583,
        3657
      ]
    },
    {
      "content": "Type <bpt id=\"p1\">**</bpt>automobile<ept id=\"p1\">**</ept> in the Search box at the top of this palette to find the dataset labeled <bpt id=\"p2\">**</bpt>Automobile price data (Raw)<ept id=\"p2\">**</ept>.",
      "pos": [
        3658,
        3783
      ]
    },
    {
      "content": "![Palette search][screen1a]",
      "pos": [
        3789,
        3816
      ]
    },
    {
      "content": "Drag the dataset to the experiment canvas.",
      "pos": [
        3821,
        3863
      ]
    },
    {
      "content": "![Dataset][screen1]",
      "pos": [
        3869,
        3888
      ]
    },
    {
      "content": "To see what this data looks like, click the output port at the bottom of the automobile dataset, and then select <bpt id=\"p1\">**</bpt>Visualize<ept id=\"p1\">**</ept>.",
      "pos": [
        3890,
        4017
      ]
    },
    {
      "content": "The variables in the dataset appear as columns, and each instance of an automobile appears as a row.",
      "pos": [
        4018,
        4118
      ]
    },
    {
      "content": "The far-right column (column 26 and titled \"price\") is the target variable we're going to try to predict.",
      "pos": [
        4119,
        4224
      ]
    },
    {
      "content": "![Dataset visualization][screen1b]",
      "pos": [
        4226,
        4260
      ]
    },
    {
      "pos": [
        4262,
        4343
      ],
      "content": "Close the visualization window by clicking the \"<bpt id=\"p1\">**</bpt>x<ept id=\"p1\">**</ept>\" in the upper-right corner."
    },
    {
      "content": "Step 2: Preprocess data",
      "pos": [
        4348,
        4371
      ]
    },
    {
      "content": "A dataset usually requires some preprocessing before it can be analyzed.",
      "pos": [
        4373,
        4445
      ]
    },
    {
      "content": "You might have noticed the missing values present in the columns of various rows.",
      "pos": [
        4446,
        4527
      ]
    },
    {
      "content": "These missing values need to be cleaned so the model can analyze the data correctly.",
      "pos": [
        4528,
        4612
      ]
    },
    {
      "content": "In our case, we'll remove any rows that have missing values.",
      "pos": [
        4613,
        4673
      ]
    },
    {
      "content": "Also, the <bpt id=\"p1\">**</bpt>normalized-losses<ept id=\"p1\">**</ept> column has a large proportion of missing values, so we'll exclude that column from the model altogether.",
      "pos": [
        4674,
        4810
      ]
    },
    {
      "pos": [
        4814,
        4918
      ],
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> Cleaning the missing values from input data is a prerequisite for using most of the modules."
    },
    {
      "pos": [
        4920,
        5025
      ],
      "content": "First we'll remove the <bpt id=\"p1\">**</bpt>normalized-losses<ept id=\"p1\">**</ept> column, and then we'll remove any row that has missing data."
    },
    {
      "content": "Type <bpt id=\"p1\">**</bpt>project columns<ept id=\"p1\">**</ept> in the Search box at the top of the module palette to find the <bpt id=\"p2\">[</bpt>Project Columns<ept id=\"p2\">][project-columns]</ept> module, then drag it to the experiment canvas and connect it to the output port of the <bpt id=\"p3\">**</bpt>Automobile price data (Raw)<ept id=\"p3\">**</ept> dataset.",
      "pos": [
        5030,
        5280
      ]
    },
    {
      "content": "This module allows us to select which columns of data we want to include or exclude in the model.",
      "pos": [
        5281,
        5378
      ]
    },
    {
      "pos": [
        5383,
        5500
      ],
      "content": "Select the <bpt id=\"p1\">[</bpt>Project Columns<ept id=\"p1\">][project-columns]</ept> module and click <bpt id=\"p2\">**</bpt>Launch column selector<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Properties<ept id=\"p3\">**</ept> pane."
    },
    {
      "content": "Make sure <bpt id=\"p1\">**</bpt>All columns<ept id=\"p1\">**</ept> is selected in the filter drop-down list, <bpt id=\"p2\">**</bpt>Begin With<ept id=\"p2\">**</ept>.",
      "pos": [
        5508,
        5591
      ]
    },
    {
      "content": "This directs <bpt id=\"p1\">[</bpt>Project Columns<ept id=\"p1\">][project-columns]</ept> to pass through all the columns (except those we're about to exclude).",
      "pos": [
        5592,
        5710
      ]
    },
    {
      "content": "In the next row, select <bpt id=\"p1\">**</bpt>Exclude<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>column names<ept id=\"p2\">**</ept>, and then click inside the text box.",
      "pos": [
        5717,
        5810
      ]
    },
    {
      "content": "A list of columns is displayed.",
      "pos": [
        5811,
        5842
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>normalized-losses<ept id=\"p1\">**</ept>, and it will be added to the text box.",
      "pos": [
        5843,
        5910
      ]
    },
    {
      "content": "Click the check mark (OK) button to close the column selector.",
      "pos": [
        5917,
        5979
      ]
    },
    {
      "content": "![Select columns][screen3]",
      "pos": [
        5985,
        6011
      ]
    },
    {
      "pos": [
        6017,
        6155
      ],
      "content": "The properties pane for <bpt id=\"p1\">**</bpt>Project Columns<ept id=\"p1\">**</ept> indicates that it will pass through all columns from the dataset except <bpt id=\"p2\">**</bpt>normalized-losses<ept id=\"p2\">**</ept>."
    },
    {
      "content": "![Project Columns properties][screen4]",
      "pos": [
        6161,
        6199
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> You can add a comment to a module by double-clicking the module and entering text.",
      "pos": [
        6207,
        6301
      ]
    },
    {
      "content": "This can help you see at a glance what the module is doing in your experiment.",
      "pos": [
        6302,
        6380
      ]
    },
    {
      "content": "In this case, double-click the <bpt id=\"p1\">[</bpt>Project Columns<ept id=\"p1\">][project-columns]</ept> module and type the comment \"Exclude normalized-losses.\"",
      "pos": [
        6381,
        6503
      ]
    },
    {
      "content": "Drag the <bpt id=\"p1\">[</bpt>Clean Missing Data<ept id=\"p1\">][clean-missing-data]</ept> module to the experiment canvas and connect it to the <bpt id=\"p2\">[</bpt>Project Columns<ept id=\"p2\">][project-columns]</ept> module.",
      "pos": [
        6508,
        6654
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> pane, select <bpt id=\"p2\">**</bpt>Remove entire row<ept id=\"p2\">**</ept> under <bpt id=\"p3\">**</bpt>Cleaning mode<ept id=\"p3\">**</ept> to clean the data by removing rows that have missing values.",
      "pos": [
        6655,
        6796
      ]
    },
    {
      "content": "Double-click the module and type the comment \"Remove missing value rows.\"",
      "pos": [
        6797,
        6870
      ]
    },
    {
      "content": "![Clean Missing Data properties][screen4a]",
      "pos": [
        6876,
        6918
      ]
    },
    {
      "pos": [
        6923,
        6990
      ],
      "content": "Run the experiment by clicking <bpt id=\"p1\">**</bpt>RUN<ept id=\"p1\">**</ept> under the experiment canvas."
    },
    {
      "content": "When the experiment is finished, all the modules have a green check mark to indicate that they finished successfully.",
      "pos": [
        6992,
        7109
      ]
    },
    {
      "content": "Notice also the <bpt id=\"p1\">**</bpt>Finished running<ept id=\"p1\">**</ept> status in the upper-right corner.",
      "pos": [
        7110,
        7180
      ]
    },
    {
      "content": "![First experiment run][screen5]",
      "pos": [
        7182,
        7214
      ]
    },
    {
      "content": "All we have done in the experiment to this point is clean the data.",
      "pos": [
        7216,
        7283
      ]
    },
    {
      "content": "If you want to view the cleaned dataset, click the left output port of the <bpt id=\"p1\">[</bpt>Clean Missing Data<ept id=\"p1\">][clean-missing-data]</ept> module (\"Cleaned dataset\") and select <bpt id=\"p2\">**</bpt>Visualize<ept id=\"p2\">**</ept>.",
      "pos": [
        7284,
        7452
      ]
    },
    {
      "content": "Notice that the <bpt id=\"p1\">**</bpt>normalized-losses<ept id=\"p1\">**</ept> column is no longer included, and there are no missing values.",
      "pos": [
        7453,
        7553
      ]
    },
    {
      "content": "Now that the data is clean, we're ready to specify what features we're going to use in the predictive model.",
      "pos": [
        7555,
        7663
      ]
    },
    {
      "content": "Step 3: Define features",
      "pos": [
        7668,
        7691
      ]
    },
    {
      "content": "In machine learning, <bpt id=\"p1\">*</bpt>features<ept id=\"p1\">*</ept> are individual measurable properties of something you’re interested in.",
      "pos": [
        7693,
        7796
      ]
    },
    {
      "content": "In our dataset, each row represents one automobile, and each column is a feature of that automobile.",
      "pos": [
        7797,
        7897
      ]
    },
    {
      "content": "Finding a good set of features for creating a predictive model requires experimentation and knowledge about the problem you want to solve.",
      "pos": [
        7898,
        8036
      ]
    },
    {
      "content": "Some features are better for predicting the target than others.",
      "pos": [
        8037,
        8100
      ]
    },
    {
      "content": "Also, some features have a strong correlation with other features (for example, city-mpg versus highway-mpg), so they will not add much new information to the model, and they can be removed.",
      "pos": [
        8101,
        8291
      ]
    },
    {
      "content": "Let's build a model that uses a subset of the features in our dataset.",
      "pos": [
        8293,
        8363
      ]
    },
    {
      "content": "You can come back and select different features, run the experiment again, and see if you get better results.",
      "pos": [
        8364,
        8473
      ]
    },
    {
      "content": "As a first guess, we'll select the following features (columns) with the <bpt id=\"p1\">[</bpt>Project Columns<ept id=\"p1\">][project-columns]</ept> module.",
      "pos": [
        8474,
        8589
      ]
    },
    {
      "content": "Note that for training the model, we need to include the <bpt id=\"p1\">*</bpt>price<ept id=\"p1\">*</ept> value that we're going to predict.",
      "pos": [
        8590,
        8689
      ]
    },
    {
      "content": "Drag another <bpt id=\"p1\">[</bpt>Project Columns<ept id=\"p1\">][project-columns]</ept> module to the experiment canvas and connect it to the left output port of the <bpt id=\"p2\">[</bpt>Clean Missing Data<ept id=\"p2\">][clean-missing-data]</ept> module.",
      "pos": [
        8783,
        8957
      ]
    },
    {
      "content": "Double-click the module and type \"Select features for prediction.\"",
      "pos": [
        8958,
        9024
      ]
    },
    {
      "pos": [
        9029,
        9089
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Launch column selector<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> pane."
    },
    {
      "content": "In the column selector, select <bpt id=\"p1\">**</bpt>No columns<ept id=\"p1\">**</ept> for <bpt id=\"p2\">**</bpt>Begin With<ept id=\"p2\">**</ept>, and then select <bpt id=\"p3\">**</bpt>Include<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>column names<ept id=\"p4\">**</ept> in the filter row.",
      "pos": [
        9094,
        9227
      ]
    },
    {
      "content": "Enter our list of column names.",
      "pos": [
        9228,
        9259
      ]
    },
    {
      "content": "This directs the module to pass through only columns that we specify.",
      "pos": [
        9260,
        9329
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> Because we've run the experiment, the column definitions for our data have passed from the original dataset through the <bpt id=\"p1\">[</bpt>Clean Missing Data<ept id=\"p1\">][clean-missing-data]</ept> module.",
      "pos": [
        9337,
        9517
      ]
    },
    {
      "content": "When you connect <bpt id=\"p1\">[</bpt>Project Columns<ept id=\"p1\">][project-columns]</ept> to <bpt id=\"p2\">[</bpt>Clean Missing Data<ept id=\"p2\">][clean-missing-data]</ept>, the <bpt id=\"p3\">[</bpt>Project Columns<ept id=\"p3\">][project-columns]</ept> module becomes aware of the column definitions in our data.",
      "pos": [
        9518,
        9713
      ]
    },
    {
      "content": "When you click the <bpt id=\"p1\">**</bpt>column names<ept id=\"p1\">**</ept> box, a list of columns is displayed, and you can select the columns that you want to add to the list.",
      "pos": [
        9714,
        9851
      ]
    },
    {
      "content": "Click the check mark (OK) button.",
      "pos": [
        9856,
        9889
      ]
    },
    {
      "content": "![Select columns][screen6]",
      "pos": [
        9891,
        9917
      ]
    },
    {
      "content": "This produces the dataset that will be used in the learning algorithm in the next steps.",
      "pos": [
        9919,
        10007
      ]
    },
    {
      "content": "Later, you can return and try again with a different selection of features.",
      "pos": [
        10008,
        10083
      ]
    },
    {
      "content": "Step 4: Choose and apply a learning algorithm",
      "pos": [
        10088,
        10133
      ]
    },
    {
      "content": "Now that the data is ready, constructing a predictive model consists of training and testing.",
      "pos": [
        10135,
        10228
      ]
    },
    {
      "content": "We'll use our data to train the model and then test the model to see how close it's able to predict prices.",
      "pos": [
        10229,
        10336
      ]
    },
    {
      "content": "<bpt id=\"p1\">*</bpt>Classification<ept id=\"p1\">*</ept> and <bpt id=\"p2\">*</bpt>regression<ept id=\"p2\">*</ept> are two types of supervised machine learning techniques.",
      "pos": [
        10338,
        10428
      ]
    },
    {
      "content": "Classification is used to make a prediction from a defined set of values, such as a color (red, blue, or green).",
      "pos": [
        10429,
        10541
      ]
    },
    {
      "content": "Regression is used to make a prediction from a continuous set of values, such as a person's age.",
      "pos": [
        10542,
        10638
      ]
    },
    {
      "content": "We want to predict the price of an automobile, which can be any value, so we'll use a regression model.",
      "pos": [
        10640,
        10743
      ]
    },
    {
      "content": "For this example, we'll train a simple <bpt id=\"p1\">*</bpt>linear regression<ept id=\"p1\">*</ept> model, and in the next step, we'll test it.",
      "pos": [
        10744,
        10846
      ]
    },
    {
      "content": "We can use our data for both training and testing by splitting it into separate training and testing sets.",
      "pos": [
        10851,
        10957
      ]
    },
    {
      "content": "Select and drag the <bpt id=\"p1\">[</bpt>Split<ept id=\"p1\">][split]</ept> module to the experiment canvas and connect it to the output of the last <bpt id=\"p2\">[</bpt>Project Columns<ept id=\"p2\">][project-columns]</ept> module.",
      "pos": [
        10958,
        11108
      ]
    },
    {
      "content": "Set <bpt id=\"p1\">**</bpt>Fraction of rows in the first output dataset<ept id=\"p1\">**</ept> to 0.75.",
      "pos": [
        11109,
        11170
      ]
    },
    {
      "content": "This way, we'll use 75 percent of the data to train the model, and hold back 25 percent for testing.",
      "pos": [
        11171,
        11271
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> By changing the <bpt id=\"p1\">**</bpt>Random seed<ept id=\"p1\">**</ept> parameter, you can produce different random samples for training and testing.",
      "pos": [
        11279,
        11400
      ]
    },
    {
      "content": "This parameter controls the seeding of the pseudo-random number generator.",
      "pos": [
        11401,
        11475
      ]
    },
    {
      "content": "Run the experiment.",
      "pos": [
        11480,
        11499
      ]
    },
    {
      "content": "This allows the <bpt id=\"p1\">[</bpt>Project Columns<ept id=\"p1\">][project-columns]</ept> and <bpt id=\"p2\">[</bpt>Split<ept id=\"p2\">][split]</ept> modules to pass column definitions to the modules we'll be adding next.",
      "pos": [
        11500,
        11641
      ]
    },
    {
      "content": "To select the learning algorithm, expand the <bpt id=\"p1\">**</bpt>Machine Learning<ept id=\"p1\">**</ept> category in the module palette to the left of the canvas, and then expand <bpt id=\"p2\">**</bpt>Initialize Model<ept id=\"p2\">**</ept>.",
      "pos": [
        11648,
        11809
      ]
    },
    {
      "content": "This displays several categories of modules that can be used to initialize machine learning algorithms.",
      "pos": [
        11810,
        11913
      ]
    },
    {
      "pos": [
        11919,
        12156
      ],
      "content": "For this experiment, select the <bpt id=\"p1\">[</bpt>Linear Regression<ept id=\"p1\">][linear-regression]</ept> module under the <bpt id=\"p2\">**</bpt>Regression<ept id=\"p2\">**</ept> category (you can also find the module by typing \"linear regression\" in the palette Search box), and drag it to the experiment canvas."
    },
    {
      "content": "Find and drag the <bpt id=\"p1\">[</bpt>Train Model<ept id=\"p1\">][train-model]</ept> module to the experiment canvas.",
      "pos": [
        12161,
        12238
      ]
    },
    {
      "content": "Connect the left input port to the output of the <bpt id=\"p1\">[</bpt>Linear Regression<ept id=\"p1\">][linear-regression]</ept> module.",
      "pos": [
        12239,
        12334
      ]
    },
    {
      "content": "Connect the right input port to the training data output (left port) of the <bpt id=\"p1\">[</bpt>Split<ept id=\"p1\">][split]</ept> module.",
      "pos": [
        12335,
        12433
      ]
    },
    {
      "content": "Select the <bpt id=\"p1\">[</bpt>Train Model<ept id=\"p1\">][train-model]</ept> module, click <bpt id=\"p2\">**</bpt>Launch column selector<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Properties<ept id=\"p3\">**</ept> pane, and then select the <bpt id=\"p4\">**</bpt>price<ept id=\"p4\">**</ept> column.",
      "pos": [
        12438,
        12582
      ]
    },
    {
      "content": "This is the value that our model is going to predict.",
      "pos": [
        12583,
        12636
      ]
    },
    {
      "content": "![Select \"price\" column][screen7]",
      "pos": [
        12642,
        12675
      ]
    },
    {
      "content": "Run the experiment.",
      "pos": [
        12680,
        12699
      ]
    },
    {
      "content": "The result is a trained regression model that can be used to score new samples to make predictions.",
      "pos": [
        12701,
        12800
      ]
    },
    {
      "content": "![Applying the machine learning algorithm][screen8]",
      "pos": [
        12802,
        12853
      ]
    },
    {
      "content": "Step 5: Predict new automobile prices",
      "pos": [
        12858,
        12895
      ]
    },
    {
      "content": "Now that we've trained the model using 75 percent of our data, we can use it to score the other 25 percent of the data to see how well our model functions.",
      "pos": [
        12897,
        13052
      ]
    },
    {
      "content": "Find and drag the <bpt id=\"p1\">[</bpt>Score Model<ept id=\"p1\">][score-model]</ept> module to the experiment canvas and connect the left input port to the output of the <bpt id=\"p2\">[</bpt>Train Model<ept id=\"p2\">][train-model]</ept> module.",
      "pos": [
        13057,
        13221
      ]
    },
    {
      "content": "Connect the right input port to the test data output (right port) of the <bpt id=\"p1\">[</bpt>Split<ept id=\"p1\">][split]</ept> module.",
      "pos": [
        13222,
        13317
      ]
    },
    {
      "content": "![Score Model module][screen8a]",
      "pos": [
        13325,
        13356
      ]
    },
    {
      "content": "To run the experiment and view the output from the <bpt id=\"p1\">[</bpt>Score Model<ept id=\"p1\">][score-model]</ept> module, click the output port, and then select <bpt id=\"p2\">**</bpt>Visualize<ept id=\"p2\">**</ept>.",
      "pos": [
        13361,
        13500
      ]
    },
    {
      "content": "The output shows the predicted values for price and the known values from the test data.",
      "pos": [
        13501,
        13589
      ]
    },
    {
      "content": "Finally, to test the quality of the results, select and drag the <bpt id=\"p1\">[</bpt>Evaluate Model<ept id=\"p1\">][evaluate-model]</ept> module to the experiment canvas, and connect the left input port to the output of the <bpt id=\"p2\">[</bpt>Score Model<ept id=\"p2\">][score-model]</ept> module.",
      "pos": [
        13596,
        13814
      ]
    },
    {
      "content": "(There are two input ports because the <bpt id=\"p1\">[</bpt>Evaluate Model<ept id=\"p1\">][evaluate-model]</ept> module can be used to compare two models.)",
      "pos": [
        13815,
        13929
      ]
    },
    {
      "content": "Run the experiment.",
      "pos": [
        13934,
        13953
      ]
    },
    {
      "content": "To view the output from the <bpt id=\"p1\">[</bpt>Evaluate Model<ept id=\"p1\">][evaluate-model]</ept> module, click the output port, and then select <bpt id=\"p2\">**</bpt>Visualize<ept id=\"p2\">**</ept>.",
      "pos": [
        13955,
        14077
      ]
    },
    {
      "content": "The following statistics are shown for our model:",
      "pos": [
        14078,
        14127
      ]
    },
    {
      "pos": [
        14131,
        14273
      ],
      "content": "<bpt id=\"p1\">**</bpt>Mean Absolute Error<ept id=\"p1\">**</ept> (MAE): The average of absolute errors (an <bpt id=\"p2\">*</bpt>error<ept id=\"p2\">*</ept> is the difference between the predicted value and the actual value)."
    },
    {
      "pos": [
        14276,
        14401
      ],
      "content": "<bpt id=\"p1\">**</bpt>Root Mean Squared Error<ept id=\"p1\">**</ept> (RMSE): The square root of the average of squared errors of predictions made on the test dataset."
    },
    {
      "pos": [
        14404,
        14559
      ],
      "content": "<bpt id=\"p1\">**</bpt>Relative Absolute Error<ept id=\"p1\">**</ept>: The average of absolute errors relative to the absolute difference between actual values and the average of all actual values."
    },
    {
      "pos": [
        14562,
        14718
      ],
      "content": "<bpt id=\"p1\">**</bpt>Relative Squared Error<ept id=\"p1\">**</ept>: The average of squared errors relative to the squared difference between the actual values and the average of all actual values."
    },
    {
      "pos": [
        14721,
        14865
      ],
      "content": "<bpt id=\"p1\">**</bpt>Coefficient of Determination<ept id=\"p1\">**</ept>: Also known as the <bpt id=\"p2\">**</bpt>R squared value<ept id=\"p2\">**</ept>, this is a statistical metric indicating how well a model fits the data."
    },
    {
      "content": "For each of the error statistics, smaller is better.",
      "pos": [
        14867,
        14919
      ]
    },
    {
      "content": "A smaller value indicates that the predictions more closely match the actual values.",
      "pos": [
        14920,
        15004
      ]
    },
    {
      "content": "For <bpt id=\"p1\">**</bpt>Coefficient of Determination<ept id=\"p1\">**</ept>, the closer its value is to one (1.0), the better the predictions.",
      "pos": [
        15005,
        15108
      ]
    },
    {
      "content": "![Evaluation results][screen9]",
      "pos": [
        15110,
        15140
      ]
    },
    {
      "content": "The final experiment should look like this:",
      "pos": [
        15142,
        15185
      ]
    },
    {
      "content": "![Machine learning tutorial: Complete linear regression experiment that uses predictive modeling techniques.][screen10]",
      "pos": [
        15187,
        15306
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        15311,
        15321
      ]
    },
    {
      "content": "Now that you've completed a first machine learning tutorial and have your experiment set up, you can iterate to try to improve the model.",
      "pos": [
        15323,
        15460
      ]
    },
    {
      "content": "For instance, you can change the features you use in your prediction.",
      "pos": [
        15461,
        15530
      ]
    },
    {
      "content": "Or you can modify the properties of the <bpt id=\"p1\">[</bpt>Linear Regression<ept id=\"p1\">][linear-regression]</ept> algorithm or try a different algorithm altogether.",
      "pos": [
        15531,
        15660
      ]
    },
    {
      "content": "You can even add multiple machine learning algorithms to your experiment at one time and compare two by using the <bpt id=\"p1\">[</bpt>Evaluate Model<ept id=\"p1\">][evaluate-model]</ept> module.",
      "pos": [
        15661,
        15815
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> Use the <bpt id=\"p1\">**</bpt>SAVE AS<ept id=\"p1\">**</ept> button under the experiment canvas to copy any iteration of your experiment.",
      "pos": [
        15819,
        15927
      ]
    },
    {
      "content": "You can see all the iterations of your experiment by clicking <bpt id=\"p1\">**</bpt>VIEW RUN HISTORY<ept id=\"p1\">**</ept> under the canvas.",
      "pos": [
        15928,
        16028
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Manage experiment iterations in Azure Machine Learning Studio<ept id=\"p1\">][runhistory]</ept> for more details.",
      "pos": [
        16029,
        16126
      ]
    },
    {
      "content": "When you're satisfied with your model, you can publish it as a web service to be used to predict automobile prices by using new data.",
      "pos": [
        16192,
        16325
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Publish an Azure Machine Learning web service<ept id=\"p1\">][publish]</ept> for more details.",
      "pos": [
        16326,
        16404
      ]
    },
    {
      "pos": [
        16477,
        16695
      ],
      "content": "For a more extensive and detailed walkthrough of predictive modeling techniques for creating, training, scoring, and publishing a model, see <bpt id=\"p1\">[</bpt>Develop a predictive solution by using Azure Machine Learning<ept id=\"p1\">][walkthrough]</ept>."
    },
    {
      "content": "test",
      "pos": [
        18440,
        18444
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Create a simple experiment in Machine Learning Studio | Microsoft Azure\"\n    description=\"A first machine learning tutorial for creating a simple experiment to train and test a linear regression model in Azure Machine Learning Studio.\"\n    keywords=\"experiment,linear regression,machine learning algorithms,machine learning tutorial,predictive modeling techniques\"\n    services=\"machine-learning\"\n    documentationCenter=\"\"\n    authors=\"garyericson\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n    ms.service=\"machine-learning\"\n    ms.workload=\"data-services\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"hero-article\"\n    ms.date=\"07/09/2015\"\n    ms.author=\"garye\"/>\n\n#Machine learning tutorial: Create your first experiment in Azure Machine Learning Studio\n\nIn this first machine learning tutorial, we'll create a linear regression model that predicts the price of an automobile based on different variables such as make and technical specifications. To do this, we'll use Azure Machine Learning Studio to develop and iterate on a simple predictive analytics experiment.\n\n[AZURE.INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]\n\nA Machine Learning Studio experiment consists of dragging components to a canvas, and connecting them in order to *create a model*, *train the model*, and *score and test the model*. The experiment uses predictive modeling techniques in the form of Machine Learning Studio modules that ingest data, train a model against it, and apply the model to new data. You can also add modules to preprocess data and select features, split data into training and test sets, and evaluate or cross-validate the quality of your model.  \n\nEnter Machine Learning Studio: [https://studio.azureml.net](https://studio.azureml.net), and click the **Get started** button. You can choose either the Guest Access or sign in with your Microsoft account.\n\nAnd for more general information about Machine Learning Studio, see [What is Machine Learning Studio?](machine-learning-what-is-ml-studio.md).\n\n\n##Five steps to create an experiment\n\nIn this machine learning tutorial, you'll follow five basic steps to build an experiment in Machine Learning Studio in order to create, train, and score your model:\n\n- Create a model\n    - [Step 1: Get data]\n    - [Step 2: Preprocess data]\n    - [Step 3: Define features]\n- Train the model\n    - [Step 4: Choose and apply a learning algorithm]\n- Score and test the model\n    - [Step 5: Predict new automobile prices]\n\n[Step 1: Get data]: #step-1-get-data\n[Step 2: Preprocess data]: #step-2-preprocess-data\n[Step 3: Define features]: #step-3-define-features\n[Step 4: Choose and apply a learning algorithm]: #step-4-choose-and-apply-a-learning-algorithm\n[Step 5: Predict new automobile prices]: #step-5-predict-new-automobile-prices\n\n\n## Step 1: Get data\n\nThere are a number of sample datasets included with Machine Learning Studio that you can choose from, and you can import data from many sources. For this example, we will use the included sample dataset, **Automobile price data (Raw)**.\nThis dataset includes entries for a number of individual automobiles, including information such as make, model, technical specifications, and price.\n\n1. Start a new experiment by clicking **+NEW** at the bottom of the Machine Learning Studio window, select **EXPERIMENT**, and then select **Blank Experiment**. Select the default experiment name at the top of the canvas and rename it to something meaningful, for example, **Automobile price prediction**.\n\n2. To the left of the experiment canvas is a palette of datasets and modules. Type **automobile** in the Search box at the top of this palette to find the dataset labeled **Automobile price data (Raw)**.\n\n    ![Palette search][screen1a]\n\n3. Drag the dataset to the experiment canvas.\n\n    ![Dataset][screen1]\n\nTo see what this data looks like, click the output port at the bottom of the automobile dataset, and then select **Visualize**. The variables in the dataset appear as columns, and each instance of an automobile appears as a row. The far-right column (column 26 and titled \"price\") is the target variable we're going to try to predict.\n\n![Dataset visualization][screen1b]\n\nClose the visualization window by clicking the \"**x**\" in the upper-right corner.\n\n## Step 2: Preprocess data\n\nA dataset usually requires some preprocessing before it can be analyzed. You might have noticed the missing values present in the columns of various rows. These missing values need to be cleaned so the model can analyze the data correctly. In our case, we'll remove any rows that have missing values. Also, the **normalized-losses** column has a large proportion of missing values, so we'll exclude that column from the model altogether.\n\n> [AZURE.TIP] Cleaning the missing values from input data is a prerequisite for using most of the modules.\n\nFirst we'll remove the **normalized-losses** column, and then we'll remove any row that has missing data.\n\n1. Type **project columns** in the Search box at the top of the module palette to find the [Project Columns][project-columns] module, then drag it to the experiment canvas and connect it to the output port of the **Automobile price data (Raw)** dataset. This module allows us to select which columns of data we want to include or exclude in the model.\n\n2. Select the [Project Columns][project-columns] module and click **Launch column selector** in the **Properties** pane.\n\n    - Make sure **All columns** is selected in the filter drop-down list, **Begin With**. This directs [Project Columns][project-columns] to pass through all the columns (except those we're about to exclude).\n    - In the next row, select **Exclude** and **column names**, and then click inside the text box. A list of columns is displayed. Select **normalized-losses**, and it will be added to the text box.\n    - Click the check mark (OK) button to close the column selector.\n\n    ![Select columns][screen3]\n\n    The properties pane for **Project Columns** indicates that it will pass through all columns from the dataset except **normalized-losses**.\n\n    ![Project Columns properties][screen4]\n\n    > [AZURE.TIP] You can add a comment to a module by double-clicking the module and entering text. This can help you see at a glance what the module is doing in your experiment. In this case, double-click the [Project Columns][project-columns] module and type the comment \"Exclude normalized-losses.\"\n\n3. Drag the [Clean Missing Data][clean-missing-data] module to the experiment canvas and connect it to the [Project Columns][project-columns] module. In the **Properties** pane, select **Remove entire row** under **Cleaning mode** to clean the data by removing rows that have missing values. Double-click the module and type the comment \"Remove missing value rows.\"\n\n    ![Clean Missing Data properties][screen4a]\n\n4. Run the experiment by clicking **RUN** under the experiment canvas.\n\nWhen the experiment is finished, all the modules have a green check mark to indicate that they finished successfully. Notice also the **Finished running** status in the upper-right corner.\n\n![First experiment run][screen5]\n\nAll we have done in the experiment to this point is clean the data. If you want to view the cleaned dataset, click the left output port of the [Clean Missing Data][clean-missing-data] module (\"Cleaned dataset\") and select **Visualize**. Notice that the **normalized-losses** column is no longer included, and there are no missing values.\n\nNow that the data is clean, we're ready to specify what features we're going to use in the predictive model.\n\n## Step 3: Define features\n\nIn machine learning, *features* are individual measurable properties of something you’re interested in. In our dataset, each row represents one automobile, and each column is a feature of that automobile. Finding a good set of features for creating a predictive model requires experimentation and knowledge about the problem you want to solve. Some features are better for predicting the target than others. Also, some features have a strong correlation with other features (for example, city-mpg versus highway-mpg), so they will not add much new information to the model, and they can be removed.\n\nLet's build a model that uses a subset of the features in our dataset. You can come back and select different features, run the experiment again, and see if you get better results. As a first guess, we'll select the following features (columns) with the [Project Columns][project-columns] module. Note that for training the model, we need to include the *price* value that we're going to predict.\n\n    make, body-style, wheel-base, engine-size, horsepower, peak-rpm, highway-mpg, price\n\n1. Drag another [Project Columns][project-columns] module to the experiment canvas and connect it to the left output port of the [Clean Missing Data][clean-missing-data] module. Double-click the module and type \"Select features for prediction.\"\n\n2. Click **Launch column selector** in the **Properties** pane.\n\n3. In the column selector, select **No columns** for **Begin With**, and then select **Include** and **column names** in the filter row. Enter our list of column names. This directs the module to pass through only columns that we specify.\n\n    > [AZURE.TIP] Because we've run the experiment, the column definitions for our data have passed from the original dataset through the [Clean Missing Data][clean-missing-data] module. When you connect [Project Columns][project-columns] to [Clean Missing Data][clean-missing-data], the [Project Columns][project-columns] module becomes aware of the column definitions in our data. When you click the **column names** box, a list of columns is displayed, and you can select the columns that you want to add to the list.\n\n4. Click the check mark (OK) button.\n\n![Select columns][screen6]\n\nThis produces the dataset that will be used in the learning algorithm in the next steps. Later, you can return and try again with a different selection of features.\n\n## Step 4: Choose and apply a learning algorithm\n\nNow that the data is ready, constructing a predictive model consists of training and testing. We'll use our data to train the model and then test the model to see how close it's able to predict prices.\n\n*Classification* and *regression* are two types of supervised machine learning techniques. Classification is used to make a prediction from a defined set of values, such as a color (red, blue, or green). Regression is used to make a prediction from a continuous set of values, such as a person's age.\n\nWe want to predict the price of an automobile, which can be any value, so we'll use a regression model. For this example, we'll train a simple *linear regression* model, and in the next step, we'll test it.\n\n1. We can use our data for both training and testing by splitting it into separate training and testing sets. Select and drag the [Split][split] module to the experiment canvas and connect it to the output of the last [Project Columns][project-columns] module. Set **Fraction of rows in the first output dataset** to 0.75. This way, we'll use 75 percent of the data to train the model, and hold back 25 percent for testing.\n\n    > [AZURE.TIP] By changing the **Random seed** parameter, you can produce different random samples for training and testing. This parameter controls the seeding of the pseudo-random number generator.\n\n2. Run the experiment. This allows the [Project Columns][project-columns] and [Split][split] modules to pass column definitions to the modules we'll be adding next.  \n\n3. To select the learning algorithm, expand the **Machine Learning** category in the module palette to the left of the canvas, and then expand **Initialize Model**. This displays several categories of modules that can be used to initialize machine learning algorithms.\n\n    For this experiment, select the [Linear Regression][linear-regression] module under the **Regression** category (you can also find the module by typing \"linear regression\" in the palette Search box), and drag it to the experiment canvas.\n\n4. Find and drag the [Train Model][train-model] module to the experiment canvas. Connect the left input port to the output of the [Linear Regression][linear-regression] module. Connect the right input port to the training data output (left port) of the [Split][split] module.\n\n5. Select the [Train Model][train-model] module, click **Launch column selector** in the **Properties** pane, and then select the **price** column. This is the value that our model is going to predict.\n\n    ![Select \"price\" column][screen7]\n\n6. Run the experiment.\n\nThe result is a trained regression model that can be used to score new samples to make predictions.\n\n![Applying the machine learning algorithm][screen8]\n\n## Step 5: Predict new automobile prices\n\nNow that we've trained the model using 75 percent of our data, we can use it to score the other 25 percent of the data to see how well our model functions.\n\n1. Find and drag the [Score Model][score-model] module to the experiment canvas and connect the left input port to the output of the [Train Model][train-model] module. Connect the right input port to the test data output (right port) of the [Split][split] module.  \n\n    ![Score Model module][screen8a]\n\n2. To run the experiment and view the output from the [Score Model][score-model] module, click the output port, and then select **Visualize**. The output shows the predicted values for price and the known values from the test data.  \n\n3. Finally, to test the quality of the results, select and drag the [Evaluate Model][evaluate-model] module to the experiment canvas, and connect the left input port to the output of the [Score Model][score-model] module. (There are two input ports because the [Evaluate Model][evaluate-model] module can be used to compare two models.)\n\n4. Run the experiment.\n\nTo view the output from the [Evaluate Model][evaluate-model] module, click the output port, and then select **Visualize**. The following statistics are shown for our model:\n\n- **Mean Absolute Error** (MAE): The average of absolute errors (an *error* is the difference between the predicted value and the actual value).\n- **Root Mean Squared Error** (RMSE): The square root of the average of squared errors of predictions made on the test dataset.\n- **Relative Absolute Error**: The average of absolute errors relative to the absolute difference between actual values and the average of all actual values.\n- **Relative Squared Error**: The average of squared errors relative to the squared difference between the actual values and the average of all actual values.\n- **Coefficient of Determination**: Also known as the **R squared value**, this is a statistical metric indicating how well a model fits the data.\n\nFor each of the error statistics, smaller is better. A smaller value indicates that the predictions more closely match the actual values. For **Coefficient of Determination**, the closer its value is to one (1.0), the better the predictions.\n\n![Evaluation results][screen9]\n\nThe final experiment should look like this:\n\n![Machine learning tutorial: Complete linear regression experiment that uses predictive modeling techniques.][screen10]\n\n## Next steps\n\nNow that you've completed a first machine learning tutorial and have your experiment set up, you can iterate to try to improve the model. For instance, you can change the features you use in your prediction. Or you can modify the properties of the [Linear Regression][linear-regression] algorithm or try a different algorithm altogether. You can even add multiple machine learning algorithms to your experiment at one time and compare two by using the [Evaluate Model][evaluate-model] module.\n\n> [AZURE.TIP] Use the **SAVE AS** button under the experiment canvas to copy any iteration of your experiment. You can see all the iterations of your experiment by clicking **VIEW RUN HISTORY** under the canvas. See [Manage experiment iterations in Azure Machine Learning Studio][runhistory] for more details.\n\n[runhistory]: machine-learning-manage-experiment-iterations.md\n\nWhen you're satisfied with your model, you can publish it as a web service to be used to predict automobile prices by using new data. See [Publish an Azure Machine Learning web service][publish] for more details.\n\n[publish]: machine-learning-publish-a-machine-learning-web-service.md\n\nFor a more extensive and detailed walkthrough of predictive modeling techniques for creating, training, scoring, and publishing a model, see [Develop a predictive solution by using Azure Machine Learning][walkthrough].\n\n[walkthrough]: machine-learning-walkthrough-develop-predictive-solution.md\n\n<!-- Images -->\n[screen1]:./media/machine-learning-create-experiment/screen1.png\n[screen1a]:./media/machine-learning-create-experiment/screen1a.png\n[screen1b]:./media/machine-learning-create-experiment/screen1b.png\n[screen2]:./media/machine-learning-create-experiment/screen2.png\n[screen3]:./media/machine-learning-create-experiment/screen3.png\n[screen4]:./media/machine-learning-create-experiment/screen4.png\n[screen4a]:./media/machine-learning-create-experiment/screen4a.png\n[screen5]:./media/machine-learning-create-experiment/screen5.png\n[screen6]:./media/machine-learning-create-experiment/screen6.png\n[screen7]:./media/machine-learning-create-experiment/screen7.png\n[screen8]:./media/machine-learning-create-experiment/screen8.png\n[screen8a]:./media/machine-learning-create-experiment/screen8a.png\n[screen9]:./media/machine-learning-create-experiment/screen9.png\n[screen10]:./media/machine-learning-create-experiment/complete-linear-regression-experiment.png\n\n\n<!-- Module References -->\n[evaluate-model]: https://msdn.microsoft.com/library/azure/927d65ac-3b50-4694-9903-20f6c1672089/\n[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/\n[clean-missing-data]: https://msdn.microsoft.com/library/azure/d2c5ca2f-7323-41a3-9b7e-da917c99f0c4/\n[project-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/\n[score-model]: https://msdn.microsoft.com/library/azure/401b4f92-e724-4d5a-be81-d5b0ff9bdb33/\n[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/\n[train-model]: https://msdn.microsoft.com/library/azure/5cc7053e-aa30-450d-96c0-dae4be720977/\n\ntest\n"
}