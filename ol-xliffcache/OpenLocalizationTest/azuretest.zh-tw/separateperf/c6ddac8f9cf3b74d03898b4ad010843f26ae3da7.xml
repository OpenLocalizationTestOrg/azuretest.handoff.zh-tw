{
  "nodes": [
    {
      "content": "Create and manage Azure Virtual Machines in Visual Studio",
      "pos": [
        27,
        84
      ]
    },
    {
      "content": "Create and manage Azure Virtual Machines in Visual Studio",
      "pos": [
        102,
        159
      ]
    },
    {
      "content": "Create and Manage Azure Virtual Machines in Visual Studio",
      "pos": [
        462,
        519
      ]
    },
    {
      "content": "You can create virtual machines in Azure by using Server Explorer in Visual Studio.",
      "pos": [
        521,
        604
      ]
    },
    {
      "content": "Create an Azure virtual machine in Server Explorer",
      "pos": [
        609,
        659
      ]
    },
    {
      "content": "While you can create a virtual machine in the <bpt id=\"p1\">[</bpt>Azure Management Portal<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=253103)</ept>, you can also create a virtual machine in Azure by using commands in Server Explorer.",
      "pos": [
        661,
        865
      ]
    },
    {
      "content": "Virtual machines can be used, for example, to provide a front end behind a common load-balanced public endpoint.",
      "pos": [
        866,
        978
      ]
    },
    {
      "content": "To create a new virtual machine",
      "pos": [
        984,
        1015
      ]
    },
    {
      "pos": [
        1020,
        1095
      ],
      "content": "In Server Explorer, open the <bpt id=\"p1\">**</bpt>Azure<ept id=\"p1\">**</ept> node and click <bpt id=\"p2\">**</bpt>Virtual Machines<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        1100,
        1154
      ],
      "content": "On the context menu, click <bpt id=\"p1\">**</bpt>Create Virtual Machine<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        1160,
        1212
      ],
      "content": "The <bpt id=\"p1\">**</bpt>Create a New Virtual Machine<ept id=\"p1\">**</ept> wizard appears."
    },
    {
      "content": "The Create Virtual Machine command",
      "pos": [
        1220,
        1254
      ]
    },
    {
      "pos": [
        1328,
        1454
      ],
      "content": "On the <bpt id=\"p1\">**</bpt>Choose a Subscription<ept id=\"p1\">**</ept> page, select a subscription to use when creating the virtual machine and then click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>."
    },
    {
      "content": "If you aren’t signed in to Azure, click <bpt id=\"p1\">**</bpt>Sign In<ept id=\"p1\">**</ept> to sign in.",
      "pos": [
        1460,
        1523
      ]
    },
    {
      "content": "Then, select your Azure subscription in the dropdown list box if it’s not already selected.",
      "pos": [
        1524,
        1615
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Select a Virtual Machine Image<ept id=\"p1\">**</ept> page, select an image type in the <bpt id=\"p2\">**</bpt>Image type<ept id=\"p2\">**</ept> dropdown list box, and then select a virtual machine images in the <bpt id=\"p3\">**</bpt>Image name<ept id=\"p3\">**</ept> list box.",
      "pos": [
        1620,
        1802
      ]
    },
    {
      "content": "When you're done, click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.",
      "pos": [
        1803,
        1836
      ]
    },
    {
      "content": "Select a virtual machine image page",
      "pos": [
        1844,
        1879
      ]
    },
    {
      "content": "You can choose the following image types.",
      "pos": [
        1954,
        1995
      ]
    },
    {
      "pos": [
        2003,
        2129
      ],
      "content": "<bpt id=\"p1\">**</bpt>Public Images<ept id=\"p1\">**</ept> lists virtual machine images of operating systems and server software such as Windows Server and SQL Server."
    },
    {
      "pos": [
        2137,
        2270
      ],
      "content": "<bpt id=\"p1\">**</bpt>MSDN Images<ept id=\"p1\">**</ept> lists virtual machine images of software available to MSDN subscribers, such as Visual Studio and Microsoft Dynamics."
    },
    {
      "pos": [
        2278,
        2374
      ],
      "content": "<bpt id=\"p1\">**</bpt>Private Images<ept id=\"p1\">**</ept> lists specialized and generalized virtual machine images that you've created."
    },
    {
      "content": "To learn about specialized and generalized virtual machines, see <bpt id=\"p1\">[</bpt>VM Image<ept id=\"p1\">](http://azure.microsoft.com/blog/2014/04/14/vm-image-blog-post/)</ept>.",
      "pos": [
        2380,
        2520
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>How to Capture a Windows Virtual Machine to Use as a Template<ept id=\"p1\">](http://azure.microsoft.com/documentation/articles/virtual-machines-capture-image-windows-server/)</ept> for information about how to turn a virtual machine into a template that you can use to quickly create new pre-configured virtual machines.",
      "pos": [
        2521,
        2826
      ]
    },
    {
      "content": "You can click a virtual machine image name to see information about the image on the right side of the page.",
      "pos": [
        2832,
        2940
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> You can't add virtual machine images to the <bpt id=\"p1\">**</bpt>Public Images<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>MSDN Images<ept id=\"p2\">**</ept> lists because they are read-only.",
      "pos": [
        2947,
        3074
      ]
    },
    {
      "content": "All virtual machines that you create are added to the <bpt id=\"p1\">**</bpt>Private Images<ept id=\"p1\">**</ept> list.",
      "pos": [
        3075,
        3153
      ]
    },
    {
      "content": "If you're an MSDN subscriber with a Visual Studio-level subscription, you can create a pre-built Azure virtual machine that contains Visual Studio, as well as several other images.",
      "pos": [
        3164,
        3344
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Create a Virtual Machine in Visual Studio by Using Images Visual Studio 2013 Gallery image for MSDN subscribers<ept id=\"p1\">](http://visualstudio2013msdngalleryimage.azurewebsites.net)</ept> and <bpt id=\"p2\">[</bpt>MSDN subscriptions<ept id=\"p2\">](https://www.visualstudio.com/products/msdn-subscriptions-vs)</ept>.|",
      "pos": [
        3345,
        3631
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Virtual Machine Basic Settings<ept id=\"p1\">**</ept> page, enter a machine name and then add the specifications for the virtual machine, including the size, and a user name and password.",
      "pos": [
        3636,
        3811
      ]
    },
    {
      "content": "When you're done, click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.",
      "pos": [
        3812,
        3845
      ]
    },
    {
      "content": "You’ll use the new name and password to log into the machine using remote desktop, so it’s a good idea to write them down in case you forget.",
      "pos": [
        3851,
        3992
      ]
    },
    {
      "content": "After you create an Azure virtual machine in Visual Studio, you can change its size and other settings in the <bpt id=\"p1\">[</bpt>Azure Management Portal<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=253103)</ept>.",
      "pos": [
        3993,
        4176
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> If you choose larger sizes for the virtual machine, extra charges may apply.",
      "pos": [
        4182,
        4271
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Virtual Machines Pricing Details<ept id=\"p1\">](http://azure.microsoft.com/pricing/details/virtual-machines/)</ept> for more information.",
      "pos": [
        4272,
        4394
      ]
    },
    {
      "content": "Virtual machines created in Visual Studio require a cloud service.",
      "pos": [
        4399,
        4465
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Cloud Service Settings<ept id=\"p1\">**</ept> page, select a cloud service for the virtual machine, or click <bpt id=\"p2\">**</bpt>&lt;Create New…&gt;<ept id=\"p2\">**</ept> in the dropdown list if you don’t already have a cloud service or want to use a new one.",
      "pos": [
        4466,
        4669
      ]
    },
    {
      "content": "A storage account is also required, so choose a storage account (or create a new storage account) in the <bpt id=\"p1\">**</bpt>Storage account<ept id=\"p1\">**</ept> dropdown list box.",
      "pos": [
        4670,
        4813
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Introduction to Microsoft Azure Storage<ept id=\"p1\">](./storage/storage-introduction/)</ept> for more information.",
      "pos": [
        4814,
        4914
      ]
    },
    {
      "content": "If you want to specify a virtual network (which is optional), select it in the Virtual Network and Subnet dropdown list boxes.",
      "pos": [
        4919,
        5045
      ]
    },
    {
      "content": "Virtual machines that are members of an availability set are deployed to different fault domains.",
      "pos": [
        5051,
        5148
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Azure Virtual Network<ept id=\"p1\">](http://www.windowsazure.com/services/virtual-network/)</ept> for more information.",
      "pos": [
        5149,
        5253
      ]
    },
    {
      "content": "If you want your virtual machine to belong to an availability set (also optional), select the <bpt id=\"p1\">**</bpt>Specify an availability set<ept id=\"p1\">**</ept> check box and then choose an availability set in the dropdown list box.",
      "pos": [
        5258,
        5455
      ]
    },
    {
      "content": "When you're done, choose the <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> button.",
      "pos": [
        5456,
        5501
      ]
    },
    {
      "content": "Adding your virtual machine to an availability set helps your application stay available during network failures, local disk hardware failures, and any planned downtime.",
      "pos": [
        5507,
        5676
      ]
    },
    {
      "content": "You need to use the <bpt id=\"p1\">[</bpt>Azure Management Portal<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=253103)</ept> to create virtual networks, subnets, and availability sets.",
      "pos": [
        5677,
        5829
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Manage the Availability of Virtual Machines<ept id=\"p1\">](http://www.windowsazure.com/documentation/articles/manage-availability-virtual-machines/)</ept> for more information.",
      "pos": [
        5830,
        5991
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Endpoints<ept id=\"p1\">**</ept> page, specify the public endpoints that you want available to users of your virtual machine.",
      "pos": [
        5996,
        6109
      ]
    },
    {
      "content": "For example, you might choose to enable HTTP (Port 80) in addition to the Remote Desktop and PowerShell endpoints, which are enabled by default.",
      "pos": [
        6110,
        6254
      ]
    },
    {
      "content": "To add an endpoint, choose one in the <bpt id=\"p1\">**</bpt>Port Name<ept id=\"p1\">**</ept> dropdown list box and then choose the <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept> button.",
      "pos": [
        6255,
        6360
      ]
    },
    {
      "content": "To remove an endpoint, choose the red <bpt id=\"p1\">**</bpt>X<ept id=\"p1\">**</ept> next to the name in the endpoints list.",
      "pos": [
        6361,
        6444
      ]
    },
    {
      "content": "The Endpoints page in the virtual machines wizard.",
      "pos": [
        6452,
        6502
      ]
    },
    {
      "content": "The endpoints that are available depend on the cloud service you selected for your virtual machine.",
      "pos": [
        6578,
        6677
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Azure Service Endpoints<ept id=\"p1\">](https://azure.microsoft.com/documentation/articles/virtual-machines-set-up-endpoints/)</ept> for more information.",
      "pos": [
        6678,
        6816
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Enabling public endpoints makes services on your virtual machine available to the internet.",
      "pos": [
        6823,
        6927
      ]
    },
    {
      "content": "Be sure to install and properly configure the endpoints and services on your virtual machine, such as setting access control lists (ACLs) for the endpoints.",
      "pos": [
        6928,
        7084
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>How to Set Up Endpoints to a Virtual Machine<ept id=\"p1\">](https://azure.microsoft.com/documentation/articles/virtual-machines-set-up-endpoints/)</ept> for more information.",
      "pos": [
        7085,
        7244
      ]
    },
    {
      "pos": [
        7249,
        7368
      ],
      "content": "After you’re done configuring the virtual machine settings, choose the <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept> button to create the virtual machine."
    },
    {
      "pos": [
        7374,
        7500
      ],
      "content": "As Azure creates the virtual machine, the <bpt id=\"p1\">**</bpt>Azure Activity Log<ept id=\"p1\">**</ept> shows the progress of the virtual machine creation operation."
    },
    {
      "content": "Virtual machine activity log - in progress.",
      "pos": [
        7508,
        7551
      ]
    },
    {
      "pos": [
        7626,
        7734
      ],
      "content": "To view only virtual machine information, choose the <bpt id=\"p1\">**</bpt>Virtual Machines<ept id=\"p1\">**</ept> tab in the <bpt id=\"p2\">**</bpt>Azure Activity Log<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Virtual machine activity log - completed.",
      "pos": [
        7742,
        7783
      ]
    },
    {
      "content": "If the operation completes successfully, the new virtual machine appears under the <bpt id=\"p1\">**</bpt>Virtual Machines<ept id=\"p1\">**</ept> node in Server Explorer.",
      "pos": [
        7858,
        7986
      ]
    },
    {
      "content": "You can log into it by clicking the <bpt id=\"p1\">**</bpt>Connect using Remote Desktop<ept id=\"p1\">**</ept> shortcut.",
      "pos": [
        7987,
        8065
      ]
    },
    {
      "content": "Manage your virtual machines",
      "pos": [
        8193,
        8221
      ]
    },
    {
      "content": "On the virtual machine configuration page, in addition to shutting down, connecting, refreshing, and adding checkpoints to the selected virtual machine, you can also view or change settings for the virtual machine.",
      "pos": [
        8223,
        8437
      ]
    },
    {
      "content": "You can:",
      "pos": [
        8438,
        8446
      ]
    },
    {
      "content": "Change the virtual machine size.",
      "pos": [
        8450,
        8482
      ]
    },
    {
      "content": "Select the availability set to use with the virtual machine.",
      "pos": [
        8486,
        8546
      ]
    },
    {
      "content": "Add, remove, or change settings for public endpoints.",
      "pos": [
        8550,
        8603
      ]
    },
    {
      "content": "Add, remove, or configure virtual machine extensions.",
      "pos": [
        8607,
        8660
      ]
    },
    {
      "content": "View information about the disks associated with the virtual machine.",
      "pos": [
        8664,
        8733
      ]
    },
    {
      "content": "View or change virtual machine settings",
      "pos": [
        8739,
        8778
      ]
    },
    {
      "pos": [
        8783,
        8870
      ],
      "content": "In Server Explorer, choose your virtual machine in the <bpt id=\"p1\">**</bpt>Azure Virtual Machines<ept id=\"p1\">**</ept> node."
    },
    {
      "pos": [
        8875,
        8965
      ],
      "content": "On the shortcut menu, choose <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> to view the virtual machine configuration page."
    },
    {
      "content": "The Azure virtual machine configuration page",
      "pos": [
        8973,
        9017
      ]
    },
    {
      "content": "View the virtual machine information or change it.",
      "pos": [
        9091,
        9141
      ]
    },
    {
      "content": "Save or restore the status of your virtual machine",
      "pos": [
        9147,
        9197
      ]
    },
    {
      "content": "As you configure your virtual machine and install software on it, it's a good idea to regularly save your progress by creating virtual machine checkpoints.",
      "pos": [
        9199,
        9354
      ]
    },
    {
      "content": "A checkpoint is a snapshot, or image, of the current state of your virtual machine.",
      "pos": [
        9355,
        9438
      ]
    },
    {
      "content": "If something goes wrong with the virtual machine, or you want to reconfigure the virtual machine, you can save time by restoring it to a previous checkpoint state rather than starting over from scratch.",
      "pos": [
        9439,
        9641
      ]
    },
    {
      "content": "To create a virtual machine checkpoint",
      "pos": [
        9647,
        9685
      ]
    },
    {
      "pos": [
        9690,
        9777
      ],
      "content": "In Server Explorer, choose your virtual machine in the <bpt id=\"p1\">**</bpt>Azure Virtual Machines<ept id=\"p1\">**</ept> node."
    },
    {
      "pos": [
        9782,
        9872
      ],
      "content": "On the shortcut menu, choose <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> to view the virtual machine configuration page."
    },
    {
      "pos": [
        9877,
        9940
      ],
      "content": "On the configuration page, choose the <bpt id=\"p1\">**</bpt>Capture Image<ept id=\"p1\">**</ept> button."
    },
    {
      "content": "Azure configuration page capture button",
      "pos": [
        9948,
        9987
      ]
    },
    {
      "pos": [
        10062,
        10109
      ],
      "content": "The <bpt id=\"p1\">**</bpt>Capture Virtual Machine<ept id=\"p1\">**</ept> dialog appears."
    },
    {
      "content": "Azure capture virtual machine dialog box",
      "pos": [
        10117,
        10157
      ]
    },
    {
      "content": "Provide an image label and description.",
      "pos": [
        10231,
        10270
      ]
    },
    {
      "content": "A default label and description are provided, but you can overwrite them with your own if you like.",
      "pos": [
        10271,
        10370
      ]
    },
    {
      "pos": [
        10375,
        10493
      ],
      "content": "If you have already run Sysprep on this virtual machine, select the <bpt id=\"p1\">**</bpt>I have run Sysprep on the virtual machine<ept id=\"p1\">**</ept> box."
    },
    {
      "content": "Sysprep is a tool that, among other things, removes systems-specific data from the virtual machine’s version of Windows, making it template that others can use.",
      "pos": [
        10499,
        10659
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>How to Capture a Windows Virtual Machine to Use as a Template<ept id=\"p1\">](http://azure.microsoft.com/documentation/articles/virtual-machines-capture-image-windows-server/)</ept> for more information.",
      "pos": [
        10660,
        10847
      ]
    },
    {
      "pos": [
        10852,
        10959
      ],
      "content": "After you’re done configuring the capture settings, choose the <bpt id=\"p1\">**</bpt>Capture<ept id=\"p1\">**</ept> button to create the checkpoint."
    },
    {
      "pos": [
        10966,
        11062
      ],
      "content": "As Azure creates the checkpoint, the <bpt id=\"p1\">**</bpt>Azure Activity Log<ept id=\"p1\">**</ept> shows the progress of the operation."
    },
    {
      "content": "Capturing a virtual machine checkpoint",
      "pos": [
        11070,
        11108
      ]
    },
    {
      "pos": [
        11183,
        11268
      ],
      "content": "When the checkpoint operation completes, you’ll see it in the <bpt id=\"p1\">**</bpt>Azure Activity Log<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Checkpoint operation completed",
      "pos": [
        11276,
        11306
      ]
    },
    {
      "content": "To manage virtual machine checkpoints",
      "pos": [
        11380,
        11417
      ]
    },
    {
      "content": "To restore a virtual machine to a previously saved state",
      "pos": [
        11423,
        11479
      ]
    },
    {
      "pos": [
        11483,
        11770
      ],
      "content": "Follow the steps outlined in <bpt id=\"p1\">[</bpt>Step-by-Step: Perform Cloud Restores of Microsoft Azure Virtual Machines using PowerShell - Part 2<ept id=\"p1\">](http://blogs.technet.com/b/keithmayer/archive/2014/02/04/step-by-step-perform-cloud-restores-of-windows-azure-virtual-machines-using-powershell-part-2.aspx)</ept>."
    },
    {
      "content": "To delete a checkpoint",
      "pos": [
        11776,
        11798
      ]
    },
    {
      "pos": [
        11803,
        11886
      ],
      "content": "Go to the <bpt id=\"p1\">[</bpt>Azure Management Portal<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=253103)</ept>."
    },
    {
      "pos": [
        11891,
        11983
      ],
      "content": "On the virtual machine configuration page, choose the <bpt id=\"p1\">**</bpt>Images<ept id=\"p1\">**</ept> tab at the top of the page."
    },
    {
      "pos": [
        11988,
        12095
      ],
      "content": "Choose the checkpoint you want to delete, and then choose the <bpt id=\"p1\">**</bpt>Delete<ept id=\"p1\">**</ept>  button at the bottom of the page."
    },
    {
      "content": "Shut down your virtual machine",
      "pos": [
        12100,
        12130
      ]
    },
    {
      "pos": [
        12135,
        12243
      ],
      "content": "In Server Explorer, choose the virtual machine you want to shut down in the <bpt id=\"p1\">**</bpt>Azure Virtual Machines<ept id=\"p1\">**</ept> node."
    },
    {
      "pos": [
        12248,
        12422
      ],
      "content": "On the shortcut menu, either choose the <bpt id=\"p1\">**</bpt>Shutdown<ept id=\"p1\">**</ept> command, or choose <bpt id=\"p2\">**</bpt>Configure<ept id=\"p2\">**</ept> to view the virtual machine configuration page, and then choose the <bpt id=\"p3\">**</bpt>Shutdown<ept id=\"p3\">**</ept> button."
    },
    {
      "content": "See Also",
      "pos": [
        12427,
        12435
      ]
    },
    {
      "content": "Virtual Machines",
      "pos": [
        12438,
        12454
      ]
    },
    {
      "content": "Accessing Azure Virtual Machines from Server Explorer",
      "pos": [
        12501,
        12554
      ]
    },
    {
      "content": "Azure Tools for Microsoft Visual Studio",
      "pos": [
        12614,
        12653
      ]
    },
    {
      "content": "test",
      "pos": [
        12713,
        12717
      ]
    }
  ],
  "content": "<properties \n   pageTitle=\"Create and manage Azure Virtual Machines in Visual Studio\"\n   description=\"Create and manage Azure Virtual Machines in Visual Studio\"\n   services=\"visual-studio-online\"\n   documentationCenter=\"na\"\n   authors=\"kempb\"\n   manager=\"douge\"\n   editor=\"tlee\" />\n<tags \n   ms.service=\"virtual-machines\"\n   ms.devlang=\"multiple\"\n   ms.topic=\"article\"\n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"na\"\n   ms.date=\"08/24/2015\"\n   ms.author=\"kempb\" />\n\n# Create and Manage Azure Virtual Machines in Visual Studio\n\nYou can create virtual machines in Azure by using Server Explorer in Visual Studio.\n\n## Create an Azure virtual machine in Server Explorer\n\nWhile you can create a virtual machine in the [Azure Management Portal](http://go.microsoft.com/fwlink/?LinkID=253103), you can also create a virtual machine in Azure by using commands in Server Explorer. Virtual machines can be used, for example, to provide a front end behind a common load-balanced public endpoint.\n\n### To create a new virtual machine\n\n1. In Server Explorer, open the **Azure** node and click **Virtual Machines**.\n\n1. On the context menu, click **Create Virtual Machine**.\n\n    The **Create a New Virtual Machine** wizard appears.\n\n    ![The Create Virtual Machine command](./media/vs-azure-tools-virtual-machines-create-manage/IC718342.png)\n\n1. On the **Choose a Subscription** page, select a subscription to use when creating the virtual machine and then click **Next**.\n\n    If you aren’t signed in to Azure, click **Sign In** to sign in. Then, select your Azure subscription in the dropdown list box if it’s not already selected.\n\n1. On the **Select a Virtual Machine Image** page, select an image type in the **Image type** dropdown list box, and then select a virtual machine images in the **Image name** list box. When you're done, click **Next**.\n\n    ![Select a virtual machine image page](./media/vs-azure-tools-virtual-machines-create-manage/IC744137.png)\n\n    You can choose the following image types.\n\n    - **Public Images** lists virtual machine images of operating systems and server software such as Windows Server and SQL Server.\n\n    - **MSDN Images** lists virtual machine images of software available to MSDN subscribers, such as Visual Studio and Microsoft Dynamics.\n\n    - **Private Images** lists specialized and generalized virtual machine images that you've created.\n\n    To learn about specialized and generalized virtual machines, see [VM Image](http://azure.microsoft.com/blog/2014/04/14/vm-image-blog-post/). See [How to Capture a Windows Virtual Machine to Use as a Template](http://azure.microsoft.com/documentation/articles/virtual-machines-capture-image-windows-server/) for information about how to turn a virtual machine into a template that you can use to quickly create new pre-configured virtual machines.\n\n    You can click a virtual machine image name to see information about the image on the right side of the page.\n\n    >[AZURE.NOTE] You can't add virtual machine images to the **Public Images** or **MSDN Images** lists because they are read-only. All virtual machines that you create are added to the **Private Images** list.\n    \n    >If you're an MSDN subscriber with a Visual Studio-level subscription, you can create a pre-built Azure virtual machine that contains Visual Studio, as well as several other images. For more information, see [Create a Virtual Machine in Visual Studio by Using Images Visual Studio 2013 Gallery image for MSDN subscribers](http://visualstudio2013msdngalleryimage.azurewebsites.net) and [MSDN subscriptions](https://www.visualstudio.com/products/msdn-subscriptions-vs).|\n\n1. On the **Virtual Machine Basic Settings** page, enter a machine name and then add the specifications for the virtual machine, including the size, and a user name and password. When you're done, click **Next**.\n\n    You’ll use the new name and password to log into the machine using remote desktop, so it’s a good idea to write them down in case you forget. After you create an Azure virtual machine in Visual Studio, you can change its size and other settings in the [Azure Management Portal](http://go.microsoft.com/fwlink/?LinkID=253103).\n\n   >[AZURE.NOTE] If you choose larger sizes for the virtual machine, extra charges may apply. See [Virtual Machines Pricing Details](http://azure.microsoft.com/pricing/details/virtual-machines/) for more information.\n\n1. Virtual machines created in Visual Studio require a cloud service. On the **Cloud Service Settings** page, select a cloud service for the virtual machine, or click **<Create New…>** in the dropdown list if you don’t already have a cloud service or want to use a new one. A storage account is also required, so choose a storage account (or create a new storage account) in the **Storage account** dropdown list box. See [Introduction to Microsoft Azure Storage](./storage/storage-introduction/) for more information.\n\n1. If you want to specify a virtual network (which is optional), select it in the Virtual Network and Subnet dropdown list boxes.\n\n    Virtual machines that are members of an availability set are deployed to different fault domains. See [Azure Virtual Network](http://www.windowsazure.com/services/virtual-network/) for more information.\n\n1. If you want your virtual machine to belong to an availability set (also optional), select the **Specify an availability set** check box and then choose an availability set in the dropdown list box. When you're done, choose the **Next** button.\n\n    Adding your virtual machine to an availability set helps your application stay available during network failures, local disk hardware failures, and any planned downtime. You need to use the [Azure Management Portal](http://go.microsoft.com/fwlink/?LinkID=253103) to create virtual networks, subnets, and availability sets. See [Manage the Availability of Virtual Machines](http://www.windowsazure.com/documentation/articles/manage-availability-virtual-machines/) for more information.\n\n1. On the **Endpoints** page, specify the public endpoints that you want available to users of your virtual machine. For example, you might choose to enable HTTP (Port 80) in addition to the Remote Desktop and PowerShell endpoints, which are enabled by default. To add an endpoint, choose one in the **Port Name** dropdown list box and then choose the **Add** button. To remove an endpoint, choose the red **X** next to the name in the endpoints list.\n\n    ![The Endpoints page in the virtual machines wizard.](./media/vs-azure-tools-virtual-machines-create-manage/IC718351.png) \n\n    The endpoints that are available depend on the cloud service you selected for your virtual machine. See [Azure Service Endpoints](https://azure.microsoft.com/documentation/articles/virtual-machines-set-up-endpoints/) for more information.\n\n    >[AZURE.NOTE] Enabling public endpoints makes services on your virtual machine available to the internet. Be sure to install and properly configure the endpoints and services on your virtual machine, such as setting access control lists (ACLs) for the endpoints. See [How to Set Up Endpoints to a Virtual Machine](https://azure.microsoft.com/documentation/articles/virtual-machines-set-up-endpoints/) for more information.\n\n1. After you’re done configuring the virtual machine settings, choose the **Create** button to create the virtual machine.\n\n    As Azure creates the virtual machine, the **Azure Activity Log** shows the progress of the virtual machine creation operation.\n\n    ![Virtual machine activity log - in progress.](./media/vs-azure-tools-virtual-machines-create-manage/IC744138.png)\n\n    To view only virtual machine information, choose the **Virtual Machines** tab in the **Azure Activity Log**.\n\n    ![Virtual machine activity log - completed.](./media/vs-azure-tools-virtual-machines-create-manage/IC744139.png)\n\n    If the operation completes successfully, the new virtual machine appears under the **Virtual Machines** node in Server Explorer. You can log into it by clicking the **Connect using Remote Desktop** shortcut.\n\n\n    ![Virtual machine appearing in Server Explorer.](./media/vs-azure-tools-virtual-machines-create-manage/IC744140.png)\n\n## Manage your virtual machines\n\nOn the virtual machine configuration page, in addition to shutting down, connecting, refreshing, and adding checkpoints to the selected virtual machine, you can also view or change settings for the virtual machine. You can:\n\n- Change the virtual machine size.\n\n- Select the availability set to use with the virtual machine.\n\n- Add, remove, or change settings for public endpoints.\n\n- Add, remove, or configure virtual machine extensions.\n\n- View information about the disks associated with the virtual machine.\n\n### View or change virtual machine settings\n\n1. In Server Explorer, choose your virtual machine in the **Azure Virtual Machines** node.\n\n1. On the shortcut menu, choose **Configure** to view the virtual machine configuration page.\n\n    ![The Azure virtual machine configuration page](./media/vs-azure-tools-virtual-machines-create-manage/IC744141.png)\n\n1. View the virtual machine information or change it.\n\n### Save or restore the status of your virtual machine\n\nAs you configure your virtual machine and install software on it, it's a good idea to regularly save your progress by creating virtual machine checkpoints. A checkpoint is a snapshot, or image, of the current state of your virtual machine. If something goes wrong with the virtual machine, or you want to reconfigure the virtual machine, you can save time by restoring it to a previous checkpoint state rather than starting over from scratch.\n\n### To create a virtual machine checkpoint\n\n1. In Server Explorer, choose your virtual machine in the **Azure Virtual Machines** node.\n\n1. On the shortcut menu, choose **Configure** to view the virtual machine configuration page.\n\n1. On the configuration page, choose the **Capture Image** button.\n\n    ![Azure configuration page capture button](./media/vs-azure-tools-virtual-machines-create-manage/IC744142.png)\n\n    The **Capture Virtual Machine** dialog appears.\n\n    ![Azure capture virtual machine dialog box](./media/vs-azure-tools-virtual-machines-create-manage/IC744143.png)\n\n1. Provide an image label and description. A default label and description are provided, but you can overwrite them with your own if you like.\n\n1. If you have already run Sysprep on this virtual machine, select the **I have run Sysprep on the virtual machine** box.\n\n    Sysprep is a tool that, among other things, removes systems-specific data from the virtual machine’s version of Windows, making it template that others can use. See [How to Capture a Windows Virtual Machine to Use as a Template](http://azure.microsoft.com/documentation/articles/virtual-machines-capture-image-windows-server/) for more information.\n\n1. After you’re done configuring the capture settings, choose the **Capture** button to create the checkpoint.\n \n    As Azure creates the checkpoint, the **Azure Activity Log** shows the progress of the operation.\n\n    ![Capturing a virtual machine checkpoint](./media/vs-azure-tools-virtual-machines-create-manage/IC744144.png)\n\n    When the checkpoint operation completes, you’ll see it in the **Azure Activity Log**.\n\n    ![Checkpoint operation completed](./media/vs-azure-tools-virtual-machines-create-manage/IC744145.png)\n\n## To manage virtual machine checkpoints\n\n### To restore a virtual machine to a previously saved state\n\n- Follow the steps outlined in [Step-by-Step: Perform Cloud Restores of Microsoft Azure Virtual Machines using PowerShell - Part 2](http://blogs.technet.com/b/keithmayer/archive/2014/02/04/step-by-step-perform-cloud-restores-of-windows-azure-virtual-machines-using-powershell-part-2.aspx).\n\n### To delete a checkpoint\n\n1. Go to the [Azure Management Portal](http://go.microsoft.com/fwlink/?LinkID=253103).\n\n1. On the virtual machine configuration page, choose the **Images** tab at the top of the page.\n\n1. Choose the checkpoint you want to delete, and then choose the **Delete**  button at the bottom of the page.\n\n## Shut down your virtual machine\n\n1. In Server Explorer, choose the virtual machine you want to shut down in the **Azure Virtual Machines** node.\n\n1. On the shortcut menu, either choose the **Shutdown** command, or choose **Configure** to view the virtual machine configuration page, and then choose the **Shutdown** button.\n\n## See Also\n\n[Virtual Machines](https://msdn.microsoft.com/library/azure/)\n\n[Accessing Azure Virtual Machines from Server Explorer](https://msdn.microsoft.com/library/azure/jj131259.aspx)\n\n[Azure Tools for Microsoft Visual Studio](https://msdn.microsoft.com/library/azure/ee405484.aspx)\n\n\ntest\n"
}