{
  "nodes": [
    {
      "content": "Generate an API app client",
      "pos": [
        3,
        29
      ]
    },
    {
      "content": "The API App tools in Visual Studio make it easy to generate C# code that calls to your Azure API Apps from desktop, store, and mobile apps.",
      "pos": [
        32,
        171
      ]
    },
    {
      "pos": [
        177,
        336
      ],
      "content": "In Visual Studio, open the solution that contains the API app from the <bpt id=\"p1\">[</bpt>Create API app<ept id=\"p1\">](../article/app-service-api/app-service-dotnet-create-api-app.md)</ept> topic."
    },
    {
      "pos": [
        342,
        436
      ],
      "content": "From <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the solution and select the <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept> &gt; <bpt id=\"p3\">**</bpt>New Project<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Add a new project",
      "pos": [
        444,
        461
      ]
    },
    {
      "pos": [
        550,
        613
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Add New Project<ept id=\"p1\">**</ept> dialog, perform the following steps:"
    },
    {
      "pos": [
        622,
        662
      ],
      "content": "Select the <bpt id=\"p1\">**</bpt>Windows Desktop<ept id=\"p1\">**</ept> category."
    },
    {
      "pos": [
        675,
        727
      ],
      "content": "Select the <bpt id=\"p1\">**</bpt>Console Application<ept id=\"p1\">**</ept> project template."
    },
    {
      "content": "Name the project.",
      "pos": [
        740,
        757
      ]
    },
    {
      "pos": [
        770,
        837
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to generate the new project in your existing solution."
    },
    {
      "content": "Add a new project",
      "pos": [
        849,
        866
      ]
    },
    {
      "pos": [
        968,
        1072
      ],
      "content": "Right-click the newly created console application project and select <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>Azure API App Client<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Add a new Client",
      "pos": [
        1081,
        1097
      ]
    },
    {
      "pos": [
        1195,
        1277
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Add Microsoft Azure API App Client<ept id=\"p1\">**</ept> dialog, perform the following steps:"
    },
    {
      "pos": [
        1287,
        1318
      ],
      "content": "Select the <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept> option."
    },
    {
      "content": "From the drop-down list, select the API app that you created earlier.",
      "pos": [
        1332,
        1401
      ]
    },
    {
      "pos": [
        1415,
        1428
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Generation Screen",
      "pos": [
        1437,
        1454
      ]
    },
    {
      "content": "The wizard will download the API metadata file and generate a typed interface for invoking the API App.",
      "pos": [
        1543,
        1646
      ]
    },
    {
      "content": "Generation Happening",
      "pos": [
        1654,
        1674
      ]
    },
    {
      "content": "Once code generation is complete, you'll see a new folder in Solution Explorer, with the name of the API app.",
      "pos": [
        1769,
        1878
      ]
    },
    {
      "content": "This folder contains the code that implements the client and data models.",
      "pos": [
        1879,
        1952
      ]
    },
    {
      "content": "Generation Complete",
      "pos": [
        1961,
        1980
      ]
    },
    {
      "pos": [
        2069,
        2176
      ],
      "content": "Open the <bpt id=\"p1\">**</bpt>Program.cs<ept id=\"p1\">**</ept> file from the project root and replace the <bpt id=\"p2\">**</bpt>Main<ept id=\"p2\">**</ept> method with the following code:"
    },
    {
      "content": "Test the API app client",
      "pos": [
        2860,
        2883
      ]
    },
    {
      "content": "Once the API app has been coded, it's time to test the code.",
      "pos": [
        2885,
        2945
      ]
    },
    {
      "pos": [
        2950,
        2977
      ],
      "content": "Open <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Right-click the console application you created in the previous section.",
      "pos": [
        2982,
        3054
      ]
    },
    {
      "pos": [
        3059,
        3142
      ],
      "content": "From the console application's context menu, select <bpt id=\"p1\">**</bpt>Debug &gt; Start new instance<ept id=\"p1\">**</ept>."
    },
    {
      "content": "A console windows should open and display all of the contacts.",
      "pos": [
        3148,
        3210
      ]
    },
    {
      "content": "Running console app",
      "pos": [
        3219,
        3238
      ]
    },
    {
      "pos": [
        3325,
        3371
      ],
      "content": "Press <bpt id=\"p1\">**</bpt>Enter<ept id=\"p1\">**</ept> to dismiss the console window."
    }
  ],
  "content": "## Generate an API app client \n\nThe API App tools in Visual Studio make it easy to generate C# code that calls to your Azure API Apps from desktop, store, and mobile apps. \n\n1. In Visual Studio, open the solution that contains the API app from the [Create API app](../article/app-service-api/app-service-dotnet-create-api-app.md) topic. \n\n2. From **Solution Explorer**, right-click the solution and select the **Add** > **New Project**.\n\n    ![Add a new project](./media/app-service-dotnet-debug-api-app-gen-api-client/01-add-new-project-v3.png)\n\n3. In the **Add New Project** dialog, perform the following steps:\n\n    1. Select the **Windows Desktop** category.\n    \n    2. Select the **Console Application** project template.\n    \n    3. Name the project.\n    \n    4. Click **OK** to generate the new project in your existing solution.\n    \n    ![Add a new project](./media/app-service-dotnet-debug-api-app-gen-api-client/02-contact-list-console-project-v3.png)\n\n4. Right-click the newly created console application project and select **Add** > **Azure API App Client**. \n\n    ![Add a new Client](./media/app-service-dotnet-debug-api-app-gen-api-client/03-add-azure-api-client-v3.png)\n    \n5. In the **Add Microsoft Azure API App Client** dialog, perform the following steps: \n\n    1. Select the **Download** option. \n    \n    2. From the drop-down list, select the API app that you created earlier. \n    \n    3. Click **OK**. \n\n    ![Generation Screen](./media/app-service-dotnet-debug-api-app-gen-api-client/04-select-the-api-v3.png)\n\n    The wizard will download the API metadata file and generate a typed interface for invoking the API App.\n\n    ![Generation Happening](./media/app-service-dotnet-debug-api-app-gen-api-client/05-metadata-downloading-v3.png)\n\n    Once code generation is complete, you'll see a new folder in Solution Explorer, with the name of the API app. This folder contains the code that implements the client and data models. \n\n    ![Generation Complete](./media/app-service-dotnet-debug-api-app-gen-api-client/06-code-gen-output-v3.png)\n\n6. Open the **Program.cs** file from the project root and replace the **Main** method with the following code: \n\n        static void Main(string[] args)\n        {\n            var client = new ContactsList();\n    \n            // Send GET request.\n            var contacts = client.Contacts.Get();\n            foreach (var c in contacts)\n            {\n                Console.WriteLine(\"{0}: {1} {2}\",\n                    c.Id, c.Name, c.EmailAddress);\n            }\n    \n            // Send POST request.\n            client.Contacts.Post(new Models.Contact\n            {\n                EmailAddress = \"lkahn@contoso.com\",\n                Name = \"Loretta Kahn\",\n                Id = 4\n            });\n    \n            Console.WriteLine(\"Finished\");\n            Console.ReadLine();\n        }\n\n## Test the API app client\n\nOnce the API app has been coded, it's time to test the code.\n\n1. Open **Solution Explorer**.\n\n2. Right-click the console application you created in the previous section.\n\n3. From the console application's context menu, select **Debug > Start new instance**. \n\n4. A console windows should open and display all of the contacts. \n\n    ![Running console app](./media/app-service-dotnet-debug-api-app-gen-api-client/running-console-app.png)\n\n5. Press **Enter** to dismiss the console window.          \n"
}