{
  "nodes": [
    {
      "content": "How to use the SendGrid email service (PHP) | Microsoft Azure",
      "pos": [
        28,
        89
      ]
    },
    {
      "content": "Learn how send email with the SendGrid email service on Azure.",
      "pos": [
        109,
        171
      ]
    },
    {
      "content": "Code samples written in PHP.",
      "pos": [
        172,
        200
      ]
    },
    {
      "content": "How to Use the SendGrid Email Service from PHP",
      "pos": [
        594,
        640
      ]
    },
    {
      "content": "This guide demonstrates how to perform common programming tasks with the SendGrid email service on Azure.",
      "pos": [
        642,
        747
      ]
    },
    {
      "content": "The samples are written in PHP.",
      "pos": [
        748,
        779
      ]
    },
    {
      "content": "The scenarios covered include <bpt id=\"p1\">**</bpt>constructing email<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>sending email<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>adding attachments<ept id=\"p3\">**</ept>.",
      "pos": [
        780,
        880
      ]
    },
    {
      "content": "For more information on SendGrid and sending email, see the <bpt id=\"p1\">[</bpt>Next Steps<ept id=\"p1\">](#next-steps)</ept> section.",
      "pos": [
        881,
        975
      ]
    },
    {
      "content": "What is the SendGrid Email Service?",
      "pos": [
        980,
        1015
      ]
    },
    {
      "content": "SendGrid is a <bpt id=\"p1\">[</bpt><ept id=\"p1\">cloud-based email service]</ept> that provides reliable",
      "pos": [
        1017,
        1081
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt><ept id=\"p1\">transactional email delivery]</ept>, scalability, and real-time analytics along with flexible APIs",
      "pos": [
        1082,
        1175
      ]
    },
    {
      "content": "that make custom integration easy.",
      "pos": [
        1176,
        1210
      ]
    },
    {
      "content": "Common SendGrid usage scenarios",
      "pos": [
        1211,
        1242
      ]
    },
    {
      "content": "include:",
      "pos": [
        1243,
        1251
      ]
    },
    {
      "content": "Automatically sending receipts to customers",
      "pos": [
        1257,
        1300
      ]
    },
    {
      "pos": [
        1305,
        1399
      ],
      "content": "Administering distribution lists for sending customers monthly\ne-fliers and special offers",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Administering distribution lists for sending customers monthly",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "e-fliers and special offers",
          "pos": [
            63,
            90
          ]
        }
      ]
    },
    {
      "pos": [
        1404,
        1496
      ],
      "content": "Collecting real-time metrics for things like blocked e-mail, and\ncustomer responsiveness",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Collecting real-time metrics for things like blocked e-mail, and",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "customer responsiveness",
          "pos": [
            65,
            88
          ]
        }
      ]
    },
    {
      "content": "Generating reports to help identify trends",
      "pos": [
        1501,
        1543
      ]
    },
    {
      "content": "Forwarding customer inquiries",
      "pos": [
        1548,
        1577
      ]
    },
    {
      "content": "Email notifications from your application",
      "pos": [
        1580,
        1621
      ]
    },
    {
      "pos": [
        1623,
        1674
      ],
      "content": "For more information, see <bpt id=\"p1\">[</bpt>https://sendgrid.com<ept id=\"p1\">][]</ept>."
    },
    {
      "content": "Create a SendGrid Account",
      "pos": [
        1679,
        1704
      ]
    },
    {
      "content": "Using SendGrid from your PHP Application",
      "pos": [
        1778,
        1818
      ]
    },
    {
      "content": "Using SendGrid in an Azure PHP application requires no special",
      "pos": [
        1820,
        1882
      ]
    },
    {
      "content": "configuration or coding.",
      "pos": [
        1883,
        1907
      ]
    },
    {
      "content": "Because SendGrid is a service, it can be",
      "pos": [
        1908,
        1948
      ]
    },
    {
      "content": "accessed in exactly the same way from a cloud application as it can from",
      "pos": [
        1949,
        2021
      ]
    },
    {
      "content": "an on-premises application.",
      "pos": [
        2022,
        2049
      ]
    },
    {
      "content": "How to: Send an Email",
      "pos": [
        2054,
        2075
      ]
    },
    {
      "content": "You can send email using either SMTP or the Web API provided by",
      "pos": [
        2077,
        2140
      ]
    },
    {
      "content": "SendGrid.",
      "pos": [
        2141,
        2150
      ]
    },
    {
      "content": "SMTP API",
      "pos": [
        2156,
        2164
      ]
    },
    {
      "content": "To send email using the SendGrid SMTP API, use <bpt id=\"p1\">*</bpt>Swift Mailer<ept id=\"p1\">*</ept>, a",
      "pos": [
        2166,
        2230
      ]
    },
    {
      "content": "component-based library for sending emails from PHP applications.",
      "pos": [
        2231,
        2296
      ]
    },
    {
      "content": "You",
      "pos": [
        2297,
        2300
      ]
    },
    {
      "content": "can download the <bpt id=\"p1\">*</bpt>Swift Mailer<ept id=\"p1\">*</ept> library from",
      "pos": [
        2301,
        2345
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>http://swiftmailer.org/download<ept id=\"p1\">][]</ept> v5.3.0 (use <bpt id=\"p2\">[</bpt><ept id=\"p2\">Composer]</ept> to install Swift Mailer).",
      "pos": [
        2346,
        2430
      ]
    },
    {
      "content": "Sending email with the library",
      "pos": [
        2431,
        2461
      ]
    },
    {
      "content": "involves creating instances of the",
      "pos": [
        2462,
        2496
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;span class=\"auto-style2\"&gt;</ph>Swift\\_SmtpTransport<ph id=\"ph2\">&lt;/span&gt;</ph>,",
      "pos": [
        2497,
        2551
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;span class=\"auto-style2\"&gt;</ph>Swift\\_Mailer<ph id=\"ph2\">&lt;/span&gt;</ph>, and",
      "pos": [
        2552,
        2603
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;span class=\"auto-style2\"&gt;</ph>Swift\\_Message<ph id=\"ph2\">&lt;/span&gt;</ph> classes, setting the",
      "pos": [
        2604,
        2672
      ]
    },
    {
      "content": "appropriate properties, and calling the",
      "pos": [
        2673,
        2712
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;span class=\"auto-style2\"&gt;</ph>Swift\\_Mailer::send<ph id=\"ph2\">&lt;/span&gt;</ph> method.",
      "pos": [
        2713,
        2773
      ]
    },
    {
      "content": "Web API",
      "pos": [
        4634,
        4641
      ]
    },
    {
      "pos": [
        4643,
        4712
      ],
      "content": "Use PHP's <bpt id=\"p1\">[</bpt>curl function<ept id=\"p1\">][]</ept> to send email using the SendGrid Web API."
    },
    {
      "content": "SendGrid's Web API is very similar to a REST API, though it is",
      "pos": [
        5774,
        5836
      ]
    },
    {
      "content": "not truly a RESTful API since, in most calls, both GET and POST verbs",
      "pos": [
        5837,
        5906
      ]
    },
    {
      "content": "can be used interchangeably.",
      "pos": [
        5907,
        5935
      ]
    },
    {
      "content": "How to: Add an Attachment",
      "pos": [
        5940,
        5965
      ]
    },
    {
      "content": "SMTP API",
      "pos": [
        5971,
        5979
      ]
    },
    {
      "content": "Sending an attachment using the SMTP API involves one additional line of",
      "pos": [
        5981,
        6053
      ]
    },
    {
      "content": "code to the example script for sending an email with Swift Mailer.",
      "pos": [
        6054,
        6120
      ]
    },
    {
      "content": "The additional line of code is as follows:",
      "pos": [
        8083,
        8125
      ]
    },
    {
      "content": "This line of code calls the attach method on the",
      "pos": [
        8221,
        8269
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;span class=\"auto-style2\"&gt;</ph>Swift\\_Message<ph id=\"ph2\">&lt;/span&gt;</ph> object and uses static",
      "pos": [
        8270,
        8340
      ]
    },
    {
      "content": "method <ph id=\"ph1\">&lt;span class=\"auto-style2\"&gt;</ph>fromPath<ph id=\"ph2\">&lt;/span&gt;</ph> on the",
      "pos": [
        8341,
        8396
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;span class=\"auto-style2\"&gt;</ph>Swift\\_Attachment<ph id=\"ph2\">&lt;/span&gt;</ph> class to get and",
      "pos": [
        8397,
        8464
      ]
    },
    {
      "content": "attach a file to a message.",
      "pos": [
        8465,
        8492
      ]
    },
    {
      "content": "Web API",
      "pos": [
        8498,
        8505
      ]
    },
    {
      "content": "Sending an attachment using the Web API is very similar to sending an",
      "pos": [
        8507,
        8576
      ]
    },
    {
      "content": "email using the Web API.",
      "pos": [
        8577,
        8601
      ]
    },
    {
      "content": "However, note that in the example that follows,",
      "pos": [
        8602,
        8649
      ]
    },
    {
      "content": "the parameter array must contain this element:",
      "pos": [
        8650,
        8696
      ]
    },
    {
      "content": "Example:",
      "pos": [
        8757,
        8765
      ]
    },
    {
      "content": "How to: Use Filters to Enable Footers, Tracking, and Analytics",
      "pos": [
        9986,
        10048
      ]
    },
    {
      "content": "SendGrid provides additional email functionality through the use of",
      "pos": [
        10050,
        10117
      ]
    },
    {
      "content": "'filters'.",
      "pos": [
        10118,
        10128
      ]
    },
    {
      "content": "These are settings that can be added to an email message to",
      "pos": [
        10129,
        10188
      ]
    },
    {
      "content": "enable specific functionality such as enabling click tracking, Google",
      "pos": [
        10189,
        10258
      ]
    },
    {
      "content": "analytics, subscription tracking, and so on.",
      "pos": [
        10259,
        10303
      ]
    },
    {
      "content": "Filters can be applied to a message by using the filters property.",
      "pos": [
        10305,
        10371
      ]
    },
    {
      "content": "Each",
      "pos": [
        10372,
        10376
      ]
    },
    {
      "content": "filter is specified by a hash containing filter-specific settings.",
      "pos": [
        10377,
        10443
      ]
    },
    {
      "content": "The",
      "pos": [
        10444,
        10447
      ]
    },
    {
      "content": "following example enables the footer filter and specifies a text message",
      "pos": [
        10448,
        10520
      ]
    },
    {
      "content": "that will be appended to the bottom of the email message.",
      "pos": [
        10521,
        10578
      ]
    },
    {
      "content": "For this example we will use <bpt id=\"p1\">[</bpt><ept id=\"p1\">sendgrid-php library]</ept>.",
      "pos": [
        10579,
        10631
      ]
    },
    {
      "content": "Use <bpt id=\"p1\">[</bpt><ept id=\"p1\">Composer]</ept> to install library:",
      "pos": [
        10632,
        10666
      ]
    },
    {
      "content": "Example:",
      "pos": [
        10727,
        10735
      ]
    },
    {
      "content": "Next Steps",
      "pos": [
        13723,
        13733
      ]
    },
    {
      "content": "Now that you've learned the basics of the SendGrid Email service, follow",
      "pos": [
        13735,
        13807
      ]
    },
    {
      "content": "these links to learn more.",
      "pos": [
        13808,
        13834
      ]
    },
    {
      "pos": [
        13840,
        13891
      ],
      "content": "SendGrid documentation: <bpt id=\"p1\">&lt;</bpt><ept id=\"p1\">https://sendgrid.com/docs&gt;</ept>"
    },
    {
      "pos": [
        13896,
        13960
      ],
      "content": "SendGrid PHP library: <bpt id=\"p1\">&lt;</bpt><ept id=\"p1\">https://github.com/sendgrid/sendgrid-php&gt;</ept>"
    },
    {
      "pos": [
        13965,
        14049
      ],
      "content": "SendGrid special offer for Azure customers: <bpt id=\"p1\">&lt;</bpt><ept id=\"p1\">https://sendgrid.com/windowsazure.html&gt;</ept>"
    },
    {
      "content": "test",
      "pos": [
        14769,
        14773
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"How to use the SendGrid email service (PHP) | Microsoft Azure\" \n    description=\"Learn how send email with the SendGrid email service on Azure. Code samples written in PHP.\" \n    documentationCenter=\"php\" \n    services=\"\" \n    manager=\"sendgrid\" \n    editor=\"mollybos\" \n    authors=\"thinkingserious\"/>\n\n<tags \n    ms.service=\"multiple\" \n    ms.workload=\"na\" \n    ms.tgt_pltfrm=\"na\" \n    ms.devlang=\"PHP\" \n    ms.topic=\"article\" \n    ms.date=\"10/30/2014\" \n    ms.author=\"elmer.thomas@sendgrid.com; erika.berkland@sendgrid.com; vibhork; matt.bernier@sendgrid.com\"/>\n# How to Use the SendGrid Email Service from PHP\n\nThis guide demonstrates how to perform common programming tasks with the SendGrid email service on Azure. The samples are written in PHP.\nThe scenarios covered include **constructing email**, **sending email**, and **adding attachments**. For more information on SendGrid and sending email, see the [Next Steps](#next-steps) section.\n\n## What is the SendGrid Email Service?\n\nSendGrid is a [cloud-based email service] that provides reliable\n[transactional email delivery], scalability, and real-time analytics along with flexible APIs\nthat make custom integration easy. Common SendGrid usage scenarios\ninclude:\n\n-   Automatically sending receipts to customers\n-   Administering distribution lists for sending customers monthly\n    e-fliers and special offers\n-   Collecting real-time metrics for things like blocked e-mail, and\n    customer responsiveness\n-   Generating reports to help identify trends\n-   Forwarding customer inquiries\n- Email notifications from your application\n\nFor more information, see [https://sendgrid.com][].\n\n## Create a SendGrid Account\n\n[AZURE.INCLUDE [sendgrid-sign-up](../includes/sendgrid-sign-up.md)]\n\n## Using SendGrid from your PHP Application\n\nUsing SendGrid in an Azure PHP application requires no special\nconfiguration or coding. Because SendGrid is a service, it can be\naccessed in exactly the same way from a cloud application as it can from\nan on-premises application.\n\n## How to: Send an Email\n\nYou can send email using either SMTP or the Web API provided by\nSendGrid.\n\n### SMTP API\n\nTo send email using the SendGrid SMTP API, use *Swift Mailer*, a\ncomponent-based library for sending emails from PHP applications. You\ncan download the *Swift Mailer* library from\n[http://swiftmailer.org/download][] v5.3.0 (use [Composer] to install Swift Mailer). Sending email with the library\ninvolves creating instances of the\n<span class=\"auto-style2\">Swift\\_SmtpTransport</span>,\n<span class=\"auto-style2\">Swift\\_Mailer</span>, and\n<span class=\"auto-style2\">Swift\\_Message</span> classes, setting the\nappropriate properties, and calling the\n<span class=\"auto-style2\">Swift\\_Mailer::send</span> method.\n\n    <?php\n     include_once \"vendor/autoload.php\";\n     /*\n      * Create the body of the message (a plain-text and an HTML version).\n      * $text is your plain-text email\n      * $html is your html version of the email\n      * If the reciever is able to view html emails then only the html\n      * email will be displayed\n      */ \n     $text = \"Hi!\\nHow are you?\\n\";\n     $html = \"<html>\n           <head></head>\n           <body>\n               <p>Hi!<br>\n                   How are you?<br>\n               </p>\n           </body>\n           </html>\";\n     // This is your From email address\n     $from = array('someone@example.com' => 'Name To Appear');\n     // Email recipients\n     $to = array(\n           'john@contoso.com'=>'Destination 1 Name',\n           'anna@contoso.com'=>'Destination 2 Name'\n     );\n     // Email subject\n     $subject = 'Example PHP Email';\n\n     // Login credentials\n     $username = 'yoursendgridusername';\n     $password = 'yourpassword';\n     \n     // Setup Swift mailer parameters\n     $transport = Swift_SmtpTransport::newInstance('smtp.sendgrid.net', 587);\n     $transport->setUsername($username);\n     $transport->setPassword($password);\n     $swift = Swift_Mailer::newInstance($transport);\n\n     // Create a message (subject)\n     $message = new Swift_Message($subject);\n\n     // attach the body of the email\n     $message->setFrom($from);\n     $message->setBody($html, 'text/html');\n     $message->setTo($to);\n     $message->addPart($text, 'text/plain');\n     \n     // send message \n     if ($recipients = $swift->send($message, $failures))\n     {\n         // This will let us know how many users received this message\n         echo 'Message sent out to '.$recipients.' users';\n     }\n     // something went wrong =(\n     else\n     {\n         echo \"Something went wrong - \";\n         print_r($failures);\n     }\n\n### Web API\n\nUse PHP's [curl function][] to send email using the SendGrid Web API.\n\n    <?php\n\n     $url = 'https://api.sendgrid.com/';\n     $user = 'USERNAME';\n     $pass = 'PASSWORD'; \n\n     $params = array(\n          'api_user' => $user,\n          'api_key' => $pass,\n          'to' => 'john@contoso.com',\n          'subject' => 'testing from curl',\n          'html' => 'testing body',\n          'text' => 'testing body',\n          'from' => 'anna@contoso.com',\n       );\n       \n     $request = $url.'api/mail.send.json';\n     \n     // Generate curl request\n     $session = curl_init($request);\n     \n     // Tell curl to use HTTP POST\n     curl_setopt ($session, CURLOPT_POST, true);\n     \n     // Tell curl that this is the body of the POST\n     curl_setopt ($session, CURLOPT_POSTFIELDS, $params);\n     \n     // Tell curl not to return headers, but do return the response\n     curl_setopt($session, CURLOPT_HEADER, false);\n     curl_setopt($session, CURLOPT_RETURNTRANSFER, true);\n     \n     // obtain response\n     $response = curl_exec($session);\n     curl_close($session);\n     \n     // print everything out\n     print_r($response);\n\nSendGrid's Web API is very similar to a REST API, though it is\nnot truly a RESTful API since, in most calls, both GET and POST verbs\ncan be used interchangeably.\n\n## How to: Add an Attachment\n\n### SMTP API\n\nSending an attachment using the SMTP API involves one additional line of\ncode to the example script for sending an email with Swift Mailer.\n\n    <?php\n     include_once \"vendor/autoload.php\";\n     /*\n      * Create the body of the message (a plain-text and an HTML version).\n      * $text is your plain-text email\n      * $html is your html version of the email\n      * If the reciever is able to view html emails then only the html\n      * email will be displayed\n      */\n     $text = \"Hi!\\nHow are you?\\n\";\n      $html = \"<html>\n          <head></head>\n          <body>\n             <p>Hi!<br>\n                How are you?<br>\n             </p>\n          </body>\n          </html>\";\n\n     // This is your From email address\n     $from = array('someone@example.com' => 'Name To Appear');\n     \n     // Email recipients\n     $to = array(\n          'john@contoso.com'=>'Destination 1 Name',\n          'anna@contoso.com'=>'Destination 2 Name'\n     );\n     // Email subject\n     $subject = 'Example PHP Email';\n     \n     // Login credentials\n     $username = 'yoursendgridusername';\n     $password = 'yourpassword';\n     \n     // Setup Swift mailer parameters\n     $transport = Swift_SmtpTransport::newInstance('smtp.sendgrid.net', 587);\n     $transport->setUsername($username);\n     $transport->setPassword($password);\n     $swift = Swift_Mailer::newInstance($transport);\n     \n     // Create a message (subject)\n     $message = new Swift_Message($subject);\n     \n     // attach the body of the email\n     $message->setFrom($from);\n     $message->setBody($html, 'text/html');\n     $message->setTo($to);\n     $message->addPart($text, 'text/plain');\n     $message->attach(Swift_Attachment::fromPath(\"path\\to\\file\")->setFileName(\"file_name\"));\n     \n     // send message \n     if ($recipients = $swift->send($message, $failures))\n     {\n          // This will let us know how many users received this message\n          echo 'Message sent out to '.$recipients.' users';\n     }\n     // something went wrong =(\n     else\n     {\n          echo \"Something went wrong - \";\n          print_r($failures);\n     }\n\nThe additional line of code is as follows:\n\n     $message->attach(Swift_Attachment::fromPath(\"path\\to\\file\")->setFileName('file_name'));\n\nThis line of code calls the attach method on the\n<span class=\"auto-style2\">Swift\\_Message</span> object and uses static\nmethod <span class=\"auto-style2\">fromPath</span> on the\n<span class=\"auto-style2\">Swift\\_Attachment</span> class to get and\nattach a file to a message.\n\n### Web API\n\nSending an attachment using the Web API is very similar to sending an\nemail using the Web API. However, note that in the example that follows,\nthe parameter array must contain this element:\n\n    'files['.$fileName.']' => '@'.$filePath.'/'.$fileName\n\nExample:\n\n    <?php\n\n     $url = 'https://api.sendgrid.com/';\n     $user = 'USERNAME';\n     $pass = 'PASSWORD';\n     \n     $fileName = 'myfile';\n     $filePath = dirname(__FILE__);\n\n     $params = array(\n         'api_user' => $user,\n         'api_key' => $pass,\n         'to' =>'john@contoso.com',\n         'subject' => 'test of file sends',\n         'html' => '<p> the HTML </p>',\n         'text' => 'the plain text',\n         'from' => 'anna@contoso.com',\n         'files['.$fileName.']' => '@'.$filePath.'/'.$fileName\n     );\n     \n     print_r($params);\n     \n     $request = $url.'api/mail.send.json';\n     \n     // Generate curl request\n     $session = curl_init($request);\n     \n     // Tell curl to use HTTP POST\n     curl_setopt ($session, CURLOPT_POST, true);\n     \n     // Tell curl that this is the body of the POST\n     curl_setopt ($session, CURLOPT_POSTFIELDS, $params);\n     \n     // Tell curl not to return headers, but do return the response\n     curl_setopt($session, CURLOPT_HEADER, false);\n     curl_setopt($session, CURLOPT_RETURNTRANSFER, true);\n     \n     // obtain response\n     $response = curl_exec($session);\n     curl_close($session);\n     \n     // print everything out\n     print_r($response);\n\n## How to: Use Filters to Enable Footers, Tracking, and Analytics\n\nSendGrid provides additional email functionality through the use of\n'filters'. These are settings that can be added to an email message to\nenable specific functionality such as enabling click tracking, Google\nanalytics, subscription tracking, and so on.\n\nFilters can be applied to a message by using the filters property. Each\nfilter is specified by a hash containing filter-specific settings. The\nfollowing example enables the footer filter and specifies a text message\nthat will be appended to the bottom of the email message.\nFor this example we will use [sendgrid-php library].\nUse [Composer] to install library:\n    \n    php composer.phar require sendgrid/sendgrid 2.1.1\n\nExample:    \n\n    <?php\n     /*\n      * This example is used for sendgrid-php V2.1.1 (https://github.com/sendgrid/sendgrid-php/tree/v2.1.1)\n      */\n     include \"vendor/autoload.php\";\n\n     $email = new SendGrid\\Email();\n     // The list of addresses this message will be sent to\n     // [This list is used for sending multiple emails using just ONE request to SendGrid]\n     $toList = array('john@contoso.com', 'anna@contoso.com');\n\n     // Specify the names of the recipients\n     $nameList = array('Name 1', 'Name 2');\n\n     // Used as an example of variable substitution\n     $timeList = array('4 PM', '5 PM');\n\n     // Set all of the above variables\n     $email->setTos($toList);\n     $email->addSubstitution('-name-', $nameList);\n     $email->addSubstitution('-time-', $timeList);\n\n     // Specify that this is an initial contact message\n     $email->addCategory(\"initial\");\n\n     // You can optionally setup individual filters here, in this example, we have \n     // enabled the footer filter\n     $email->addFilter('footer', 'enable', 1);\n     $email->addFilter('footer', \"text/plain\", \"Thank you for your business\");\n     $email->addFilter('footer', \"text/html\", \"Thank you for your business\");\n\n     // The subject of your email\n     $subject = 'Example SendGrid Email';\n\n     // Where is this message coming from. For example, this message can be from \n     // support@yourcompany.com, info@yourcompany.com\n     $from = 'someone@example.com';\n\n     // If you do not specify a sender list above, you can specifiy the user here. If \n     // a sender list IS specified above, this email address becomes irrelevant.\n     $to = 'john@contoso.com';\n\n     # Create the body of the message (a plain-text and an HTML version). \n     # text is your plain-text email \n     # html is your html version of the email\n     # if the receiver is able to view html emails then only the html\n     # email will be displayed\n\n     /*\n      * Note the variable substitution here =)\n      */\n     $text = \"\n     Hello -name-,\n     Thank you for your interest in our products. We have set up an appointment to call you at -time- EST to discuss your needs in more detail.\n     Regards,\n     Fred\";\n\n     $html = \"\n     <html> \n     <head></head>\n     <body>\n     <p>Hello -name-,<br>\n     Thank you for your interest in our products. We have set up an appointment\n     to call you at -time- EST to discuss your needs in more detail.\n\n     Regards,\n\n     Fred<br>\n     </p>\n     </body>\n     </html>\";\n\n     // set subject\n     $email->setSubject($subject);\n\n     // attach the body of the email\n     $email->setFrom($from);\n     $email->setHtml($html);\n     $email->addTo($to);\n     $email->setText($text);\n\n     // Your SendGrid account credentials\n     $username = 'sendgridusername@yourdomain.com';\n     $password = 'example';\n\n     // Create SendGrid object\n     $sendgrid = new SendGrid($username, $password);\n\n     // send message\n     $response = $sendgrid->send($email);\n\n     print_r($response);\n\n## Next Steps\n\nNow that you've learned the basics of the SendGrid Email service, follow\nthese links to learn more.\n\n-   SendGrid documentation: <https://sendgrid.com/docs>\n-   SendGrid PHP library: <https://github.com/sendgrid/sendgrid-php>\n-   SendGrid special offer for Azure customers: <https://sendgrid.com/windowsazure.html>\n\n  [https://sendgrid.com]: https://sendgrid.com\n  [https://sendgrid.com/transactional-email/pricing]: https://sendgrid.com/transactional-email/pricing\n  [special offer]: https://www.sendgrid.com/windowsazure.html\n  [Packaging and Deploying PHP Applications for Azure]: http://msdn.microsoft.com/library/windowsazure/hh674499(v=VS.103).aspx\n  [http://swiftmailer.org/download]: http://swiftmailer.org/download\n  [curl function]: http://php.net/curl\n  [cloud-based email service]: https://sendgrid.com/email-solutions\n  [transactional email delivery]: https://sendgrid.com/transactional-email\n  [sendgrid-php library]: https://github.com/sendgrid/sendgrid-php/tree/v2.1.1\n  [Composer]: https://getcomposer.org/download/\n\ntest\n"
}