{
  "nodes": [
    {
      "content": "Overview of SQL Server on Azure VMs",
      "pos": [
        28,
        63
      ]
    },
    {
      "content": "This article provides an overview of SQL Server hosted on Azure IaaS Virtual Machines.",
      "pos": [
        82,
        168
      ]
    },
    {
      "content": "This includes links to depth content.",
      "pos": [
        169,
        206
      ]
    },
    {
      "content": "SQL Server on Azure Virtual Machines overview",
      "pos": [
        552,
        597
      ]
    },
    {
      "content": "Getting started",
      "pos": [
        602,
        617
      ]
    },
    {
      "pos": [
        618,
        903
      ],
      "content": "You can host <bpt id=\"p1\">[</bpt>SQL Server on Azure Virtual Machines<ept id=\"p1\">](http://azure.microsoft.com/services/virtual-machines/sql-server/)</ept> in a variety of configurations, ranging from a single database server to a multi-machine configuration using AlwaysOn Availability Groups and an Azure Virtual Network."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Running SQL Server on an Azure VM is one option for storing relational data in Azure.",
      "pos": [
        906,
        1004
      ]
    },
    {
      "content": "You can also use the Azure SQL Database service.",
      "pos": [
        1005,
        1053
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Understanding Azure SQL Database and SQL Server in Azure VMs<ept id=\"p1\">](../sql-database/data-management-azure-sql-database-and-sql-server-iaas.md)</ept>.",
      "pos": [
        1054,
        1218
      ]
    },
    {
      "content": "To create a SQL Server virtual machine in Azure, you must first obtain an Azure Platform subscription.",
      "pos": [
        1220,
        1322
      ]
    },
    {
      "content": "You can purchase an Azure subscription at <bpt id=\"p1\">[</bpt>Purchase Options<ept id=\"p1\">](http://azure.microsoft.com/pricing/purchase-options/)</ept>.",
      "pos": [
        1323,
        1438
      ]
    },
    {
      "content": "To try it free, visit <bpt id=\"p1\">[</bpt>Azure free trial<ept id=\"p1\">](https://azure.microsoft.com/pricing/free-trial/)</ept>.",
      "pos": [
        1439,
        1529
      ]
    },
    {
      "content": "Deploy a SQL Server instance on a single VM",
      "pos": [
        1536,
        1579
      ]
    },
    {
      "content": "After signing up for a subscription, the easiest way to deploy a SQL Server virtual machine in Azure is to <bpt id=\"p1\">[</bpt>provision a SQL Server machine gallery image in the Azure Management Portal<ept id=\"p1\">](virtual-machines-provision-sql-server.md)</ept>.",
      "pos": [
        1581,
        1808
      ]
    },
    {
      "content": "Those images include licensing of SQL Server in the pricing for the VM.",
      "pos": [
        1809,
        1880
      ]
    },
    {
      "content": "The following table provides a matrix of available SQL Server images in the virtual machine gallery.",
      "pos": [
        1883,
        1983
      ]
    },
    {
      "content": "SQL Server version",
      "pos": [
        1987,
        2005
      ]
    },
    {
      "content": "Operating system",
      "pos": [
        2006,
        2022
      ]
    },
    {
      "content": "SQL Server edition",
      "pos": [
        2023,
        2041
      ]
    },
    {
      "content": "SQL Server 2008 R2 SP2",
      "pos": [
        2058,
        2080
      ]
    },
    {
      "content": "Windows Server 2008 R2",
      "pos": [
        2081,
        2103
      ]
    },
    {
      "content": "Enterprise, Standard, Web",
      "pos": [
        2104,
        2129
      ]
    },
    {
      "content": "SQL Server 2008 R2 SP3",
      "pos": [
        2132,
        2154
      ]
    },
    {
      "content": "Windows Server 2008 R2",
      "pos": [
        2155,
        2177
      ]
    },
    {
      "content": "Enterprise, Standard, Web",
      "pos": [
        2178,
        2203
      ]
    },
    {
      "content": "SQL Server 2012 SP2",
      "pos": [
        2206,
        2225
      ]
    },
    {
      "content": "Windows Server 2012",
      "pos": [
        2226,
        2245
      ]
    },
    {
      "content": "Enterprise, Standard, Web",
      "pos": [
        2246,
        2271
      ]
    },
    {
      "content": "SQL Server 2012 SP2",
      "pos": [
        2274,
        2293
      ]
    },
    {
      "content": "Windows Server 2012 R2",
      "pos": [
        2294,
        2316
      ]
    },
    {
      "content": "Enterprise, Standard, Web",
      "pos": [
        2317,
        2342
      ]
    },
    {
      "content": "SQL Server 2014",
      "pos": [
        2345,
        2360
      ]
    },
    {
      "content": "Windows Server 2012 R2",
      "pos": [
        2361,
        2383
      ]
    },
    {
      "content": "Enterprise, Standard, Web",
      "pos": [
        2384,
        2409
      ]
    },
    {
      "content": "SQL Server 2014 SP1",
      "pos": [
        2412,
        2431
      ]
    },
    {
      "content": "Windows Server 2012 R2",
      "pos": [
        2432,
        2454
      ]
    },
    {
      "content": "Enterprise, Standard, Web",
      "pos": [
        2455,
        2480
      ]
    },
    {
      "content": "SQL Server 2016 CTP",
      "pos": [
        2483,
        2502
      ]
    },
    {
      "content": "Windows Server 2012 R2",
      "pos": [
        2503,
        2525
      ]
    },
    {
      "content": "Evaluation",
      "pos": [
        2526,
        2536
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> The virtual machines gallery images for data warehousing and transactional workloads (not shown above) are deprecated and will be removed from the gallery soon.",
      "pos": [
        2540,
        2713
      ]
    },
    {
      "content": "Please use the standard images in the previous table and optimize performance for your specific workload by following the recommendations in <bpt id=\"p1\">[</bpt>Performance best practices for SQL Server in Azure Virtual Machines<ept id=\"p1\">](virtual-machines-sql-server-performance-best-practices.md)</ept>.",
      "pos": [
        2714,
        2984
      ]
    },
    {
      "content": "In addition to these preconfigured images, you can also <bpt id=\"p1\">[</bpt>create an Azure virtual machine<ept id=\"p1\">](virtual-machines-windows-tutorial.md)</ept> without SQL Server pre-installed.",
      "pos": [
        2987,
        3148
      ]
    },
    {
      "content": "You can install any instance of SQL Server for which you have a license.",
      "pos": [
        3149,
        3221
      ]
    },
    {
      "content": "You migrate your license to Azure for running SQL Server in an Azure Virtual Machine using <bpt id=\"p1\">[</bpt>License Mobility through Software Assurance on Azure<ept id=\"p1\">](http://azure.microsoft.com/pricing/license-mobility/)</ept>.",
      "pos": [
        3222,
        3422
      ]
    },
    {
      "content": "In this scenario, you only pay for Azure compute and storage <bpt id=\"p1\">[</bpt>costs<ept id=\"p1\">](http://azure.microsoft.com/pricing/details/virtual-machines)</ept> associated with the virtual machine.",
      "pos": [
        3423,
        3589
      ]
    },
    {
      "content": "During these early stages of provisioning and configuring, common tasks include:",
      "pos": [
        3591,
        3671
      ]
    },
    {
      "content": "Review performance best practices for SQL Server in Azure VMs",
      "pos": [
        3676,
        3737
      ]
    },
    {
      "content": "Review security best practices for SQL Server in Azure VMs",
      "pos": [
        3801,
        3859
      ]
    },
    {
      "content": "Set up connectivity",
      "pos": [
        3920,
        3939
      ]
    },
    {
      "content": "Migrate your data",
      "pos": [
        3991,
        4008
      ]
    },
    {
      "content": "After your SQL Server virtual machine is up and running, you might want to migrate existing databases to the machine.",
      "pos": [
        4010,
        4127
      ]
    },
    {
      "content": "There are several techniques, but the deployment wizard in SQL Server Management Studio works well for most scenarios.",
      "pos": [
        4128,
        4246
      ]
    },
    {
      "content": "For a discussion of the scenarios and a tutorial of the wizard, see <bpt id=\"p1\">[</bpt>Migrating a Database to SQL Server on an Azure VM<ept id=\"p1\">](virtual-machines-migrate-onpremises-database.md)</ept>.",
      "pos": [
        4247,
        4416
      ]
    },
    {
      "content": "High availability",
      "pos": [
        4421,
        4438
      ]
    },
    {
      "content": "If you require high availability, consider configuring SQL Server AlwaysOn Availability Groups.",
      "pos": [
        4440,
        4535
      ]
    },
    {
      "content": "This involves multiple Azure VMs in a virtual network.",
      "pos": [
        4536,
        4590
      ]
    },
    {
      "content": "The Azure Preview Portal has a template that sets up this configuration for you.",
      "pos": [
        4591,
        4671
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>SQL Server AlwaysOn Offering in Microsoft Azure Portal Gallery<ept id=\"p1\">](http://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx)</ept>.",
      "pos": [
        4672,
        4898
      ]
    },
    {
      "content": "If you want to manually configure your Availability Group and associated listener, see the following articles:",
      "pos": [
        4901,
        5011
      ]
    },
    {
      "content": "Configure AlwaysOn Availability Groups in Azure (GUI)",
      "pos": [
        5016,
        5069
      ]
    },
    {
      "content": "Configure an ILB listener for AlwaysOn Availability Groups in Azure",
      "pos": [
        5139,
        5206
      ]
    },
    {
      "content": "Deploy SQL Server AlwaysOn with an Azure Resource Manager template",
      "pos": [
        5294,
        5360
      ]
    },
    {
      "content": "Extend on-premises AlwaysOn Availability Groups to Azure",
      "pos": [
        5417,
        5473
      ]
    },
    {
      "pos": [
        5556,
        5769
      ],
      "content": "For other high availability considerations, see <bpt id=\"p1\">[</bpt>High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines<ept id=\"p1\">](virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions.md)</ept>."
    },
    {
      "content": "Backup and restore",
      "pos": [
        5774,
        5792
      ]
    },
    {
      "content": "For on-premises databases, Azure can act as a secondary data center to store SQL Server backup files.",
      "pos": [
        5793,
        5894
      ]
    },
    {
      "content": "For an overview of backup and restore options, see <bpt id=\"p1\">[</bpt>Backup and Restore for SQL Server in Azure Virtual Machines<ept id=\"p1\">](virtual-machines-sql-server-backup-and-restore.md)</ept>.",
      "pos": [
        5895,
        6059
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>SQL Server Backup to URL<ept id=\"p1\">](https://msdn.microsoft.com/library/dn435916.aspx)</ept> stores Azure backup files in Azure blob storage.",
      "pos": [
        6061,
        6186
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>SQL Server Managed Backup<ept id=\"p1\">](https://msdn.microsoft.com/library/dn449496.aspx)</ept> allows you to schedule backup and retention in Azure.",
      "pos": [
        6187,
        6318
      ]
    },
    {
      "content": "These services can be used with either on-premises SQL Server instances or SQL Server running on Azure VMs.",
      "pos": [
        6319,
        6426
      ]
    },
    {
      "content": "Azure VMs can also take advantage of <bpt id=\"p1\">[</bpt>Automated Backup<ept id=\"p1\">](virtual-machines-sql-server-automated-backup.md)</ept> and <bpt id=\"p2\">[</bpt>Automated Patching<ept id=\"p2\">](virtual-machines-sql-server-automated-patching.md)</ept> for SQL Server.",
      "pos": [
        6427,
        6623
      ]
    },
    {
      "content": "SQL Server VM image configuration details",
      "pos": [
        6628,
        6669
      ]
    },
    {
      "content": "The following tables describe the configuration of the platform-provided SQL Server virtual machine images.",
      "pos": [
        6671,
        6778
      ]
    },
    {
      "content": "Windows Server",
      "pos": [
        6784,
        6798
      ]
    },
    {
      "content": "The Windows Server installation in the platform image contains the following configurations settings and components:",
      "pos": [
        6800,
        6916
      ]
    },
    {
      "content": "Feature",
      "pos": [
        6919,
        6926
      ]
    },
    {
      "content": "Configuration",
      "pos": [
        6927,
        6940
      ]
    },
    {
      "content": "Remote Desktop",
      "pos": [
        6952,
        6966
      ]
    },
    {
      "content": "Enabled for the administrator account",
      "pos": [
        6967,
        7004
      ]
    },
    {
      "content": "Windows Update",
      "pos": [
        7007,
        7021
      ]
    },
    {
      "content": "Enabled",
      "pos": [
        7022,
        7029
      ]
    },
    {
      "content": "User Accounts",
      "pos": [
        7032,
        7045
      ]
    },
    {
      "content": "By default, the user account specified during provisioning is a member of the local Administrators group.",
      "pos": [
        7046,
        7151
      ]
    },
    {
      "content": "This administrator account is also the member of the SQL Server sysadmin server role",
      "pos": [
        7152,
        7236
      ]
    },
    {
      "content": "Workgroups",
      "pos": [
        7239,
        7249
      ]
    },
    {
      "content": "The virtual machine is a member of a workgroup named WORKGROUP",
      "pos": [
        7250,
        7312
      ]
    },
    {
      "content": "Guest Account",
      "pos": [
        7315,
        7328
      ]
    },
    {
      "content": "Disabled",
      "pos": [
        7329,
        7337
      ]
    },
    {
      "content": "Windows Firewall with Advanced Security",
      "pos": [
        7340,
        7379
      ]
    },
    {
      "content": "On",
      "pos": [
        7380,
        7382
      ]
    },
    {
      "content": ".NET Framework",
      "pos": [
        7385,
        7399
      ]
    },
    {
      "content": "Version 4",
      "pos": [
        7400,
        7409
      ]
    },
    {
      "content": "Disks",
      "pos": [
        7412,
        7417
      ]
    },
    {
      "content": "The size-selected limits the number of data disks you can configure.",
      "pos": [
        7418,
        7486
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Virtual Machine Sizes for Azure<ept id=\"p1\">](virtual-machines-size-specs.md)</ept>",
      "pos": [
        7487,
        7556
      ]
    },
    {
      "content": "SQL Server",
      "pos": [
        7563,
        7573
      ]
    },
    {
      "content": "The SQL Server installation in the platform image contains the following configurations settings and components:",
      "pos": [
        7575,
        7687
      ]
    },
    {
      "content": "Feature",
      "pos": [
        7690,
        7697
      ]
    },
    {
      "content": "Configuration",
      "pos": [
        7698,
        7711
      ]
    },
    {
      "content": "Database Engine",
      "pos": [
        7724,
        7739
      ]
    },
    {
      "content": "Installed",
      "pos": [
        7740,
        7749
      ]
    },
    {
      "content": "Analysis Services",
      "pos": [
        7752,
        7769
      ]
    },
    {
      "content": "Installed",
      "pos": [
        7770,
        7779
      ]
    },
    {
      "content": "Integration Services",
      "pos": [
        7782,
        7802
      ]
    },
    {
      "content": "Installed",
      "pos": [
        7803,
        7812
      ]
    },
    {
      "content": "Reporting Services",
      "pos": [
        7815,
        7833
      ]
    },
    {
      "content": "Configured in Native mode",
      "pos": [
        7834,
        7859
      ]
    },
    {
      "content": "AlwaysOn Availability Groups",
      "pos": [
        7862,
        7890
      ]
    },
    {
      "content": "Available in SQL Server 2012 or later.",
      "pos": [
        7891,
        7929
      ]
    },
    {
      "content": "Requires <bpt id=\"p1\">[</bpt>additional configuration<ept id=\"p1\">](virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions.md)</ept>",
      "pos": [
        7930,
        8047
      ]
    },
    {
      "content": "Replication",
      "pos": [
        8049,
        8060
      ]
    },
    {
      "content": "Installed",
      "pos": [
        8061,
        8070
      ]
    },
    {
      "content": "Full-Text and Semantic Extractions for Search",
      "pos": [
        8073,
        8118
      ]
    },
    {
      "content": "Installed (Semantic Extractions in SQL Server 2012 or later only)",
      "pos": [
        8119,
        8184
      ]
    },
    {
      "content": "Data Quality Services",
      "pos": [
        8187,
        8208
      ]
    },
    {
      "content": "Installed (SQL Server 2012 or later only)",
      "pos": [
        8209,
        8250
      ]
    },
    {
      "content": "Master Data Services",
      "pos": [
        8253,
        8273
      ]
    },
    {
      "content": "Installed (SQL Server 2012 or later only).",
      "pos": [
        8274,
        8316
      ]
    },
    {
      "content": "Requires <bpt id=\"p1\">[</bpt>additional configuration and components<ept id=\"p1\">](https://msdn.microsoft.com/library/ee633752.aspx)</ept>",
      "pos": [
        8317,
        8417
      ]
    },
    {
      "content": "PowerPivot for SharePoint",
      "pos": [
        8419,
        8444
      ]
    },
    {
      "content": "Available (SQL Server 2012 or later only).",
      "pos": [
        8445,
        8487
      ]
    },
    {
      "content": "Requires additional configuration and components (including SharePoint)",
      "pos": [
        8488,
        8559
      ]
    },
    {
      "content": "Distributed Replay Client",
      "pos": [
        8562,
        8587
      ]
    },
    {
      "content": "Available (SQL Server 2012 or later only), but not installed.",
      "pos": [
        8588,
        8649
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Running SQL Server setup from the platform-provided SQL Server image<ept id=\"p1\">](#run-sql-server-setup-from-the-platform-provided-sql-server-image)</ept>",
      "pos": [
        8650,
        8791
      ]
    },
    {
      "content": "Tools",
      "pos": [
        8794,
        8799
      ]
    },
    {
      "content": "All tools, including SQL Server Management Studio, SQL Server Configuration Manager, the Business Intelligence Development Studio, SQL Server Setup, Client Tools Connectivity, Client Tools SDK, and SQL Client Connectivity SDK, and upgrade and migration tools, such as Data-tier applications (DAC), backup, restore, attach, and detach",
      "pos": [
        8800,
        9133
      ]
    },
    {
      "content": "SQL Server Books Online",
      "pos": [
        9136,
        9159
      ]
    },
    {
      "content": "Installed but requires configuration by using Help Viewer",
      "pos": [
        9160,
        9217
      ]
    },
    {
      "content": "Database engine configuration",
      "pos": [
        9224,
        9253
      ]
    },
    {
      "content": "The following database engine settings are configured.",
      "pos": [
        9255,
        9309
      ]
    },
    {
      "content": "For more settings, examine the instance of SQL Server.",
      "pos": [
        9310,
        9364
      ]
    },
    {
      "content": "Feature",
      "pos": [
        9367,
        9374
      ]
    },
    {
      "content": "Configuration",
      "pos": [
        9375,
        9388
      ]
    },
    {
      "content": "Instance",
      "pos": [
        9401,
        9409
      ]
    },
    {
      "content": "Contains a default (unnamed) instance of the SQL Server Database Engine, listening only on the shared memory protocol",
      "pos": [
        9410,
        9527
      ]
    },
    {
      "content": "Authentication",
      "pos": [
        9530,
        9544
      ]
    },
    {
      "content": "By default, Azure selects Windows Authentication during SQL Server virtual machine setup.",
      "pos": [
        9545,
        9634
      ]
    },
    {
      "content": "If you want to use the sa login or create a new SQL Server account, you need to change the authentication mode.",
      "pos": [
        9635,
        9746
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Security Considerations for SQL Server in Azure Virtual Machines<ept id=\"p1\">](virtual-machines-sql-server-security-considerations.md)</ept>.",
      "pos": [
        9747,
        9896
      ]
    },
    {
      "content": "sysadmin",
      "pos": [
        9899,
        9907
      ]
    },
    {
      "content": "The Azure user who installed the virtual machine is initially the only member of the SQL Server sysadmin fixed server role",
      "pos": [
        9908,
        10030
      ]
    },
    {
      "content": "Memory",
      "pos": [
        10033,
        10039
      ]
    },
    {
      "content": "The Database Engine memory is set to dynamic memory configuration",
      "pos": [
        10040,
        10105
      ]
    },
    {
      "content": "Contained database authentication",
      "pos": [
        10108,
        10141
      ]
    },
    {
      "content": "Off",
      "pos": [
        10142,
        10145
      ]
    },
    {
      "content": "Default language",
      "pos": [
        10148,
        10164
      ]
    },
    {
      "content": "English",
      "pos": [
        10165,
        10172
      ]
    },
    {
      "content": "Cross-database ownership chaining",
      "pos": [
        10175,
        10208
      ]
    },
    {
      "content": "Off",
      "pos": [
        10209,
        10212
      ]
    },
    {
      "content": "Customer Experience Improvement Program (CEIP)",
      "pos": [
        10219,
        10265
      ]
    },
    {
      "content": "The <bpt id=\"p1\">[</bpt>Customer Experience Improvement Program (CEIP)<ept id=\"p1\">](https://technet.microsoft.com/library/cc730757.aspx)</ept> is enabled.",
      "pos": [
        10267,
        10384
      ]
    },
    {
      "content": "You can disable the CEIP by using the SQL Server Error and Usage Reporting utility.",
      "pos": [
        10385,
        10468
      ]
    },
    {
      "content": "To launch the SQL Server Error and Usage Reporting utility; on the Start menu, click All Programs, click Microsoft SQL Server version, click Configuration Tools, and then click SQL Server Error and Usage Reporting.",
      "pos": [
        10469,
        10683
      ]
    },
    {
      "content": "If you do not want to use an instance of SQL Server with CEIP enabled, you might also consider deploying your own virtual machine image to Azure.",
      "pos": [
        10684,
        10829
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Creating and Uploading a Virtual Hard Disk that Contains the Windows Server Operating System<ept id=\"p1\">](virtual-machines-create-upload-vhd-windows-server.md)</ept>.",
      "pos": [
        10831,
        11006
      ]
    },
    {
      "content": "Run SQL Server setup from the platform-provided SQL Server image",
      "pos": [
        11011,
        11075
      ]
    },
    {
      "content": "If you create a virtual machine by using a platform-provided SQL Server image, you can find the SQL Server setup media saved on the virtual machine in the <bpt id=\"p1\">**</bpt>C:\\SqlServer_SQLMajorVersion.SQLMinorVersion_Full<ept id=\"p1\">**</ept> directory.",
      "pos": [
        11077,
        11296
      ]
    },
    {
      "content": "You can run setup from this directory to perform any setup actions including add or remove features, add a new instance, or repair the instance if the disk space permits.",
      "pos": [
        11297,
        11467
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Azure provides multiple versions of the SQL Server images on the portal.",
      "pos": [
        11470,
        11555
      ]
    },
    {
      "content": "If the version release date of SQL Server platform-provided image is May 15th, 2014 or later, it contains the product key by default.",
      "pos": [
        11556,
        11689
      ]
    },
    {
      "content": "If you provision a virtual machine by using a platform-provided SQL Server image that is published before this date, that VM does not contain the product key.",
      "pos": [
        11690,
        11848
      ]
    },
    {
      "content": "As a best practice, we recommend that you always select the latest image version when you provision a new VM.",
      "pos": [
        11849,
        11958
      ]
    },
    {
      "content": "Resources",
      "pos": [
        11963,
        11972
      ]
    },
    {
      "content": "Provisioning a SQL Server Virtual Machine on Azure",
      "pos": [
        11977,
        12027
      ]
    },
    {
      "content": "Migrating a Database to SQL Server on an Azure VM",
      "pos": [
        12074,
        12123
      ]
    },
    {
      "content": "High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines",
      "pos": [
        12177,
        12257
      ]
    },
    {
      "content": "Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines",
      "pos": [
        12344,
        12432
      ]
    },
    {
      "content": "Azure Virtual Machines",
      "pos": [
        12517,
        12539
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Overview of SQL Server on Azure VMs\"\n    description=\"This article provides an overview of SQL Server hosted on Azure IaaS Virtual Machines. This includes links to depth content.\" \n    services=\"virtual-machines\" \n    documentationCenter=\"\" \n    authors=\"rothja\" \n    manager=\"jeffreyg\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"virtual-machines\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.tgt_pltfrm=\"vm-windows-sql-server\"\n    ms.workload=\"infrastructure-services\" \n    ms.date=\"09/01/2015\"\n    ms.author=\"jroth\"/>\n\n# SQL Server on Azure Virtual Machines overview\n\n## Getting started\nYou can host [SQL Server on Azure Virtual Machines](http://azure.microsoft.com/services/virtual-machines/sql-server/) in a variety of configurations, ranging from a single database server to a multi-machine configuration using AlwaysOn Availability Groups and an Azure Virtual Network.\n\n>[AZURE.NOTE] Running SQL Server on an Azure VM is one option for storing relational data in Azure. You can also use the Azure SQL Database service. For more information, see [Understanding Azure SQL Database and SQL Server in Azure VMs](../sql-database/data-management-azure-sql-database-and-sql-server-iaas.md).\n\nTo create a SQL Server virtual machine in Azure, you must first obtain an Azure Platform subscription. You can purchase an Azure subscription at [Purchase Options](http://azure.microsoft.com/pricing/purchase-options/). To try it free, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/). \n\n### Deploy a SQL Server instance on a single VM\n\nAfter signing up for a subscription, the easiest way to deploy a SQL Server virtual machine in Azure is to [provision a SQL Server machine gallery image in the Azure Management Portal](virtual-machines-provision-sql-server.md). Those images include licensing of SQL Server in the pricing for the VM. \n\nThe following table provides a matrix of available SQL Server images in the virtual machine gallery. \n\n|SQL Server version|Operating system|SQL Server edition|\n|---|---|---|\n|SQL Server 2008 R2 SP2|Windows Server 2008 R2|Enterprise, Standard, Web|\n|SQL Server 2008 R2 SP3|Windows Server 2008 R2|Enterprise, Standard, Web|\n|SQL Server 2012 SP2|Windows Server 2012|Enterprise, Standard, Web|\n|SQL Server 2012 SP2|Windows Server 2012 R2|Enterprise, Standard, Web|\n|SQL Server 2014|Windows Server 2012 R2|Enterprise, Standard, Web|\n|SQL Server 2014 SP1|Windows Server 2012 R2|Enterprise, Standard, Web|\n|SQL Server 2016 CTP|Windows Server 2012 R2|Evaluation|\n\n>[AZURE.NOTE] The virtual machines gallery images for data warehousing and transactional workloads (not shown above) are deprecated and will be removed from the gallery soon. Please use the standard images in the previous table and optimize performance for your specific workload by following the recommendations in [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-sql-server-performance-best-practices.md). \n\nIn addition to these preconfigured images, you can also [create an Azure virtual machine](virtual-machines-windows-tutorial.md) without SQL Server pre-installed. You can install any instance of SQL Server for which you have a license. You migrate your license to Azure for running SQL Server in an Azure Virtual Machine using [License Mobility through Software Assurance on Azure](http://azure.microsoft.com/pricing/license-mobility/). In this scenario, you only pay for Azure compute and storage [costs](http://azure.microsoft.com/pricing/details/virtual-machines) associated with the virtual machine.\n\nDuring these early stages of provisioning and configuring, common tasks include:\n\n- [Review performance best practices for SQL Server in Azure VMs](virtual-machines-sql-server-performance-best-practices.md)\n- [Review security best practices for SQL Server in Azure VMs](virtual-machines-sql-server-security-considerations.md)\n- [Set up connectivity](virtual-machines-sql-server-connectivity.md)\n\n### Migrate your data\n\nAfter your SQL Server virtual machine is up and running, you might want to migrate existing databases to the machine. There are several techniques, but the deployment wizard in SQL Server Management Studio works well for most scenarios. For a discussion of the scenarios and a tutorial of the wizard, see [Migrating a Database to SQL Server on an Azure VM](virtual-machines-migrate-onpremises-database.md).\n\n## High availability\n\nIf you require high availability, consider configuring SQL Server AlwaysOn Availability Groups. This involves multiple Azure VMs in a virtual network. The Azure Preview Portal has a template that sets up this configuration for you. For more information, see [SQL Server AlwaysOn Offering in Microsoft Azure Portal Gallery](http://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx). \n\nIf you want to manually configure your Availability Group and associated listener, see the following articles:\n\n- [Configure AlwaysOn Availability Groups in Azure (GUI)](virtual-machines-sql-server-alwayson-availability-groups-gui.md)\n- [Configure an ILB listener for AlwaysOn Availability Groups in Azure](virtual-machines-sql-server-configure-ilb-alwayson-availability-group-listener.md)\n- [Deploy SQL Server AlwaysOn with an Azure Resource Manager template](virtual-machines-workload-template-sql-alwayson.md)\n- [Extend on-premises AlwaysOn Availability Groups to Azure](virtual-machines-sql-server-extend-on-premises-alwayson-availability-groups.md)\n\nFor other high availability considerations, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions.md).\n\n## Backup and restore\nFor on-premises databases, Azure can act as a secondary data center to store SQL Server backup files. For an overview of backup and restore options, see [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-sql-server-backup-and-restore.md).\n\n[SQL Server Backup to URL](https://msdn.microsoft.com/library/dn435916.aspx) stores Azure backup files in Azure blob storage. [SQL Server Managed Backup](https://msdn.microsoft.com/library/dn449496.aspx) allows you to schedule backup and retention in Azure. These services can be used with either on-premises SQL Server instances or SQL Server running on Azure VMs. Azure VMs can also take advantage of [Automated Backup](virtual-machines-sql-server-automated-backup.md) and [Automated Patching](virtual-machines-sql-server-automated-patching.md) for SQL Server.\n\n## SQL Server VM image configuration details\n\nThe following tables describe the configuration of the platform-provided SQL Server virtual machine images.\n\n### Windows Server\n\nThe Windows Server installation in the platform image contains the following configurations settings and components:\n\n|Feature|Configuration\n|---|---|\n|Remote Desktop|Enabled for the administrator account|\n|Windows Update|Enabled|\n|User Accounts|By default, the user account specified during provisioning is a member of the local Administrators group. This administrator account is also the member of the SQL Server sysadmin server role|\n|Workgroups|The virtual machine is a member of a workgroup named WORKGROUP|\n|Guest Account|Disabled|\n|Windows Firewall with Advanced Security|On|\n|.NET Framework|Version 4|\n|Disks|The size-selected limits the number of data disks you can configure. See [Virtual Machine Sizes for Azure](virtual-machines-size-specs.md)|\n\n### SQL Server\n\nThe SQL Server installation in the platform image contains the following configurations settings and components:\n\n|Feature|Configuration|\n|---|---|\n|Database Engine|Installed|\n|Analysis Services|Installed|\n|Integration Services|Installed|\n|Reporting Services|Configured in Native mode|\n|AlwaysOn Availability Groups|Available in SQL Server 2012 or later. Requires [additional configuration](virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions.md)\n|Replication|Installed|\n|Full-Text and Semantic Extractions for Search|Installed (Semantic Extractions in SQL Server 2012 or later only)|\n|Data Quality Services|Installed (SQL Server 2012 or later only)|\n|Master Data Services|Installed (SQL Server 2012 or later only). Requires [additional configuration and components](https://msdn.microsoft.com/library/ee633752.aspx)\n|PowerPivot for SharePoint|Available (SQL Server 2012 or later only). Requires additional configuration and components (including SharePoint)|\n|Distributed Replay Client|Available (SQL Server 2012 or later only), but not installed. See [Running SQL Server setup from the platform-provided SQL Server image](#run-sql-server-setup-from-the-platform-provided-sql-server-image)|\n|Tools|All tools, including SQL Server Management Studio, SQL Server Configuration Manager, the Business Intelligence Development Studio, SQL Server Setup, Client Tools Connectivity, Client Tools SDK, and SQL Client Connectivity SDK, and upgrade and migration tools, such as Data-tier applications (DAC), backup, restore, attach, and detach|\n|SQL Server Books Online|Installed but requires configuration by using Help Viewer|\n\n### Database engine configuration\n\nThe following database engine settings are configured. For more settings, examine the instance of SQL Server.\n\n|Feature|Configuration|\n|---|---|\n|Instance|Contains a default (unnamed) instance of the SQL Server Database Engine, listening only on the shared memory protocol|\n|Authentication|By default, Azure selects Windows Authentication during SQL Server virtual machine setup. If you want to use the sa login or create a new SQL Server account, you need to change the authentication mode. For more information, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-sql-server-security-considerations.md).|\n|sysadmin|The Azure user who installed the virtual machine is initially the only member of the SQL Server sysadmin fixed server role|\n|Memory|The Database Engine memory is set to dynamic memory configuration|\n|Contained database authentication|Off|\n|Default language|English|\n|Cross-database ownership chaining|Off|\n\n### Customer Experience Improvement Program (CEIP)\n\nThe [Customer Experience Improvement Program (CEIP)](https://technet.microsoft.com/library/cc730757.aspx) is enabled. You can disable the CEIP by using the SQL Server Error and Usage Reporting utility. To launch the SQL Server Error and Usage Reporting utility; on the Start menu, click All Programs, click Microsoft SQL Server version, click Configuration Tools, and then click SQL Server Error and Usage Reporting. If you do not want to use an instance of SQL Server with CEIP enabled, you might also consider deploying your own virtual machine image to Azure.  For more information, see [Creating and Uploading a Virtual Hard Disk that Contains the Windows Server Operating System](virtual-machines-create-upload-vhd-windows-server.md).\n\n## Run SQL Server setup from the platform-provided SQL Server image\n\nIf you create a virtual machine by using a platform-provided SQL Server image, you can find the SQL Server setup media saved on the virtual machine in the **C:\\SqlServer_SQLMajorVersion.SQLMinorVersion_Full** directory. You can run setup from this directory to perform any setup actions including add or remove features, add a new instance, or repair the instance if the disk space permits.\n\n>[AZURE.NOTE] Azure provides multiple versions of the SQL Server images on the portal. If the version release date of SQL Server platform-provided image is May 15th, 2014 or later, it contains the product key by default. If you provision a virtual machine by using a platform-provided SQL Server image that is published before this date, that VM does not contain the product key. As a best practice, we recommend that you always select the latest image version when you provision a new VM.\n\n## Resources\n\n- [Provisioning a SQL Server Virtual Machine on Azure](virtual-machines-provision-sql-server.md)\n- [Migrating a Database to SQL Server on an Azure VM](virtual-machines-migrate-onpremises-database.md)\n- [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions.md)\n- [Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines](virtual-machines-sql-server-application-patterns-and-development-strategies.md)\n- [Azure Virtual Machines](virtual-machines-about.md) \n"
}