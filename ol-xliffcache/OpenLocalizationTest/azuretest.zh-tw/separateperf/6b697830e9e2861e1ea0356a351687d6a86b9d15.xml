{
  "nodes": [
    {
      "content": "Streaming logs and console",
      "pos": [
        28,
        54
      ]
    },
    {
      "content": "Streaming logs and console overview",
      "pos": [
        74,
        109
      ]
    },
    {
      "content": "Streaming Logs and the Console",
      "pos": [
        430,
        460
      ]
    },
    {
      "content": "Streaming Logs",
      "pos": [
        466,
        480
      ]
    },
    {
      "content": "The Microsoft Azure Portal provides an integrated streaming log viewer that lets you view tracing events from",
      "pos": [
        486,
        595
      ]
    },
    {
      "content": "your Azure App Service web apps in real time.",
      "pos": [
        597,
        642
      ]
    },
    {
      "content": "Setting this up requires a few simple steps:",
      "pos": [
        646,
        690
      ]
    },
    {
      "content": "Write traces in your code",
      "pos": [
        694,
        719
      ]
    },
    {
      "content": "Enable Application Diagnostics from within the Azure Portal",
      "pos": [
        722,
        781
      ]
    },
    {
      "content": "Click on the streaming logs part on the web app's blade",
      "pos": [
        784,
        839
      ]
    },
    {
      "content": "How to write traces in your code",
      "pos": [
        845,
        877
      ]
    },
    {
      "content": "Writing traces in your code is easy.",
      "pos": [
        883,
        919
      ]
    },
    {
      "content": "In C# it's as easy as writing the following code:",
      "pos": [
        921,
        970
      ]
    },
    {
      "content": "The Trace class lives in the System.Diagnostics namespace.",
      "pos": [
        1261,
        1319
      ]
    },
    {
      "content": "In a node.js app you can write this code to achieve the same result:",
      "pos": [
        1321,
        1389
      ]
    },
    {
      "content": "How to enable and view the streaming logs",
      "pos": [
        1483,
        1524
      ]
    },
    {
      "content": "![][BrowseSitesScreenshot]",
      "pos": [
        1530,
        1556
      ]
    },
    {
      "content": "Diagnostics are enabled on a per web app basis.",
      "pos": [
        1557,
        1604
      ]
    },
    {
      "content": "From within the <bpt id=\"p1\">[</bpt>portal<ept id=\"p1\">](https://portal.azure.com)</ept> click the",
      "pos": [
        1606,
        1666
      ]
    },
    {
      "content": "<bpt id=\"p1\"> **</bpt>Browse (1)<ept id=\"p1\">**</ept> button on the left menu bar and then click <bpt id=\"p2\">**</bpt>Web Apps (2)<ept id=\"p2\">**</ept> to get to the <bpt id=\"p3\">**</bpt>list (3)<ept id=\"p3\">**</ept> of",
      "pos": [
        1667,
        1772
      ]
    },
    {
      "content": "all your web apps.",
      "pos": [
        1775,
        1793
      ]
    },
    {
      "content": "Click on the name of the web app that you want to configure to navigate to it.",
      "pos": [
        1797,
        1875
      ]
    },
    {
      "content": "![][DiagnosticsLogs]",
      "pos": [
        1879,
        1899
      ]
    },
    {
      "content": "Then click <bpt id=\"p1\">**</bpt>Settings (1)<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>Diagnostic Logs (2)<ept id=\"p2\">**</ept> and turn <bpt id=\"p3\">**</bpt>On<ept id=\"p3\">**</ept>",
      "pos": [
        1900,
        1969
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Application Logging (Filesystem)(3)<ept id=\"p1\">**</ept> The <bpt id=\"p2\">**</bpt>Level<ept id=\"p2\">**</ept> option letts you change the severity",
      "pos": [
        1971,
        2061
      ]
    },
    {
      "content": "level of traces to capture.",
      "pos": [
        2063,
        2090
      ]
    },
    {
      "content": "You should set this to <bpt id=\"p1\">**</bpt>Verbose<ept id=\"p1\">**</ept> if you're just trying to",
      "pos": [
        2092,
        2151
      ]
    },
    {
      "content": "get familiar with the feature as this will ensure all of your trace statements get logged.",
      "pos": [
        2153,
        2243
      ]
    },
    {
      "pos": [
        2245,
        2314
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>SAVE<ept id=\"p1\">**</ept> at the top of the blade and you're ready to view logs."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>NOTE:<ept id=\"p1\">**</ept> The higher the <bpt id=\"p2\">**</bpt>severity level<ept id=\"p2\">**</ept> the more resources are consumed to log and the more traces",
      "pos": [
        2316,
        2418
      ]
    },
    {
      "content": "you will get.",
      "pos": [
        2420,
        2433
      ]
    },
    {
      "content": "Make sure this is set to the appropriate level when using this feature for",
      "pos": [
        2434,
        2508
      ]
    },
    {
      "content": "a high traffic / production site.",
      "pos": [
        2510,
        2543
      ]
    },
    {
      "content": "![][StreamingLogsScreenshot]",
      "pos": [
        2546,
        2574
      ]
    },
    {
      "content": "To view the streaming logs from within the portal click <bpt id=\"p1\">**</bpt>Tools (1)<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>Log Stream(2)<ept id=\"p2\">**</ept>.",
      "pos": [
        2575,
        2665
      ]
    },
    {
      "content": "If your app",
      "pos": [
        2666,
        2677
      ]
    },
    {
      "content": "is actively writing trace statements then you should see them in the resulting window in near real time.",
      "pos": [
        2679,
        2783
      ]
    },
    {
      "content": "Console",
      "pos": [
        2788,
        2795
      ]
    },
    {
      "content": "The Azure Portal provides console access to your web app environment.",
      "pos": [
        2800,
        2869
      ]
    },
    {
      "content": "You can explore your web",
      "pos": [
        2870,
        2894
      ]
    },
    {
      "content": "app's file system and run powershell/cmd scripts.",
      "pos": [
        2896,
        2945
      ]
    },
    {
      "content": "You are bound by the same permissions set as",
      "pos": [
        2947,
        2991
      ]
    },
    {
      "content": "your running web app code when executing console commands.",
      "pos": [
        2993,
        3051
      ]
    },
    {
      "content": "You won't be able to access protected",
      "pos": [
        3052,
        3089
      ]
    },
    {
      "content": "directories or run scripts that require elevated permissions.",
      "pos": [
        3091,
        3152
      ]
    },
    {
      "content": "![][ConsoleScreenshot]",
      "pos": [
        3156,
        3178
      ]
    },
    {
      "content": "To get to the console, browse to a web app as described in the section above.",
      "pos": [
        3179,
        3256
      ]
    },
    {
      "content": "Click on <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept>&gt;<bpt id=\"p2\">**</bpt>Console<ept id=\"p2\">**</ept> and the console will open.",
      "pos": [
        3258,
        3315
      ]
    },
    {
      "content": "To get familiar with the console try basic commands like these:",
      "pos": [
        3317,
        3380
      ]
    },
    {
      "content": "test",
      "pos": [
        3857,
        3861
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Streaming logs and console\" \n    description=\"Streaming logs and console overview\" \n    authors=\"btardif\" \n    manager=\"wpickett\" \n    editor=\"\" \n    services=\"app-service\\web\" \n    documentationCenter=\"\"/>\n\n<tags \n    ms.service=\"app-service-web\" \n    ms.workload=\"web\" \n    ms.tgt_pltfrm=\"na\" \n    ms.devlang=\"multiple\" \n    ms.topic=\"article\" \n    ms.date=\"08/10/2015\" \n    ms.author=\"byvinyal\"/>\n\n#Streaming Logs and the Console\n\n### Streaming Logs ###\n\nThe Microsoft Azure Portal provides an integrated streaming log viewer that lets you view tracing events from \nyour Azure App Service web apps in real time.  \n\nSetting this up requires a few simple steps:\n\n- Write traces in your code\n- Enable Application Diagnostics from within the Azure Portal\n- Click on the streaming logs part on the web app's blade\n\n### How to write traces in your code ###\n\nWriting traces in your code is easy.  In C# it's as easy as writing the following code:\n\n`````````````````````````\nTrace.TraceInformation(\"My trace statement\");\n`````````````````````````\n\n`````````````````````````\nTrace.TraceWarning(\"My warning statement\");\n`````````````````````````\n\n`````````````````````````\nTrace.TraceError(\"My error statement\");\n`````````````````````````\n\nThe Trace class lives in the System.Diagnostics namespace.\n\nIn a node.js app you can write this code to achieve the same result:\n\n`````````````````````````\nconsole.log(\"My trace statement\").\n`````````````````````````\n\n### How to enable and view the streaming logs ###\n\n![][BrowseSitesScreenshot]\nDiagnostics are enabled on a per web app basis.  From within the [portal](https://portal.azure.com) click the\n **Browse (1)** button on the left menu bar and then click **Web Apps (2)** to get to the **list (3)** of \n all your web apps.  \n\nClick on the name of the web app that you want to configure to navigate to it.\n  \n![][DiagnosticsLogs]\nThen click **Settings (1)** > **Diagnostic Logs (2)** and turn **On** \n**Application Logging (Filesystem)(3)** The **Level** option letts you change the severity \nlevel of traces to capture.  You should set this to **Verbose** if you're just trying to \nget familiar with the feature as this will ensure all of your trace statements get logged.\n\nClick **SAVE** at the top of the blade and you're ready to view logs.\n\n**NOTE:** The higher the **severity level** the more resources are consumed to log and the more traces \nyou will get. Make sure this is set to the appropriate level when using this feature for \na high traffic / production site. \n\n![][StreamingLogsScreenshot]\nTo view the streaming logs from within the portal click **Tools (1)** > **Log Stream(2)**. If your app \nis actively writing trace statements then you should see them in the resulting window in near real time.\n\n## Console ##\n\nThe Azure Portal provides console access to your web app environment. You can explore your web \napp's file system and run powershell/cmd scripts.  You are bound by the same permissions set as \nyour running web app code when executing console commands. You won't be able to access protected \ndirectories or run scripts that require elevated permissions.  \n\n![][ConsoleScreenshot]\nTo get to the console, browse to a web app as described in the section above. \nClick on **Tools**>**Console** and the console will open.\n\nTo get familiar with the console try basic commands like these:\n\n\n\n`````````````````````````\ndir\n`````````````````````````\n\n`````````````````````````\ncd\n`````````````````````````\n\n\n\n<!-- Images. -->\n[DiagnosticsLogs]: ./media/web-sites-streaming-logs-and-console/diagnostic-logs.png\n[BrowseSitesScreenshot]: ./media/web-sites-streaming-logs-and-console/browse-sites.png\n[StreamingLogsScreenshot]: ./media/web-sites-streaming-logs-and-console/streaming-logs.png\n[ConsoleScreenshot]: ./media/web-sites-streaming-logs-and-console/console.png\n\ntest\n"
}