<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="zh-tw">
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Shard map management</source>
          <target state="new">Shard map management</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>How to use the ShardMapManager, elastic database client library</source>
          <target state="new">How to use the ShardMapManager, elastic database client library</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Shard map management</source>
          <target state="new">Shard map management</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>In a sharded database environment, a <bpt id="p1">**</bpt>shard map<ept id="p1">**</ept> maintains information allowing an application to connect to the correct database based upon the value of the <bpt id="p2">**</bpt>sharding key<ept id="p2">**</ept>.</source>
          <target state="new">In a sharded database environment, a <bpt id="p1">**</bpt>shard map<ept id="p1">**</ept> maintains information allowing an application to connect to the correct database based upon the value of the <bpt id="p2">**</bpt>sharding key<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>Understanding how these maps are constructed is crucial to managing shards with the elastic database client library.</source>
          <target state="new">Understanding how these maps are constructed is crucial to managing shards with the elastic database client library.</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Shard maps and shard mappings</source>
          <target state="new">Shard maps and shard mappings</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Supported .Net types for sharding keys</source>
          <target state="new">Supported .Net types for sharding keys</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>Elastic Scale support the following .Net Framework types as sharding keys:</source>
          <target state="new">Elastic Scale support the following .Net Framework types as sharding keys:</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>integer</source>
          <target state="new">integer</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>long</source>
          <target state="new">long</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>guid</source>
          <target state="new">guid</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>byte[]</source>
          <target state="new">byte[]</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>datetime</source>
          <target state="new">datetime</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>timespan</source>
          <target state="new">timespan</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>datetimeoffset</source>
          <target state="new">datetimeoffset</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>List and range shard maps</source>
          <target state="new">List and range shard maps</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>Shard maps can be constructed using <bpt id="p1">**</bpt>lists of individual sharding key values<ept id="p1">**</ept>, or they can be constructed using <bpt id="p2">**</bpt>ranges of sharding key values<ept id="p2">**</ept>.</source>
          <target state="new">Shard maps can be constructed using <bpt id="p1">**</bpt>lists of individual sharding key values<ept id="p1">**</ept>, or they can be constructed using <bpt id="p2">**</bpt>ranges of sharding key values<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>List shard maps</source>
          <target state="new">List shard maps</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Shards<ept id="p1">**</ept> contain <bpt id="p2">**</bpt>shardlets<ept id="p2">**</ept> and the mapping of shardlets to shards is maintained by a shard map.</source>
          <target state="new"><bpt id="p1">**</bpt>Shards<ept id="p1">**</ept> contain <bpt id="p2">**</bpt>shardlets<ept id="p2">**</ept> and the mapping of shardlets to shards is maintained by a shard map.</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>A <bpt id="p1">**</bpt>list shard map<ept id="p1">**</ept> is an association between the individual key values that identify the shardlets and the databases that serve as shards.</source>
          <target state="new">A <bpt id="p1">**</bpt>list shard map<ept id="p1">**</ept> is an association between the individual key values that identify the shardlets and the databases that serve as shards.</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>List mappings<ept id="p1">**</ept> are explicit (for example, key 1 maps to Database A) and different key values can be mapped to the same database (key values 3 and 6 both reference Database B).</source>
          <target state="new"><bpt id="p1">**</bpt>List mappings<ept id="p1">**</ept> are explicit (for example, key 1 maps to Database A) and different key values can be mapped to the same database (key values 3 and 6 both reference Database B).</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Key</source>
          <target state="new">Key</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>Shard Location</source>
          <target state="new">Shard Location</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>1</source>
          <target state="new">1</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Database_A</source>
          <target state="new">Database_A</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>3</source>
          <target state="new">3</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Database_B</source>
          <target state="new">Database_B</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>4</source>
          <target state="new">4</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Database_C</source>
          <target state="new">Database_C</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>6</source>
          <target state="new">6</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Database_B</source>
          <target state="new">Database_B</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>Range shard maps</source>
          <target state="new">Range shard maps</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>In a <bpt id="p1">**</bpt>range shard map<ept id="p1">**</ept>, the key range is described by a pair <bpt id="p2">**</bpt>[Low Value, High Value)<ept id="p2">**</ept> where the <bpt id="p3">*</bpt>Low Value<ept id="p3">*</ept> is the minimum key in the range, and the <bpt id="p4">*</bpt>High Value<ept id="p4">*</ept> is the first value higher than the range.</source>
          <target state="new">In a <bpt id="p1">**</bpt>range shard map<ept id="p1">**</ept>, the key range is described by a pair <bpt id="p2">**</bpt>[Low Value, High Value)<ept id="p2">**</ept> where the <bpt id="p3">*</bpt>Low Value<ept id="p3">*</ept> is the minimum key in the range, and the <bpt id="p4">*</bpt>High Value<ept id="p4">*</ept> is the first value higher than the range.</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>For example, <bpt id="p1">**</bpt>[0, 100)<ept id="p1">**</ept> includes all integers greater than or equal 0 and less than 100.</source>
          <target state="new">For example, <bpt id="p1">**</bpt>[0, 100)<ept id="p1">**</ept> includes all integers greater than or equal 0 and less than 100.</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>Note that multiple ranges can point to the same database, and disjoint ranges are supported (e.g., [100,200) and [400,600) both point to Database C in the example below.)</source>
          <target state="new">Note that multiple ranges can point to the same database, and disjoint ranges are supported (e.g., [100,200) and [400,600) both point to Database C in the example below.)</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Key</source>
          <target state="new">Key</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Shard Location</source>
          <target state="new">Shard Location</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>[1,50)</source>
          <target state="new">[1,50)</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Database_A</source>
          <target state="new">Database_A</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>[50,100)</source>
          <target state="new">[50,100)</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>Database_B</source>
          <target state="new">Database_B</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>[100,200)</source>
          <target state="new">[100,200)</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Database_C</source>
          <target state="new">Database_C</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>[400,600)</source>
          <target state="new">[400,600)</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Database_C</source>
          <target state="new">Database_C</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>Each of the tables shown above is a conceptual example of a <bpt id="p1">**</bpt>ShardMap<ept id="p1">**</ept> object.</source>
          <target state="new">Each of the tables shown above is a conceptual example of a <bpt id="p1">**</bpt>ShardMap<ept id="p1">**</ept> object.</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>Each row is a simplified example of an individual <bpt id="p1">**</bpt>PointMapping<ept id="p1">**</ept> (for the list shard map) or <bpt id="p2">**</bpt>RangeMapping<ept id="p2">**</ept> (for the range shard map) object.</source>
          <target state="new">Each row is a simplified example of an individual <bpt id="p1">**</bpt>PointMapping<ept id="p1">**</ept> (for the list shard map) or <bpt id="p2">**</bpt>RangeMapping<ept id="p2">**</ept> (for the range shard map) object.</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Shard map manager</source>
          <target state="new">Shard map manager</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>In the client library, the Shard Map Manager is a collection of shard maps.</source>
          <target state="new">In the client library, the Shard Map Manager is a collection of shard maps.</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>The data managed by a <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> .Net object is kept in three places:</source>
          <target state="new">The data managed by a <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> .Net object is kept in three places:</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Global Shard Map (GSM)<ept id="p1">**</ept>: When you create a <bpt id="p2">**</bpt>ShardMapManager<ept id="p2">**</ept>, you specify a database to serve as the repository for all of its shard maps and mappings.</source>
          <target state="new"><bpt id="p1">**</bpt>Global Shard Map (GSM)<ept id="p1">**</ept>: When you create a <bpt id="p2">**</bpt>ShardMapManager<ept id="p2">**</ept>, you specify a database to serve as the repository for all of its shard maps and mappings.</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>Special tables and stored procedures are automatically created to manage the information.</source>
          <target state="new">Special tables and stored procedures are automatically created to manage the information.</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>This is typically a small database and lightly accessed, but it should not be used for other needs of the application.</source>
          <target state="new">This is typically a small database and lightly accessed, but it should not be used for other needs of the application.</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>The tables are in a special schema named <bpt id="p1">**</bpt>__ShardManagement<ept id="p1">**</ept>.</source>
          <target state="new">The tables are in a special schema named <bpt id="p1">**</bpt>__ShardManagement<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Local Shard Map (LSM)<ept id="p1">**</ept>: Every database that you specify to be a shard within a shard map will be modified to contain several small tables and special stored procedures that contain and manage shard map information specific to that shard.</source>
          <target state="new"><bpt id="p1">**</bpt>Local Shard Map (LSM)<ept id="p1">**</ept>: Every database that you specify to be a shard within a shard map will be modified to contain several small tables and special stored procedures that contain and manage shard map information specific to that shard.</target>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>This information is redundant to the information in the GSM, but it allows the application to validate cached shard map information without placing any load on the GSM; the application uses the LSM to determine if a cached mapping is still valid.</source>
          <target state="new">This information is redundant to the information in the GSM, but it allows the application to validate cached shard map information without placing any load on the GSM; the application uses the LSM to determine if a cached mapping is still valid.</target>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>The tables corresponding to the LSM on each shard are in schema <bpt id="p1">**</bpt>__ShardManagement<ept id="p1">**</ept>.</source>
          <target state="new">The tables corresponding to the LSM on each shard are in schema <bpt id="p1">**</bpt>__ShardManagement<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Application cache<ept id="p1">**</ept>: Each application instance accessing a <bpt id="p2">**</bpt>ShardMapManager<ept id="p2">**</ept> object maintains a local in-memory cache of its mappings.</source>
          <target state="new"><bpt id="p1">**</bpt>Application cache<ept id="p1">**</ept>: Each application instance accessing a <bpt id="p2">**</bpt>ShardMapManager<ept id="p2">**</ept> object maintains a local in-memory cache of its mappings.</target>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>It stores routing information that has recently been retrieved.</source>
          <target state="new">It stores routing information that has recently been retrieved.</target>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Constructing a ShardMapManager</source>
          <target state="new">Constructing a ShardMapManager</target>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>A <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> object in the application is instantiated using a factory pattern.</source>
          <target state="new">A <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> object in the application is instantiated using a factory pattern.</target>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>The <bpt id="p1">**</bpt>ShardMapManagerFactory.GetSqlShardMapManager<ept id="p1">**</ept> method takes credentials (including the server name and database name holding the GSM) in the form of a <bpt id="p2">**</bpt>ConnectionString<ept id="p2">**</ept> and returns an instance of a <bpt id="p3">**</bpt>ShardMapManager<ept id="p3">**</ept>.</source>
          <target state="new">The <bpt id="p1">**</bpt>ShardMapManagerFactory.GetSqlShardMapManager<ept id="p1">**</ept> method takes credentials (including the server name and database name holding the GSM) in the form of a <bpt id="p2">**</bpt>ConnectionString<ept id="p2">**</ept> and returns an instance of a <bpt id="p3">**</bpt>ShardMapManager<ept id="p3">**</ept>.</target>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>The <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> should be instantiated only once per app domain, within the initialization code for an application.</source>
          <target state="new">The <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> should be instantiated only once per app domain, within the initialization code for an application.</target>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source>A <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> can contain any number of shard maps.</source>
          <target state="new">A <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> can contain any number of shard maps.</target>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>While a single shard map may be sufficient for many applications, there are times when different sets of databases are used for different schema or for unique purposes, and in those cases multiple shard maps may be preferable.</source>
          <target state="new">While a single shard map may be sufficient for many applications, there are times when different sets of databases are used for different schema or for unique purposes, and in those cases multiple shard maps may be preferable.</target>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>In this code, an application tries to open an existing <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept>.</source>
          <target state="new">In this code, an application tries to open an existing <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>If objects representing a Global <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> (GSM) do not yet exist inside the database, the client library creates them there.</source>
          <target state="new">If objects representing a Global <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> (GSM) do not yet exist inside the database, the client library creates them there.</target>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>Shard map administration credentials</source>
          <target state="new">Shard map administration credentials</target>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>Typically, applications that administer and manipulate shard maps are different from those that use the shard maps to route connections.</source>
          <target state="new">Typically, applications that administer and manipulate shard maps are different from those that use the shard maps to route connections.</target>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>For applications that administer shard maps (adding or changing shards, shard maps, shard mappings, etc.) you must instantiate the <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> using <bpt id="p2">**</bpt>credentials that have read/write privileges on both the GSM database and on each database that serves as a shard<ept id="p2">**</ept>.</source>
          <target state="new">For applications that administer shard maps (adding or changing shards, shard maps, shard mappings, etc.) you must instantiate the <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> using <bpt id="p2">**</bpt>credentials that have read/write privileges on both the GSM database and on each database that serves as a shard<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>The credentials must allow for writes against the tables in both the GSM and LSM as shard map information is entered or changed, as well as for creating LSM tables on new shards.</source>
          <target state="new">The credentials must allow for writes against the tables in both the GSM and LSM as shard map information is entered or changed, as well as for creating LSM tables on new shards.</target>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>Only metadata affected</source>
          <target state="new">Only metadata affected</target>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>Methods used for populating or changing the <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> data do not alter the user data stored in the shards themselves.</source>
          <target state="new">Methods used for populating or changing the <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> data do not alter the user data stored in the shards themselves.</target>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>For example, methods such as <bpt id="p1">**</bpt>CreateShard<ept id="p1">**</ept>, <bpt id="p2">**</bpt>DeleteShard<ept id="p2">**</ept>, <bpt id="p3">**</bpt>UpdateMapping<ept id="p3">**</ept>, etc. affect the shard map metadata only.</source>
          <target state="new">For example, methods such as <bpt id="p1">**</bpt>CreateShard<ept id="p1">**</ept>, <bpt id="p2">**</bpt>DeleteShard<ept id="p2">**</ept>, <bpt id="p3">**</bpt>UpdateMapping<ept id="p3">**</ept>, etc. affect the shard map metadata only.</target>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>They do not remove, add, or alter user data contained in the shards.</source>
          <target state="new">They do not remove, add, or alter user data contained in the shards.</target>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>Instead, these methods are designed to be used in conjunction with separate operations you perform to create or remove actual databases, or that move rows from one shard to another to rebalance a sharded environment.</source>
          <target state="new">Instead, these methods are designed to be used in conjunction with separate operations you perform to create or remove actual databases, or that move rows from one shard to another to rebalance a sharded environment.</target>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>(The <bpt id="p1">**</bpt>split-merge<ept id="p1">**</ept> tool included with elastic database tools makes use of these APIs along with orchestrating actual data movement between shards.)</source>
          <target state="new">(The <bpt id="p1">**</bpt>split-merge<ept id="p1">**</ept> tool included with elastic database tools makes use of these APIs along with orchestrating actual data movement between shards.)</target>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>Populating a shard map: example</source>
          <target state="new">Populating a shard map: example</target>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>An example sequence of operations to populate a specific shard map is shown below.</source>
          <target state="new">An example sequence of operations to populate a specific shard map is shown below.</target>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>The code performs these steps:</source>
          <target state="new">The code performs these steps:</target>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source>A new shard map is created within a shard map manager.</source>
          <target state="new">A new shard map is created within a shard map manager.</target>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source>The metadata for two different shards is added to the shard map.</source>
          <target state="new">The metadata for two different shards is added to the shard map.</target>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source>A variety of key range mappings are added, and the overall contents of the shard map are displayed.</source>
          <target state="new">A variety of key range mappings are added, and the overall contents of the shard map are displayed.</target>
        </trans-unit>
        <trans-unit id="188" translate="yes" xml:space="preserve">
          <source>The code is written in a way that the entire method can be safely rerun in case an unexpected error is encountered – each request tests whether a shard or mapping already exists, before attempting to create it.</source>
          <target state="new">The code is written in a way that the entire method can be safely rerun in case an unexpected error is encountered – each request tests whether a shard or mapping already exists, before attempting to create it.</target>
        </trans-unit>
        <trans-unit id="189" translate="yes" xml:space="preserve">
          <source>The code below assumes that databases named <bpt id="p1">**</bpt>sample_shard_0<ept id="p1">**</ept>, <bpt id="p2">**</bpt>sample_shard_1<ept id="p2">**</ept> and <bpt id="p3">**</bpt>sample_shard_2<ept id="p3">**</ept> have already been created in the server referenced by string <bpt id="p4">**</bpt>shardServer<ept id="p4">**</ept>.</source>
          <target state="new">The code below assumes that databases named <bpt id="p1">**</bpt>sample_shard_0<ept id="p1">**</ept>, <bpt id="p2">**</bpt>sample_shard_1<ept id="p2">**</ept> and <bpt id="p3">**</bpt>sample_shard_2<ept id="p3">**</ept> have already been created in the server referenced by string <bpt id="p4">**</bpt>shardServer<ept id="p4">**</ept>.</target>
        </trans-unit>
        <trans-unit id="190" translate="yes" xml:space="preserve">
          <source>As an alternative you can use PowerShell scripts to achieve the same result.</source>
          <target state="new">As an alternative you can use PowerShell scripts to achieve the same result.</target>
        </trans-unit>
        <trans-unit id="191" translate="yes" xml:space="preserve">
          <source>Once shard maps have been populated, data access applications can be created or adapted to work with the maps.</source>
          <target state="new">Once shard maps have been populated, data access applications can be created or adapted to work with the maps.</target>
        </trans-unit>
        <trans-unit id="192" translate="yes" xml:space="preserve">
          <source>Populating or manipulating the maps need not occur again until <bpt id="p1">**</bpt>map layout<ept id="p1">**</ept> needs to change.</source>
          <target state="new">Populating or manipulating the maps need not occur again until <bpt id="p1">**</bpt>map layout<ept id="p1">**</ept> needs to change.</target>
        </trans-unit>
        <trans-unit id="193" translate="yes" xml:space="preserve">
          <source>Data dependent routing</source>
          <target state="new">Data dependent routing</target>
        </trans-unit>
        <trans-unit id="194" translate="yes" xml:space="preserve">
          <source>Most use of the shard map manager will come from the applications that require database connections to perform the app-specific data operations.</source>
          <target state="new">Most use of the shard map manager will come from the applications that require database connections to perform the app-specific data operations.</target>
        </trans-unit>
        <trans-unit id="195" translate="yes" xml:space="preserve">
          <source>In a sharded application, those connections now must be associated with the correct target database.</source>
          <target state="new">In a sharded application, those connections now must be associated with the correct target database.</target>
        </trans-unit>
        <trans-unit id="196" translate="yes" xml:space="preserve">
          <source>This is known as <bpt id="p1">**</bpt>Data Dependent Routing<ept id="p1">**</ept>.</source>
          <target state="new">This is known as <bpt id="p1">**</bpt>Data Dependent Routing<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="197" translate="yes" xml:space="preserve">
          <source>For these applications, instantiate a shard map manager object from the factory using credentials that have read-only access on the GSM database.</source>
          <target state="new">For these applications, instantiate a shard map manager object from the factory using credentials that have read-only access on the GSM database.</target>
        </trans-unit>
        <trans-unit id="198" translate="yes" xml:space="preserve">
          <source>Individual requests for connections will later supply credentials necessary for connecting to the appropriate shard database.</source>
          <target state="new">Individual requests for connections will later supply credentials necessary for connecting to the appropriate shard database.</target>
        </trans-unit>
        <trans-unit id="199" translate="yes" xml:space="preserve">
          <source>Note that these applications (using <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> opened with read-only credentials) will be unable to make changes to the maps or mappings.</source>
          <target state="new">Note that these applications (using <bpt id="p1">**</bpt>ShardMapManager<ept id="p1">**</ept> opened with read-only credentials) will be unable to make changes to the maps or mappings.</target>
        </trans-unit>
        <trans-unit id="200" translate="yes" xml:space="preserve">
          <source>For those needs, create administrative-specific applications or PowerShell scripts that supply higher-privileged credentials as discussed earlier.</source>
          <target state="new">For those needs, create administrative-specific applications or PowerShell scripts that supply higher-privileged credentials as discussed earlier.</target>
        </trans-unit>
        <trans-unit id="201" translate="yes" xml:space="preserve">
          <source>For more details, see <bpt id="p1">[</bpt>Data dependent routing<ept id="p1">](sql-database-elastic-scale-data-dependent-routing.md)</ept>.</source>
          <target state="new">For more details, see <bpt id="p1">[</bpt>Data dependent routing<ept id="p1">](sql-database-elastic-scale-data-dependent-routing.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="202" translate="yes" xml:space="preserve">
          <source>Modifying a shard map</source>
          <target state="new">Modifying a shard map</target>
        </trans-unit>
        <trans-unit id="203" translate="yes" xml:space="preserve">
          <source>A shard map can be changed in different ways.</source>
          <target state="new">A shard map can be changed in different ways.</target>
        </trans-unit>
        <trans-unit id="204" translate="yes" xml:space="preserve">
          <source>All of the following methods modify the metadata describing the shards and their mappings, but they do not physically modify data within the shards, nor do they create or delete the actual databases.</source>
          <target state="new">All of the following methods modify the metadata describing the shards and their mappings, but they do not physically modify data within the shards, nor do they create or delete the actual databases.</target>
        </trans-unit>
        <trans-unit id="205" translate="yes" xml:space="preserve">
          <source>Some of the operations on the shard map described below may need to be coordinated with administrative actions that physically move data or that add and remove databases serving as shards.</source>
          <target state="new">Some of the operations on the shard map described below may need to be coordinated with administrative actions that physically move data or that add and remove databases serving as shards.</target>
        </trans-unit>
        <trans-unit id="206" translate="yes" xml:space="preserve">
          <source>These methods work together as the building blocks available for modifying the overall distribution of data in your sharded database environment.</source>
          <target state="new">These methods work together as the building blocks available for modifying the overall distribution of data in your sharded database environment.</target>
        </trans-unit>
        <trans-unit id="207" translate="yes" xml:space="preserve">
          <source>To add or remove shards: use <bpt id="p1">**</bpt>CreateShard<ept id="p1">**</ept> and <bpt id="p2">**</bpt>DeleteShard<ept id="p2">**</ept>.</source>
          <target state="new">To add or remove shards: use <bpt id="p1">**</bpt>CreateShard<ept id="p1">**</ept> and <bpt id="p2">**</bpt>DeleteShard<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="208" translate="yes" xml:space="preserve">
          <source>The server and database representing the target shard must already exist for these operations to execute.</source>
          <target state="new">The server and database representing the target shard must already exist for these operations to execute.</target>
        </trans-unit>
        <trans-unit id="209" translate="yes" xml:space="preserve">
          <source>These methods do not have any impact on the databases themselves, only on metadata in the shard map.</source>
          <target state="new">These methods do not have any impact on the databases themselves, only on metadata in the shard map.</target>
        </trans-unit>
        <trans-unit id="210" translate="yes" xml:space="preserve">
          <source>To create or remove points or ranges that are mapped to the shards: use <bpt id="p1">**</bpt>CreateRangeMapping<ept id="p1">**</ept>, <bpt id="p2">**</bpt>DeleteMapping<ept id="p2">**</ept>, <bpt id="p3">**</bpt>CreatePointMapping<ept id="p3">**</ept>.</source>
          <target state="new">To create or remove points or ranges that are mapped to the shards: use <bpt id="p1">**</bpt>CreateRangeMapping<ept id="p1">**</ept>, <bpt id="p2">**</bpt>DeleteMapping<ept id="p2">**</ept>, <bpt id="p3">**</bpt>CreatePointMapping<ept id="p3">**</ept>.</target>
        </trans-unit>
        <trans-unit id="211" translate="yes" xml:space="preserve">
          <source>Many different points or ranges can be mapped to the same shard.</source>
          <target state="new">Many different points or ranges can be mapped to the same shard.</target>
        </trans-unit>
        <trans-unit id="212" translate="yes" xml:space="preserve">
          <source>These methods only affect metadata – they do not affect any data that may already be present in shards.</source>
          <target state="new">These methods only affect metadata – they do not affect any data that may already be present in shards.</target>
        </trans-unit>
        <trans-unit id="213" translate="yes" xml:space="preserve">
          <source>If data needs to be removed from the database in order to be consistent with <bpt id="p1">**</bpt>DeleteMapping<ept id="p1">**</ept> operations, you will need to perform those operations separately but in conjunction with using these methods.</source>
          <target state="new">If data needs to be removed from the database in order to be consistent with <bpt id="p1">**</bpt>DeleteMapping<ept id="p1">**</ept> operations, you will need to perform those operations separately but in conjunction with using these methods.</target>
        </trans-unit>
        <trans-unit id="214" translate="yes" xml:space="preserve">
          <source>To split existing ranges into two, or merge adjacent ranges into one: use <bpt id="p1">**</bpt>SplitMapping<ept id="p1">**</ept> and <bpt id="p2">**</bpt>MergeMappings<ept id="p2">**</ept>.</source>
          <target state="new">To split existing ranges into two, or merge adjacent ranges into one: use <bpt id="p1">**</bpt>SplitMapping<ept id="p1">**</ept> and <bpt id="p2">**</bpt>MergeMappings<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="215" translate="yes" xml:space="preserve">
          <source>Note that split and merge operations <bpt id="p1">**</bpt>do not change the shard to which key values are mapped<ept id="p1">**</ept>.</source>
          <target state="new">Note that split and merge operations <bpt id="p1">**</bpt>do not change the shard to which key values are mapped<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="216" translate="yes" xml:space="preserve">
          <source>A split breaks an existing range into two parts, but leaves both as mapped to the same shard.</source>
          <target state="new">A split breaks an existing range into two parts, but leaves both as mapped to the same shard.</target>
        </trans-unit>
        <trans-unit id="217" translate="yes" xml:space="preserve">
          <source>A merge operates on two adjacent ranges that are already mapped to the same shard, coalescing them into a single range.</source>
          <target state="new">A merge operates on two adjacent ranges that are already mapped to the same shard, coalescing them into a single range.</target>
        </trans-unit>
        <trans-unit id="218" translate="yes" xml:space="preserve">
          <source>The movement of points or ranges themselves between shards needs to be coordinated by using <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept> in conjunction with actual data movement.</source>
          <target state="new">The movement of points or ranges themselves between shards needs to be coordinated by using <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept> in conjunction with actual data movement.</target>
        </trans-unit>
        <trans-unit id="219" translate="yes" xml:space="preserve">
          <source>You can use the <bpt id="p1">**</bpt>Split/Merge<ept id="p1">**</ept> service that is part of elastic database tools to coordinate shard map changes with data movement, when movement is needed.</source>
          <target state="new">You can use the <bpt id="p1">**</bpt>Split/Merge<ept id="p1">**</ept> service that is part of elastic database tools to coordinate shard map changes with data movement, when movement is needed.</target>
        </trans-unit>
        <trans-unit id="220" translate="yes" xml:space="preserve">
          <source>To re-map (or move) individual points or ranges to different shards: use <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept>.</source>
          <target state="new">To re-map (or move) individual points or ranges to different shards: use <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="221" translate="yes" xml:space="preserve">
          <source>Since data may need to be moved from one shard to another in order to be consistent with <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept> operations, you will need to perform that movement separately but in conjunction with using these methods.</source>
          <target state="new">Since data may need to be moved from one shard to another in order to be consistent with <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept> operations, you will need to perform that movement separately but in conjunction with using these methods.</target>
        </trans-unit>
        <trans-unit id="222" translate="yes" xml:space="preserve">
          <source>To take mappings online and offline: use <bpt id="p1">**</bpt>MarkMappingOffline<ept id="p1">**</ept> and <bpt id="p2">**</bpt>MarkMappingOnline<ept id="p2">**</ept> to control the online state of a mapping.</source>
          <target state="new">To take mappings online and offline: use <bpt id="p1">**</bpt>MarkMappingOffline<ept id="p1">**</ept> and <bpt id="p2">**</bpt>MarkMappingOnline<ept id="p2">**</ept> to control the online state of a mapping.</target>
        </trans-unit>
        <trans-unit id="223" translate="yes" xml:space="preserve">
          <source>Certain operations on shard mappings are only allowed when a mapping is in an “offline” state, including <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept> and <bpt id="p2">**</bpt>DeleteMapping<ept id="p2">**</ept>.</source>
          <target state="new">Certain operations on shard mappings are only allowed when a mapping is in an “offline” state, including <bpt id="p1">**</bpt>UpdateMapping<ept id="p1">**</ept> and <bpt id="p2">**</bpt>DeleteMapping<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="224" translate="yes" xml:space="preserve">
          <source>When a mapping is offline, a data-dependent request based on a key included in that mapping will return an error.</source>
          <target state="new">When a mapping is offline, a data-dependent request based on a key included in that mapping will return an error.</target>
        </trans-unit>
        <trans-unit id="225" translate="yes" xml:space="preserve">
          <source>In addition, when a range is first taken offline, all connections to the affected shard are automatically killed in order to prevent inconsistent or incomplete results for queries directed against ranges being changed.</source>
          <target state="new">In addition, when a range is first taken offline, all connections to the affected shard are automatically killed in order to prevent inconsistent or incomplete results for queries directed against ranges being changed.</target>
        </trans-unit>
        <trans-unit id="226" translate="yes" xml:space="preserve">
          <source>Mappings are immutable objects in .Net.</source>
          <target state="new">Mappings are immutable objects in .Net.</target>
        </trans-unit>
        <trans-unit id="227" translate="yes" xml:space="preserve">
          <source>All of the methods above that change mappings also invalidate any references to them in your code.</source>
          <target state="new">All of the methods above that change mappings also invalidate any references to them in your code.</target>
        </trans-unit>
        <trans-unit id="228" translate="yes" xml:space="preserve">
          <source>To make it easier to perform sequences of operations that change a mapping’s state, all of the methods that change a mapping return a new mapping reference, so operations can be chained.</source>
          <target state="new">To make it easier to perform sequences of operations that change a mapping’s state, all of the methods that change a mapping return a new mapping reference, so operations can be chained.</target>
        </trans-unit>
        <trans-unit id="229" translate="yes" xml:space="preserve">
          <source>For example, to delete an existing mapping in shardmap sm that contains the key 25, you can execute the following:</source>
          <target state="new">For example, to delete an existing mapping in shardmap sm that contains the key 25, you can execute the following:</target>
        </trans-unit>
        <trans-unit id="230" translate="yes" xml:space="preserve">
          <source>Adding a shard</source>
          <target state="new">Adding a shard</target>
        </trans-unit>
        <trans-unit id="231" translate="yes" xml:space="preserve">
          <source>Applications often need to simply add new shards to handle data that is expected from new keys or key ranges, for a shard map that already exists.</source>
          <target state="new">Applications often need to simply add new shards to handle data that is expected from new keys or key ranges, for a shard map that already exists.</target>
        </trans-unit>
        <trans-unit id="232" translate="yes" xml:space="preserve">
          <source>For example, an application sharded by Tenant ID may need to provision a new shard for a new tenant, or data sharded monthly may need a new shard provisioned before the start of each new month.</source>
          <target state="new">For example, an application sharded by Tenant ID may need to provision a new shard for a new tenant, or data sharded monthly may need a new shard provisioned before the start of each new month.</target>
        </trans-unit>
        <trans-unit id="233" translate="yes" xml:space="preserve">
          <source>If the new range of key values is not already part of an existing mapping and no data movement is necessary, it is very simple to add the new shard and associate the new key or range to that shard.</source>
          <target state="new">If the new range of key values is not already part of an existing mapping and no data movement is necessary, it is very simple to add the new shard and associate the new key or range to that shard.</target>
        </trans-unit>
        <trans-unit id="234" translate="yes" xml:space="preserve">
          <source>For details on adding new shards, see <bpt id="p1">[</bpt>Adding a new shard<ept id="p1">](sql-database-elastic-scale-add-a-shard.md)</ept>.</source>
          <target state="new">For details on adding new shards, see <bpt id="p1">[</bpt>Adding a new shard<ept id="p1">](sql-database-elastic-scale-add-a-shard.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="235" translate="yes" xml:space="preserve">
          <source>For scenarios that require data movement, however, the split-merge tool is needed to orchestrate the data movement between shards in combination with the necessary shard map updates.</source>
          <target state="new">For scenarios that require data movement, however, the split-merge tool is needed to orchestrate the data movement between shards in combination with the necessary shard map updates.</target>
        </trans-unit>
        <trans-unit id="236" translate="yes" xml:space="preserve">
          <source>For details on using the split-merge yool, see <bpt id="p1">[</bpt>Overview of split-merge<ept id="p1">](sql-database-elastic-scale-overview-split-and-merge.md)</ept></source>
          <target state="new">For details on using the split-merge yool, see <bpt id="p1">[</bpt>Overview of split-merge<ept id="p1">](sql-database-elastic-scale-overview-split-and-merge.md)</ept></target>
        </trans-unit>
      </group>
    </body>
  </file>
  <header xmlns="">
    <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">
    </xliffext:oltranslationpriority>
    <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">f09b619e2b1db135bafb8e4bc4183a6ded5784cd</xliffext:olfilehash>
  </header>
</xliff>