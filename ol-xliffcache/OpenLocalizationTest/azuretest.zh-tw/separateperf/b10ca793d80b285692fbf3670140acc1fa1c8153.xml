{
  "nodes": [
    {
      "content": "Create an ASP.NET 5 API app in Visual Studio Code",
      "pos": [
        26,
        75
      ]
    },
    {
      "content": "This tutorial shows you how to create an ASP.NET 5 API app using Visual Studio Code.",
      "pos": [
        93,
        177
      ]
    },
    {
      "content": "Create an ASP.NET 5 API app in Visual Studio Code",
      "pos": [
        492,
        541
      ]
    },
    {
      "content": "[AZURE.SELECTOR]",
      "pos": [
        545,
        561
      ]
    },
    {
      "content": "Visual Studio 2015 or 2013",
      "pos": [
        565,
        591
      ]
    },
    {
      "content": "Visual Studio Code",
      "pos": [
        634,
        652
      ]
    },
    {
      "content": "Overview",
      "pos": [
        709,
        717
      ]
    },
    {
      "content": "This tutorial shows you how to create an ASP.NET 5 API app using <bpt id=\"p1\">[</bpt>Visual Studio Code<ept id=\"p1\">](http://code.visualstudio.com//Docs/whyvscode)</ept>.",
      "pos": [
        719,
        851
      ]
    },
    {
      "content": "ASP.NET 5 is a significant redesign of ASP.NET.",
      "pos": [
        852,
        899
      ]
    },
    {
      "content": "ASP.NET 5 is a new open-source and cross-platform framework for building modern cloud-based Web applications using .NET.",
      "pos": [
        900,
        1020
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Introduction to ASP.NET 5<ept id=\"p1\">](http://docs.asp.net/en/latest/conceptual-overview/aspnet.html)</ept>.",
      "pos": [
        1021,
        1138
      ]
    },
    {
      "content": "For information about API apps, see <bpt id=\"p1\">[</bpt>What are API apps?<ept id=\"p1\">](app-service-api-apps-why-best-platform.md)</ept>",
      "pos": [
        1139,
        1238
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> To complete this tutorial, you need a Microsoft Azure account.",
      "pos": [
        1242,
        1317
      ]
    },
    {
      "content": "If you don't have an account, you can <bpt id=\"p1\">[</bpt>sign up for a free trial<ept id=\"p1\">](/pricing/free-trial/)</ept> or <bpt id=\"p2\">[</bpt>activate your MSDN subscriber benefits<ept id=\"p2\">](/pricing/member-offers/msdn-benefits-details/)</ept>.",
      "pos": [
        1318,
        1496
      ]
    },
    {
      "content": "You can also try for free the <bpt id=\"p1\">[</bpt>App Service App Samples<ept id=\"p1\">](http://tryappservice.azure.com)</ept>.",
      "pos": [
        1497,
        1585
      ]
    },
    {
      "content": "Prerequisites",
      "pos": [
        1590,
        1603
      ]
    },
    {
      "pos": [
        1609,
        1689
      ],
      "content": "Install and setup <bpt id=\"p1\">[</bpt>Visual Studio Code<ept id=\"p1\">](http://code.visualstudio.com/Docs/setup)</ept>."
    },
    {
      "pos": [
        1692,
        2027
      ],
      "content": "Install [Node.js](http://nodejs.org/download/).<br\\>\n  [Node](http://nodejs.org/) is a platform for building fast and scalable server applications using JavaScript. Node is the runtime (Node) and [npm](http://www.npmjs.com/) is the Package Manager for Node modules. You will use npm to scaffold an ASP.NET 5 API app in this tutorial.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "Install <bpt id=\"p1\">[</bpt>Node.js<ept id=\"p1\">](http://nodejs.org/download/)</ept>.&lt;br\\&gt;",
          "pos": [
            0,
            52
          ]
        },
        {
          "content": "  [Node](http://nodejs.org/) is a platform for building fast and scalable server applications using JavaScript. Node is the runtime (Node) and [npm](http://www.npmjs.com/) is the Package Manager for Node modules. You will use npm to scaffold an ASP.NET 5 API app in this tutorial.",
          "pos": [
            53,
            333
          ],
          "nodes": [
            {
              "content": "<bpt id=\"p1\">  [</bpt>Node<ept id=\"p1\">](http://nodejs.org/)</ept> is a platform for building fast and scalable server applications using JavaScript.",
              "pos": [
                0,
                111
              ]
            },
            {
              "content": "Node is the runtime (Node) and <bpt id=\"p1\">[</bpt>npm<ept id=\"p1\">](http://www.npmjs.com/)</ept> is the Package Manager for Node modules.",
              "pos": [
                112,
                212
              ]
            },
            {
              "content": "You will use npm to scaffold an ASP.NET 5 API app in this tutorial.",
              "pos": [
                213,
                280
              ]
            }
          ]
        }
      ]
    },
    {
      "content": "Install ASP.NET 5 and DNX",
      "pos": [
        2032,
        2057
      ]
    },
    {
      "content": "ASP.NET 5/DNX is a lean .NET stack for building modern cloud and web apps that run on OS X, Linux, and Windows.",
      "pos": [
        2058,
        2169
      ]
    },
    {
      "content": "It has been built from the ground up to provide an optimized development framework for apps that are either deployed to the cloud or run on-premises.",
      "pos": [
        2170,
        2319
      ]
    },
    {
      "content": "It consists of modular components with minimal overhead, so you retain flexibility while constructing your solutions.",
      "pos": [
        2320,
        2437
      ]
    },
    {
      "pos": [
        2441,
        2558
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> ASP.NET 5 and DNX (the .NET Execution Environment) on OS X and Linux are in an early Beta/Preview state."
    },
    {
      "content": "This tutorial is designed to get you started building applications with the latest development versions ASP.NET 5 and DNX.",
      "pos": [
        2561,
        2683
      ]
    },
    {
      "content": "If you want a more stable, released, experience, go to <bpt id=\"p1\">[</bpt>http://www.asp.net/vnext<ept id=\"p1\">](http://www.asp.net/vnext)</ept>.",
      "pos": [
        2684,
        2792
      ]
    },
    {
      "content": "The following instructions are specific to Windows.",
      "pos": [
        2793,
        2844
      ]
    },
    {
      "content": "For more detailed installation instructions for OS X, Linux, and Windows, see <bpt id=\"p1\">[</bpt>Installing ASP.NET 5 and DNX<ept id=\"p1\">](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx)</ept>.",
      "pos": [
        2845,
        3027
      ]
    },
    {
      "content": "To install .NET Version Manager (DNVM) in Windows, run the following command in the Command Window:",
      "pos": [
        3033,
        3132
      ]
    },
    {
      "pos": [
        3138,
        3376
      ],
      "content": "<pre class=\"prettyprint\">\n @powershell -NoProfile -ExecutionPolicy unrestricted -Command \"&{$Branch='dev';iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/aspnet/Home/dev/dnvminstall.ps1'))}\"\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "@powershell -NoProfile -ExecutionPolicy unrestricted -Command \"&amp;{$Branch='dev';iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/aspnet/Home/dev/dnvminstall.ps1'))}\"",
          "pos": [
            27,
            224
          ]
        }
      ]
    },
    {
      "content": "This will download the DNVM script and put it in your user profile.",
      "pos": [
        3383,
        3450
      ]
    },
    {
      "content": "You may need to log off after entering the above command in order for the change to the PATH environment variable to take effect.",
      "pos": [
        3456,
        3585
      ]
    },
    {
      "content": "Check the location of DNVM by running the following in the Command Window:",
      "pos": [
        3589,
        3663
      ]
    },
    {
      "pos": [
        3670,
        3721
      ],
      "content": "<pre class=\"prettyprint\">\n where dnvm\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "where dnvm",
          "pos": [
            27,
            37
          ]
        }
      ]
    },
    {
      "content": "The Command Window will show a path similiar to the following:",
      "pos": [
        3728,
        3790
      ]
    },
    {
      "content": "dnvm location",
      "pos": [
        3798,
        3811
      ]
    },
    {
      "content": "Now that you have DNVM, you need to use it to download DNX in order to run your applications.",
      "pos": [
        3891,
        3984
      ]
    },
    {
      "content": "Run the following command from the Command Window:",
      "pos": [
        3985,
        4035
      ]
    },
    {
      "pos": [
        4041,
        4094
      ],
      "content": "<pre class=\"prettyprint\">\n dnvm upgrade\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "dnvm upgrade",
          "pos": [
            27,
            39
          ]
        }
      ]
    },
    {
      "content": "Verify your DNVM and view the active runtime by entering the following in the Command Window:",
      "pos": [
        4100,
        4193
      ]
    },
    {
      "pos": [
        4199,
        4249
      ],
      "content": "<pre class=\"prettyprint\">\n dnvm list\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "dnvm list",
          "pos": [
            27,
            36
          ]
        }
      ]
    },
    {
      "content": "The Command Window will show the details of the active runtime:",
      "pos": [
        4256,
        4319
      ]
    },
    {
      "content": "dnvm location",
      "pos": [
        4327,
        4340
      ]
    },
    {
      "pos": [
        4417,
        4599
      ],
      "content": "For more detailed installation instructions for OS X, Linux, and Windows, see <bpt id=\"p1\">[</bpt>Installing ASP.NET 5 and DNX<ept id=\"p1\">](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx)</ept>."
    },
    {
      "content": "Create the API app",
      "pos": [
        4605,
        4623
      ]
    },
    {
      "content": "This section shows you how to scaffold a new app ASP.NET API app.",
      "pos": [
        4626,
        4691
      ]
    },
    {
      "content": "You will use the node package manager (npm) to install <bpt id=\"p1\">[</bpt>Yeoman<ept id=\"p1\">](http://yeoman.io/)</ept>, <bpt id=\"p2\">[</bpt>Grunt<ept id=\"p2\">](http://gruntjs.com/)</ept>, and <bpt id=\"p3\">[</bpt>Bower<ept id=\"p3\">](http://bower.io/)</ept>.",
      "pos": [
        4692,
        4836
      ]
    },
    {
      "content": "After installing Visual Studio Code and Node.js, open a command prompt with Admin rights and navigate to the location where you want all of your ASP.NET projects using VSCode to be located.",
      "pos": [
        4842,
        5031
      ]
    },
    {
      "content": "Enter the following in the command window to install Yeoman and the supporting tools:",
      "pos": [
        5035,
        5120
      ]
    },
    {
      "pos": [
        5126,
        5217
      ],
      "content": "<pre class=\"prettyprint\">\n npm install -g yo grunt-cli generator-aspnet bower\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "npm install -g yo grunt-cli generator-aspnet bower",
          "pos": [
            27,
            77
          ]
        }
      ]
    },
    {
      "content": "Enter the following in the command window to create the project folder and scaffold the app:",
      "pos": [
        5223,
        5315
      ]
    },
    {
      "pos": [
        5321,
        5371
      ],
      "content": "<pre class=\"prettyprint\">\n yo aspnet\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "yo aspnet",
          "pos": [
            27,
            36
          ]
        }
      ]
    },
    {
      "pos": [
        5377,
        5487
      ],
      "content": "Follow the instructions provided by the generator by scrolling and selecting the <bpt id=\"p1\">**</bpt>Web API Application<ept id=\"p1\">**</ept> type."
    },
    {
      "content": "Yoman - ASP.NET 5 generator",
      "pos": [
        5495,
        5522
      ]
    },
    {
      "pos": [
        5601,
        5831
      ],
      "content": "Set the name of your new ASP.NET API app to **ContactsList**. This name will be used in code provided later in this tutorial. <br>\n Yoman will create a new folder named **ContactsList** and the necessary files for your new app.",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "Set the name of your new ASP.NET API app to **ContactsList**. This name will be used in code provided later in this tutorial. ",
          "pos": [
            0,
            126
          ],
          "nodes": [
            {
              "content": "Set the name of your new ASP.NET API app to <bpt id=\"p1\">**</bpt>ContactsList<ept id=\"p1\">**</ept>.",
              "pos": [
                0,
                61
              ]
            },
            {
              "content": "This name will be used in code provided later in this tutorial.",
              "pos": [
                62,
                125
              ]
            }
          ]
        },
        {
          "content": "Yoman will create a new folder named <bpt id=\"p1\">**</bpt>ContactsList<ept id=\"p1\">**</ept> and the necessary files for your new app.",
          "pos": [
            132,
            227
          ]
        }
      ]
    },
    {
      "pos": [
        5835,
        5939
      ],
      "content": "Open **Visual Studio Code**.<br>\n You can open VSCode from the Command Window by entering **code .**.",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "Open <bpt id=\"p1\">**</bpt>Visual Studio Code<ept id=\"p1\">**</ept>.",
          "pos": [
            0,
            28
          ]
        },
        {
          "content": "You can open VSCode from the Command Window by entering <bpt id=\"p1\">**</bpt>code .<ept id=\"p1\">**</ept>.",
          "pos": [
            34,
            101
          ]
        }
      ]
    },
    {
      "pos": [
        5943,
        6050
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, select <bpt id=\"p2\">**</bpt>Open Folder<ept id=\"p2\">**</ept> and select the folder where your ASP.NET API app is located."
    },
    {
      "content": "Select Folder dialog box",
      "pos": [
        6058,
        6082
      ]
    },
    {
      "pos": [
        6164,
        6235
      ],
      "content": "VSCode will load your project and display it in the <bpt id=\"p1\">**</bpt>Explore<ept id=\"p1\">**</ept> window."
    },
    {
      "content": "VSCode displaying Contact project",
      "pos": [
        6243,
        6276
      ]
    },
    {
      "pos": [
        6369,
        6435
      ],
      "content": "In <bpt id=\"p1\">**</bpt>VSCode<ept id=\"p1\">**</ept>, from the <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept> menu, select <bpt id=\"p3\">**</bpt>Command Palette<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        6439,
        6495
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Command Palette<ept id=\"p1\">**</ept> enter the following commands:"
    },
    {
      "pos": [
        6501,
        6574
      ],
      "content": "<pre class=\"prettyprint\">\n dnx:dnu restore - (ContactsList)\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "dnx:dnu restore - (ContactsList)",
          "pos": [
            27,
            59
          ]
        }
      ]
    },
    {
      "content": "As you start typing, you will see the full command line from the list.",
      "pos": [
        6581,
        6651
      ]
    },
    {
      "content": "Restore command",
      "pos": [
        6659,
        6674
      ]
    },
    {
      "content": "The Restore command installs the necessary NuGet packages to run the application.",
      "pos": [
        6756,
        6837
      ]
    },
    {
      "content": "A command window will display <bpt id=\"p1\">**</bpt>Restore complete<ept id=\"p1\">**</ept> when ready.",
      "pos": [
        6838,
        6900
      ]
    },
    {
      "content": "Modify the API app",
      "pos": [
        6905,
        6923
      ]
    },
    {
      "pos": [
        6925,
        7035
      ],
      "content": "You will now modify the <bpt id=\"p1\">**</bpt>ContactsList<ept id=\"p1\">**</ept> app by adding a <bpt id=\"p2\">**</bpt>Contact<ept id=\"p2\">**</ept> class and a <bpt id=\"p3\">**</bpt>ContactsController<ept id=\"p3\">**</ept> class."
    },
    {
      "pos": [
        7040,
        7159
      ],
      "content": "Place your cursor over the <bpt id=\"p1\">**</bpt>ContactsList<ept id=\"p1\">**</ept> project name and add a new folder named <bpt id=\"p2\">*</bpt>Models<ept id=\"p2\">*</ept> using the new folder icon."
    },
    {
      "content": "New Models folder",
      "pos": [
        7167,
        7184
      ]
    },
    {
      "pos": [
        7264,
        7365
      ],
      "content": "Right-click the <bpt id=\"p1\">**</bpt>Models<ept id=\"p1\">**</ept> folder to add a new class file named <bpt id=\"p2\">*</bpt>Contact.cs<ept id=\"p2\">*</ept> with the following code:"
    },
    {
      "pos": [
        7371,
        7640
      ],
      "content": "<pre class=\"prettyprint\">\n namespace ContactsList.Models\n {\n     public class Contact\n     {\n         public int Id { get; set; }\n         public string Name { get; set; }\n         public string EmailAddress { get; set; }\n     }\n }\n </pre>",
      "leadings": [
        "",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "namespace ContactsList.Models",
          "pos": [
            27,
            56
          ]
        },
        {
          "content": "{",
          "pos": [
            58,
            59
          ]
        },
        {
          "content": "public class Contact",
          "pos": [
            65,
            85
          ]
        },
        {
          "content": "{",
          "pos": [
            91,
            92
          ]
        },
        {
          "content": "public int Id { get; set; }",
          "pos": [
            102,
            129
          ]
        },
        {
          "content": "public string Name { get; set; }",
          "pos": [
            139,
            171
          ]
        },
        {
          "content": "public string EmailAddress { get; set; }",
          "pos": [
            181,
            221
          ]
        },
        {
          "content": "}",
          "pos": [
            227,
            228
          ]
        },
        {
          "content": "}",
          "pos": [
            230,
            231
          ]
        }
      ]
    },
    {
      "pos": [
        7645,
        7753
      ],
      "content": "Right-click the <bpt id=\"p1\">**</bpt>Controllers<ept id=\"p1\">**</ept> folder and add a <bpt id=\"p2\">*</bpt>ContactsController.cs<ept id=\"p2\">*</ept> file so that it appears as follows:"
    },
    {
      "pos": [
        7759,
        7885
      ],
      "content": "<pre class=\"prettyprint\">\n using System.Collections.Generic;\n using Microsoft.AspNet.Mvc;\n using ContactsList.Models;",
      "leadings": [
        "",
        "   ",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "using System.Collections.Generic;",
          "pos": [
            27,
            60
          ]
        },
        {
          "content": "using Microsoft.AspNet.Mvc;",
          "pos": [
            62,
            89
          ]
        },
        {
          "content": "using ContactsList.Models;",
          "pos": [
            91,
            117
          ]
        }
      ]
    },
    {
      "pos": [
        7895,
        8558
      ],
      "content": "namespace ContactsList.Controllers\n {\n     [Route(\"api/[controller]\")]\n     public class ContactsController : Controller\n     {\n         // GET: api/Contacts\n         [HttpGet]\n         public IEnumerable&lt;Contact&gt; Get()\n         {\n             return new Contact[]{\n                 new Contact { Id = 1, EmailAddress = \"barney@contoso.com\", Name = \"Barney Poland\"},\n                 new Contact { Id = 2, EmailAddress = \"lacy@contoso.com\", Name = \"Lacy Barrera\"},\n                 new Contact { Id = 3, EmailAddress = \"lora@microsoft.com\", Name = \"Lora Riggs\"}\n             };\n         }\n     }\n }\n </pre>",
      "leadings": [
        "",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "namespace ContactsList.Controllers",
          "pos": [
            0,
            34
          ]
        },
        {
          "content": "{",
          "pos": [
            36,
            37
          ]
        },
        {
          "content": "[Route(\"api/[controller]\")]",
          "pos": [
            43,
            70
          ]
        },
        {
          "content": "public class ContactsController : Controller",
          "pos": [
            76,
            120
          ]
        },
        {
          "content": "{",
          "pos": [
            126,
            127
          ]
        },
        {
          "content": "// GET: api/Contacts",
          "pos": [
            137,
            157
          ]
        },
        {
          "content": "[HttpGet]",
          "pos": [
            167,
            176
          ]
        },
        {
          "content": "public IEnumerable&amp;lt;Contact&amp;gt; Get()",
          "pos": [
            186,
            225
          ]
        },
        {
          "content": "{",
          "pos": [
            235,
            236
          ]
        },
        {
          "content": "return new Contact[]{",
          "pos": [
            250,
            271
          ]
        },
        {
          "content": "new Contact { Id = 1, EmailAddress = \"barney@contoso.com\", Name = \"Barney Poland\"},",
          "pos": [
            289,
            372
          ]
        },
        {
          "content": "new Contact { Id = 2, EmailAddress = \"lacy@contoso.com\", Name = \"Lacy Barrera\"},",
          "pos": [
            390,
            470
          ]
        },
        {
          "content": "new Contact { Id = 3, EmailAddress = \"lora@microsoft.com\", Name = \"Lora Riggs\"}",
          "pos": [
            488,
            567
          ]
        },
        {
          "content": "};",
          "pos": [
            581,
            583
          ]
        },
        {
          "content": "}",
          "pos": [
            593,
            594
          ]
        },
        {
          "content": "}",
          "pos": [
            600,
            601
          ]
        },
        {
          "content": "}",
          "pos": [
            603,
            604
          ]
        }
      ]
    },
    {
      "pos": [
        8563,
        8635
      ],
      "content": "Make sure all your files are saved by selecting <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>Save All<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        8639,
        8712
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>Command Palette<ept id=\"p1\">**</ept>, enter the following to run the app locally:"
    },
    {
      "pos": [
        8718,
        8866
      ],
      "content": "<pre class=\"prettyprint\">\n dnx: kestrel - (ContactsList, Microsoft.AspNet.Hosting --server Kestrel --server.urls http://localhost:5001\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "dnx: kestrel - (ContactsList, Microsoft.AspNet.Hosting --server Kestrel --server.urls http://localhost:5001",
          "pos": [
            27,
            134
          ]
        }
      ]
    },
    {
      "content": "The command window will display <bpt id=\"p1\">*</bpt>Started<ept id=\"p1\">*</ept> in it.",
      "pos": [
        8872,
        8920
      ]
    },
    {
      "content": "If the command window doesn't display <bpt id=\"p1\">*</bpt>Started<ept id=\"p1\">*</ept>, check the lower left corning of VSCode for errors in your project.",
      "pos": [
        8921,
        9036
      ]
    },
    {
      "content": "Open a browser and navigate to the following URL:",
      "pos": [
        9041,
        9090
      ]
    },
    {
      "content": "http://localhost:5001/api/Contacts",
      "pos": [
        9098,
        9132
      ]
    },
    {
      "content": "You can then view the contents of <bpt id=\"p1\">*</bpt>Contacts.json<ept id=\"p1\">*</ept>.",
      "pos": [
        9140,
        9190
      ]
    },
    {
      "content": "When you view the file, you'll see the following content:",
      "pos": [
        9191,
        9248
      ]
    },
    {
      "content": "Returned json content",
      "pos": [
        9256,
        9277
      ]
    },
    {
      "content": "Modify API app metadata",
      "pos": [
        9360,
        9383
      ]
    },
    {
      "pos": [
        9384,
        9532
      ],
      "content": "The metadata that enables an ASP.NET API project to be deployed as an API app must be contained in an <bpt id=\"p1\">*</bpt>apiapp.json<ept id=\"p1\">*</ept> file at the root of the project."
    },
    {
      "pos": [
        9537,
        9612
      ],
      "content": "In VSCode, right-click the <bpt id=\"p1\">*</bpt>wwwroot<ept id=\"p1\">*</ept> folder select the <bpt id=\"p2\">**</bpt>New File<ept id=\"p2\">**</ept> option."
    },
    {
      "pos": [
        9616,
        9709
      ],
      "content": "Name the new file *apiapp.json*.<br\\>\n Make sure *apiapp.json* is in the *wwwroot* folder.",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "Name the new file <bpt id=\"p1\">*</bpt>apiapp.json<ept id=\"p1\">*</ept>.&lt;br\\&gt;",
          "pos": [
            0,
            37
          ]
        },
        {
          "content": "Make sure <bpt id=\"p1\">*</bpt>apiapp.json<ept id=\"p1\">*</ept> is in the <bpt id=\"p2\">*</bpt>wwwroot<ept id=\"p2\">*</ept> folder.",
          "pos": [
            39,
            90
          ]
        }
      ]
    },
    {
      "pos": [
        9713,
        9757
      ],
      "content": "Add the following to the <bpt id=\"p1\">*</bpt>apiapp.json<ept id=\"p1\">*</ept> file:"
    },
    {
      "pos": [
        9763,
        10121
      ],
      "content": "<pre class=\"prettyprint\">\n {\n     \"$schema\": \"http://json-schema.org/schemas/2014-11-01/apiapp.json#\",\n     \"id\": \"ContactsList\",\n     \"namespace\": \"microsoft.com\",\n     \"gateway\": \"2015-01-14\",\n     \"version\": \"1.0.0\",\n     \"title\": \"ContactsList\",\n     \"summary\": \"\",\n     \"author\": \"\",\n     \"endpoints\": null\n }\n </pre>",
      "leadings": [
        "",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "{",
          "pos": [
            27,
            28
          ]
        },
        {
          "content": "\"$schema\": \"http://json-schema.org/schemas/2014-11-01/apiapp.json#\",",
          "pos": [
            34,
            102
          ]
        },
        {
          "content": "\"id\": \"ContactsList\",",
          "pos": [
            108,
            129
          ]
        },
        {
          "content": "\"namespace\": \"microsoft.com\",",
          "pos": [
            135,
            164
          ]
        },
        {
          "content": "\"gateway\": \"2015-01-14\",",
          "pos": [
            170,
            194
          ]
        },
        {
          "content": "\"version\": \"1.0.0\",",
          "pos": [
            200,
            219
          ]
        },
        {
          "content": "\"title\": \"ContactsList\",",
          "pos": [
            225,
            249
          ]
        },
        {
          "content": "\"summary\": \"\",",
          "pos": [
            255,
            269
          ]
        },
        {
          "content": "\"author\": \"\",",
          "pos": [
            275,
            288
          ]
        },
        {
          "content": "\"endpoints\": null",
          "pos": [
            294,
            311
          ]
        },
        {
          "content": "}",
          "pos": [
            313,
            314
          ]
        }
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">*</bpt>apiapp.json<ept id=\"p1\">*</ept> file you can specify an endpoint for dynamic Swagger API definition JSON, but for this tutorial you’ll use a static API definition file.",
      "pos": [
        10123,
        10280
      ]
    },
    {
      "content": "For an example that uses dynamic Swagger generation, see <bpt id=\"p1\">[</bpt>Configure a Web API project as an API app<ept id=\"p1\">](app-service-dotnet-create-api-app-visual-studio.md)</ept>.",
      "pos": [
        10281,
        10434
      ]
    },
    {
      "content": "Add Swagger static API definition",
      "pos": [
        10439,
        10472
      ]
    },
    {
      "content": "To provide a static Swagger 2.0 API definition file, you must create a folder at the web root and place the API definition file in it.",
      "pos": [
        10473,
        10607
      ]
    },
    {
      "pos": [
        10612,
        10680
      ],
      "content": "In VSCode, create a folder named <bpt id=\"p1\">*</bpt>metadata<ept id=\"p1\">*</ept> in the <bpt id=\"p2\">*</bpt>wwwroot<ept id=\"p2\">*</ept> folder."
    },
    {
      "pos": [
        10684,
        10776
      ],
      "content": "Right-click the new <bpt id=\"p1\">*</bpt>metadata<ept id=\"p1\">*</ept> folder and add a new file named <bpt id=\"p2\">*</bpt>apiDefinition.swagger.json<ept id=\"p2\">*</ept>."
    },
    {
      "content": "Add the following json syntax to the new file:",
      "pos": [
        10781,
        10827
      ]
    },
    {
      "pos": [
        10833,
        13286
      ],
      "content": "<pre class=\"prettyprint\">\n {\n   \"swagger\": \"2.0\",\n   \"info\": {\n     \"version\": \"v1\",\n     \"title\": \"ContactsList\"\n   },\n   \"host\": \"MUST REPLACE THIS WITH YOUR HOST URL\",\n   \"schemes\": [\n     \"https\"\n   ],\n   \"paths\": {\n     \"/api/Contacts\": {\n       \"get\": {\n         \"tags\": [\n           \"Contacts\"\n         ],\n         \"operationId\": \"Contacts_Get\",\n         \"consumes\": [],\n         \"produces\": [\n           \"application/json\",\n           \"text/json\",\n           \"application/xml\",\n           \"text/xml\"\n         ],\n         \"responses\": {\n           \"200\": {\n             \"description\": \"OK\",\n             \"schema\": {\n               \"type\": \"array\",\n               \"items\": {\n                 \"$ref\": \"#/definitions/Contact\"\n               }\n             }\n           }\n         },\n         \"deprecated\": false\n       },\n       \"post\": {\n         \"tags\": [\n           \"Contacts\"\n         ],\n         \"operationId\": \"Contacts_Post\",\n         \"consumes\": [\n           \"application/json\",\n           \"text/json\",\n           \"application/xml\",\n           \"text/xml\",\n           \"application/x-www-form-urlencoded\"\n         ],\n         \"produces\": [\n           \"application/json\",\n           \"text/json\",\n           \"application/xml\",\n           \"text/xml\"\n         ],\n         \"parameters\": [\n           {\n             \"name\": \"contact\",\n             \"in\": \"body\",\n             \"required\": true,\n             \"schema\": {\n               \"$ref\": \"#/definitions/Contact\"\n             }\n           }\n         ],\n         \"responses\": {\n           \"200\": {\n             \"description\": \"OK\",\n             \"schema\": {\n               \"$ref\": \"#/definitions/Object\"\n             }\n           }\n         },\n         \"deprecated\": false\n       }\n     }\n   },\n   \"definitions\": {\n     \"Contact\": {\n       \"type\": \"object\",\n       \"properties\": {\n         \"Id\": {\n           \"format\": \"int32\",\n           \"type\": \"integer\"\n         },\n         \"Name\": {\n           \"type\": \"string\"\n         },\n         \"EmailAddress\": {\n           \"type\": \"string\"\n         }\n       }\n     },\n     \"Object\": {\n       \"type\": \"object\",\n       \"properties\": {}\n     }\n   }\n }\n </pre>",
      "leadings": [
        "",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "{",
          "pos": [
            27,
            28
          ]
        },
        {
          "content": "\"swagger\": \"2.0\",",
          "pos": [
            32,
            49
          ]
        },
        {
          "content": "\"info\": {",
          "pos": [
            53,
            62
          ]
        },
        {
          "content": "\"version\": \"v1\",",
          "pos": [
            68,
            84
          ]
        },
        {
          "content": "\"title\": \"ContactsList\"",
          "pos": [
            90,
            113
          ]
        },
        {
          "content": "},",
          "pos": [
            117,
            119
          ]
        },
        {
          "content": "\"host\": \"MUST REPLACE THIS WITH YOUR HOST URL\",",
          "pos": [
            123,
            170
          ]
        },
        {
          "content": "\"schemes\": [",
          "pos": [
            174,
            186
          ]
        },
        {
          "content": "\"https\"",
          "pos": [
            192,
            199
          ]
        },
        {
          "content": "],",
          "pos": [
            203,
            205
          ]
        },
        {
          "content": "\"paths\": {",
          "pos": [
            209,
            219
          ]
        },
        {
          "content": "\"/api/Contacts\": {",
          "pos": [
            225,
            243
          ]
        },
        {
          "content": "\"get\": {",
          "pos": [
            251,
            259
          ]
        },
        {
          "content": "\"tags\": [",
          "pos": [
            269,
            278
          ]
        },
        {
          "content": "\"Contacts\"",
          "pos": [
            290,
            300
          ]
        },
        {
          "content": "],",
          "pos": [
            310,
            312
          ]
        },
        {
          "content": "\"operationId\": \"Contacts_Get\",",
          "pos": [
            322,
            352
          ]
        },
        {
          "content": "\"consumes\": [],",
          "pos": [
            362,
            377
          ]
        },
        {
          "content": "\"produces\": [",
          "pos": [
            387,
            400
          ]
        },
        {
          "content": "\"application/json\",",
          "pos": [
            412,
            431
          ]
        },
        {
          "content": "\"text/json\",",
          "pos": [
            443,
            455
          ]
        },
        {
          "content": "\"application/xml\",",
          "pos": [
            467,
            485
          ]
        },
        {
          "content": "\"text/xml\"",
          "pos": [
            497,
            507
          ]
        },
        {
          "content": "],",
          "pos": [
            517,
            519
          ]
        },
        {
          "content": "\"responses\": {",
          "pos": [
            529,
            543
          ]
        },
        {
          "content": "\"200\": {",
          "pos": [
            555,
            563
          ]
        },
        {
          "content": "\"description\": \"OK\",",
          "pos": [
            577,
            597
          ]
        },
        {
          "content": "\"schema\": {",
          "pos": [
            611,
            622
          ]
        },
        {
          "content": "\"type\": \"array\",",
          "pos": [
            638,
            654
          ]
        },
        {
          "content": "\"items\": {",
          "pos": [
            670,
            680
          ]
        },
        {
          "content": "\"$ref\": \"#/definitions/Contact\"",
          "pos": [
            698,
            729
          ]
        },
        {
          "content": "}",
          "pos": [
            745,
            746
          ]
        },
        {
          "content": "}",
          "pos": [
            760,
            761
          ]
        },
        {
          "content": "}",
          "pos": [
            773,
            774
          ]
        },
        {
          "content": "},",
          "pos": [
            784,
            786
          ]
        },
        {
          "content": "\"deprecated\": false",
          "pos": [
            796,
            815
          ]
        },
        {
          "content": "},",
          "pos": [
            823,
            825
          ]
        },
        {
          "content": "\"post\": {",
          "pos": [
            833,
            842
          ]
        },
        {
          "content": "\"tags\": [",
          "pos": [
            852,
            861
          ]
        },
        {
          "content": "\"Contacts\"",
          "pos": [
            873,
            883
          ]
        },
        {
          "content": "],",
          "pos": [
            893,
            895
          ]
        },
        {
          "content": "\"operationId\": \"Contacts_Post\",",
          "pos": [
            905,
            936
          ]
        },
        {
          "content": "\"consumes\": [",
          "pos": [
            946,
            959
          ]
        },
        {
          "content": "\"application/json\",",
          "pos": [
            971,
            990
          ]
        },
        {
          "content": "\"text/json\",",
          "pos": [
            1002,
            1014
          ]
        },
        {
          "content": "\"application/xml\",",
          "pos": [
            1026,
            1044
          ]
        },
        {
          "content": "\"text/xml\",",
          "pos": [
            1056,
            1067
          ]
        },
        {
          "content": "\"application/x-www-form-urlencoded\"",
          "pos": [
            1079,
            1114
          ]
        },
        {
          "content": "],",
          "pos": [
            1124,
            1126
          ]
        },
        {
          "content": "\"produces\": [",
          "pos": [
            1136,
            1149
          ]
        },
        {
          "content": "\"application/json\",",
          "pos": [
            1161,
            1180
          ]
        },
        {
          "content": "\"text/json\",",
          "pos": [
            1192,
            1204
          ]
        },
        {
          "content": "\"application/xml\",",
          "pos": [
            1216,
            1234
          ]
        },
        {
          "content": "\"text/xml\"",
          "pos": [
            1246,
            1256
          ]
        },
        {
          "content": "],",
          "pos": [
            1266,
            1268
          ]
        },
        {
          "content": "\"parameters\": [",
          "pos": [
            1278,
            1293
          ]
        },
        {
          "content": "{",
          "pos": [
            1305,
            1306
          ]
        },
        {
          "content": "\"name\": \"contact\",",
          "pos": [
            1320,
            1338
          ]
        },
        {
          "content": "\"in\": \"body\",",
          "pos": [
            1352,
            1365
          ]
        },
        {
          "content": "\"required\": true,",
          "pos": [
            1379,
            1396
          ]
        },
        {
          "content": "\"schema\": {",
          "pos": [
            1410,
            1421
          ]
        },
        {
          "content": "\"$ref\": \"#/definitions/Contact\"",
          "pos": [
            1437,
            1468
          ]
        },
        {
          "content": "}",
          "pos": [
            1482,
            1483
          ]
        },
        {
          "content": "}",
          "pos": [
            1495,
            1496
          ]
        },
        {
          "content": "],",
          "pos": [
            1506,
            1508
          ]
        },
        {
          "content": "\"responses\": {",
          "pos": [
            1518,
            1532
          ]
        },
        {
          "content": "\"200\": {",
          "pos": [
            1544,
            1552
          ]
        },
        {
          "content": "\"description\": \"OK\",",
          "pos": [
            1566,
            1586
          ]
        },
        {
          "content": "\"schema\": {",
          "pos": [
            1600,
            1611
          ]
        },
        {
          "content": "\"$ref\": \"#/definitions/Object\"",
          "pos": [
            1627,
            1657
          ]
        },
        {
          "content": "}",
          "pos": [
            1671,
            1672
          ]
        },
        {
          "content": "}",
          "pos": [
            1684,
            1685
          ]
        },
        {
          "content": "},",
          "pos": [
            1695,
            1697
          ]
        },
        {
          "content": "\"deprecated\": false",
          "pos": [
            1707,
            1726
          ]
        },
        {
          "content": "}",
          "pos": [
            1734,
            1735
          ]
        },
        {
          "content": "}",
          "pos": [
            1741,
            1742
          ]
        },
        {
          "content": "},",
          "pos": [
            1746,
            1748
          ]
        },
        {
          "content": "\"definitions\": {",
          "pos": [
            1752,
            1768
          ]
        },
        {
          "content": "\"Contact\": {",
          "pos": [
            1774,
            1786
          ]
        },
        {
          "content": "\"type\": \"object\",",
          "pos": [
            1794,
            1811
          ]
        },
        {
          "content": "\"properties\": {",
          "pos": [
            1819,
            1834
          ]
        },
        {
          "content": "\"Id\": {",
          "pos": [
            1844,
            1851
          ]
        },
        {
          "content": "\"format\": \"int32\",",
          "pos": [
            1863,
            1881
          ]
        },
        {
          "content": "\"type\": \"integer\"",
          "pos": [
            1893,
            1910
          ]
        },
        {
          "content": "},",
          "pos": [
            1920,
            1922
          ]
        },
        {
          "content": "\"Name\": {",
          "pos": [
            1932,
            1941
          ]
        },
        {
          "content": "\"type\": \"string\"",
          "pos": [
            1953,
            1969
          ]
        },
        {
          "content": "},",
          "pos": [
            1979,
            1981
          ]
        },
        {
          "content": "\"EmailAddress\": {",
          "pos": [
            1991,
            2008
          ]
        },
        {
          "content": "\"type\": \"string\"",
          "pos": [
            2020,
            2036
          ]
        },
        {
          "content": "}",
          "pos": [
            2046,
            2047
          ]
        },
        {
          "content": "}",
          "pos": [
            2055,
            2056
          ]
        },
        {
          "content": "},",
          "pos": [
            2062,
            2064
          ]
        },
        {
          "content": "\"Object\": {",
          "pos": [
            2070,
            2081
          ]
        },
        {
          "content": "\"type\": \"object\",",
          "pos": [
            2089,
            2106
          ]
        },
        {
          "content": "\"properties\": {}",
          "pos": [
            2114,
            2130
          ]
        },
        {
          "content": "}",
          "pos": [
            2136,
            2137
          ]
        },
        {
          "content": "}",
          "pos": [
            2141,
            2142
          ]
        },
        {
          "content": "}",
          "pos": [
            2144,
            2145
          ]
        }
      ]
    },
    {
      "content": "Later in this tutorial, you will replace the above host URL placeholder string with your Azure host URL that you  will create and copy later.",
      "pos": [
        13288,
        13429
      ]
    },
    {
      "content": "Create an API app in the Azure preview Portal",
      "pos": [
        13434,
        13479
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> To complete this tutorial, you need a Microsoft Azure account.",
      "pos": [
        13483,
        13558
      ]
    },
    {
      "content": "If you don't have an account, you can <bpt id=\"p1\">[</bpt>sign up for a free trial<ept id=\"p1\">](/pricing/free-trial/)</ept> or <bpt id=\"p2\">[</bpt>activate your MSDN subscriber benefits<ept id=\"p2\">](/pricing/member-offers/msdn-benefits-details/)</ept>.",
      "pos": [
        13559,
        13737
      ]
    },
    {
      "content": "You can also try for free the <bpt id=\"p1\">[</bpt>App Service App Samples<ept id=\"p1\">](http://tryappservice.azure.com)</ept>.",
      "pos": [
        13738,
        13826
      ]
    },
    {
      "pos": [
        13831,
        13894
      ],
      "content": "Log in to the <bpt id=\"p1\">[</bpt>Azure preview portal<ept id=\"p1\">](https://portal.azure.com)</ept>."
    },
    {
      "pos": [
        13899,
        13943
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>NEW<ept id=\"p1\">**</ept> at the top left of the portal."
    },
    {
      "pos": [
        13948,
        13981
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Web + Mobile &gt; API App<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure New API App",
      "pos": [
        13989,
        14006
      ]
    },
    {
      "pos": [
        14091,
        14140
      ],
      "content": "Enter a value for <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept>, such as ContactsList."
    },
    {
      "content": "Select an App Service plan or create a new one.",
      "pos": [
        14145,
        14192
      ]
    },
    {
      "content": "If you create a new plan, select the pricing tier, location, and other options.",
      "pos": [
        14193,
        14272
      ]
    },
    {
      "content": "Azure New API App Blade",
      "pos": [
        14280,
        14303
      ]
    },
    {
      "pos": [
        14390,
        14407
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept>."
    },
    {
      "content": "API App Blade",
      "pos": [
        14415,
        14428
      ]
    },
    {
      "content": "If you left the <bpt id=\"p1\">**</bpt>Pin to Startboard<ept id=\"p1\">**</ept> check box selected when creating the app, you can easily locate the app by clicking <bpt id=\"p2\">**</bpt>Home<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>Browse<ept id=\"p3\">**</ept>.",
      "pos": [
        14516,
        14661
      ]
    },
    {
      "content": "If you cleared the checkbox, click <bpt id=\"p1\">**</bpt>Notifications<ept id=\"p1\">**</ept> on the left to see the API app creation status, and click the notification to go to the blade for the new API app.",
      "pos": [
        14662,
        14829
      ]
    },
    {
      "pos": [
        14834,
        14876
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Settings &gt; Application Settings<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        14881,
        14928
      ],
      "content": "Set the Access level to <bpt id=\"p1\">**</bpt>Public (anonymous)<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        14933,
        14948
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure App Settings",
      "pos": [
        14956,
        14974
      ]
    },
    {
      "content": "Enable Git publishing from the new API app",
      "pos": [
        15061,
        15103
      ]
    },
    {
      "content": "Git is a distributed version control system that you can use to deploy your Azure Website.",
      "pos": [
        15105,
        15195
      ]
    },
    {
      "content": "You'll store the code you write for your API app in a local Git repository, and you'll deploy your code to Azure by pushing to a remote repository.",
      "pos": [
        15196,
        15343
      ]
    },
    {
      "content": "This method of deployment is a feature of App Service web apps that you can use in an API app because API apps are based on web apps: an API app in Azure App Service is a web app with additional features for hosting web services.",
      "pos": [
        15344,
        15573
      ]
    },
    {
      "content": "In the portal you manage the features specific to API apps in the <bpt id=\"p1\">**</bpt>API App<ept id=\"p1\">**</ept> blade, and you manage the features that are shared with web apps in the <bpt id=\"p2\">**</bpt>API App Host<ept id=\"p2\">**</ept> blade.",
      "pos": [
        15577,
        15750
      ]
    },
    {
      "content": "So in this section you go to the <bpt id=\"p1\">**</bpt>API App Host<ept id=\"p1\">**</ept> blade to configure the Git deployment feature.",
      "pos": [
        15751,
        15847
      ]
    },
    {
      "pos": [
        15852,
        15897
      ],
      "content": "In the API App blade, click <bpt id=\"p1\">**</bpt>API App host<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure API App Host",
      "pos": [
        15905,
        15923
      ]
    },
    {
      "content": "Find the <bpt id=\"p1\">**</bpt>Deployment<ept id=\"p1\">**</ept> section of the <bpt id=\"p2\">**</bpt>API App<ept id=\"p2\">**</ept> blade and click <bpt id=\"p3\">**</bpt>Set up continuous deployment<ept id=\"p3\">**</ept>.",
      "pos": [
        16009,
        16109
      ]
    },
    {
      "content": "You may need to scroll down to see this part of the blade.",
      "pos": [
        16110,
        16168
      ]
    },
    {
      "content": "Azure API App Host",
      "pos": [
        16176,
        16194
      ]
    },
    {
      "pos": [
        16280,
        16327
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Choose Source &gt; Local Git Repository<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        16332,
        16345
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure Local Git Respository",
      "pos": [
        16353,
        16380
      ]
    },
    {
      "content": "If you have have not previously set up deployment credentials for publishing an API app or other App Service app, set them up now:",
      "pos": [
        16471,
        16601
      ]
    },
    {
      "pos": [
        16609,
        16646
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Set deployment credentials<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Create a user name and password.",
      "pos": [
        16654,
        16686
      ]
    },
    {
      "content": "You'll need this password later when setting up Git.",
      "pos": [
        16688,
        16740
      ]
    },
    {
      "pos": [
        16748,
        16763
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure Deployment Credentials",
      "pos": [
        16771,
        16799
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>API App Host<ept id=\"p1\">**</ept> blade, click <bpt id=\"p2\">**</bpt>Settings &gt; Properties<ept id=\"p2\">**</ept>.",
      "pos": [
        16886,
        16949
      ]
    },
    {
      "content": "The URL of the remote Git repository that you'll deploy to is shown under \"GIT URL\".",
      "pos": [
        16950,
        17034
      ]
    },
    {
      "pos": [
        17039,
        17090
      ],
      "content": "Copy the <bpt id=\"p1\">**</bpt>GIT URL<ept id=\"p1\">**</ept> for use later in the tutorial."
    },
    {
      "content": "Azure Git URL",
      "pos": [
        17098,
        17111
      ]
    },
    {
      "pos": [
        17193,
        17336
      ],
      "content": "Additionally, in the <bpt id=\"p1\">**</bpt>API APP<ept id=\"p1\">**</ept> blade, copy the <bpt id=\"p2\">**</bpt>URL<ept id=\"p2\">**</ept> that you will use to update the \"host\" value in the <bpt id=\"p3\">*</bpt>apiDefinition.swagger.json<ept id=\"p3\">*</ept> file."
    },
    {
      "content": "Azure URL",
      "pos": [
        17344,
        17353
      ]
    },
    {
      "pos": [
        17433,
        17599
      ],
      "content": "In VSCode, open the <bpt id=\"p1\">*</bpt>apiDefinition.swagger.json<ept id=\"p1\">*</ept> file and replace the host value \"MUST REPLACE THIS WITH YOUR HOST URL\" with the <bpt id=\"p2\">**</bpt>URL<ept id=\"p2\">**</ept> you copied in the step above."
    },
    {
      "content": "Also, remove the \"https://\" characters from the beginning of the host value.",
      "pos": [
        17604,
        17680
      ]
    },
    {
      "pos": [
        17685,
        17744
      ],
      "content": "Save your changes to the <bpt id=\"p1\">*</bpt>apiDefinition.swagger.json<ept id=\"p1\">*</ept> file."
    },
    {
      "content": "Publish your API app to Azure App Service",
      "pos": [
        17749,
        17790
      ]
    },
    {
      "content": "In this section you create a local Git repository and push from that repository to Azure in order to deploy your sample application to the API app running in Azure App Service.",
      "pos": [
        17792,
        17968
      ]
    },
    {
      "content": "In VSCode on the left navigation bar, select the Git option.",
      "pos": [
        17973,
        18033
      ]
    },
    {
      "content": "If Git is not already installed, install it by choosing one of the provided links (<bpt id=\"p1\">[</bpt>Chocolatey<ept id=\"p1\">](https://chocolatey.org/packages/git)</ept> or <bpt id=\"p2\">[</bpt>git-scm.com<ept id=\"p2\">](http://git-scm.com/downloads)</ept>).",
      "pos": [
        18037,
        18218
      ]
    },
    {
      "content": "If you are new to Git, choose <bpt id=\"p1\">**</bpt>git-scm.com<ept id=\"p1\">**</ept> and select the option to use Git with GitBash from the Windows Command Prompt.",
      "pos": [
        18219,
        18343
      ]
    },
    {
      "content": "Once Git is installed, restart VSCode and select the Git option on the left bar.",
      "pos": [
        18348,
        18428
      ]
    },
    {
      "pos": [
        18432,
        18536
      ],
      "content": "In VSCode, select <bpt id=\"p1\">**</bpt>Initialize git repository<ept id=\"p1\">**</ept> to make sure your workspace is under git source control."
    },
    {
      "content": "Initialize Git",
      "pos": [
        18545,
        18559
      ]
    },
    {
      "pos": [
        18640,
        18697
      ],
      "content": "Add a commit message and select the <bpt id=\"p1\">**</bpt>Commit All<ept id=\"p1\">**</ept> check."
    },
    {
      "content": "Git Commit All",
      "pos": [
        18705,
        18719
      ]
    },
    {
      "content": "Find and open <bpt id=\"p1\">**</bpt>GitBash<ept id=\"p1\">**</ept>.",
      "pos": [
        18799,
        18825
      ]
    },
    {
      "content": "As an alternative, you can use the Windows Command Prompt.",
      "pos": [
        18826,
        18884
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>GitBash<ept id=\"p1\">**</ept>, change folders to your VSCode project folder.",
      "pos": [
        18888,
        18949
      ]
    },
    {
      "content": "For instance:",
      "pos": [
        18950,
        18963
      ]
    },
    {
      "pos": [
        18969,
        19043
      ],
      "content": "<pre class=\"prettyprint\">\n cd c:\\VSCodeProjects\\ContactsList\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "cd c:\\VSCodeProjects\\ContactsList",
          "pos": [
            27,
            60
          ]
        }
      ]
    },
    {
      "content": "Create a remote reference for pushing updates to the web app (API app host) you created previously, using the Git URL (ending in \".git\") that you copied earlier:",
      "pos": [
        19048,
        19209
      ]
    },
    {
      "pos": [
        19215,
        19304
      ],
      "content": "<pre class=\"prettyprint\">\n git remote add azure [URL for remote repository]\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "git remote add azure [URL for remote repository]",
          "pos": [
            27,
            75
          ]
        }
      ]
    },
    {
      "content": "Push your changes to Azure by entering the following command:",
      "pos": [
        19309,
        19370
      ]
    },
    {
      "pos": [
        19376,
        19438
      ],
      "content": "<pre class=\"prettyprint\">\n git push azure master\n </pre>",
      "leadings": [
        "",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "git push azure master",
          "pos": [
            27,
            48
          ]
        }
      ]
    },
    {
      "content": "You are prompted for the password you created earlier.",
      "pos": [
        19444,
        19498
      ]
    },
    {
      "content": "Note: Your password will not be visible.",
      "pos": [
        19501,
        19541
      ]
    },
    {
      "content": "**",
      "pos": [
        19541,
        19543
      ]
    },
    {
      "content": "The output from the above command ends with a message that deployment is successful:",
      "pos": [
        19549,
        19633
      ]
    },
    {
      "pos": [
        19639,
        19813
      ],
      "content": "<pre class=\"prettyprint\">\n remote: Deployment successful.\n To https://user@testsite.scm.azurewebsites.net/testsite.git\n [new branch]      master -> master\n </pre>",
      "leadings": [
        "",
        "   ",
        "   ",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "remote: Deployment successful.",
          "pos": [
            27,
            57
          ]
        },
        {
          "content": "To https://user@testsite.scm.azurewebsites.net/testsite.git",
          "pos": [
            59,
            118
          ]
        },
        {
          "content": "[new branch]      master -&gt; master",
          "pos": [
            120,
            154
          ]
        }
      ]
    },
    {
      "pos": [
        19817,
        19997
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> If you make changes to your app, you can republish by selecting the <bpt id=\"p1\">**</bpt>Commit All<ept id=\"p1\">**</ept> check in VSCode and then enter the <bpt id=\"p2\">**</bpt>git push azure master<ept id=\"p2\">**</ept> command in <bpt id=\"p3\">**</bpt>GitBash<ept id=\"p3\">**</ept>."
    },
    {
      "content": "View the API definition in the Azure preview portal",
      "pos": [
        20002,
        20053
      ]
    },
    {
      "content": "Now that you have deployed an API to your API app, you can see the API definition in the Azure preview portal.",
      "pos": [
        20054,
        20164
      ]
    },
    {
      "content": "You'll begin by restarting the gateway, which enables Azure to recognize that an API app's API definition has changed.",
      "pos": [
        20165,
        20283
      ]
    },
    {
      "content": "The gateway is a web app that handles API administration and authorization for the API apps in a resource group.",
      "pos": [
        20284,
        20396
      ]
    },
    {
      "pos": [
        20401,
        20531
      ],
      "content": "In the Azure preview portal, go to the <bpt id=\"p1\">**</bpt>API APP<ept id=\"p1\">**</ept> blade for the API app that you created earlier, and click the <bpt id=\"p2\">**</bpt>Gateway<ept id=\"p2\">**</ept> link."
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>GATEWAY<ept id=\"p1\">**</ept> blade, click <bpt id=\"p2\">**</bpt>Restart<ept id=\"p2\">**</ept>.",
      "pos": [
        20535,
        20579
      ]
    },
    {
      "content": "You can now close this blade.",
      "pos": [
        20580,
        20609
      ]
    },
    {
      "pos": [
        20613,
        20661
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>API APP<ept id=\"p1\">**</ept> blade, click the <bpt id=\"p2\">**</bpt>Restart<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        20666,
        20929
      ],
      "content": "In the **API APP** blade, click **API Definition**.<br>\n The API Definition blade shows two methods. If you don't see the GET and POST methods right away, wait a few seconds for Azure to refresh the app. Then, click **API Definition** in the **API APP** blade.",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>API APP<ept id=\"p1\">**</ept> blade, click <bpt id=\"p2\">**</bpt>API Definition<ept id=\"p2\">**</ept>.",
          "pos": [
            0,
            51
          ]
        },
        {
          "content": " The API Definition blade shows two methods. If you don't see the GET and POST methods right away, wait a few seconds for Azure to refresh the app. Then, click **API Definition** in the **API APP** blade.",
          "pos": [
            56,
            260
          ],
          "nodes": [
            {
              "content": "The API Definition blade shows two methods.",
              "pos": [
                1,
                44
              ]
            },
            {
              "content": "If you don't see the GET and POST methods right away, wait a few seconds for Azure to refresh the app.",
              "pos": [
                45,
                147
              ]
            },
            {
              "content": "Then, click <bpt id=\"p1\">**</bpt>API Definition<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>API APP<ept id=\"p2\">**</ept> blade.",
              "pos": [
                148,
                204
              ]
            }
          ]
        }
      ]
    },
    {
      "content": "Run the app in Azure",
      "pos": [
        20934,
        20954
      ]
    },
    {
      "content": "In the Azure preview portal, go to the <bpt id=\"p1\">**</bpt>API APP HOST<ept id=\"p1\">**</ept> blade for your API app and click <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept>.",
      "pos": [
        20955,
        21055
      ]
    },
    {
      "content": "Then, add <bpt id=\"p1\">**</bpt>api/Contacts<ept id=\"p1\">**</ept> to the end of your URL to view the contact details.",
      "pos": [
        21056,
        21134
      ]
    },
    {
      "content": "Conclusion",
      "pos": [
        21140,
        21150
      ]
    },
    {
      "content": "In this tutorial you learned how to create an API app in Visual Studio Code.",
      "pos": [
        21151,
        21227
      ]
    },
    {
      "content": "For more information about Visual Studio Code, see <bpt id=\"p1\">[</bpt>Visual Studio Code<ept id=\"p1\">](https://code.visualstudio.com/Docs/)</ept>.",
      "pos": [
        21228,
        21337
      ]
    },
    {
      "content": "For information about API apps, see <bpt id=\"p1\">[</bpt>What are API apps?<ept id=\"p1\">](app-service-api-apps-why-best-platform.md)</ept>",
      "pos": [
        21338,
        21437
      ]
    },
    {
      "content": "test",
      "pos": [
        21441,
        21445
      ]
    }
  ],
  "content": "<properties\n   pageTitle=\"Create an ASP.NET 5 API app in Visual Studio Code\"\n   description=\"This tutorial shows you how to create an ASP.NET 5 API app using Visual Studio Code.\"\n   services=\"app-service\\api\"\n   documentationCenter=\".net\"\n   authors=\"erikre\"\n   manager=\"wpickett\"\n   editor=\"jimbe\"/>\n\n<tags\n    ms.service=\"app-service-api\" \n    ms.workload=\"web\" \n    ms.tgt_pltfrm=\"dotnet\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"09/01/2015\" \n    ms.author=\"erikre\"/>\n\n# Create an ASP.NET 5 API app in Visual Studio Code\n\n> [AZURE.SELECTOR]\n- [Visual Studio 2015 or 2013](app-service-dotnet-create-api-app.md)\n- [Visual Studio Code](app-service-create-aspnet-api-app-using-vscode.md)\n\n## Overview\n\nThis tutorial shows you how to create an ASP.NET 5 API app using [Visual Studio Code](http://code.visualstudio.com//Docs/whyvscode). ASP.NET 5 is a significant redesign of ASP.NET. ASP.NET 5 is a new open-source and cross-platform framework for building modern cloud-based Web applications using .NET. For more information, see [Introduction to ASP.NET 5](http://docs.asp.net/en/latest/conceptual-overview/aspnet.html). For information about API apps, see [What are API apps?](app-service-api-apps-why-best-platform.md)\n\n> [AZURE.NOTE] To complete this tutorial, you need a Microsoft Azure account. If you don't have an account, you can [sign up for a free trial](/pricing/free-trial/) or [activate your MSDN subscriber benefits](/pricing/member-offers/msdn-benefits-details/). You can also try for free the [App Service App Samples](http://tryappservice.azure.com).\n\n## Prerequisites  \n\n* Install and setup [Visual Studio Code](http://code.visualstudio.com/Docs/setup).\n* Install [Node.js](http://nodejs.org/download/).<br\\>\n    [Node](http://nodejs.org/) is a platform for building fast and scalable server applications using JavaScript. Node is the runtime (Node) and [npm](http://www.npmjs.com/) is the Package Manager for Node modules. You will use npm to scaffold an ASP.NET 5 API app in this tutorial.\n\n## Install ASP.NET 5 and DNX\nASP.NET 5/DNX is a lean .NET stack for building modern cloud and web apps that run on OS X, Linux, and Windows. It has been built from the ground up to provide an optimized development framework for apps that are either deployed to the cloud or run on-premises. It consists of modular components with minimal overhead, so you retain flexibility while constructing your solutions.\n\n> [AZURE.NOTE] ASP.NET 5 and DNX (the .NET Execution Environment) on OS X and Linux are in an early Beta/Preview state. \n\nThis tutorial is designed to get you started building applications with the latest development versions ASP.NET 5 and DNX. If you want a more stable, released, experience, go to [http://www.asp.net/vnext](http://www.asp.net/vnext). The following instructions are specific to Windows. For more detailed installation instructions for OS X, Linux, and Windows, see [Installing ASP.NET 5 and DNX](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx). \n\n1. To install .NET Version Manager (DNVM) in Windows, run the following command in the Command Window:\n\n    <pre class=\"prettyprint\">\n    @powershell -NoProfile -ExecutionPolicy unrestricted -Command \"&{$Branch='dev';iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/aspnet/Home/dev/dnvminstall.ps1'))}\"\n    </pre> \n\n    This will download the DNVM script and put it in your user profile. \n\n2. You may need to log off after entering the above command in order for the change to the PATH environment variable to take effect.\n3. Check the location of DNVM by running the following in the Command Window: \n\n    <pre class=\"prettyprint\">\n    where dnvm\n    </pre> \n\n    The Command Window will show a path similiar to the following:\n\n    ![dnvm location](./media/app-service-create-aspnet-api-app-using-vscode/00-where-dnvm.png)\n\n4. Now that you have DNVM, you need to use it to download DNX in order to run your applications. Run the following command from the Command Window:\n\n    <pre class=\"prettyprint\">\n    dnvm upgrade\n    </pre> \n\n5. Verify your DNVM and view the active runtime by entering the following in the Command Window:\n\n    <pre class=\"prettyprint\">\n    dnvm list\n    </pre> \n\n    The Command Window will show the details of the active runtime:\n\n    ![dnvm location](./media/app-service-create-aspnet-api-app-using-vscode/00b-dnvm-list.png)\n\nFor more detailed installation instructions for OS X, Linux, and Windows, see [Installing ASP.NET 5 and DNX](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx). \n\n## Create the API app \n\nThis section shows you how to scaffold a new app ASP.NET API app. You will use the node package manager (npm) to install [Yeoman](http://yeoman.io/), [Grunt](http://gruntjs.com/), and [Bower](http://bower.io/). \n\n1. After installing Visual Studio Code and Node.js, open a command prompt with Admin rights and navigate to the location where you want all of your ASP.NET projects using VSCode to be located.\n2. Enter the following in the command window to install Yeoman and the supporting tools:\n\n    <pre class=\"prettyprint\">\n    npm install -g yo grunt-cli generator-aspnet bower\n    </pre> \n\n3. Enter the following in the command window to create the project folder and scaffold the app:\n\n    <pre class=\"prettyprint\">\n    yo aspnet\n    </pre> \n\n4. Follow the instructions provided by the generator by scrolling and selecting the **Web API Application** type.\n\n    ![Yoman - ASP.NET 5 generator](./media/app-service-create-aspnet-api-app-using-vscode/01-yo-aspnet.png)\n\n5. Set the name of your new ASP.NET API app to **ContactsList**. This name will be used in code provided later in this tutorial. <br>\n    Yoman will create a new folder named **ContactsList** and the necessary files for your new app.\n6. Open **Visual Studio Code**.<br>\n    You can open VSCode from the Command Window by entering **code .**.\n7. From the **File** menu, select **Open Folder** and select the folder where your ASP.NET API app is located.\n\n    ![Select Folder dialog box](./media/app-service-create-aspnet-api-app-using-vscode/02-open-folder.png)\n\n    VSCode will load your project and display it in the **Explore** window.\n\n    ![VSCode displaying Contact project](./media/app-service-create-aspnet-api-app-using-vscode/03-vscode-contacts-project.png)\n\n8. In **VSCode**, from the **View** menu, select **Command Palette**.\n9. In the **Command Palette** enter the following commands:\n\n    <pre class=\"prettyprint\">\n    dnx:dnu restore - (ContactsList)\n    </pre> \n\n    As you start typing, you will see the full command line from the list.\n\n    ![Restore command](./media/app-service-create-aspnet-api-app-using-vscode/04-dnu-restore.png)\n\n    The Restore command installs the necessary NuGet packages to run the application. A command window will display **Restore complete** when ready.\n\n## Modify the API app\n\nYou will now modify the **ContactsList** app by adding a **Contact** class and a **ContactsController** class.\n\n1. Place your cursor over the **ContactsList** project name and add a new folder named *Models* using the new folder icon.\n\n    ![New Models folder](./media/app-service-create-aspnet-api-app-using-vscode/07-new-folder.png)\n\n2. Right-click the **Models** folder to add a new class file named *Contact.cs* with the following code:\n\n    <pre class=\"prettyprint\">\n    namespace ContactsList.Models\n    {\n        public class Contact\n        {\n            public int Id { get; set; }\n            public string Name { get; set; }\n            public string EmailAddress { get; set; }\n        }\n    }\n    </pre>\n\n3. Right-click the **Controllers** folder and add a *ContactsController.cs* file so that it appears as follows:\n\n    <pre class=\"prettyprint\">\n    using System.Collections.Generic;\n    using Microsoft.AspNet.Mvc;\n    using ContactsList.Models;\n    \n    namespace ContactsList.Controllers\n    {\n        [Route(\"api/[controller]\")]\n        public class ContactsController : Controller\n        {\n            // GET: api/Contacts\n            [HttpGet]\n            public IEnumerable&lt;Contact&gt; Get()\n            {\n                return new Contact[]{\n                    new Contact { Id = 1, EmailAddress = \"barney@contoso.com\", Name = \"Barney Poland\"},\n                    new Contact { Id = 2, EmailAddress = \"lacy@contoso.com\", Name = \"Lacy Barrera\"},\n                    new Contact { Id = 3, EmailAddress = \"lora@microsoft.com\", Name = \"Lora Riggs\"}\n                };\n            }\n        }\n    }\n    </pre>\n\n4. Make sure all your files are saved by selecting **File** > **Save All**.\n5. From the **Command Palette**, enter the following to run the app locally:\n\n    <pre class=\"prettyprint\">\n    dnx: kestrel - (ContactsList, Microsoft.AspNet.Hosting --server Kestrel --server.urls http://localhost:5001\n    </pre>\n\n    The command window will display *Started* in it. If the command window doesn't display *Started*, check the lower left corning of VSCode for errors in your project.\n\n5. Open a browser and navigate to the following URL:\n\n    **http://localhost:5001/api/Contacts**\n\n    You can then view the contents of *Contacts.json*. When you view the file, you'll see the following content:\n\n    ![Returned json content](./media/app-service-create-aspnet-api-app-using-vscode/08-contacts-json.png)\n\n## Modify API app metadata\nThe metadata that enables an ASP.NET API project to be deployed as an API app must be contained in an *apiapp.json* file at the root of the project.\n\n1. In VSCode, right-click the *wwwroot* folder select the **New File** option.\n2. Name the new file *apiapp.json*.<br\\>\n    Make sure *apiapp.json* is in the *wwwroot* folder.\n3. Add the following to the *apiapp.json* file:\n\n    <pre class=\"prettyprint\">\n    {\n        \"$schema\": \"http://json-schema.org/schemas/2014-11-01/apiapp.json#\",\n        \"id\": \"ContactsList\",\n        \"namespace\": \"microsoft.com\",\n        \"gateway\": \"2015-01-14\",\n        \"version\": \"1.0.0\",\n        \"title\": \"ContactsList\",\n        \"summary\": \"\",\n        \"author\": \"\",\n        \"endpoints\": null\n    }\n    </pre>\n\nIn the *apiapp.json* file you can specify an endpoint for dynamic Swagger API definition JSON, but for this tutorial you’ll use a static API definition file. For an example that uses dynamic Swagger generation, see [Configure a Web API project as an API app](app-service-dotnet-create-api-app-visual-studio.md).\n\n## Add Swagger static API definition\nTo provide a static Swagger 2.0 API definition file, you must create a folder at the web root and place the API definition file in it.\n\n1. In VSCode, create a folder named *metadata* in the *wwwroot* folder.\n2. Right-click the new *metadata* folder and add a new file named *apiDefinition.swagger.json*. \n3. Add the following json syntax to the new file:\n\n    <pre class=\"prettyprint\">\n    {\n      \"swagger\": \"2.0\",\n      \"info\": {\n        \"version\": \"v1\",\n        \"title\": \"ContactsList\"\n      },\n      \"host\": \"MUST REPLACE THIS WITH YOUR HOST URL\",\n      \"schemes\": [\n        \"https\"\n      ],\n      \"paths\": {\n        \"/api/Contacts\": {\n          \"get\": {\n            \"tags\": [\n              \"Contacts\"\n            ],\n            \"operationId\": \"Contacts_Get\",\n            \"consumes\": [],\n            \"produces\": [\n              \"application/json\",\n              \"text/json\",\n              \"application/xml\",\n              \"text/xml\"\n            ],\n            \"responses\": {\n              \"200\": {\n                \"description\": \"OK\",\n                \"schema\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"$ref\": \"#/definitions/Contact\"\n                  }\n                }\n              }\n            },\n            \"deprecated\": false\n          },\n          \"post\": {\n            \"tags\": [\n              \"Contacts\"\n            ],\n            \"operationId\": \"Contacts_Post\",\n            \"consumes\": [\n              \"application/json\",\n              \"text/json\",\n              \"application/xml\",\n              \"text/xml\",\n              \"application/x-www-form-urlencoded\"\n            ],\n            \"produces\": [\n              \"application/json\",\n              \"text/json\",\n              \"application/xml\",\n              \"text/xml\"\n            ],\n            \"parameters\": [\n              {\n                \"name\": \"contact\",\n                \"in\": \"body\",\n                \"required\": true,\n                \"schema\": {\n                  \"$ref\": \"#/definitions/Contact\"\n                }\n              }\n            ],\n            \"responses\": {\n              \"200\": {\n                \"description\": \"OK\",\n                \"schema\": {\n                  \"$ref\": \"#/definitions/Object\"\n                }\n              }\n            },\n            \"deprecated\": false\n          }\n        }\n      },\n      \"definitions\": {\n        \"Contact\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"Id\": {\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n            },\n            \"Name\": {\n              \"type\": \"string\"\n            },\n            \"EmailAddress\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"Object\": {\n          \"type\": \"object\",\n          \"properties\": {}\n        }\n      }\n    }\n    </pre>\n\nLater in this tutorial, you will replace the above host URL placeholder string with your Azure host URL that you  will create and copy later.\n\n## Create an API app in the Azure preview Portal\n\n> [AZURE.NOTE] To complete this tutorial, you need a Microsoft Azure account. If you don't have an account, you can [sign up for a free trial](/pricing/free-trial/) or [activate your MSDN subscriber benefits](/pricing/member-offers/msdn-benefits-details/). You can also try for free the [App Service App Samples](http://tryappservice.azure.com).\n\n1. Log in to the [Azure preview portal](https://portal.azure.com).\n\n2. Click **NEW** at the top left of the portal.\n\n3. Click **Web + Mobile > API App**.\n\n    ![Azure New API App](./media/app-service-create-aspnet-api-app-using-vscode/09-azure-newapiapp.png)\n\n4. Enter a value for **Name**, such as ContactsList.\n\n5. Select an App Service plan or create a new one. If you create a new plan, select the pricing tier, location, and other options.\n\n    ![Azure New API App Blade](./media/app-service-create-aspnet-api-app-using-vscode/10-azure-newappblade.png)\n\n6. Click **Create**.\n\n    ![API App Blade](./media/app-service-create-aspnet-api-app-using-vscode/11-azure-apiappblade.png)\n\n    If you left the **Pin to Startboard** check box selected when creating the app, you can easily locate the app by clicking **Home** or **Browse**. If you cleared the checkbox, click **Notifications** on the left to see the API app creation status, and click the notification to go to the blade for the new API app.\n\n7. Click **Settings > Application Settings**.\n\n8. Set the Access level to **Public (anonymous)**.\n\n9. Click **Save**.\n\n    ![Azure App Settings](./media/app-service-create-aspnet-api-app-using-vscode/12-azure-appsettings.png)\n\n## Enable Git publishing from the new API app\n\nGit is a distributed version control system that you can use to deploy your Azure Website. You'll store the code you write for your API app in a local Git repository, and you'll deploy your code to Azure by pushing to a remote repository. This method of deployment is a feature of App Service web apps that you can use in an API app because API apps are based on web apps: an API app in Azure App Service is a web app with additional features for hosting web services.  \n\nIn the portal you manage the features specific to API apps in the **API App** blade, and you manage the features that are shared with web apps in the **API App Host** blade. So in this section you go to the **API App Host** blade to configure the Git deployment feature.\n\n1. In the API App blade, click **API App host**.\n\n    ![Azure API App Host](./media/app-service-create-aspnet-api-app-using-vscode/13-azure-apiapphost.png)\n\n2. Find the **Deployment** section of the **API App** blade and click **Set up continuous deployment**. You may need to scroll down to see this part of the blade.\n\n    ![Azure API App Host](./media/app-service-create-aspnet-api-app-using-vscode/14-azure-deployment.png)\n\n3. Click **Choose Source > Local Git Repository**.\n\n5. Click **OK**.\n\n    ![Azure Local Git Respository](./media/app-service-create-aspnet-api-app-using-vscode/15-azure-localrepository.png)\n\n6. If you have have not previously set up deployment credentials for publishing an API app or other App Service app, set them up now:\n\n    * Click **Set deployment credentials**.\n\n    * Create a user name and password.  You'll need this password later when setting up Git.\n\n    * Click **Save**.\n\n    ![Azure Deployment Credentials](./media/app-service-create-aspnet-api-app-using-vscode/16-azure-credentials.png)\n\n7. In the **API App Host** blade, click **Settings > Properties**. The URL of the remote Git repository that you'll deploy to is shown under \"GIT URL\".\n\n8. Copy the **GIT URL** for use later in the tutorial.\n\n    ![Azure Git URL](./media/app-service-create-aspnet-api-app-using-vscode/17-azure-giturl.png)\n\n9. Additionally, in the **API APP** blade, copy the **URL** that you will use to update the \"host\" value in the *apiDefinition.swagger.json* file.\n\n    ![Azure URL](./media/app-service-create-aspnet-api-app-using-vscode/18-azure-url.png)\n\n10. In VSCode, open the *apiDefinition.swagger.json* file and replace the host value \"MUST REPLACE THIS WITH YOUR HOST URL\" with the **URL** you copied in the step above.\n11. Also, remove the \"https://\" characters from the beginning of the host value.\n12. Save your changes to the *apiDefinition.swagger.json* file.\n\n## Publish your API app to Azure App Service\n\nIn this section you create a local Git repository and push from that repository to Azure in order to deploy your sample application to the API app running in Azure App Service.\n\n1. In VSCode on the left navigation bar, select the Git option.\n2. If Git is not already installed, install it by choosing one of the provided links ([Chocolatey](https://chocolatey.org/packages/git) or [git-scm.com](http://git-scm.com/downloads)). If you are new to Git, choose **git-scm.com** and select the option to use Git with GitBash from the Windows Command Prompt. \n3. Once Git is installed, restart VSCode and select the Git option on the left bar.\n4. In VSCode, select **Initialize git repository** to make sure your workspace is under git source control. \n\n    ![Initialize Git](./media/app-service-create-aspnet-api-app-using-vscode/19-initgit.png)\n\n5. \n6. Add a commit message and select the **Commit All** check.\n\n    ![Git Commit All](./media/app-service-create-aspnet-api-app-using-vscode/20-git-commit.png)\n\n6. Find and open **GitBash**. As an alternative, you can use the Windows Command Prompt.\n7. In **GitBash**, change folders to your VSCode project folder. For instance:\n\n    <pre class=\"prettyprint\">\n    cd c:\\VSCodeProjects\\ContactsList\n    </pre>\n\n7. Create a remote reference for pushing updates to the web app (API app host) you created previously, using the Git URL (ending in \".git\") that you copied earlier:\n\n    <pre class=\"prettyprint\">\n    git remote add azure [URL for remote repository]\n    </pre>\n\n8. Push your changes to Azure by entering the following command:\n\n    <pre class=\"prettyprint\">\n    git push azure master\n    </pre>\n\n    You are prompted for the password you created earlier. **Note: Your password will not be visible.**\n\n    The output from the above command ends with a message that deployment is successful:\n\n    <pre class=\"prettyprint\">\n    remote: Deployment successful.\n    To https://user@testsite.scm.azurewebsites.net/testsite.git\n    [new branch]      master -> master\n    </pre>\n\n> [AZURE.NOTE] If you make changes to your app, you can republish by selecting the **Commit All** check in VSCode and then enter the **git push azure master** command in **GitBash**.\n\n## View the API definition in the Azure preview portal\nNow that you have deployed an API to your API app, you can see the API definition in the Azure preview portal. You'll begin by restarting the gateway, which enables Azure to recognize that an API app's API definition has changed. The gateway is a web app that handles API administration and authorization for the API apps in a resource group.\n\n1. In the Azure preview portal, go to the **API APP** blade for the API app that you created earlier, and click the **Gateway** link.\n2. In the **GATEWAY** blade, click **Restart**. You can now close this blade.\n3. In the **API APP** blade, click the **Restart**. \n4. In the **API APP** blade, click **API Definition**.<br>\n    The API Definition blade shows two methods. If you don't see the GET and POST methods right away, wait a few seconds for Azure to refresh the app. Then, click **API Definition** in the **API APP** blade.\n\n## Run the app in Azure\nIn the Azure preview portal, go to the **API APP HOST** blade for your API app and click **Browse**. Then, add **api/Contacts** to the end of your URL to view the contact details.\n\n\n## Conclusion\nIn this tutorial you learned how to create an API app in Visual Studio Code. For more information about Visual Studio Code, see [Visual Studio Code](https://code.visualstudio.com/Docs/). For information about API apps, see [What are API apps?](app-service-api-apps-why-best-platform.md)\n \n\ntest\n"
}