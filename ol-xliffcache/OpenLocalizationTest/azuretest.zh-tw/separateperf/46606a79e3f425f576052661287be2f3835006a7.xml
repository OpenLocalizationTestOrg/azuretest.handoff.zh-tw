{
  "nodes": [
    {
      "content": "Provision Hadoop, HBase, or Storm clusters on Linux in HDInsight | Microsoft Azure",
      "pos": [
        27,
        109
      ]
    },
    {
      "content": "Learn how to provision Hadoop clusters on Linux for HDInsight using the management portal, the command line, and the .NET SDK.",
      "pos": [
        128,
        254
      ]
    },
    {
      "content": "Provision Hadoop Linux clusters in HDInsight using custom options",
      "pos": [
        582,
        647
      ]
    },
    {
      "content": "In this article, you'll learn about the different ways to custom-provision a Hadoop Linux cluster on Azure HDInsight - by using the Azure portal, Azure PowerShell, Azure CLI, or the HDInsight .NET SDK.",
      "pos": [
        649,
        850
      ]
    },
    {
      "content": "What is an HDInsight cluster?",
      "pos": [
        855,
        884
      ]
    },
    {
      "content": "Have you ever wondered why we mention clusters every time we talk about Hadoop or big data?",
      "pos": [
        886,
        977
      ]
    },
    {
      "content": "That's because Hadoop enables distributed processing of large data, spread across different nodes of a cluster.",
      "pos": [
        978,
        1089
      ]
    },
    {
      "content": "The cluster has a master/worker architecture with a master node (also called a head node or name node) and any number of worker nodes (also called data nodes).",
      "pos": [
        1090,
        1249
      ]
    },
    {
      "content": "For more information, see <ph id=\"ph1\">&lt;a href=\"http://go.microsoft.com/fwlink/?LinkId=510084\" target=\"_blank\"&gt;</ph>Apache Hadoop<ph id=\"ph2\">&lt;/a&gt;</ph>.",
      "pos": [
        1250,
        1366
      ]
    },
    {
      "content": "HDInsight Cluster",
      "pos": [
        1370,
        1387
      ]
    },
    {
      "content": "An HDInsight cluster abstracts the Hadoop implementation details so that you don't need to worry about how to communicate with different nodes of a cluster.",
      "pos": [
        1408,
        1564
      ]
    },
    {
      "content": "When you provision an HDInsight cluster, you provision Azure compute resources that contain Hadoop and related applications.",
      "pos": [
        1565,
        1689
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Introduction to Hadoop in HDInsight<ept id=\"p1\">](hdinsight-hadoop-introduction.md)</ept>.",
      "pos": [
        1690,
        1788
      ]
    },
    {
      "content": "The data to be churned is stored in Azure Blob storage.",
      "pos": [
        1789,
        1844
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Use Azure Blob storage with HDInsight<ept id=\"p1\">](../hdinsight-use-blob-storage.md)</ept>.",
      "pos": [
        1845,
        1945
      ]
    },
    {
      "content": "This article provides instructions on the different ways to provision a cluster.",
      "pos": [
        1948,
        2028
      ]
    },
    {
      "content": "If you are looking at a quick-start approach to provision a cluster, see <bpt id=\"p1\">[</bpt>Get Started with Azure HDInsight on Linux<ept id=\"p1\">](../hdinsight-hadoop-linux-get-started.md)</ept>.",
      "pos": [
        2029,
        2188
      ]
    },
    {
      "content": "Prerequisites",
      "pos": [
        2192,
        2205
      ]
    },
    {
      "content": "Before you begin this article, you must have the following:",
      "pos": [
        2209,
        2268
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>An Azure subscription<ept id=\"p1\">**</ept>.",
      "pos": [
        2272,
        2298
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Get Azure free trial<ept id=\"p1\">](http://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/)</ept>.",
      "pos": [
        2299,
        2429
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Secure Shell (SSH) keys<ept id=\"p1\">**</ept>.",
      "pos": [
        2432,
        2460
      ]
    },
    {
      "content": "If you want to remote into a Linux cluster by using SSH with a key instead of a password.",
      "pos": [
        2461,
        2550
      ]
    },
    {
      "content": "Using a key is the recommended method as it is more secure.",
      "pos": [
        2551,
        2610
      ]
    },
    {
      "content": "For instructions on how to generate SSH keys, refer to the following articles:",
      "pos": [
        2611,
        2689
      ]
    },
    {
      "pos": [
        2697,
        2833
      ],
      "content": "From a Linux computer - <bpt id=\"p1\">[</bpt>Use SSH with Linux-based HDInsight (Hadoop) from Linux, Unix, or OS X<ept id=\"p1\">](hdinsight-hadoop-linux-use-ssh-unix.md)</ept>."
    },
    {
      "pos": [
        2841,
        2969
      ],
      "content": "From a Windows computer - <bpt id=\"p1\">[</bpt>Use SSH with Linux-based HDInsight (Hadoop) from Windows<ept id=\"p1\">](hdinsight-hadoop-linux-use-ssh-windows.md)</ept>."
    },
    {
      "pos": [
        2974,
        3021
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"configuration\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Configuration options"
    },
    {
      "content": "Additional storage",
      "pos": [
        3027,
        3045
      ]
    },
    {
      "content": "During configuration, you must specify an Azure Blob storage account and a default container.",
      "pos": [
        3047,
        3140
      ]
    },
    {
      "content": "This is used as the default storage location by the cluster.",
      "pos": [
        3141,
        3201
      ]
    },
    {
      "content": "Optionally, you can specify additional blobs that will also be associated with your cluster.",
      "pos": [
        3202,
        3294
      ]
    },
    {
      "pos": [
        3297,
        3430
      ],
      "content": "For more information on using secondary blob stores, see <bpt id=\"p1\">[</bpt>Using Azure Blob storage with HDInsight<ept id=\"p1\">](../hdinsight-use-blob-storage.md)</ept>."
    },
    {
      "content": "Metastore",
      "pos": [
        3437,
        3446
      ]
    },
    {
      "content": "The metastore contains information about Hive tables, partitions, schemas, columns, etc. This information is used by Hive to locate where data is stored in Hadoop Distributed File System (HDFS), or Azure Blob storage for HDInsight.",
      "pos": [
        3448,
        3679
      ]
    },
    {
      "content": "By default, Hive uses an embedded database to store this information.",
      "pos": [
        3680,
        3749
      ]
    },
    {
      "content": "When provisioning an HDInsight cluster, you can specify a SQL database that will contain the metastore for Hive.",
      "pos": [
        3751,
        3863
      ]
    },
    {
      "content": "This allows the metadata information to be preserved when you delete a cluster, as it is stored externally in the SQL database.",
      "pos": [
        3864,
        3991
      ]
    },
    {
      "content": "For instructions on how to create a SQL database in Azure, see <bpt id=\"p1\">[</bpt>Create your first Azure SQL Database<ept id=\"p1\">](sql-database-get-started.md)</ept>.",
      "pos": [
        3992,
        4123
      ]
    },
    {
      "content": "Customize clusters using Script action",
      "pos": [
        4129,
        4167
      ]
    },
    {
      "content": "You can install additional components or customize cluster configuration by using scripts during provisioning.",
      "pos": [
        4169,
        4279
      ]
    },
    {
      "content": "Such scripts are invoked via <bpt id=\"p1\">**</bpt>Script Action<ept id=\"p1\">**</ept>, which is a configuration option that can be used from the preview portal, HDInsight Windows PowerShell cmdlets, or the HDInsight .NET SDK.",
      "pos": [
        4280,
        4466
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Customize HDInsight cluster using Script Action<ept id=\"p1\">](hdinsight-hadoop-customize-cluster-linux.md)</ept>.",
      "pos": [
        4467,
        4588
      ]
    },
    {
      "content": "Use Azure virtual networks",
      "pos": [
        4595,
        4621
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>Azure Virtual Network<ept id=\"p1\">](http://azure.microsoft.com/documentation/services/virtual-network/)</ept> allows you to create a secure, persistent network containing the resources you need for your solution.",
      "pos": [
        4623,
        4817
      ]
    },
    {
      "content": "A virtual network allows you to:",
      "pos": [
        4818,
        4850
      ]
    },
    {
      "content": "Connect cloud resources together in a private network (cloud-only).",
      "pos": [
        4854,
        4921
      ]
    },
    {
      "content": "diagram of cloud-only configuration",
      "pos": [
        4929,
        4964
      ]
    },
    {
      "content": "Connect your cloud resources to your local data-center network (site-to-site or point-to-site) by using a virtual private network (VPN).",
      "pos": [
        5050,
        5186
      ]
    },
    {
      "content": "Site-to-site configuration allows you to connect multiple resources from your data center to the Azure virtual network by using a hardware VPN or the Routing and Remote Access Service.",
      "pos": [
        5192,
        5376
      ]
    },
    {
      "content": "diagram of site-to-site configuration",
      "pos": [
        5384,
        5421
      ]
    },
    {
      "content": "Point-to-site configuration allows you to connect a specific resource to the Azure virtual network by using a software VPN.",
      "pos": [
        5511,
        5634
      ]
    },
    {
      "content": "diagram of point-to-site configuration",
      "pos": [
        5642,
        5680
      ]
    },
    {
      "pos": [
        5767,
        5941
      ],
      "content": "For more information on Virtual Network features, benefits, and capabilities, see the <bpt id=\"p1\">[</bpt>Azure Virtual Network overview<ept id=\"p1\">](http://msdn.microsoft.com/library/azure/jj156007.aspx)</ept>."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> You must create the Azure virtual network before provisioning a cluster.",
      "pos": [
        5945,
        6030
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>How to create a Virtual Network<ept id=\"p1\">](virtual-networks-create-vnet.md)</ept>.",
      "pos": [
        6031,
        6124
      ]
    },
    {
      "content": "Azure HDInsight only supports location-based Virtual Networks, and does not currently work with Affinity Group-based Virtual Networks.",
      "pos": [
        6129,
        6263
      ]
    },
    {
      "content": "Use Azure PowerShell cmdlet Get-AzureVNetConfig to check whether an existing Azure virtual network is location-based.",
      "pos": [
        6264,
        6381
      ]
    },
    {
      "content": "If your virtual network is not location-based, you have the following options:",
      "pos": [
        6382,
        6460
      ]
    },
    {
      "content": "Export the existing Virtual Network configuration and then create a new Virtual Network.",
      "pos": [
        6467,
        6555
      ]
    },
    {
      "content": "All new Virtual Networks are by default, location-based.",
      "pos": [
        6556,
        6612
      ]
    },
    {
      "content": "Migrate to a location-based Virtual Network.",
      "pos": [
        6617,
        6661
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Migrate existing services to regional scope<ept id=\"p1\">](http://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/)</ept>.",
      "pos": [
        6663,
        6804
      ]
    },
    {
      "content": "It is highly recommended to designate a single subnet for one cluster.",
      "pos": [
        6809,
        6879
      ]
    },
    {
      "content": "Currently (8/25/2015,) you can only provision one Linux-based cluster in an Azure Virtual Network.",
      "pos": [
        6884,
        6982
      ]
    },
    {
      "pos": [
        6988,
        7060
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"options\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Options for provisioning an HDInsight Linux cluster"
    },
    {
      "content": "You can provision an HDInsight Hadoop Linux cluster from a Linux computer as well as a Windows-based computer.",
      "pos": [
        7062,
        7172
      ]
    },
    {
      "content": "The following table provides information on the provisioning options available from the different operating systems, and links to instructions for each.",
      "pos": [
        7173,
        7325
      ]
    },
    {
      "content": "Provision Linux clusters from a computer running this OS| Using the Azure portal | Using Azure PowerShell | Using the .NET SDK",
      "pos": [
        7327,
        7453
      ]
    },
    {
      "content": "-----------------| ------------------------| -------------------| ---------- | ---------",
      "pos": [
        7454,
        7542
      ]
    },
    {
      "content": "Linux| Click <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](#portal)</ept> | Not applicable | Not applicable",
      "pos": [
        7543,
        7605
      ]
    },
    {
      "content": "Windows | Click <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](#portal)</ept> | Click <bpt id=\"p2\">[</bpt>here<ept id=\"p2\">](#powershell)</ept> | Click <bpt id=\"p3\">[</bpt>here<ept id=\"p3\">](#sdk)</ept>",
      "pos": [
        7606,
        7686
      ]
    },
    {
      "pos": [
        7692,
        7734
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"portal\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Using the Azure portal"
    },
    {
      "content": "HDInsight clusters use an Azure Blob storage container as the default file system.",
      "pos": [
        7736,
        7818
      ]
    },
    {
      "content": "An Azure Storage account located in the same datacenter is required before you can create an HDInsight cluster.",
      "pos": [
        7819,
        7930
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Use Azure Blob storage with HDInsight<ept id=\"p1\">](../hdinsight-use-blob-storage.md)</ept>.",
      "pos": [
        7931,
        8031
      ]
    },
    {
      "content": "For details on creating an Azure Storage account, see <bpt id=\"p1\">[</bpt>How to Create a Storage Account<ept id=\"p1\">](../storage-create-storage-account.md)</ept>.",
      "pos": [
        8032,
        8158
      ]
    },
    {
      "pos": [
        8163,
        8314
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Currently, only the <bpt id=\"p1\">**</bpt>Southeast Asia<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>North Europe<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>East US<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>South Central US<ept id=\"p4\">**</ept> regions can host HDInsight Linux clusters."
    },
    {
      "content": "To create an HDInsight cluster",
      "pos": [
        8318,
        8348
      ]
    },
    {
      "pos": [
        8355,
        8419
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure Preview Portal<ept id=\"p1\">](https://portal.azure.com)</ept>."
    },
    {
      "pos": [
        8423,
        8493
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>NEW<ept id=\"p1\">**</ept>, Click <bpt id=\"p2\">**</bpt>Data Analytics<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>HDInsight<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Creating a new cluster in the Azure Preview Portal",
      "pos": [
        8501,
        8551
      ]
    },
    {
      "content": "Enter a <bpt id=\"p1\">**</bpt>Cluster Name<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Hadoop<ept id=\"p2\">**</ept> for the <bpt id=\"p3\">**</bpt>Cluster Type<ept id=\"p3\">**</ept>, and from the <bpt id=\"p4\">**</bpt>Cluster Operating System<ept id=\"p4\">**</ept> drop-down, select <bpt id=\"p5\">**</bpt>Ubuntu<ept id=\"p5\">**</ept>.",
      "pos": [
        8685,
        8826
      ]
    },
    {
      "content": "A green check will appear beside the cluster name if it is available.",
      "pos": [
        8827,
        8896
      ]
    },
    {
      "pos": [
        9166,
        9306
      ],
      "content": "If you have more than one subscription, click the <bpt id=\"p1\">**</bpt>Subscription<ept id=\"p1\">**</ept> entry to select the Azure subscription that will be used for the cluster."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Resource Group<ept id=\"p1\">**</ept> to see a list of existing resource groups and then select the one to create the cluster in.",
      "pos": [
        9311,
        9427
      ]
    },
    {
      "content": "Or, you can click <bpt id=\"p1\">**</bpt>Create New<ept id=\"p1\">**</ept> and then enter the name of the new resource group.",
      "pos": [
        9428,
        9511
      ]
    },
    {
      "content": "A green check will appear to indicate if the new group name is available.",
      "pos": [
        9512,
        9585
      ]
    },
    {
      "pos": [
        9593,
        9692
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> This entry will default to one of your existing resource groups, if any are available."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Credentials<ept id=\"p1\">**</ept> and then enter a password for the admin user.",
      "pos": [
        9697,
        9764
      ]
    },
    {
      "content": "You must also enter an <bpt id=\"p1\">**</bpt>SSH Username<ept id=\"p1\">**</ept> and either a <bpt id=\"p2\">**</bpt>PASSWORD<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>PUBLIC KEY<ept id=\"p3\">**</ept>, which will be used to authenticate the SSH user.",
      "pos": [
        9765,
        9898
      ]
    },
    {
      "content": "Using a public key is the recommended approach.",
      "pos": [
        9899,
        9946
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Select<ept id=\"p1\">**</ept> at the bottom to save the credentials configuration.",
      "pos": [
        9947,
        10016
      ]
    },
    {
      "content": "Provide cluster credentials",
      "pos": [
        10024,
        10051
      ]
    },
    {
      "content": "For more information on using SSH with HDInsight, see one of the following articles:",
      "pos": [
        10163,
        10247
      ]
    },
    {
      "content": "Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X",
      "pos": [
        10256,
        10326
      ]
    },
    {
      "content": "Use SSH with Linux-based Hadoop on HDInsight from Windows",
      "pos": [
        10375,
        10432
      ]
    },
    {
      "pos": [
        10482,
        10575
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Data Source<ept id=\"p1\">**</ept> to choose an existing data source for the cluster, or create a new one."
    },
    {
      "content": "Data source blade",
      "pos": [
        10583,
        10600
      ]
    },
    {
      "content": "Currently you can select an Azure Storage Account as the data source for an HDInsight cluster.",
      "pos": [
        10718,
        10812
      ]
    },
    {
      "content": "Use the following to understand the entries on the <bpt id=\"p1\">**</bpt>Data Source<ept id=\"p1\">**</ept> blade.",
      "pos": [
        10813,
        10886
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Selection Method<ept id=\"p1\">**</ept>: Set this to <bpt id=\"p2\">**</bpt>From all subscriptions<ept id=\"p2\">**</ept> to enable browsing of storage accounts from all your subscriptions.",
      "pos": [
        10894,
        11022
      ]
    },
    {
      "content": "Set this to <bpt id=\"p1\">**</bpt>Access Key<ept id=\"p1\">**</ept> if you want to enter the <bpt id=\"p2\">**</bpt>Storage Name<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Access Key<ept id=\"p3\">**</ept> of an existing storage account.",
      "pos": [
        11023,
        11142
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Select storage account / Create New<ept id=\"p1\">**</ept>: Click <bpt id=\"p2\">**</bpt>Select storage account<ept id=\"p2\">**</ept> to browse and select an existing storage account you want to associate with the cluster.",
      "pos": [
        11150,
        11312
      ]
    },
    {
      "content": "Or, click <bpt id=\"p1\">**</bpt>Create New<ept id=\"p1\">**</ept> to create a new storage account.",
      "pos": [
        11313,
        11370
      ]
    },
    {
      "content": "Use the field that appears to enter the name of the storage account.",
      "pos": [
        11371,
        11439
      ]
    },
    {
      "content": "A green check will appear if the name is available.",
      "pos": [
        11440,
        11491
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Choose Default Container<ept id=\"p1\">**</ept>: Use this to enter the name of the default container to use for the cluster.",
      "pos": [
        11499,
        11604
      ]
    },
    {
      "content": "While you can enter any name here, we recommend using the same name as the cluster so that you can easily recognize that the container is used for this specific cluster.",
      "pos": [
        11605,
        11774
      ]
    },
    {
      "pos": [
        11782,
        11872
      ],
      "content": "<bpt id=\"p1\">**</bpt>Location<ept id=\"p1\">**</ept>: The geographic region that the storage account is in, or will be created in."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.IMPORTANT]</ph> Selecting the location for the default data source will also set the location of the HDInsight cluster.",
      "pos": [
        11884,
        12005
      ]
    },
    {
      "content": "The cluster and default data source must be located in the same region.",
      "pos": [
        12006,
        12077
      ]
    },
    {
      "pos": [
        12083,
        12138
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Select<ept id=\"p1\">**</ept> to save the data source configuration."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Node Pricing Tiers<ept id=\"p1\">**</ept> to display information about the nodes that will be created for this cluster.",
      "pos": [
        12143,
        12249
      ]
    },
    {
      "content": "Set the number of worker nodes that you need for the cluster.",
      "pos": [
        12250,
        12311
      ]
    },
    {
      "content": "The estimated cost of the cluster will be shown within the blade.",
      "pos": [
        12312,
        12377
      ]
    },
    {
      "content": "Node pricing tiers blade",
      "pos": [
        12385,
        12409
      ]
    },
    {
      "pos": [
        12525,
        12581
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Select<ept id=\"p1\">**</ept> to save the node pricing configuration."
    },
    {
      "pos": [
        12586,
        12928
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Optional Configuration<ept id=\"p1\">**</ept> to select the cluster version, as well as configure other optional settings such as joining a <bpt id=\"p2\">**</bpt>Virtual Network<ept id=\"p2\">**</ept>, setting up an <bpt id=\"p3\">**</bpt>External Metastore<ept id=\"p3\">**</ept> to hold data for Hive and Oozie, use Script Actions to customize a cluster to install custom components, or use additional storage accounts with the cluster."
    },
    {
      "content": "Click the <bpt id=\"p1\">**</bpt>HDInsight Version<ept id=\"p1\">**</ept> drop-down and select the version you want to use for the cluster.",
      "pos": [
        12936,
        13033
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>HDInsight cluster versions<ept id=\"p1\">](hdinsight-component-versioning.md)</ept>.",
      "pos": [
        13034,
        13124
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>New HDInsight Cluster<ept id=\"p1\">**</ept> blade, ensure that <bpt id=\"p2\">**</bpt>Pin to Startboard<ept id=\"p2\">**</ept> is selected, and then click <bpt id=\"p3\">**</bpt>Create<ept id=\"p3\">**</ept>.",
      "pos": [
        15479,
        15592
      ]
    },
    {
      "content": "This will create the cluster and add a tile for it to the Startboard of your Azure Portal.",
      "pos": [
        15593,
        15683
      ]
    },
    {
      "content": "The icon will indicate that the cluster is provisioning, and will change to display the HDInsight icon once provisioning has completed.",
      "pos": [
        15684,
        15819
      ]
    },
    {
      "content": "While provisioning",
      "pos": [
        15827,
        15845
      ]
    },
    {
      "content": "Provisioning complete",
      "pos": [
        15848,
        15869
      ]
    },
    {
      "content": "Provisioning indicator on startboard",
      "pos": [
        15931,
        15967
      ]
    },
    {
      "content": "Provisioned cluster tile",
      "pos": [
        16041,
        16065
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> It will take some time for the cluster to be created, usually around 15 minutes.",
      "pos": [
        16143,
        16236
      ]
    },
    {
      "content": "Use the tile on the Startboard, or the <bpt id=\"p1\">**</bpt>Notifications<ept id=\"p1\">**</ept> entry on the left of the page to check on the provisioning process.",
      "pos": [
        16237,
        16361
      ]
    },
    {
      "content": "Once the provisioning completes, click the tile for the cluster from the Startboard to launch the cluster blade.",
      "pos": [
        16367,
        16479
      ]
    },
    {
      "content": "The cluster blade provides essential information about the cluser such as the name, the resource group it belongs to, the location, the operating system, URL for the cluster dashboard, etc.",
      "pos": [
        16480,
        16669
      ]
    },
    {
      "content": "Cluster blade",
      "pos": [
        16677,
        16690
      ]
    },
    {
      "pos": [
        16791,
        16893
      ],
      "content": "Use the following to understand the icons at the top of this blade, and in the <bpt id=\"p1\">**</bpt>Essentials<ept id=\"p1\">**</ept> section:"
    },
    {
      "pos": [
        16901,
        17063
      ],
      "content": "<bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>All Settings<ept id=\"p2\">**</ept>: Displays the <bpt id=\"p3\">**</bpt>Settings<ept id=\"p3\">**</ept> blade for the cluster, which allows you to access detailed configuration information for the cluster."
    },
    {
      "pos": [
        17071,
        17223
      ],
      "content": "<bpt id=\"p1\">**</bpt>Dashboard<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Cluster Dashboard<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>URL<ept id=\"p3\">**</ept>: These are all ways to access the cluster dashboard, which is a Web portal to run jobs on the cluster."
    },
    {
      "pos": [
        17231,
        17300
      ],
      "content": "<bpt id=\"p1\">**</bpt>Secure Shell<ept id=\"p1\">**</ept>: Information needed to access the cluster using SSH."
    },
    {
      "pos": [
        17308,
        17350
      ],
      "content": "<bpt id=\"p1\">**</bpt>Delete<ept id=\"p1\">**</ept>: Deletes the HDInsight cluster."
    },
    {
      "pos": [
        17358,
        17553
      ],
      "content": "<bpt id=\"p1\">**</bpt>Quickstart<ept id=\"p1\">**</ept> (<ph id=\"ph1\">![</ph>cloud and thunderbolt icon = quickstart<ph id=\"ph2\">](./media/hdinsight-hadoop-provision-linux-clusters/quickstart.png)</ph>): Displays information that will help you get started using HDInsight."
    },
    {
      "pos": [
        17561,
        17762
      ],
      "content": "<bpt id=\"p1\">**</bpt>Users<ept id=\"p1\">**</ept> (<ph id=\"ph1\">![</ph>users icon<ph id=\"ph2\">](./media/hdinsight-hadoop-provision-linux-clusters/users.png)</ph>): Allows you to set permissions for <bpt id=\"p2\">_</bpt>portal management<ept id=\"p2\">_</ept> of this cluster for other users on your Azure subscription."
    },
    {
      "pos": [
        17774,
        17960
      ],
      "content": "<ph id=\"ph1\">[AZURE.IMPORTANT]</ph> This <bpt id=\"p1\">_</bpt>only<ept id=\"p1\">_</ept> affects access and permissions to this cluster in the Azure preview portal, and has no effect on who can connect to or submit jobs to the HDInsight cluster."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Tags<ept id=\"p1\">**</ept> (<ph id=\"ph1\">![</ph>tag icon<ph id=\"ph2\">](./media/hdinsight-hadoop-provision-linux-clusters/tags.png)</ph>): Tags allows you to set key/value pairs to define a custom taxonomy of your cloud services.",
      "pos": [
        17968,
        18142
      ]
    },
    {
      "content": "For example, you may create a key named <bpt id=\"p1\">__</bpt>project<ept id=\"p1\">__</ept>, and then use a common value for all services associated with a specific project.",
      "pos": [
        18143,
        18276
      ]
    },
    {
      "pos": [
        18284,
        18330
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"powershell\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Using Azure PowerShell"
    },
    {
      "content": "Azure PowerShell is a powerful scripting environment that you can use to control and automate the deployment and management of your workloads in Azure.",
      "pos": [
        18331,
        18482
      ]
    },
    {
      "content": "This section provides instructions on how to provision an HDInsight cluster by using Azure PowerShell.",
      "pos": [
        18483,
        18585
      ]
    },
    {
      "content": "For information on configuring a workstation to run HDInsight Windows PowerShell cmdlets, see <bpt id=\"p1\">[</bpt>Install and configure Azure PowerShell<ept id=\"p1\">](../install-configure-powershell.md)</ept>.",
      "pos": [
        18586,
        18757
      ]
    },
    {
      "content": "For more information on using Azure PowerShell with HDInsight, see <bpt id=\"p1\">[</bpt>Administer HDInsight using PowerShell<ept id=\"p1\">](hdinsight-administer-use-powershell.md)</ept>.",
      "pos": [
        18758,
        18905
      ]
    },
    {
      "content": "For the list of the HDInsight Windows PowerShell cmdlets, see <bpt id=\"p1\">[</bpt>HDInsight cmdlet reference<ept id=\"p1\">](https://msdn.microsoft.com/library/azure/dn858087.aspx)</ept>.",
      "pos": [
        18906,
        19053
      ]
    },
    {
      "content": "The following procedures are needed to provision an HDInsight cluster by using Azure PowerShell:",
      "pos": [
        19056,
        19152
      ]
    },
    {
      "content": "Create an Azure resource group",
      "pos": [
        19156,
        19186
      ]
    },
    {
      "content": "Create an Azure Storage account",
      "pos": [
        19189,
        19220
      ]
    },
    {
      "content": "Create an Azure Blob container",
      "pos": [
        19223,
        19253
      ]
    },
    {
      "content": "Create an HDInsight cluster",
      "pos": [
        19256,
        19283
      ]
    },
    {
      "content": "The two most important parameters that you must set to provision Linux clusters are the ones where you specify the OS type and the SSH user details:",
      "pos": [
        19285,
        19433
      ]
    },
    {
      "pos": [
        19437,
        19498
      ],
      "content": "Make sure you specify the <bpt id=\"p1\">**</bpt>-OSType<ept id=\"p1\">**</ept> parameter as <bpt id=\"p2\">**</bpt>Linux<ept id=\"p2\">**</ept>."
    },
    {
      "content": "To use SSH for remote sessions on the clusters, you can specify either SSH user password or the SSH public key.",
      "pos": [
        19501,
        19612
      ]
    },
    {
      "content": "If you specify both the SSH user password and the SSH public key, the key will be ignored.",
      "pos": [
        19613,
        19703
      ]
    },
    {
      "content": "If you want to use the SSH key for remote sessions, you must specify a blank SSH password when prompted for one.",
      "pos": [
        19704,
        19816
      ]
    },
    {
      "content": "For more information on using SSH with HDInsight, see one of the following articles:",
      "pos": [
        19817,
        19901
      ]
    },
    {
      "content": "Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X",
      "pos": [
        19910,
        19980
      ]
    },
    {
      "content": "Use SSH with Linux-based Hadoop on HDInsight from Windows",
      "pos": [
        20029,
        20086
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> The values you specify for <bpt id=\"p1\">**</bpt>$clusterCredentials<ept id=\"p1\">**</ept> are used to create the Hadoop user account for the cluster.",
      "pos": [
        23613,
        23736
      ]
    },
    {
      "content": "You will use this account to connect to the cluster.",
      "pos": [
        23737,
        23789
      ]
    },
    {
      "content": "The values you specify for the <bpt id=\"p1\">**</bpt>$sshCredentials<ept id=\"p1\">**</ept> are used to create the SSH user for the cluster.",
      "pos": [
        23790,
        23889
      ]
    },
    {
      "content": "You use this account to start a remote SSH session on the cluster and run jobs.",
      "pos": [
        23890,
        23969
      ]
    },
    {
      "content": "If you use the Quick Create option from the Azure portal to provision a cluster, the default Hadoop user name is \"admin\" and default SSH user name is \"hdiuser\".",
      "pos": [
        23970,
        24130
      ]
    },
    {
      "content": "It can take several minutes before the cluster provisioning finishes.",
      "pos": [
        24132,
        24201
      ]
    },
    {
      "content": "HDI.CLI.Provision",
      "pos": [
        24205,
        24222
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"sdk\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Using the HDInsight .NET SDK",
      "pos": [
        24252,
        24297
      ]
    },
    {
      "content": "The HDInsight .NET SDK provides .NET client libraries that make it easier to work with HDInsight from a .NET Framework application.",
      "pos": [
        24298,
        24429
      ]
    },
    {
      "content": "Follow the instructions below to create a Visual Studio console application and paste the code for creating a cluster.",
      "pos": [
        24430,
        24548
      ]
    },
    {
      "content": "To create a Visual Studio console application",
      "pos": [
        24552,
        24597
      ]
    },
    {
      "content": "Open Visual Studio 2013.",
      "pos": [
        24604,
        24628
      ]
    },
    {
      "pos": [
        24633,
        24699
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        24704,
        24762
      ],
      "content": "From <bpt id=\"p1\">**</bpt>New Project<ept id=\"p1\">**</ept>, type or select the following values:"
    },
    {
      "pos": [
        24768,
        26158
      ],
      "content": "<table style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse;\">\n <tr>\n <th style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; width:90px; padding-left:5px; padding-right:5px;\">Property</th>\n <th style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; width:90px; padding-left:5px; padding-right:5px;\">Value</th></tr>\n <tr>\n <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Category</td>\n <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px; padding-right:5px;\">Templates/Visual C#/Windows</td></tr>\n <tr>\n <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Template</td>\n <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Console Application</td></tr>\n <tr>\n <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Name</td>\n <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">CreateHDICluster</td></tr>\n </table>",
      "leadings": [
        "",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   ",
        "   "
      ],
      "nodes": [
        {
          "content": "Property",
          "pos": [
            264,
            272
          ]
        },
        {
          "content": "Value",
          "pos": [
            430,
            435
          ]
        },
        {
          "content": "Category",
          "pos": [
            573,
            581
          ]
        },
        {
          "content": "Templates/Visual C#/Windows",
          "pos": [
            727,
            754
          ]
        },
        {
          "content": "Template",
          "pos": [
            892,
            900
          ]
        },
        {
          "content": "Console Application",
          "pos": [
            1027,
            1046
          ]
        },
        {
          "content": "Name",
          "pos": [
            1184,
            1188
          ]
        },
        {
          "content": "CreateHDICluster",
          "pos": [
            1315,
            1331
          ]
        }
      ]
    },
    {
      "pos": [
        26163,
        26198
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to create the project."
    },
    {
      "content": "From the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Nuget Package Manager<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Manage Nuget Packages for Solutions<ept id=\"p3\">**</ept>.",
      "pos": [
        26203,
        26316
      ]
    },
    {
      "content": "In the Search text box within the dialog box, search for <bpt id=\"p1\">**</bpt>HDInsight<ept id=\"p1\">**</ept>.",
      "pos": [
        26317,
        26388
      ]
    },
    {
      "content": "From the results that show up, install the following:",
      "pos": [
        26389,
        26442
      ]
    },
    {
      "content": "Microsoft.Azure.Management.HDInsight",
      "pos": [
        26451,
        26487
      ]
    },
    {
      "content": "Microsoft.Azure.Management.HDInsight.Job",
      "pos": [
        26495,
        26535
      ]
    },
    {
      "pos": [
        26541,
        26658
      ],
      "content": "Search for Azure Authentication and from the results that show up, install <bpt id=\"p1\">**</bpt>Microsoft.Azure.Common.Authentication<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        26663,
        26790
      ],
      "content": "From Solution Explorer, double-click <bpt id=\"p1\">**</bpt>Program.cs<ept id=\"p1\">**</ept> to open it, paste the following code, and provide values for the variables:"
    },
    {
      "content": "Press <bpt id=\"p1\">**</bpt>F5<ept id=\"p1\">**</ept> to run the application.",
      "pos": [
        31804,
        31840
      ]
    },
    {
      "content": "A console window should open and display the status of the application.",
      "pos": [
        31841,
        31912
      ]
    },
    {
      "content": "You will also be prompted to enter your Azure account credentials.",
      "pos": [
        31913,
        31979
      ]
    },
    {
      "content": "It can take several minutes to create an HDInsight cluster.",
      "pos": [
        31980,
        32039
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"nextsteps\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Next steps",
      "pos": [
        32045,
        32078
      ]
    },
    {
      "content": "In this article, you have learned several ways to provision an HDInsight Hadoop cluster on Linux.",
      "pos": [
        32079,
        32176
      ]
    },
    {
      "content": "To learn more, see the following articles:",
      "pos": [
        32177,
        32219
      ]
    },
    {
      "pos": [
        32223,
        32367
      ],
      "content": "<bpt id=\"p1\">[</bpt>Working with HDInsight on Linux<ept id=\"p1\">](hdinsight-hadoop-linux-information.md)</ept>: Get to know the nuances of working with an HDInsight cluster on Linux."
    },
    {
      "pos": [
        32370,
        32567
      ],
      "content": "<bpt id=\"p1\">[</bpt>Manage HDInsight clusters using Ambari<ept id=\"p1\">](hdinsight-hadoop-manage-ambari.md)</ept>: Learn how to monitor and manage your Linux-based Hadoop on HDInsight cluster by using Ambari Web or the Ambari REST API."
    },
    {
      "pos": [
        32570,
        32696
      ],
      "content": "<bpt id=\"p1\">[</bpt>Use MapReduce with HDInsight<ept id=\"p1\">](hdinsight-use-mapreduce.md)</ept>: Learn about the different ways to run MapReduce jobs on a cluster."
    },
    {
      "pos": [
        32699,
        32817
      ],
      "content": "<bpt id=\"p1\">[</bpt>Use Hive with HDInsight<ept id=\"p1\">](hdinsight-use-hive.md)</ept>: Learn about the different ways of running a Hive query on a cluster."
    },
    {
      "pos": [
        32820,
        32933
      ],
      "content": "<bpt id=\"p1\">[</bpt>Use Pig with HDInsight<ept id=\"p1\">](hdinsight-use-pig.md)</ept>: Learn about the different ways of running a Pig job on a cluster."
    },
    {
      "pos": [
        32936,
        33092
      ],
      "content": "<bpt id=\"p1\">[</bpt>Use Azure Blob storage with HDInsight<ept id=\"p1\">](../hdinsight-use-blob-storage.md)</ept>: Learn how HDInsight uses Azure Blob storage to store data for HDInsight clusters."
    },
    {
      "pos": [
        33095,
        33234
      ],
      "content": "<bpt id=\"p1\">[</bpt>Upload data to HDInsight<ept id=\"p1\">](hdinsight-upload-data.md)</ept>: Learn how to work with data stored in an Azure Blob storage for an HDInsight cluster."
    },
    {
      "content": "test",
      "pos": [
        35783,
        35787
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Provision Hadoop, HBase, or Storm clusters on Linux in HDInsight | Microsoft Azure\"\n    description=\"Learn how to provision Hadoop clusters on Linux for HDInsight using the management portal, the command line, and the .NET SDK.\"\n    services=\"hdinsight\"\n    documentationCenter=\"\"\n    authors=\"nitinme\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"\n    tags=\"azure-portal\"/>\n\n<tags\n    ms.service=\"hdinsight\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.tgt_pltfrm=\"na\"\n    ms.workload=\"big-data\"\n    ms.date=\"08/21/2015\"\n    ms.author=\"nitinme\"/>\n\n\n#Provision Hadoop Linux clusters in HDInsight using custom options\n\nIn this article, you'll learn about the different ways to custom-provision a Hadoop Linux cluster on Azure HDInsight - by using the Azure portal, Azure PowerShell, Azure CLI, or the HDInsight .NET SDK.\n\n## What is an HDInsight cluster?\n\nHave you ever wondered why we mention clusters every time we talk about Hadoop or big data? That's because Hadoop enables distributed processing of large data, spread across different nodes of a cluster. The cluster has a master/worker architecture with a master node (also called a head node or name node) and any number of worker nodes (also called data nodes). For more information, see <a href=\"http://go.microsoft.com/fwlink/?LinkId=510084\" target=\"_blank\">Apache Hadoop</a>.\n\n![HDInsight Cluster][img-hdi-cluster]\n\n\nAn HDInsight cluster abstracts the Hadoop implementation details so that you don't need to worry about how to communicate with different nodes of a cluster. When you provision an HDInsight cluster, you provision Azure compute resources that contain Hadoop and related applications. For more information, see [Introduction to Hadoop in HDInsight](hdinsight-hadoop-introduction.md). The data to be churned is stored in Azure Blob storage. For more information, see [Use Azure Blob storage with HDInsight](../hdinsight-use-blob-storage.md).\n\n\nThis article provides instructions on the different ways to provision a cluster. If you are looking at a quick-start approach to provision a cluster, see [Get Started with Azure HDInsight on Linux](../hdinsight-hadoop-linux-get-started.md).\n\n**Prerequisites**\n\nBefore you begin this article, you must have the following:\n\n- **An Azure subscription**. See [Get Azure free trial](http://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).\n- **Secure Shell (SSH) keys**. If you want to remote into a Linux cluster by using SSH with a key instead of a password. Using a key is the recommended method as it is more secure. For instructions on how to generate SSH keys, refer to the following articles:\n    -  From a Linux computer - [Use SSH with Linux-based HDInsight (Hadoop) from Linux, Unix, or OS X](hdinsight-hadoop-linux-use-ssh-unix.md).\n    -  From a Windows computer - [Use SSH with Linux-based HDInsight (Hadoop) from Windows](hdinsight-hadoop-linux-use-ssh-windows.md).\n\n## <a id=\"configuration\"></a>Configuration options\n\n### Additional storage\n\nDuring configuration, you must specify an Azure Blob storage account and a default container. This is used as the default storage location by the cluster. Optionally, you can specify additional blobs that will also be associated with your cluster.\n\n\nFor more information on using secondary blob stores, see [Using Azure Blob storage with HDInsight](../hdinsight-use-blob-storage.md).\n\n\n### Metastore\n\nThe metastore contains information about Hive tables, partitions, schemas, columns, etc. This information is used by Hive to locate where data is stored in Hadoop Distributed File System (HDFS), or Azure Blob storage for HDInsight. By default, Hive uses an embedded database to store this information.\n\nWhen provisioning an HDInsight cluster, you can specify a SQL database that will contain the metastore for Hive. This allows the metadata information to be preserved when you delete a cluster, as it is stored externally in the SQL database. For instructions on how to create a SQL database in Azure, see [Create your first Azure SQL Database](sql-database-get-started.md).\n\n### Customize clusters using Script action\n\nYou can install additional components or customize cluster configuration by using scripts during provisioning. Such scripts are invoked via **Script Action**, which is a configuration option that can be used from the preview portal, HDInsight Windows PowerShell cmdlets, or the HDInsight .NET SDK. For more information, see [Customize HDInsight cluster using Script Action](hdinsight-hadoop-customize-cluster-linux.md).\n\n\n### Use Azure virtual networks\n\n[Azure Virtual Network](http://azure.microsoft.com/documentation/services/virtual-network/) allows you to create a secure, persistent network containing the resources you need for your solution. A virtual network allows you to:\n\n* Connect cloud resources together in a private network (cloud-only).\n\n    ![diagram of cloud-only configuration](./media/hdinsight-hadoop-provision-linux-clusters/hdinsight-vnet-cloud-only.png)\n\n* Connect your cloud resources to your local data-center network (site-to-site or point-to-site) by using a virtual private network (VPN).\n\n    Site-to-site configuration allows you to connect multiple resources from your data center to the Azure virtual network by using a hardware VPN or the Routing and Remote Access Service.\n\n    ![diagram of site-to-site configuration](./media/hdinsight-hadoop-provision-linux-clusters/hdinsight-vnet-site-to-site.png)\n\n    Point-to-site configuration allows you to connect a specific resource to the Azure virtual network by using a software VPN.\n\n    ![diagram of point-to-site configuration](./media/hdinsight-hadoop-provision-linux-clusters/hdinsight-vnet-point-to-site.png)\n\nFor more information on Virtual Network features, benefits, and capabilities, see the [Azure Virtual Network overview](http://msdn.microsoft.com/library/azure/jj156007.aspx).\n\n> [AZURE.NOTE] You must create the Azure virtual network before provisioning a cluster. For more information, see [How to create a Virtual Network](virtual-networks-create-vnet.md).\n>\n> Azure HDInsight only supports location-based Virtual Networks, and does not currently work with Affinity Group-based Virtual Networks. Use Azure PowerShell cmdlet Get-AzureVNetConfig to check whether an existing Azure virtual network is location-based. If your virtual network is not location-based, you have the following options:\n>\n> - Export the existing Virtual Network configuration and then create a new Virtual Network. All new Virtual Networks are by default, location-based.\n> - Migrate to a location-based Virtual Network.  See [Migrate existing services to regional scope](http://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/).\n>\n> It is highly recommended to designate a single subnet for one cluster.\n>\n> Currently (8/25/2015,) you can only provision one Linux-based cluster in an Azure Virtual Network.\n\n\n## <a id=\"options\"></a> Options for provisioning an HDInsight Linux cluster\n\nYou can provision an HDInsight Hadoop Linux cluster from a Linux computer as well as a Windows-based computer. The following table provides information on the provisioning options available from the different operating systems, and links to instructions for each.\n\nProvision Linux clusters from a computer running this OS| Using the Azure portal | Using Azure PowerShell | Using the .NET SDK\n-----------------| ------------------------| -------------------| ---------- | ---------\nLinux| Click [here](#portal) | Not applicable | Not applicable\nWindows | Click [here](#portal) | Click [here](#powershell) | Click [here](#sdk)\n\n### <a id=\"portal\"></a> Using the Azure portal\n\nHDInsight clusters use an Azure Blob storage container as the default file system. An Azure Storage account located in the same datacenter is required before you can create an HDInsight cluster. For more information, see [Use Azure Blob storage with HDInsight](../hdinsight-use-blob-storage.md). For details on creating an Azure Storage account, see [How to Create a Storage Account](../storage-create-storage-account.md).\n\n\n> [AZURE.NOTE] Currently, only the **Southeast Asia**, **North Europe**, **East US**, and **South Central US** regions can host HDInsight Linux clusters.\n\n**To create an HDInsight cluster**\n\n1. Sign in to the [Azure Preview Portal](https://portal.azure.com).\n2. Click **NEW**, Click **Data Analytics**, and then click **HDInsight**.\n\n    ![Creating a new cluster in the Azure Preview Portal](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.1.png \"Creating a new cluster in the Azure Preview Portal\")\n\n3. Enter a **Cluster Name**, select **Hadoop** for the **Cluster Type**, and from the **Cluster Operating System** drop-down, select **Ubuntu**. A green check will appear beside the cluster name if it is available.\n\n\n    > [AZURE.NOTE] To provision HBase or Storm clusters, select the approprite value for the **Cluster Type** drop-down.\n\n\n    ![Enter cluster name and type](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.2.png \"Enter cluster name and type\")\n\n4. If you have more than one subscription, click the **Subscription** entry to select the Azure subscription that will be used for the cluster.\n\n5. Click **Resource Group** to see a list of existing resource groups and then select the one to create the cluster in. Or, you can click **Create New** and then enter the name of the new resource group. A green check will appear to indicate if the new group name is available.\n\n    > [AZURE.NOTE] This entry will default to one of your existing resource groups, if any are available.\n\n6. Click **Credentials** and then enter a password for the admin user. You must also enter an **SSH Username** and either a **PASSWORD** or **PUBLIC KEY**, which will be used to authenticate the SSH user. Using a public key is the recommended approach. Click **Select** at the bottom to save the credentials configuration.\n\n    ![Provide cluster credentials](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.3.png \"Provide cluster credentials\")\n\n    For more information on using SSH with HDInsight, see one of the following articles:\n\n    * [Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X](hdinsight-hadoop-linux-use-ssh-unix.md)\n    * [Use SSH with Linux-based Hadoop on HDInsight from Windows](hdinsight-hadoop-linux-use-ssh-windows.md)\n\n\n7. Click **Data Source** to choose an existing data source for the cluster, or create a new one.\n\n    ![Data source blade](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.4.png \"Provide data source configuration\")\n\n    Currently you can select an Azure Storage Account as the data source for an HDInsight cluster. Use the following to understand the entries on the **Data Source** blade.\n\n    - **Selection Method**: Set this to **From all subscriptions** to enable browsing of storage accounts from all your subscriptions. Set this to **Access Key** if you want to enter the **Storage Name** and **Access Key** of an existing storage account.\n\n    - **Select storage account / Create New**: Click **Select storage account** to browse and select an existing storage account you want to associate with the cluster. Or, click **Create New** to create a new storage account. Use the field that appears to enter the name of the storage account. A green check will appear if the name is available.\n\n    - **Choose Default Container**: Use this to enter the name of the default container to use for the cluster. While you can enter any name here, we recommend using the same name as the cluster so that you can easily recognize that the container is used for this specific cluster.\n\n    - **Location**: The geographic region that the storage account is in, or will be created in.\n\n        > [AZURE.IMPORTANT] Selecting the location for the default data source will also set the location of the HDInsight cluster. The cluster and default data source must be located in the same region.\n\n    Click **Select** to save the data source configuration.\n\n8. Click **Node Pricing Tiers** to display information about the nodes that will be created for this cluster. Set the number of worker nodes that you need for the cluster. The estimated cost of the cluster will be shown within the blade.\n\n    ![Node pricing tiers blade](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.5.png \"Specify number of cluster nodes\")\n\n    Click **Select** to save the node pricing configuration.\n\n9. Click **Optional Configuration** to select the cluster version, as well as configure other optional settings such as joining a **Virtual Network**, setting up an **External Metastore** to hold data for Hive and Oozie, use Script Actions to customize a cluster to install custom components, or use additional storage accounts with the cluster.\n\n    * Click the **HDInsight Version** drop-down and select the version you want to use for the cluster. For more information, see [HDInsight cluster versions](hdinsight-component-versioning.md).\n\n\n    * **Virtual Network**: Select an Azure virtual network and the subnet if you want to place the cluster into a virtual network.  \n\n        ![Virtual network blade](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.6.png \"Specify virtual network details\")\n\n        >[AZURE.NOTE] Windows based HDInsight cluster can only be placed into a classical virtual network.\n\n\n    * Click **External Metastores** to specify SQL database that you want to use to save Hive and Oozie metadata associated with the cluster.\n\n        ![Custom metastores blade](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.7.png \"Specify external metastores\")\n\n        For **Use an existing SQL DB for Hive** metadata, click **Yes**, select a SQL database, and then provide the username/password for the database. Repeat these steps if you want to **Use an existing SQL DB for Oozie metadata**. Click **Select** till you are back on the **Optional Configuration** blade.\n\n        >[AZURE.NOTE] The Azure SQL database used for the metastore must allow connectivity to other Azure services, including Azure HDInsight. On the Azure SQL database dashboard, on the right side, click the server name. This is the server on which the SQL database instance is running. Once you are on the server view, click **Configure**, and then for **Azure Services**, click **Yes**, and then click **Save**.\n\n\n    * **Script Actions** if you want to use a custom script to customize a cluster, as the cluster is being created. For more information about script actions, see [Customize HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster-linux.md). On the Script Actions blade provide the details as shown in the screen capture.\n\n        ![Script action blade](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.8.png \"Specify script action\")\n\n\n    * Click **Azure Storage Keys** to specify additional storage accounts to associate with the cluster. In the **Azure Storage Keys** blade, click **Add a storage key**, and then select an existing storage account or create a new account.\n\n        ![Additional storage blade](./media/hdinsight-hadoop-provision-linux-clusters/HDI.CreateCluster.9.png \"Specify additional storage accounts\")\n\n        Click **Select** till you are back on the **New HDInsight cluster** blade.\n\n10. On the **New HDInsight Cluster** blade, ensure that **Pin to Startboard** is selected, and then click **Create**. This will create the cluster and add a tile for it to the Startboard of your Azure Portal. The icon will indicate that the cluster is provisioning, and will change to display the HDInsight icon once provisioning has completed.\n\n    | While provisioning | Provisioning complete |\n    | ------------------ | --------------------- |\n    | ![Provisioning indicator on startboard](./media/hdinsight-hadoop-provision-linux-clusters/provisioning.png) | ![Provisioned cluster tile](./media/hdinsight-hadoop-provision-linux-clusters/provisioned.png) |\n\n    > [AZURE.NOTE] It will take some time for the cluster to be created, usually around 15 minutes. Use the tile on the Startboard, or the **Notifications** entry on the left of the page to check on the provisioning process.\n\n11. Once the provisioning completes, click the tile for the cluster from the Startboard to launch the cluster blade. The cluster blade provides essential information about the cluser such as the name, the resource group it belongs to, the location, the operating system, URL for the cluster dashboard, etc.\n\n    ![Cluster blade](./media/hdinsight-hadoop-provision-linux-clusters/HDI.Cluster.Blade.png \"Cluster properties\")\n\n    Use the following to understand the icons at the top of this blade, and in the **Essentials** section:\n\n    * **Settings** and **All Settings**: Displays the **Settings** blade for the cluster, which allows you to access detailed configuration information for the cluster.\n\n    * **Dashboard**, **Cluster Dashboard**, and **URL**: These are all ways to access the cluster dashboard, which is a Web portal to run jobs on the cluster.\n\n    * **Secure Shell**: Information needed to access the cluster using SSH.\n\n    * **Delete**: Deletes the HDInsight cluster.\n\n    * **Quickstart** (![cloud and thunderbolt icon = quickstart](./media/hdinsight-hadoop-provision-linux-clusters/quickstart.png)): Displays information that will help you get started using HDInsight.\n\n    * **Users** (![users icon](./media/hdinsight-hadoop-provision-linux-clusters/users.png)): Allows you to set permissions for _portal management_ of this cluster for other users on your Azure subscription.\n\n        > [AZURE.IMPORTANT] This _only_ affects access and permissions to this cluster in the Azure preview portal, and has no effect on who can connect to or submit jobs to the HDInsight cluster.\n\n    * **Tags** (![tag icon](./media/hdinsight-hadoop-provision-linux-clusters/tags.png)): Tags allows you to set key/value pairs to define a custom taxonomy of your cloud services. For example, you may create a key named __project__, and then use a common value for all services associated with a specific project.\n\n\n\n### <a id=\"powershell\"></a> Using Azure PowerShell\nAzure PowerShell is a powerful scripting environment that you can use to control and automate the deployment and management of your workloads in Azure. This section provides instructions on how to provision an HDInsight cluster by using Azure PowerShell. For information on configuring a workstation to run HDInsight Windows PowerShell cmdlets, see [Install and configure Azure PowerShell](../install-configure-powershell.md). For more information on using Azure PowerShell with HDInsight, see [Administer HDInsight using PowerShell](hdinsight-administer-use-powershell.md). For the list of the HDInsight Windows PowerShell cmdlets, see [HDInsight cmdlet reference](https://msdn.microsoft.com/library/azure/dn858087.aspx).\n\n\nThe following procedures are needed to provision an HDInsight cluster by using Azure PowerShell:\n\n- Create an Azure resource group\n- Create an Azure Storage account\n- Create an Azure Blob container\n- Create an HDInsight cluster\n\nThe two most important parameters that you must set to provision Linux clusters are the ones where you specify the OS type and the SSH user details:\n\n- Make sure you specify the **-OSType** parameter as **Linux**.\n- To use SSH for remote sessions on the clusters, you can specify either SSH user password or the SSH public key. If you specify both the SSH user password and the SSH public key, the key will be ignored. If you want to use the SSH key for remote sessions, you must specify a blank SSH password when prompted for one. For more information on using SSH with HDInsight, see one of the following articles:\n\n    * [Use SSH with Linux-based Hadoop on HDInsight from Linux, Unix, or OS X](hdinsight-hadoop-linux-use-ssh-unix.md)\n    * [Use SSH with Linux-based Hadoop on HDInsight from Windows](hdinsight-hadoop-linux-use-ssh-windows.md)\n\n\n            # Use the new Azure Resource Manager mode\n            Switch-AzureMode AzureResourceManager\n\n            ###########################################\n            # Create required items, if none exist\n            ###########################################\n\n            # Sign in\n            Add-AzureAccount\n\n            # Select the subscription to use\n            $subscriptionName = \"<SubscriptionName>\"        # Provide your Subscription Name\n            Select-AzureSubscription -SubscriptionName $subscriptionName\n\n            # Register your subscription to use HDInsight\n            Register-AzureProvider -ProviderNamespace \"Microsoft.HDInsight\" -Force\n\n            # Create an Azure Resource Group\n            $resourceGroupName = \"<ResourceGroupName>\"      # Provide a Resource Group name\n            $location = \"<Location>\"                        # For example, \"West US\"\n            New-AzureResourceGroup -Name $resourceGroupName -Location $location\n\n            # Create an Azure Storage account\n            $storageAccountName = \"<StorageAcccountName>\"   # Provide a Storage account name\n            New-AzureStorageAccount -ResourceGroupName $resourceGroupName -StorageAccountName $storageAccountName -Location $location -Type Standard_GRS\n\n            # Create an Azure Blob Storage container\n            $containerName = \"<ContainerName>\"              # Provide a container name\n            $storageAccountKey = Get-AzureStorageAccountKey -Name $storageAccountName -ResourceGroupName $resourceGroupName | %{ $_.Key1 }\n            $destContext = New-AzureStorageContext -StorageAccountName $storageAccountName -StorageAccountKey $storageAccountKey\n            New-AzureStorageContainer -Name $containerName -Context $destContext\n\n            ###########################################\n            # Create an HDInsight Cluster\n            ###########################################\n\n            # Skip these variables if you just created them\n            $resourceGroupName = \"<ResourceGroupName>\"      # Provide the Resource Group name\n            $storageAccountName = \"<StorageAcccountName>\"   # Provide the Storage account name\n            $containerName = \"<ContainerName>\"              # Provide the container name\n            $storageAccountKey = Get-AzureStorageAccountKey -Name $storageAccountName -ResourceGroupName $resourceGroupName | %{ $_.Key1 }\n\n            # Set these variables\n            $clusterName = $containerName                   # As a best practice, have the same name for the cluster and container\n            $clusterNodes = <ClusterSizeInNodes>            # The number of nodes in the HDInsight cluster\n            $credentials = Get-Credential\n            $sshCredentials = Get-Credential\n\n            # The location of the HDInsight cluster. It must be in the same data center as the Storage account.\n            $location = Get-AzureStorageAccount -ResourceGroupName $resourceGroupName -StorageAccountName $storageAccountName | %{$_.Location}\n\n            # Create a new HDInsight cluster\n            New-AzureHDInsightCluster -ClusterName $clusterName -ResourceGroupName $resourceGroupName -HttpCredential $credentials -Location $location -DefaultStorageAccountName \"$storageAccountName.blob.core.windows.net\" -DefaultStorageAccountKey $storageAccountKey -DefaultStorageContainer $containerName  -ClusterSizeInNodes $clusterNodes -ClusterType Hadoop -OSType Linux -Version \"3.2\" -SshCredential $sshCredentials\n\n\n>[AZURE.NOTE] The values you specify for **$clusterCredentials** are used to create the Hadoop user account for the cluster. You will use this account to connect to the cluster. The values you specify for the **$sshCredentials** are used to create the SSH user for the cluster. You use this account to start a remote SSH session on the cluster and run jobs. If you use the Quick Create option from the Azure portal to provision a cluster, the default Hadoop user name is \"admin\" and default SSH user name is \"hdiuser\".\n\nIt can take several minutes before the cluster provisioning finishes.\n\n![HDI.CLI.Provision][image-hdi-ps-provision]\n\n###<a id=\"sdk\"></a> Using the HDInsight .NET SDK\nThe HDInsight .NET SDK provides .NET client libraries that make it easier to work with HDInsight from a .NET Framework application. Follow the instructions below to create a Visual Studio console application and paste the code for creating a cluster.\n\n**To create a Visual Studio console application**\n\n1. Open Visual Studio 2013.\n\n2. From the **File** menu, click **New**, and then click **Project**.\n\n3. From **New Project**, type or select the following values:\n\n    <table style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse;\">\n    <tr>\n    <th style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; width:90px; padding-left:5px; padding-right:5px;\">Property</th>\n    <th style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; width:90px; padding-left:5px; padding-right:5px;\">Value</th></tr>\n    <tr>\n    <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Category</td>\n    <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px; padding-right:5px;\">Templates/Visual C#/Windows</td></tr>\n    <tr>\n    <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Template</td>\n    <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Console Application</td></tr>\n    <tr>\n    <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">Name</td>\n    <td style=\"border-color: #c6c6c6; border-width: 2px; border-style: solid; border-collapse: collapse; padding-left:5px;\">CreateHDICluster</td></tr>\n    </table>\n\n4. Click **OK** to create the project.\n\n5. From the **Tools** menu, click **Nuget Package Manager**, and then click **Manage Nuget Packages for Solutions**. In the Search text box within the dialog box, search for **HDInsight**. From the results that show up, install the following:\n\n     * Microsoft.Azure.Management.HDInsight\n     * Microsoft.Azure.Management.HDInsight.Job\n\n    Search for Azure Authentication and from the results that show up, install **Microsoft.Azure.Common.Authentication**.\n\n6. From Solution Explorer, double-click **Program.cs** to open it, paste the following code, and provide values for the variables:\n\n\n        using System;\n        using System.Collections.Generic;\n        using System.Diagnostics;\n        using System.Linq;\n        using System.Security;\n        using System.Text;\n        using System.Threading.Tasks;\n        using Hyak.Common;\n        using Microsoft.Azure;\n        using Microsoft.Azure.Common.Authentication;\n        using Microsoft.Azure.Common.Authentication.Models;\n        using Microsoft.Azure.Management.HDInsight;\n        using Microsoft.Azure.Management.HDInsight.Job;\n        using Microsoft.Azure.Management.HDInsight.Job.Models;\n        using Microsoft.Azure.Management.HDInsight.Models;\n        using Newtonsoft.Json;\n\n\n        namespace CreateHDICluster\n        {\n            internal class Program\n            {\n                private static ProfileClient _profileClient;\n                private static SubscriptionCloudCredentials _cloudCredentials;\n                private static HDInsightManagementClient _hdiManagementClient;\n\n                private static Guid SubscriptionId = new Guid(\"<SubscriptionID>\");\n                private const string ResourceGroupName = \"<ResourceGroupName>\";\n                private const string ExistingStorageName = \"<storageaccountname>.blob.core.windows.net\";\n                private const string ExistingStorageKey = \"<account key>\";\n                private const string ExistingContainer = \"<container name>\";\n                private const string NewClusterName = \"<cluster name>\";\n                private const int NewClusterNumNodes = <number of nodes>;\n                private const string NewClusterLocation = \"<location>\";     //should be same as the storage account\n                private const OSType NewClusterOsType = OSType.Linux;\n                private const HDInsightClusterType NewClusterType = HDInsightClusterType.Hadoop;\n                private const string NewClusterVersion = \"3.2\";\n                private const string NewClusterUsername = \"admin\";\n                private const string NewClusterPassword = \"<password>\";\n                private const string NewClusterSshUserName = \"sshuser\";\n                private const string NewClusterSshPublicKey = \"<ssh public key>\";\n\n                private static void Main(string[] args)\n                {\n                    System.Console.WriteLine(\"Start cluster provisioning\");\n\n                    _profileClient = GetProfile();\n                    _cloudCredentials = GetCloudCredentials();\n                    _hdiManagementClient = new HDInsightManagementClient(_cloudCredentials);\n\n                    System.Console.WriteLine(String.Format(\"Creating the cluster {0}...\", NewClusterName));\n                    CreateCluster();\n                    System.Console.WriteLine(\"Done. Press any key to continue.\");\n                    System.Console.ReadKey(true);\n                }\n\n                private static void CreateCluster()\n                {\n                    var parameters = new ClusterCreateParameters\n                    {\n                        ClusterSizeInNodes = NewClusterNumNodes,\n                        UserName = NewClusterUsername,\n                        Password = NewClusterPassword,\n                        Location = NewClusterLocation,\n                        DefaultStorageAccountName = ExistingStorageName,\n                        DefaultStorageAccountKey = ExistingStorageKey,\n                        DefaultStorageContainer = ExistingContainer,\n                        ClusterType = NewClusterType,\n                        OSType = NewClusterOsType,\n                        SshUserName = NewClusterSshUserName,\n                        SshPublicKey = NewClusterSshPublicKey\n                    };\n\n                    _hdiManagementClient.Clusters.Create(ResourceGroupName, NewClusterName, parameters);\n                }\n\n                private static ProfileClient GetProfile(string username = null, SecureString password = null)\n                {\n                    var profileClient = new ProfileClient(new AzureProfile());\n                    var env = profileClient.GetEnvironmentOrDefault(EnvironmentName.AzureCloud);\n                    var acct = new AzureAccount { Type = AzureAccount.AccountType.User };\n\n                    if (username != null && password != null)\n                        acct.Id = username;\n\n                    profileClient.AddAccountAndLoadSubscriptions(acct, env, password);\n\n                    return profileClient;\n                }\n\n                private static SubscriptionCloudCredentials GetCloudCredentials()\n                {\n                    var sub = _profileClient.Profile.Subscriptions.Values.FirstOrDefault(s => s.Id.Equals(SubscriptionId));\n\n                    Debug.Assert(sub != null, \"subscription != null\");\n                    _profileClient.SetSubscriptionAsDefault(sub.Id, sub.Account);\n\n                    return AzureSession.AuthenticationFactory.GetSubscriptionCloudCredentials(_profileClient.Profile.Context);\n                }\n\n            }\n        }\n\n7. Press **F5** to run the application. A console window should open and display the status of the application. You will also be prompted to enter your Azure account credentials. It can take several minutes to create an HDInsight cluster.\n\n\n\n##<a id=\"nextsteps\"></a> Next steps\nIn this article, you have learned several ways to provision an HDInsight Hadoop cluster on Linux. To learn more, see the following articles:\n\n- [Working with HDInsight on Linux](hdinsight-hadoop-linux-information.md): Get to know the nuances of working with an HDInsight cluster on Linux.\n- [Manage HDInsight clusters using Ambari](hdinsight-hadoop-manage-ambari.md): Learn how to monitor and manage your Linux-based Hadoop on HDInsight cluster by using Ambari Web or the Ambari REST API.\n- [Use MapReduce with HDInsight](hdinsight-use-mapreduce.md): Learn about the different ways to run MapReduce jobs on a cluster.\n- [Use Hive with HDInsight](hdinsight-use-hive.md): Learn about the different ways of running a Hive query on a cluster.\n- [Use Pig with HDInsight](hdinsight-use-pig.md): Learn about the different ways of running a Pig job on a cluster.\n- [Use Azure Blob storage with HDInsight](../hdinsight-use-blob-storage.md): Learn how HDInsight uses Azure Blob storage to store data for HDInsight clusters.\n- [Upload data to HDInsight](hdinsight-upload-data.md): Learn how to work with data stored in an Azure Blob storage for an HDInsight cluster.\n\n\n[hdinsight-use-mapreduce]: ../hdinsight-use-mapreduce/\n[hdinsight-use-hive]: ../hdinsight-use-hive/\n[hdinsight-use-pig]: ../hdinsight-use-pig/\n[hdinsight-upload-data]: ../hdinsight-upload-data/\n[hdinsight-sdk-documentation]: http://msdn.microsoft.com/library/dn479185.aspx\n\n\n[hdinsight-customize-cluster]: ../hdinsight-hadoop-customize-cluster/\n[hdinsight-get-started]: ../hdinsight-get-started/\n[hdinsight-admin-powershell]: ../hdinsight-administer-use-powershell/\n\n[hdinsight-submit-jobs]: ../hdinsight-submit-hadoop-jobs-programmatically/\n[hdinsight-powershell-reference]: https://msdn.microsoft.com/library/dn858087.aspx\n\n[azure-management-portal]: https://manage.windowsazure.com/\n\n[azure-command-line-tools]: ../xplat-cli/\n[azure-create-storageaccount]: ../storage-create-storage-account/\n\n[azure-purchase-options]: http://azure.microsoft.com/pricing/purchase-options/\n[azure-member-offers]: http://azure.microsoft.com/pricing/member-offers/\n[azure-free-trial]: http://azure.microsoft.com/pricing/free-trial/\n[hdi-remote]: http://azure.microsoft.com/documentation/articles/hdinsight-administer-use-management-portal/#rdp\n\n\n[Powershell-install-configure]: ../install-configure-powershell/\n\n[image-hdi-customcreatecluster]: ./media/hdinsight-get-started/HDI.CustomCreateCluster.png\n[image-hdi-customcreatecluster-clusteruser]: ./media/hdinsight-get-started/HDI.CustomCreateCluster.ClusterUser.png\n[image-hdi-customcreatecluster-storageaccount]: ./media/hdinsight-get-started/HDI.CustomCreateCluster.StorageAccount.png\n[image-hdi-customcreatecluster-addonstorage]: ./media/hdinsight-get-started/HDI.CustomCreateCluster.AddOnStorage.png\n\n[azure-preview-portal]: https://portal.azure.com\n\n\n[image-cli-account-download-import]: ./media/hdinsight-hadoop-provision-linux-clusters/HDI.CLIAccountDownloadImport.png\n[image-cli-clustercreation]: ./media/hdinsight-hadoop-provision-linux-clusters/HDI.CLIClusterCreation.png\n[image-cli-clustercreation-config]: ./media/hdinsight-hadoop-provision-linux-clusters/HDI.CLIClusterCreationConfig.png\n[image-cli-clusterlisting]: ./media/hdinsight-hadoop-provision-linux-clusters/HDI.CLIListClusters.png \"List and show clusters\"\n\n[image-hdi-ps-provision]: ./media/hdinsight-hadoop-provision-linux-clusters/HDI.ps.provision.png\n[image-hdi-ps-config-provision]: ./media/hdinsight-hadoop-provision-linux-clusters/HDI.ps.config.provision.png\n\n[img-hdi-cluster]: ./media/hdinsight-hadoop-provision-linux-clusters/HDI.Cluster.png\n\n  [89e2276a]: /documentation/articles/hdinsight-use-sqoop/ \"Use Sqoop with HDInsight\"\n\ntest\n"
}