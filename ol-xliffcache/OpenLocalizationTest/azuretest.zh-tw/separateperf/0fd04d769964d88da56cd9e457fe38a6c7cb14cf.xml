{
  "nodes": [
    {
      "content": "Enable monitoring and diagnostics",
      "pos": [
        28,
        61
      ]
    },
    {
      "content": "Learn how to set up diagnostics for your resources in Azure.",
      "pos": [
        81,
        141
      ]
    },
    {
      "content": "Enable monitoring and diagnostics",
      "pos": [
        464,
        497
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">[</bpt>Azure Portal<ept id=\"p1\">](http://portal.azure.com)</ept>, you can configure rich, frequent, monitoring and diagnostics data about your resources.",
      "pos": [
        499,
        634
      ]
    },
    {
      "content": "You can also use the <bpt id=\"p1\">[</bpt>REST API<ept id=\"p1\">](https://msdn.microsoft.com/library/azure/dn931932.aspx)</ept> or <bpt id=\"p2\">[</bpt>.NET SDK<ept id=\"p2\">](https://www.nuget.org/packages/Microsoft.Azure.Insights/)</ept> to configure diagnostics programmatically.",
      "pos": [
        635,
        837
      ]
    },
    {
      "content": "Diagnostics, monitoring and metric data in Azure is saved into a Storage account of your choice.",
      "pos": [
        839,
        935
      ]
    },
    {
      "content": "This allows you to use whatever tooling you want to read the data, from a storage explorer, to Power BI to third-party tooling.",
      "pos": [
        936,
        1063
      ]
    },
    {
      "content": "When you create a resource",
      "pos": [
        1068,
        1094
      ]
    },
    {
      "pos": [
        1096,
        1216
      ],
      "content": "Most services allow you to enable diagnostics when you first create them in the <bpt id=\"p1\">[</bpt>Azure Portal<ept id=\"p1\">](http://portal.azure.com)</ept>."
    },
    {
      "pos": [
        1221,
        1281
      ],
      "content": "Go to <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept> and choose the resource you are interested in."
    },
    {
      "pos": [
        1287,
        1411
      ],
      "content": "Select **Optional configuration**.\n ![Diagnostics blade](./media/insights-how-to-use-diagnostics/Insights_CreateTime.png)",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "Select <bpt id=\"p1\">**</bpt>Optional configuration<ept id=\"p1\">**</ept>.",
          "pos": [
            0,
            34
          ]
        },
        {
          "content": "<ph id=\"ph1\"> ![</ph>Diagnostics blade<ph id=\"ph2\">](./media/insights-how-to-use-diagnostics/Insights_CreateTime.png)</ph>",
          "pos": [
            35,
            121
          ]
        }
      ]
    },
    {
      "content": "Select <bpt id=\"p1\">**</bpt>Diagnostics<ept id=\"p1\">**</ept>, and click <bpt id=\"p2\">**</bpt>On<ept id=\"p2\">**</ept>.",
      "pos": [
        1416,
        1457
      ]
    },
    {
      "content": "You will need to choose the Storage account that you want diagnostics to be saved to.",
      "pos": [
        1458,
        1543
      ]
    },
    {
      "content": "Youâ€™ll be charged normal data rates for storage and transactions when you send diagnostics to a storage account.",
      "pos": [
        1544,
        1656
      ]
    },
    {
      "pos": [
        1661,
        1698
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> and create the resource."
    },
    {
      "content": "Change settings for an existing resource",
      "pos": [
        1704,
        1744
      ]
    },
    {
      "content": "If you have already created a resource and you want to change the diagnostics settings (to change the level of data collection, for example), you can do that right in the Azure Portal.",
      "pos": [
        1746,
        1930
      ]
    },
    {
      "pos": [
        1935,
        1989
      ],
      "content": "Go to the resource and click the <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept> command."
    },
    {
      "pos": [
        1994,
        2017
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Diagnostics<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        2022,
        2352
      ],
      "content": "The **Diagnostics** blade has all of the possible diagnostics and monitoring collection data for that resource. For some resources you can also choose a **Retention** policy for the data, to clean it up from your storage account. \n ![Storage diagnostics](./media/insights-how-to-use-diagnostics/Insights_StorageDiagnostics.png)",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "The **Diagnostics** blade has all of the possible diagnostics and monitoring collection data for that resource. For some resources you can also choose a **Retention** policy for the data, to clean it up from your storage account.",
          "pos": [
            0,
            229
          ],
          "nodes": [
            {
              "content": "The <bpt id=\"p1\">**</bpt>Diagnostics<ept id=\"p1\">**</ept> blade has all of the possible diagnostics and monitoring collection data for that resource.",
              "pos": [
                0,
                111
              ]
            },
            {
              "content": "For some resources you can also choose a <bpt id=\"p1\">**</bpt>Retention<ept id=\"p1\">**</ept> policy for the data, to clean it up from your storage account.",
              "pos": [
                112,
                229
              ]
            }
          ]
        },
        {
          "content": "<ph id=\"ph1\"> ![</ph>Storage diagnostics<ph id=\"ph2\">](./media/insights-how-to-use-diagnostics/Insights_StorageDiagnostics.png)</ph>",
          "pos": [
            231,
            327
          ]
        }
      ]
    },
    {
      "content": "Once you've chosen your settings, click the <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> command.",
      "pos": [
        2357,
        2418
      ]
    },
    {
      "content": "It may take a little while for monitoring data to show up if you are enabling it for the first time.",
      "pos": [
        2419,
        2519
      ]
    },
    {
      "content": "Categories of data collection for virtual machines",
      "pos": [
        2526,
        2576
      ]
    },
    {
      "content": "For virtual machines all metrics and logs will be recorded at one-minute intervals, so you can always have the most up-to-date information about your machine.",
      "pos": [
        2577,
        2735
      ]
    },
    {
      "pos": [
        2739,
        2829
      ],
      "content": "<bpt id=\"p1\">**</bpt>Basic metrics<ept id=\"p1\">**</ept> : Health metrics about your virtual machine such as processor and memory"
    },
    {
      "pos": [
        2833,
        2918
      ],
      "content": "<bpt id=\"p1\">**</bpt>Network and web metrics<ept id=\"p1\">**</ept> : Metrics about your network connections and web services"
    },
    {
      "pos": [
        2921,
        3019
      ],
      "content": "<bpt id=\"p1\">**</bpt>.NET metrics<ept id=\"p1\">**</ept> : Metrics about the .NET and ASP.NET applications running on your virtual machine"
    },
    {
      "pos": [
        3022,
        3105
      ],
      "content": "<bpt id=\"p1\">**</bpt>SQL metrics<ept id=\"p1\">**</ept> : If you are running Microsoft SQL Service, its performance metrics"
    },
    {
      "pos": [
        3108,
        3200
      ],
      "content": "<bpt id=\"p1\">**</bpt>Windows event application logs<ept id=\"p1\">**</ept> : Windows events that are sent to the application channel"
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Windows event system logs<ept id=\"p1\">**</ept> : Windows events that are sent to the system channel.",
      "pos": [
        3203,
        3286
      ]
    },
    {
      "content": "This also includes all events from <bpt id=\"p1\">[</bpt>Microsoft Antimalware<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=404171&amp;clcid=0x409)</ept>.",
      "pos": [
        3287,
        3405
      ]
    },
    {
      "pos": [
        3409,
        3495
      ],
      "content": "<bpt id=\"p1\">**</bpt>Windows event security logs<ept id=\"p1\">**</ept> : Windows events that are sent to the security channel"
    },
    {
      "pos": [
        3498,
        3591
      ],
      "content": "<bpt id=\"p1\">**</bpt>Diagnostics infrastructure logs<ept id=\"p1\">**</ept> : Logging about the diagnostics collection infrastructure"
    },
    {
      "pos": [
        3594,
        3635
      ],
      "content": "<bpt id=\"p1\">**</bpt>IIS logs<ept id=\"p1\">**</ept> : Logs about your IIS server"
    },
    {
      "content": "Note that at this time certain distributions of Linux are not supported, and, the Guest Agent must be installed on the virtual machine.",
      "pos": [
        3637,
        3772
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        3777,
        3787
      ]
    },
    {
      "pos": [
        3791,
        3926
      ],
      "content": "<bpt id=\"p1\">[</bpt>Receive alert notifications<ept id=\"p1\">](insights-receive-alert-notifications.md)</ept> whenever operational events happen or metrics cross a threshold."
    },
    {
      "pos": [
        3929,
        4050
      ],
      "content": "<bpt id=\"p1\">[</bpt>Monitor service metrics<ept id=\"p1\">](insights-how-to-customize-monitoring.md)</ept> to make sure your service is available and responsive."
    },
    {
      "pos": [
        4053,
        4164
      ],
      "content": "<bpt id=\"p1\">[</bpt>Scale instance count automatically<ept id=\"p1\">](insights-how-to-scale.md)</ept> to make sure your service scale based on demand."
    },
    {
      "pos": [
        4167,
        4304
      ],
      "content": "<bpt id=\"p1\">[</bpt>Monitor application performance<ept id=\"p1\">](insights-perf-analytics.md)</ept> if you want to understand exactly how your code is performing in the cloud."
    },
    {
      "pos": [
        4307,
        4425
      ],
      "content": "<bpt id=\"p1\">[</bpt>View events and audit logs<ept id=\"p1\">](insights-debugging-with-events.md)</ept> to learn everything that has happened in your service."
    },
    {
      "pos": [
        4428,
        4567
      ],
      "content": "<bpt id=\"p1\">[</bpt>Track service health<ept id=\"p1\">](insights-service-health.md)</ept> to find out when Azure has experienced performance degradation or service interruptions."
    },
    {
      "content": "test",
      "pos": [
        4571,
        4575
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Enable monitoring and diagnostics\" \n    description=\"Learn how to set up diagnostics for your resources in Azure.\" \n    authors=\"stepsic-microsoft-com\" \n    manager=\"ronmart\" \n    editor=\"\" \n    services=\"azure-portal\" \n    documentationCenter=\"na\"/>\n\n<tags \n    ms.service=\"azure-portal\" \n    ms.workload=\"na\" \n    ms.tgt_pltfrm=\"na\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"04/28/2015\" \n    ms.author=\"stepsic\"/>\n\n# Enable monitoring and diagnostics\n\nIn the [Azure Portal](http://portal.azure.com), you can configure rich, frequent, monitoring and diagnostics data about your resources. You can also use the [REST API](https://msdn.microsoft.com/library/azure/dn931932.aspx) or [.NET SDK](https://www.nuget.org/packages/Microsoft.Azure.Insights/) to configure diagnostics programmatically.\n\nDiagnostics, monitoring and metric data in Azure is saved into a Storage account of your choice. This allows you to use whatever tooling you want to read the data, from a storage explorer, to Power BI to third-party tooling.\n\n## When you create a resource\n\nMost services allow you to enable diagnostics when you first create them in the [Azure Portal](http://portal.azure.com).\n\n1. Go to **New** and choose the resource you are interested in. \n\n2. Select **Optional configuration**.\n    ![Diagnostics blade](./media/insights-how-to-use-diagnostics/Insights_CreateTime.png)\n\n3. Select **Diagnostics**, and click **On**. You will need to choose the Storage account that you want diagnostics to be saved to. Youâ€™ll be charged normal data rates for storage and transactions when you send diagnostics to a storage account.\n\n4. Click **OK** and create the resource. \n\n## Change settings for an existing resource\n\nIf you have already created a resource and you want to change the diagnostics settings (to change the level of data collection, for example), you can do that right in the Azure Portal.\n\n1. Go to the resource and click the **Settings** command.\n\n2. Select **Diagnostics**.\n\n3. The **Diagnostics** blade has all of the possible diagnostics and monitoring collection data for that resource. For some resources you can also choose a **Retention** policy for the data, to clean it up from your storage account. \n    ![Storage diagnostics](./media/insights-how-to-use-diagnostics/Insights_StorageDiagnostics.png)\n\n4. Once you've chosen your settings, click the **Save** command. It may take a little while for monitoring data to show up if you are enabling it for the first time. \n\n### Categories of data collection for virtual machines\nFor virtual machines all metrics and logs will be recorded at one-minute intervals, so you can always have the most up-to-date information about your machine.\n\n- **Basic metrics** : Health metrics about your virtual machine such as processor and memory \n- **Network and web metrics** : Metrics about your network connections and web services\n- **.NET metrics** : Metrics about the .NET and ASP.NET applications running on your virtual machine\n- **SQL metrics** : If you are running Microsoft SQL Service, its performance metrics\n- **Windows event application logs** : Windows events that are sent to the application channel\n- **Windows event system logs** : Windows events that are sent to the system channel. This also includes all events from [Microsoft Antimalware](http://go.microsoft.com/fwlink/?LinkID=404171&clcid=0x409). \n- **Windows event security logs** : Windows events that are sent to the security channel\n- **Diagnostics infrastructure logs** : Logging about the diagnostics collection infrastructure\n- **IIS logs** : Logs about your IIS server\n\nNote that at this time certain distributions of Linux are not supported, and, the Guest Agent must be installed on the virtual machine.\n\n## Next steps\n\n* [Receive alert notifications](insights-receive-alert-notifications.md) whenever operational events happen or metrics cross a threshold.\n* [Monitor service metrics](insights-how-to-customize-monitoring.md) to make sure your service is available and responsive.\n* [Scale instance count automatically](insights-how-to-scale.md) to make sure your service scale based on demand.\n* [Monitor application performance](insights-perf-analytics.md) if you want to understand exactly how your code is performing in the cloud.\n* [View events and audit logs](insights-debugging-with-events.md) to learn everything that has happened in your service.\n* [Track service health](insights-service-health.md) to find out when Azure has experienced performance degradation or service interruptions. \n \ntest\n"
}