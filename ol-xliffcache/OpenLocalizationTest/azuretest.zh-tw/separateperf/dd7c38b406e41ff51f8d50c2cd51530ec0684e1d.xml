{
  "nodes": [
    {
      "content": "Learn to use Visual Studio Hadoop tools for HDInsight | Microsoft Azure",
      "pos": [
        27,
        98
      ]
    },
    {
      "content": "Learn how to install and use Visual Studio Hadoop tools for HDInsight to connect to a Hadoop cluster and run a Hive query.",
      "pos": [
        117,
        239
      ]
    },
    {
      "content": "Get started using Visual Studio Hadoop tools for HDInsight to run a Hive query",
      "pos": [
        628,
        706
      ]
    },
    {
      "content": "Learn how to use HDInsight Tools for Visual Studio to connect to HDInsight clusters and submit Hive queries.",
      "pos": [
        708,
        816
      ]
    },
    {
      "content": "For more information about using HDInsight, see [Introduction to HDInsight][hdinsight.introduction] and [Get started with HDInsight][hdinsight.get.started].",
      "pos": [
        817,
        973
      ]
    },
    {
      "content": "For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio][hdinsight.storm.visual.studio.tools].",
      "pos": [
        974,
        1147
      ]
    },
    {
      "pos": [
        1150,
        1298
      ],
      "content": "[AZURE.NOTE] The most recent release introduced some new features, such as Hive editor\nsupport, Hive script local validation, and YARN log access.",
      "leadings": [
        "",
        "> "
      ],
      "nodes": [
        {
          "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> The most recent release introduced some new features, such as Hive editor",
          "pos": [
            0,
            86
          ]
        },
        {
          "content": "support, Hive script local validation, and YARN log access.",
          "pos": [
            87,
            146
          ]
        }
      ]
    },
    {
      "content": "Prerequisites",
      "pos": [
        1304,
        1317
      ]
    },
    {
      "content": "To complete this tutorial and use the Hadoop tools in Visual Studio, you'll need the following:",
      "pos": [
        1319,
        1414
      ]
    },
    {
      "content": "An Azure HDInsight cluster: Either a Linux-based or Windows-based cluster will work with the steps in this document.",
      "pos": [
        1418,
        1534
      ]
    },
    {
      "content": "See one of the following for information on creating a cluster:",
      "pos": [
        1535,
        1598
      ]
    },
    {
      "content": "Get started using Linux-based HDInsight",
      "pos": [
        1607,
        1646
      ]
    },
    {
      "content": "Get started using Windows-based HDInsight",
      "pos": [
        1703,
        1744
      ]
    },
    {
      "content": "A workstation with the following software:",
      "pos": [
        1799,
        1841
      ]
    },
    {
      "content": "Windows 8.1, Windows 8, or Windows 7",
      "pos": [
        1849,
        1885
      ]
    },
    {
      "content": "Visual Studio (one of the following versions):",
      "pos": [
        1892,
        1938
      ]
    },
    {
      "pos": [
        1949,
        2070
      ],
      "content": "Visual Studio 2012 Professional/Premium/Ultimate with <bpt id=\"p1\">[</bpt>Update 4<ept id=\"p1\">](http://www.microsoft.com/download/details.aspx?id=39305)</ept>"
    },
    {
      "pos": [
        2081,
        2213
      ],
      "content": "Visual Studio 2013 Community/Professional/Premium/Ultimate with <bpt id=\"p1\">[</bpt>Update 4<ept id=\"p1\">](https://www.microsoft.com/download/details.aspx?id=44921)</ept>"
    },
    {
      "content": "Visual Studio 2015 (Community/Enterprise)",
      "pos": [
        2224,
        2265
      ]
    },
    {
      "pos": [
        2272,
        2369
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Currently, the HDInsight Tools for Visual Studio only come with the English version."
    },
    {
      "content": "Install HDInsight tools for Visual Studio",
      "pos": [
        2375,
        2416
      ]
    },
    {
      "content": "HDInsight Tools for Visual Studio is packaged with Microsoft Azure SDK for .NET version 2.5.1 or later.",
      "pos": [
        2418,
        2521
      ]
    },
    {
      "content": "It can be installed by using the <bpt id=\"p1\">[</bpt>Web Platform Installer<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=255386)</ept>.",
      "pos": [
        2522,
        2627
      ]
    },
    {
      "content": "You must choose the one that matches your version of Visual Studio.",
      "pos": [
        2628,
        2695
      ]
    },
    {
      "content": "This Hadoop tools package also installs the Microsoft Hive ODBC Driver (32-bit and 64-bit).",
      "pos": [
        2696,
        2787
      ]
    },
    {
      "content": "Hadoop tools: HDinsight Tools for Visual Studio Web Platform installer.",
      "pos": [
        2791,
        2862
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> If you have Visual Studio 2015 or 2012, and you have installed Azure SDK 2.5, you must manually remove the older version before installing the latest version.",
      "pos": [
        2870,
        3041
      ]
    },
    {
      "content": "Visual Studio 2013 supports a direct update.",
      "pos": [
        3042,
        3086
      ]
    },
    {
      "content": "Connect to Azure subscriptions",
      "pos": [
        3091,
        3121
      ]
    },
    {
      "content": "The HDInsight Tools for Visual Studio allows you to connect to your HDInsight clusters, perform some basic management operations, and run Hive queries.",
      "pos": [
        3122,
        3273
      ]
    },
    {
      "pos": [
        3276,
        3435
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> For information on connecting to HDInsight Emulator, see <bpt id=\"p1\">[</bpt>Get started with the HDInsight Emulator<ept id=\"p1\">](../hdinsight-get-started-emulator.md/#vstools)</ept>."
    },
    {
      "pos": [
        3438,
        3691
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> For information on connecting to a generic Hadoop cluster (preview), see <bpt id=\"p1\">[</bpt>Write and submit Hive queries using Visual Studio<ept id=\"p1\">](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx)</ept>."
    },
    {
      "content": "To connect to your Azure subscription",
      "pos": [
        3696,
        3733
      ]
    },
    {
      "content": "Open Visual Studio.",
      "pos": [
        3741,
        3760
      ]
    },
    {
      "pos": [
        3765,
        3850
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Server Explorer<ept id=\"p2\">**</ept> to open the Server Explorer window."
    },
    {
      "pos": [
        3855,
        3903
      ],
      "content": "Expand <bpt id=\"p1\">**</bpt>Azure<ept id=\"p1\">**</ept>, and then expand <bpt id=\"p2\">**</bpt>HDInsight<ept id=\"p2\">**</ept>."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph>Notice the <bpt id=\"p1\">**</bpt>HDInsight Task List<ept id=\"p1\">**</ept> window should be open.",
      "pos": [
        3910,
        3979
      ]
    },
    {
      "content": "If you don't see it, click <bpt id=\"p1\">**</bpt>Other Windows<ept id=\"p1\">**</ept> from the <bpt id=\"p2\">**</bpt>View<ept id=\"p2\">**</ept> menu, and then click <bpt id=\"p3\">**</bpt>HDInsight Task List Window<ept id=\"p3\">**</ept>.",
      "pos": [
        3980,
        4095
      ]
    },
    {
      "content": "Enter your Azure subscription credentials, and then click <bpt id=\"p1\">**</bpt>Sign In<ept id=\"p1\">**</ept>.",
      "pos": [
        4102,
        4172
      ]
    },
    {
      "content": "This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.",
      "pos": [
        4173,
        4288
      ]
    },
    {
      "content": "In Server Explorer, you'll see a list of existing HDInsight clusters.",
      "pos": [
        4293,
        4362
      ]
    },
    {
      "content": "If you don't have any clusters, you can provision one by using the Azure preview portal, Azure PowerShell, or the HDInsight SDK.",
      "pos": [
        4363,
        4491
      ]
    },
    {
      "content": "For more information, see [Provision HDInsight clusters][hdinsight-provision].",
      "pos": [
        4492,
        4570
      ]
    },
    {
      "content": "Hadoop tools: HDInsight Tools for Visual Studio Server Explorer cluster list",
      "pos": [
        4578,
        4654
      ]
    },
    {
      "content": "Expand an HDInsight cluster.",
      "pos": [
        4663,
        4691
      ]
    },
    {
      "content": "You'll see <bpt id=\"p1\">**</bpt>Hive Databases<ept id=\"p1\">**</ept>, a default storage account, linked storage accounts, and <bpt id=\"p2\">**</bpt>Hadoop Service log<ept id=\"p2\">**</ept>.",
      "pos": [
        4692,
        4802
      ]
    },
    {
      "content": "You can further expand the entities.",
      "pos": [
        4803,
        4839
      ]
    },
    {
      "content": "After you've connected to your Azure subscription, you'll be able to do the following:",
      "pos": [
        4841,
        4927
      ]
    },
    {
      "content": "To connect to the Azure portal from Visual Studio",
      "pos": [
        4931,
        4980
      ]
    },
    {
      "pos": [
        4986,
        5126
      ],
      "content": "From Server Explorer, expand <bpt id=\"p1\">**</bpt>Azure<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>HDInsight<ept id=\"p2\">**</ept>, right-click an HDInsight cluster, and then click <bpt id=\"p3\">**</bpt>Manage Cluster in Azure Portal<ept id=\"p3\">**</ept>."
    },
    {
      "content": "To ask questions and provide feedback from Visual Studio",
      "pos": [
        5130,
        5186
      ]
    },
    {
      "pos": [
        5192,
        5313
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>Tools<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>HDInsight<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>MSDN Forum<ept id=\"p3\">**</ept> to ask questions, or click <bpt id=\"p4\">**</bpt>Give Feedback<ept id=\"p4\">**</ept>."
    },
    {
      "content": "Navigate the linked resources",
      "pos": [
        5318,
        5347
      ]
    },
    {
      "content": "From Server Explorer, you can see the default storage account and any linked storage accounts.",
      "pos": [
        5349,
        5443
      ]
    },
    {
      "content": "If you expand the default storage account, you can see the containers on the storage account.",
      "pos": [
        5444,
        5537
      ]
    },
    {
      "content": "The default storage account and the default container are marked.",
      "pos": [
        5538,
        5603
      ]
    },
    {
      "content": "You can also right-click any of the containers to view the contents.",
      "pos": [
        5604,
        5672
      ]
    },
    {
      "content": "HDInsight Tools for Visual Studio server explorer cluster list",
      "pos": [
        5676,
        5738
      ]
    },
    {
      "content": "Run a Hive query",
      "pos": [
        5747,
        5763
      ]
    },
    {
      "content": "[Apache Hive][apache.hive] is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis.",
      "pos": [
        5764,
        5898
      ]
    },
    {
      "content": "HDInsight Tools for Visual Studio supports running Hive queries from Visual Studio.",
      "pos": [
        5899,
        5982
      ]
    },
    {
      "content": "For more information about Hive, see [Use Hive with HDInsight][hdinsight.hive].",
      "pos": [
        5983,
        6062
      ]
    },
    {
      "content": "It is time consuming to test Hive script against an HDInsight cluster.",
      "pos": [
        6064,
        6134
      ]
    },
    {
      "content": "It could take several minutes or more.",
      "pos": [
        6135,
        6173
      ]
    },
    {
      "content": "HDInsight Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.",
      "pos": [
        6174,
        6290
      ]
    },
    {
      "content": "HDInsight Tools for Visual Studio also enables users to see what’s inside the Hive job by collecting and surfacing the YARN logs of certain Hive jobs.",
      "pos": [
        6292,
        6442
      ]
    },
    {
      "pos": [
        6448,
        6476
      ],
      "content": "View the <bpt id=\"p1\">**</bpt>hivesampletable<ept id=\"p1\">**</ept>"
    },
    {
      "content": "All HDInsight clusters come with a sample Hive table called <bpt id=\"p1\">*</bpt>hivesampletable<ept id=\"p1\">*</ept>.",
      "pos": [
        6477,
        6555
      ]
    },
    {
      "content": "We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.",
      "pos": [
        6556,
        6674
      ]
    },
    {
      "content": "To list Hive tables and view Hive table schema",
      "pos": [
        6680,
        6726
      ]
    },
    {
      "pos": [
        6734,
        6903
      ],
      "content": "From <bpt id=\"p1\">**</bpt>Server Explorer<ept id=\"p1\">**</ept>, expand <bpt id=\"p2\">**</bpt>Azure<ept id=\"p2\">**</ept> &gt; <bpt id=\"p3\">**</bpt>HDInsight<ept id=\"p3\">**</ept> &gt; the cluster of your choice &gt; <bpt id=\"p4\">**</bpt>Hive Databases<ept id=\"p4\">**</ept> &gt; <bpt id=\"p5\">**</bpt>Default<ept id=\"p5\">**</ept> &gt; <bpt id=\"p6\">**</bpt>hivesampletable<ept id=\"p6\">**</ept> to see the table schema."
    },
    {
      "content": "Right-click <bpt id=\"p1\">**</bpt>hivesampletable<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>View Top 100 Rows<ept id=\"p2\">**</ept> to list the rows.",
      "pos": [
        6908,
        6995
      ]
    },
    {
      "content": "It is equivalent to running the following Hive query using Hive ODBC driver:",
      "pos": [
        6996,
        7072
      ]
    },
    {
      "content": "You can customize the row count.",
      "pos": [
        7127,
        7159
      ]
    },
    {
      "content": "Hadoop tools: HDinsight Hive Visual Studio schema query",
      "pos": [
        7167,
        7222
      ]
    },
    {
      "content": "Create Hive tables",
      "pos": [
        7232,
        7250
      ]
    },
    {
      "content": "You can use the GUI to create a Hive table or use Hive queries.",
      "pos": [
        7252,
        7315
      ]
    },
    {
      "content": "For information about using Hive queries, see <bpt id=\"p1\">[</bpt>Run Hive queries<ept id=\"p1\">](#run.queries)</ept>.",
      "pos": [
        7316,
        7395
      ]
    },
    {
      "content": "To create a Hive table",
      "pos": [
        7399,
        7421
      ]
    },
    {
      "pos": [
        7428,
        7596
      ],
      "content": "From <bpt id=\"p1\">**</bpt>Server Explorer<ept id=\"p1\">**</ept>, expand <bpt id=\"p2\">**</bpt>Azure<ept id=\"p2\">**</ept> &gt; <bpt id=\"p3\">**</bpt>HDInsight Clusters<ept id=\"p3\">**</ept> an HDInsight cluster &gt; <bpt id=\"p4\">**</bpt>Hive Databases<ept id=\"p4\">**</ept>, then right-click <bpt id=\"p5\">**</bpt>default<ept id=\"p5\">**</ept>, and click <bpt id=\"p6\">**</bpt>Create Table<ept id=\"p6\">**</ept>."
    },
    {
      "content": "Configure the table.",
      "pos": [
        7600,
        7620
      ]
    },
    {
      "pos": [
        7624,
        7694
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create Table<ept id=\"p1\">**</ept> to submit the job to create the new Hive table."
    },
    {
      "content": "Hadoop tools: hdinsight visual studio tools create hive table",
      "pos": [
        7702,
        7763
      ]
    },
    {
      "pos": [
        7773,
        7828
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"run.queries\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Validate and run Hive queries"
    },
    {
      "content": "There are two ways to create and run Hive queries:",
      "pos": [
        7829,
        7879
      ]
    },
    {
      "content": "Create ad-hoc queries",
      "pos": [
        7883,
        7904
      ]
    },
    {
      "content": "Create a Hive application",
      "pos": [
        7907,
        7932
      ]
    },
    {
      "content": "To create, validate, and run ad-hoc queries",
      "pos": [
        7936,
        7979
      ]
    },
    {
      "pos": [
        7986,
        8069
      ],
      "content": "From <bpt id=\"p1\">**</bpt>Server Explorer<ept id=\"p1\">**</ept>, expand <bpt id=\"p2\">**</bpt>Azure<ept id=\"p2\">**</ept>, and then expand <bpt id=\"p3\">**</bpt>HDInsight Clusters<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        8073,
        8168
      ],
      "content": "Right-click the cluster where you want to run the query, and then click <bpt id=\"p1\">**</bpt>Write a Hive Query<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Enter the Hive queries.",
      "pos": [
        8172,
        8195
      ]
    },
    {
      "content": "Notice the Hive editor supports IntelliSense.",
      "pos": [
        8196,
        8241
      ]
    },
    {
      "content": "HDInsight Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script.",
      "pos": [
        8242,
        8351
      ]
    },
    {
      "content": "For example, when you type \"SELECT * FROM\", the IntelliSense lists all the suggested table names.",
      "pos": [
        8352,
        8449
      ]
    },
    {
      "content": "When a table name is specified, the column names are listed by the IntelliSense.",
      "pos": [
        8450,
        8530
      ]
    },
    {
      "content": "The tool supports almost all Hive DML statements, subqueries, and the built-in UDFs.",
      "pos": [
        8531,
        8615
      ]
    },
    {
      "content": "Hadoop tools: HDInsight Visual Studio Tools IntelliSense",
      "pos": [
        8623,
        8679
      ]
    },
    {
      "content": "Hadoop tools: HDInsight Visual Studio Tools IntelliSense",
      "pos": [
        8692,
        8748
      ]
    },
    {
      "pos": [
        8761,
        8864
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Only the metadata of the clusters that is selected in HDInsight Toolbar will be suggested."
    },
    {
      "pos": [
        8868,
        8940
      ],
      "content": "(Optional): Click <bpt id=\"p1\">**</bpt>Validate Script<ept id=\"p1\">**</ept> to check the script syntax errors."
    },
    {
      "content": "Hadoop tools: hdinsight tools for Visual Studio local validation",
      "pos": [
        8948,
        9012
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Submit<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Submit (Advanced)<ept id=\"p2\">**</ept>.",
      "pos": [
        9022,
        9064
      ]
    },
    {
      "content": "With the advanced submit option, you'll configure <bpt id=\"p1\">**</bpt>Job Name<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Arguments<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Additional Configurations<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>Status Directory<ept id=\"p4\">**</ept> for the script:",
      "pos": [
        9065,
        9215
      ]
    },
    {
      "content": "hdinsight hadoop hive query",
      "pos": [
        9223,
        9250
      ]
    },
    {
      "pos": [
        9260,
        9324
      ],
      "content": "After you submit the job, you see a <bpt id=\"p1\">**</bpt>Hive Job Summary<ept id=\"p1\">**</ept> window."
    },
    {
      "content": "Summary of an HDInsight Hadoop Hive query",
      "pos": [
        9332,
        9373
      ]
    },
    {
      "pos": [
        9381,
        9475
      ],
      "content": "Use the <bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept> button to update the status until the job status changes to <bpt id=\"p2\">**</bpt>Completed<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        9479,
        9591
      ],
      "content": "Click the links at the bottom to see the following: <bpt id=\"p1\">**</bpt>Job Query<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Job Output<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Job log<ept id=\"p3\">**</ept>, or <bpt id=\"p4\">**</bpt>Yarn log<ept id=\"p4\">**</ept>."
    },
    {
      "content": "To create and run a Hive solution",
      "pos": [
        9597,
        9630
      ]
    },
    {
      "pos": [
        9637,
        9703
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>FILE<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        9707,
        9840
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>HDInsight<ept id=\"p1\">**</ept> from the left pane, select <bpt id=\"p2\">**</bpt>Hive Application<ept id=\"p2\">**</ept> in the middle pane, enter the properties, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Hadoop tools: hdinsight visual studio tools new hive project",
      "pos": [
        9848,
        9908
      ]
    },
    {
      "pos": [
        9917,
        9984
      ],
      "content": "From <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, double-click <bpt id=\"p2\">**</bpt>Script.hql<ept id=\"p2\">**</ept> to open it."
    },
    {
      "pos": [
        9988,
        10166
      ],
      "content": "To validate the Hive script, you can click the <bpt id=\"p1\">**</bpt>Validate Script<ept id=\"p1\">**</ept> button, or right-click the script in the Hive editor, and then click <bpt id=\"p2\">**</bpt>Validate Script<ept id=\"p2\">**</ept> from the context menu."
    },
    {
      "content": "View Hive jobs",
      "pos": [
        10173,
        10187
      ]
    },
    {
      "content": "You can view job queries, job output, job logs, and Yarn logs for Hive jobs.",
      "pos": [
        10188,
        10264
      ]
    },
    {
      "content": "For more information, see the previous screenshot.",
      "pos": [
        10265,
        10315
      ]
    },
    {
      "content": "The most recent release of the tool allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs.",
      "pos": [
        10317,
        10439
      ]
    },
    {
      "content": "A YARN log can help you investigating performance issues.",
      "pos": [
        10440,
        10497
      ]
    },
    {
      "content": "For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically][hdinsight.access.application.logs].",
      "pos": [
        10498,
        10651
      ]
    },
    {
      "content": "To view Hive jobs",
      "pos": [
        10655,
        10672
      ]
    },
    {
      "pos": [
        10679,
        10753
      ],
      "content": "From <bpt id=\"p1\">**</bpt>Server Explorer<ept id=\"p1\">**</ept>, expand <bpt id=\"p2\">**</bpt>Azure<ept id=\"p2\">**</ept>, and then expand <bpt id=\"p3\">**</bpt>HDInsight<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Right-click an HDInsight cluster, and then click <bpt id=\"p1\">**</bpt>View Hive Jobs<ept id=\"p1\">**</ept>.",
      "pos": [
        10757,
        10825
      ]
    },
    {
      "content": "You'll see a list of the Hive jobs that ran on the cluster.",
      "pos": [
        10826,
        10885
      ]
    },
    {
      "pos": [
        10889,
        11044
      ],
      "content": "Click a job in the job list to select it, and then use the <bpt id=\"p1\">**</bpt>Hive Job Summary<ept id=\"p1\">**</ept> window to open <bpt id=\"p2\">**</bpt>Job Query<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Job Output<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Job Log<ept id=\"p4\">**</ept>, or <bpt id=\"p5\">**</bpt>Yarn log<ept id=\"p5\">**</ept>."
    },
    {
      "content": "Hadoop tools: HDInsight Visual Studio Tools view Hive jobs",
      "pos": [
        11052,
        11110
      ]
    },
    {
      "content": "Tez Hive job performance graph",
      "pos": [
        11121,
        11151
      ]
    },
    {
      "content": "The HDInsight Visual Studio Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine.",
      "pos": [
        11153,
        11272
      ]
    },
    {
      "content": "For information on enabling Tez, see [use Hive in HDInsight][hdinsight.hive].",
      "pos": [
        11273,
        11350
      ]
    },
    {
      "content": "After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.",
      "pos": [
        11351,
        11457
      ]
    },
    {
      "content": "You might need to click the <bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept> button to get the latest job status.",
      "pos": [
        11459,
        11535
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs.",
      "pos": [
        11539,
        11667
      ]
    },
    {
      "content": "This works for both Windows and Linux based clusters.",
      "pos": [
        11668,
        11721
      ]
    },
    {
      "content": "hadoop hive tez performance graph",
      "pos": [
        11725,
        11758
      ]
    },
    {
      "content": "Run Pig scripts",
      "pos": [
        11863,
        11878
      ]
    },
    {
      "content": "HDInsight Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters.",
      "pos": [
        11880,
        11977
      ]
    },
    {
      "content": "Users can create a Pig project from template, and then submit the script to HDInsight clusters.",
      "pos": [
        11978,
        12073
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        12078,
        12088
      ]
    },
    {
      "content": "In this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Hadoop tools package, and how to run a Hive query.",
      "pos": [
        12089,
        12235
      ]
    },
    {
      "content": "For more information, see:",
      "pos": [
        12236,
        12262
      ]
    },
    {
      "content": "[Use Hadoop Hive in HDInsight][hdinsight.hive]",
      "pos": [
        12266,
        12312
      ]
    },
    {
      "content": "[Get started using Hadoop in HDInsight][hdinsight.get.started]",
      "pos": [
        12315,
        12377
      ]
    },
    {
      "content": "[Submit Hadoop jobs in HDInsight][hdinsight.submit.jobs]",
      "pos": [
        12380,
        12436
      ]
    },
    {
      "content": "[Analyze Twitter data with Hadoop in HDInsight][hdinsight.analyze.twitter.data]",
      "pos": [
        12439,
        12518
      ]
    },
    {
      "content": "test",
      "pos": [
        14825,
        14829
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Learn to use Visual Studio Hadoop tools for HDInsight | Microsoft Azure\"\n    description=\"Learn how to install and use Visual Studio Hadoop tools for HDInsight to connect to a Hadoop cluster and run a Hive query.\"\n    keywords=\"hadoop tools,hive query,visual studio\"\n    services=\"HDInsight\"\n    documentationCenter=\"\"\n    tags=\"azure-portal\"\n    authors=\"mumian\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n    ms.service=\"hdinsight\"\n    ms.devlang=\"na\"\n    ms.topic=\"get-started-article\"\n    ms.tgt_pltfrm=\"na\"\n    ms.workload=\"big-data\"\n    ms.date=\"07/28/2015\"\n    ms.author=\"jgao\"/>\n\n# Get started using Visual Studio Hadoop tools for HDInsight to run a Hive query\n\nLearn how to use HDInsight Tools for Visual Studio to connect to HDInsight clusters and submit Hive queries. For more information about using HDInsight, see [Introduction to HDInsight][hdinsight.introduction] and [Get started with HDInsight][hdinsight.get.started]. For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio][hdinsight.storm.visual.studio.tools].\n\n>[AZURE.NOTE] The most recent release introduced some new features, such as Hive editor\n> support, Hive script local validation, and YARN log access.\n\n\n## Prerequisites\n\nTo complete this tutorial and use the Hadoop tools in Visual Studio, you'll need the following:\n\n- An Azure HDInsight cluster: Either a Linux-based or Windows-based cluster will work with the steps in this document. See one of the following for information on creating a cluster:\n\n    - [Get started using Linux-based HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md)\n    - [Get started using Windows-based HDInsight](hdinsight-hadoop-tutorial-get-started-windows.md)\n\n- A workstation with the following software:\n\n    - Windows 8.1, Windows 8, or Windows 7\n    - Visual Studio (one of the following versions):\n        - Visual Studio 2012 Professional/Premium/Ultimate with [Update 4](http://www.microsoft.com/download/details.aspx?id=39305)\n        - Visual Studio 2013 Community/Professional/Premium/Ultimate with [Update 4](https://www.microsoft.com/download/details.aspx?id=44921)\n        - Visual Studio 2015 (Community/Enterprise)\n\n    >[AZURE.NOTE] Currently, the HDInsight Tools for Visual Studio only come with the English version.\n\n\n## Install HDInsight tools for Visual Studio\n\nHDInsight Tools for Visual Studio is packaged with Microsoft Azure SDK for .NET version 2.5.1 or later. It can be installed by using the [Web Platform Installer](http://go.microsoft.com/fwlink/?LinkId=255386). You must choose the one that matches your version of Visual Studio. This Hadoop tools package also installs the Microsoft Hive ODBC Driver (32-bit and 64-bit).\n\n![Hadoop tools: HDinsight Tools for Visual Studio Web Platform installer.][1]\n\n\n>[AZURE.NOTE] If you have Visual Studio 2015 or 2012, and you have installed Azure SDK 2.5, you must manually remove the older version before installing the latest version. Visual Studio 2013 supports a direct update.\n\n## Connect to Azure subscriptions\nThe HDInsight Tools for Visual Studio allows you to connect to your HDInsight clusters, perform some basic management operations, and run Hive queries.\n\n>[AZURE.NOTE] For information on connecting to HDInsight Emulator, see [Get started with the HDInsight Emulator](../hdinsight-get-started-emulator.md/#vstools).\n\n>[AZURE.NOTE] For information on connecting to a generic Hadoop cluster (preview), see [Write and submit Hive queries using Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx).\n\n\n**To connect to your Azure subscription**\n\n1.  Open Visual Studio.\n2.  From the **View** menu, click **Server Explorer** to open the Server Explorer window.\n3.  Expand **Azure**, and then expand **HDInsight**.\n\n    >[AZURE.NOTE]Notice the **HDInsight Task List** window should be open. If you don't see it, click **Other Windows** from the **View** menu, and then click **HDInsight Task List Window**.  \n4.  Enter your Azure subscription credentials, and then click **Sign In**. This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.\n5.  In Server Explorer, you'll see a list of existing HDInsight clusters. If you don't have any clusters, you can provision one by using the Azure preview portal, Azure PowerShell, or the HDInsight SDK. For more information, see [Provision HDInsight clusters][hdinsight-provision].\n\n    ![Hadoop tools: HDInsight Tools for Visual Studio Server Explorer cluster list][5]\n6.  Expand an HDInsight cluster. You'll see **Hive Databases**, a default storage account, linked storage accounts, and **Hadoop Service log**. You can further expand the entities.\n\nAfter you've connected to your Azure subscription, you'll be able to do the following:\n\n**To connect to the Azure portal from Visual Studio**\n\n- From Server Explorer, expand **Azure** > **HDInsight**, right-click an HDInsight cluster, and then click **Manage Cluster in Azure Portal**.\n\n**To ask questions and provide feedback from Visual Studio**\n\n- From the **Tools** menu, click **HDInsight**, and then click **MSDN Forum** to ask questions, or click **Give Feedback**.\n\n## Navigate the linked resources\n\nFrom Server Explorer, you can see the default storage account and any linked storage accounts. If you expand the default storage account, you can see the containers on the storage account. The default storage account and the default container are marked. You can also right-click any of the containers to view the contents.\n\n![HDInsight Tools for Visual Studio server explorer cluster list][2]\n\n## Run a Hive query\n[Apache Hive][apache.hive] is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis. HDInsight Tools for Visual Studio supports running Hive queries from Visual Studio. For more information about Hive, see [Use Hive with HDInsight][hdinsight.hive].\n\nIt is time consuming to test Hive script against an HDInsight cluster. It could take several minutes or more. HDInsight Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.\n\nHDInsight Tools for Visual Studio also enables users to see what’s inside the Hive job by collecting and surfacing the YARN logs of certain Hive jobs.\n\n### View the **hivesampletable**\nAll HDInsight clusters come with a sample Hive table called *hivesampletable*. We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.\n\n\n\n**To list Hive tables and view Hive table schema**\n\n1.  From **Server Explorer**, expand **Azure** > **HDInsight** > the cluster of your choice > **Hive Databases** > **Default** > **hivesampletable** to see the table schema.\n4.  Right-click **hivesampletable**, and then click **View Top 100 Rows** to list the rows. It is equivalent to running the following Hive query using Hive ODBC driver:\n\n        SELECT * FROM hivesampletable LIMIT 100\n\n    You can customize the row count.\n\n    ![Hadoop tools: HDinsight Hive Visual Studio schema query][6]\n\n### Create Hive tables\n\nYou can use the GUI to create a Hive table or use Hive queries. For information about using Hive queries, see [Run Hive queries](#run.queries).\n\n**To create a Hive table**\n\n1. From **Server Explorer**, expand **Azure** > **HDInsight Clusters** an HDInsight cluster > **Hive Databases**, then right-click **default**, and click **Create Table**.\n2. Configure the table.\n3. Click **Create Table** to submit the job to create the new Hive table.\n\n    ![Hadoop tools: hdinsight visual studio tools create hive table][7]\n\n### <a name=\"run.queries\"></a>Validate and run Hive queries\nThere are two ways to create and run Hive queries:\n\n- Create ad-hoc queries\n- Create a Hive application\n\n**To create, validate, and run ad-hoc queries**\n\n1. From **Server Explorer**, expand **Azure**, and then expand **HDInsight Clusters**.\n2. Right-click the cluster where you want to run the query, and then click **Write a Hive Query**.\n3. Enter the Hive queries. Notice the Hive editor supports IntelliSense. HDInsight Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script. For example, when you type \"SELECT * FROM\", the IntelliSense lists all the suggested table names. When a table name is specified, the column names are listed by the IntelliSense. The tool supports almost all Hive DML statements, subqueries, and the built-in UDFs.\n\n    ![Hadoop tools: HDInsight Visual Studio Tools IntelliSense][13]\n\n    ![Hadoop tools: HDInsight Visual Studio Tools IntelliSense][14]\n\n    > [AZURE.NOTE] Only the metadata of the clusters that is selected in HDInsight Toolbar will be suggested.\n4. (Optional): Click **Validate Script** to check the script syntax errors.\n\n    ![Hadoop tools: hdinsight tools for Visual Studio local validation][10]\n\n4. Click **Submit** or **Submit (Advanced)**. With the advanced submit option, you'll configure **Job Name**, **Arguments**, **Additional Configurations**, and **Status Directory** for the script:\n\n    ![hdinsight hadoop hive query][9]\n\n    After you submit the job, you see a **Hive Job Summary** window.\n\n    ![Summary of an HDInsight Hadoop Hive query][8]\n5. Use the **Refresh** button to update the status until the job status changes to **Completed**.\n6. Click the links at the bottom to see the following: **Job Query**, **Job Output**, **Job log**, or **Yarn log**.\n\n\n\n**To create and run a Hive solution**\n\n1. From the **FILE** menu, click **New**, and then click **Project**.\n2. Select **HDInsight** from the left pane, select **Hive Application** in the middle pane, enter the properties, and then click **OK**.\n\n    ![Hadoop tools: hdinsight visual studio tools new hive project][11]\n3. From **Solution Explorer**, double-click **Script.hql** to open it.\n4. To validate the Hive script, you can click the **Validate Script** button, or right-click the script in the Hive editor, and then click **Validate Script** from the context menu.\n\n\n### View Hive jobs\nYou can view job queries, job output, job logs, and Yarn logs for Hive jobs. For more information, see the previous screenshot.\n\nThe most recent release of the tool allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs. A YARN log can help you investigating performance issues. For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically][hdinsight.access.application.logs].\n\n**To view Hive jobs**\n\n1. From **Server Explorer**, expand **Azure**, and then expand **HDInsight**.\n2. Right-click an HDInsight cluster, and then click **View Hive Jobs**. You'll see a list of the Hive jobs that ran on the cluster.\n3. Click a job in the job list to select it, and then use the **Hive Job Summary** window to open **Job Query**, **Job Output**, **Job Log**, or **Yarn log**.\n\n    ![Hadoop tools: HDInsight Visual Studio Tools view Hive jobs][12]\n\n### Tez Hive job performance graph\n\nThe HDInsight Visual Studio Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine. For information on enabling Tez, see [use Hive in HDInsight][hdinsight.hive]. After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.  You might need to click the **Refresh** button to get the latest job status.\n\n> [AZURE.NOTE] This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs. This works for both Windows and Linux based clusters.\n\n![hadoop hive tez performance graph](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png)\n\n## Run Pig scripts\n\nHDInsight Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters. Users can create a Pig project from template, and then submit the script to HDInsight clusters.\n\n## Next steps\nIn this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Hadoop tools package, and how to run a Hive query. For more information, see:\n\n- [Use Hadoop Hive in HDInsight][hdinsight.hive]\n- [Get started using Hadoop in HDInsight][hdinsight.get.started]\n- [Submit Hadoop jobs in HDInsight][hdinsight.submit.jobs]\n- [Analyze Twitter data with Hadoop in HDInsight][hdinsight.analyze.twitter.data]\n\n\n<!--Anchors-->\n[Installation]: #installation\n[Connect to your Azure subscription]: #connect-to-your-azure-subscription\n[Navigate the linked resources]: #navigate-the-linked-resources\n[Run Hive queries]: #run-hive-queries\n[Next steps]: #next-steps\n\n<!--Image references-->\n[1]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png\n[2]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png\n[5]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png\n[6]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png\n[7]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png\n[8]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png\n[9]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png\n[10]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png\n[11]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png\n[12]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png\n[13]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png\n[14]: ./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png\n\n\n<!--Link references-->\n[hdinsight-provision]: ../hdinsight/hdinsight-provision-clusters.md\n[hdinsight.introduction]: ../hdinsight-introduction.md\n[hdinsight.get.started]: ../hdinsight-get-started.md\n[hdinsight.hive]: ../hdinsight/hdinsight-use-hive.md\n[hdinsight.submit.jobs]: ../hdinsight/hdinsight-submit-hadoop-jobs-programmatically.md\n[hdinsight.analyze.twitter.data]: ../hdinsight/hdinsight-analyze-twitter-data.md\n[hdinsight.storm.visual.studio.tools]: ../hdinsight/hdinsight-storm-develop-csharp-visual-studio-topology.md\n[hdinsight.access.application.logs]: ../hdinsight/hdinsight-hadoop-access-yarn-app-logs.md\n\n[apache.hive]: http://hive.apache.org\n\ntest\n"
}