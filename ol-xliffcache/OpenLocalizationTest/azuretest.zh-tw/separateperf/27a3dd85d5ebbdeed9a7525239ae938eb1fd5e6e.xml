{
  "nodes": [
    {
      "content": "Role-based access control in the Microsoft Azure portal",
      "pos": [
        27,
        82
      ]
    },
    {
      "content": "Describes how role based access control works and how to set it up",
      "pos": [
        101,
        167
      ]
    },
    {
      "content": "Role-based access control in the Microsoft Azure portal",
      "pos": [
        474,
        529
      ]
    },
    {
      "content": "We’ve added support for role-based access control (RBAC) in the Microsoft Azure portal to help organizations meet their access management requirements simply and precisely.",
      "pos": [
        531,
        703
      ]
    },
    {
      "content": "The <bpt id=\"p1\">[</bpt>blog post<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=511576)</ept> will give you a quick introduction of the feature and get you started.",
      "pos": [
        704,
        837
      ]
    },
    {
      "content": "This topic describes the concepts in detail and covers additional use cases.",
      "pos": [
        838,
        914
      ]
    },
    {
      "content": "RBAC in Azure",
      "pos": [
        920,
        933
      ]
    },
    {
      "content": "Every Azure subscription is associated with an Azure Active Directory.",
      "pos": [
        935,
        1005
      ]
    },
    {
      "content": "Users and services that access resources of the subscription using the Microsoft Azure Management Portal or Azure Resource Manager API first need to authenticate with that Azure Active Directory.",
      "pos": [
        1006,
        1201
      ]
    },
    {
      "content": "![][1]",
      "pos": [
        1203,
        1209
      ]
    },
    {
      "content": "Azure role-based access control allows you to grant appropriate access to Azure AD users, groups, and services, by assigning roles to them on a subscription or resource group or individual resource level.",
      "pos": [
        1211,
        1415
      ]
    },
    {
      "content": "The assigned role defines the level of access that the users, groups, or services have on the Azure resource.",
      "pos": [
        1416,
        1525
      ]
    },
    {
      "content": "Role",
      "pos": [
        1531,
        1535
      ]
    },
    {
      "content": "A role is a collection of actions that can be performed on Azure resources.",
      "pos": [
        1537,
        1612
      ]
    },
    {
      "content": "A user or a service is allowed to perform an action on an Azure resource if they have been assigned a role that contains that action.",
      "pos": [
        1613,
        1746
      ]
    },
    {
      "content": "For a list of built-in roles and <bpt id=\"p1\">**</bpt>their<ept id=\"p1\">**</ept> actions and <bpt id=\"p2\">**</bpt>not actions<ept id=\"p2\">**</ept> properties, see <bpt id=\"p3\">[</bpt>Built-in roles<ept id=\"p3\">](#builtinroles)</ept>.",
      "pos": [
        1747,
        1866
      ]
    },
    {
      "content": "Role Assignment",
      "pos": [
        1872,
        1887
      ]
    },
    {
      "content": "Access is granted to Azure AD users and services by assigning the appropriate role to them on an Azure resource.",
      "pos": [
        1889,
        2001
      ]
    },
    {
      "content": "Azure AD Security Principals",
      "pos": [
        2008,
        2036
      ]
    },
    {
      "content": "Roles can be assigned to the following types of Azure AD security principals:",
      "pos": [
        2038,
        2115
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Users<ept id=\"p1\">**</ept>: roles can be assigned to organizational users that are in the Azure AD with which the Azure subscription is associated.",
      "pos": [
        2119,
        2249
      ]
    },
    {
      "content": "Roles can also be assigned to external Microsoft account users (such as joe@outlook.com) by using the Invite action to assign the user to a role in the Azure portal.",
      "pos": [
        2250,
        2415
      ]
    },
    {
      "content": "Assigning a role to an external Microsoft account user causes a guest account to be created in the Azure AD for it.",
      "pos": [
        2416,
        2531
      ]
    },
    {
      "content": "If this guest account is disabled in the directory, the external user won’t be allowed to access any Azure resource that the user has been granted access to.",
      "pos": [
        2532,
        2689
      ]
    },
    {
      "pos": [
        2692,
        3900
      ],
      "content": "**Groups**: roles can be assigned to Azure AD security groups. A user is automatically granted access to a resource if the user becomes a member of a group that has access. The user also automatically loses access to the resource after getting removed from the group. Managing access via groups by assigning roles to groups and adding users to those groups is the best practice, instead of assigning roles directly to users. Azure RBAC does not allow assigning roles to distribution lists.\n  The ability to assign roles to groups lets an organization extend its existing access control model from its on-premises directory to the cloud, so security groups that are already established to control access on-premises can be re-used to control access to resources in the Azure portal. For more information about different options for synchronizing users and groups from an on-premises directory, see [Directory integration](http://technet.microsoft.com/library/jj573653.aspx). Azure AD Premium also offers a [delegated group management feature](http://msdn.microsoft.com/library/azure/dn641267.aspx) with which the ability to create and manage groups can be delegated to non-administrator users from Azure AD.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "**Groups**: roles can be assigned to Azure AD security groups. A user is automatically granted access to a resource if the user becomes a member of a group that has access. The user also automatically loses access to the resource after getting removed from the group. Managing access via groups by assigning roles to groups and adding users to those groups is the best practice, instead of assigning roles directly to users. Azure RBAC does not allow assigning roles to distribution lists.",
          "pos": [
            0,
            489
          ],
          "nodes": [
            {
              "content": "<bpt id=\"p1\">**</bpt>Groups<ept id=\"p1\">**</ept>: roles can be assigned to Azure AD security groups.",
              "pos": [
                0,
                62
              ]
            },
            {
              "content": "A user is automatically granted access to a resource if the user becomes a member of a group that has access.",
              "pos": [
                63,
                172
              ]
            },
            {
              "content": "The user also automatically loses access to the resource after getting removed from the group.",
              "pos": [
                173,
                267
              ]
            },
            {
              "content": "Managing access via groups by assigning roles to groups and adding users to those groups is the best practice, instead of assigning roles directly to users.",
              "pos": [
                268,
                424
              ]
            },
            {
              "content": "Azure RBAC does not allow assigning roles to distribution lists.",
              "pos": [
                425,
                489
              ]
            }
          ]
        },
        {
          "content": "  The ability to assign roles to groups lets an organization extend its existing access control model from its on-premises directory to the cloud, so security groups that are already established to control access on-premises can be re-used to control access to resources in the Azure portal. For more information about different options for synchronizing users and groups from an on-premises directory, see [Directory integration](http://technet.microsoft.com/library/jj573653.aspx). Azure AD Premium also offers a [delegated group management feature](http://msdn.microsoft.com/library/azure/dn641267.aspx) with which the ability to create and manage groups can be delegated to non-administrator users from Azure AD.",
          "pos": [
            490,
            1206
          ],
          "nodes": [
            {
              "content": "The ability to assign roles to groups lets an organization extend its existing access control model from its on-premises directory to the cloud, so security groups that are already established to control access on-premises can be re-used to control access to resources in the Azure portal.",
              "pos": [
                2,
                291
              ]
            },
            {
              "content": "For more information about different options for synchronizing users and groups from an on-premises directory, see <bpt id=\"p1\">[</bpt>Directory integration<ept id=\"p1\">](http://technet.microsoft.com/library/jj573653.aspx)</ept>.",
              "pos": [
                292,
                483
              ]
            },
            {
              "content": "Azure AD Premium also offers a <bpt id=\"p1\">[</bpt>delegated group management feature<ept id=\"p1\">](http://msdn.microsoft.com/library/azure/dn641267.aspx)</ept> with which the ability to create and manage groups can be delegated to non-administrator users from Azure AD.",
              "pos": [
                484,
                716
              ]
            }
          ]
        }
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Service principals<ept id=\"p1\">**</ept>: service identities are represented as service principals in the directory.",
      "pos": [
        3903,
        4001
      ]
    },
    {
      "content": "They authenticate with Azure AD and securely communicate with one another.",
      "pos": [
        4002,
        4076
      ]
    },
    {
      "content": "Services can be granted access to Azure resources by assigning roles via the Azure module for Windows PowerShell to the Azure AD service principal representing that service.",
      "pos": [
        4077,
        4250
      ]
    },
    {
      "content": "Resource scope",
      "pos": [
        4257,
        4271
      ]
    },
    {
      "content": "Access does not need to be granted to the entire subscription.",
      "pos": [
        4273,
        4335
      ]
    },
    {
      "content": "Roles can also be assigned for resource groups as well as for individual resources.",
      "pos": [
        4336,
        4419
      ]
    },
    {
      "content": "In Azure RBAC, a resource inherits role assignments from its parent resources.",
      "pos": [
        4420,
        4498
      ]
    },
    {
      "content": "So if a user, group, or service is granted access to only a resource group within a subscription, they will be able to access only that resource group and resources within it, and not the other resources groups within the subscription.",
      "pos": [
        4499,
        4734
      ]
    },
    {
      "content": "As another example, a security group can be added to the Reader role for a resource group, but be added to the Contributor role for a database within that resource group.",
      "pos": [
        4735,
        4905
      ]
    },
    {
      "content": "![][2]",
      "pos": [
        4907,
        4913
      ]
    },
    {
      "content": "Co-existence of RBAC with subscription co-administrators",
      "pos": [
        4918,
        4974
      ]
    },
    {
      "content": "Subscription administrator and co-admins will continue to have full access to the Azure portals and management APIs.",
      "pos": [
        4976,
        5092
      ]
    },
    {
      "content": "In the RBAC model, they are assigned the Owner role at the subscription level.",
      "pos": [
        5093,
        5171
      ]
    },
    {
      "content": "However, the new RBAC model is supported only by the Azure portal and Azure Resource Manager APIs.",
      "pos": [
        5174,
        5272
      ]
    },
    {
      "content": "Users and services that are assigned RBAC roles cannot access the Azure Management Portal and the Service Management APIs.",
      "pos": [
        5273,
        5395
      ]
    },
    {
      "content": "Adding a user to the Owner role of a subscription in the Azure portal does not make that user a co-administrator of the subscription in the full Azure portal.",
      "pos": [
        5396,
        5554
      ]
    },
    {
      "content": "If you wish to grant access to a user to an Azure Resource that isn’t yet available to be managed via the Azure portal, you should add them to the subscription co-administrators using the Azure Management Portal.",
      "pos": [
        5556,
        5768
      ]
    },
    {
      "content": "Service Bus and StorSimple are examples of resources that cannot be managed by using RBAC today.",
      "pos": [
        5769,
        5865
      ]
    },
    {
      "content": "Authorization for management versus data operations",
      "pos": [
        5870,
        5921
      ]
    },
    {
      "content": "Role-based access control is supported only for management operations of the Azure resources in Azure portal and Azure Resource Manager APIs.",
      "pos": [
        5923,
        6064
      ]
    },
    {
      "content": "Not all data level operations for Azure resources can be authorized via RBAC.",
      "pos": [
        6065,
        6142
      ]
    },
    {
      "content": "For instance, create/read/update/delete of Storage Accounts can be controlled via RBAC, but create/read/update/delete of blobs or tables within the Storage Account cannot yet be controlled via RBAC.",
      "pos": [
        6143,
        6341
      ]
    },
    {
      "content": "Similarly, create/read/update/delete of a SQL DB can be controlled via RBAC but create/read/update/delete of SQL tables within the DB cannot yet be controlled via RBAC.",
      "pos": [
        6342,
        6510
      ]
    },
    {
      "content": "How to add and remove access",
      "pos": [
        6515,
        6543
      ]
    },
    {
      "content": "Let’s take a look at an example of how a resource owner in an organization can manage access.",
      "pos": [
        6545,
        6638
      ]
    },
    {
      "content": "In this scenario, you have multiple people working on a variety of test and production projects that are built using Azure resources.",
      "pos": [
        6639,
        6772
      ]
    },
    {
      "content": "You want to follow best practices for granting access.",
      "pos": [
        6773,
        6827
      ]
    },
    {
      "content": "Users should have access to all resources that they need, but no additional access.",
      "pos": [
        6828,
        6911
      ]
    },
    {
      "content": "You want to re-use all the investments you have made in processes and tooling to use security groups that are mastered in an on-premises Active Directory.",
      "pos": [
        6912,
        7066
      ]
    },
    {
      "content": "These sections cover how you set up access to these resources:",
      "pos": [
        7067,
        7129
      ]
    },
    {
      "content": "Add access",
      "pos": [
        7134,
        7144
      ]
    },
    {
      "content": "Remove access",
      "pos": [
        7162,
        7175
      ]
    },
    {
      "content": "Add or remove access for external user",
      "pos": [
        7196,
        7234
      ]
    },
    {
      "content": "Add access",
      "pos": [
        7282,
        7292
      ]
    },
    {
      "content": "Here is a summary of the access requirements and how they are set up in Azure.",
      "pos": [
        7294,
        7372
      ]
    },
    {
      "content": "User/Group",
      "pos": [
        7374,
        7384
      ]
    },
    {
      "content": "Access requirement",
      "pos": [
        7388,
        7406
      ]
    },
    {
      "content": "role and scope for access",
      "pos": [
        7410,
        7435
      ]
    },
    {
      "content": "All of Jill Santos’ team",
      "pos": [
        7482,
        7506
      ]
    },
    {
      "content": "Read all Azure resources",
      "pos": [
        7510,
        7534
      ]
    },
    {
      "content": "Add the AD group that represents Jill Santos’ team to Reader role for the Azure subscription",
      "pos": [
        7538,
        7630
      ]
    },
    {
      "content": "All of Jill Santos’ team",
      "pos": [
        7631,
        7655
      ]
    },
    {
      "content": "Create and manage all resources in the Test resource group",
      "pos": [
        7659,
        7717
      ]
    },
    {
      "content": "Add the AD group that represents Jill Santos’ team to Contributor role for the Test resource group",
      "pos": [
        7721,
        7819
      ]
    },
    {
      "content": "Brock",
      "pos": [
        7820,
        7825
      ]
    },
    {
      "content": "Create and manage all resources in the Prod resource group",
      "pos": [
        7829,
        7887
      ]
    },
    {
      "content": "Add Brock to Contributor role for the Prod resource group",
      "pos": [
        7891,
        7948
      ]
    },
    {
      "content": "First, let’s add Read access for all resources of the subscription.",
      "pos": [
        7951,
        8018
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Browse &gt; Everything &gt; Subscriptions<ept id=\"p1\">**</ept>.",
      "pos": [
        8019,
        8065
      ]
    },
    {
      "content": "![][3]",
      "pos": [
        8067,
        8073
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">*</bpt>name of your subscription<ept id=\"p1\">*</ept> ** &gt; Reader &gt; Add**.",
      "pos": [
        8075,
        8129
      ]
    },
    {
      "content": "From the list of users and groups, select or type the name of the Active Directory group.",
      "pos": [
        8130,
        8219
      ]
    },
    {
      "content": "![][4]",
      "pos": [
        8221,
        8227
      ]
    },
    {
      "content": "Then add the same team to the Contributor role of the Test resource group.",
      "pos": [
        8229,
        8303
      ]
    },
    {
      "content": "Click the resource group to open its property blade.",
      "pos": [
        8304,
        8356
      ]
    },
    {
      "content": "Under <bpt id=\"p1\">**</bpt>Roles<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Contributor &gt; Add<ept id=\"p2\">**</ept> and type the name of the team.",
      "pos": [
        8357,
        8432
      ]
    },
    {
      "content": "![][5]",
      "pos": [
        8434,
        8440
      ]
    },
    {
      "pos": [
        8442,
        8582
      ],
      "content": "To add Brock to the Contributor role of the Prod resource group, click the resource group click <bpt id=\"p1\">**</bpt>Contributor &gt; Add<ept id=\"p1\">**</ept> and type Brock’s name."
    },
    {
      "content": "![][6]",
      "pos": [
        8584,
        8590
      ]
    },
    {
      "content": "Role assignments can also be managed by using the Microsoft Azure module for Windows PowerShell.",
      "pos": [
        8592,
        8688
      ]
    },
    {
      "content": "Here is an example of adding Brock's account by using the New-AzureRoleAssignment cmdlet rather than the portal:",
      "pos": [
        8689,
        8801
      ]
    },
    {
      "pos": [
        8923,
        9107
      ],
      "content": "For more information about using Windows PowerShell to add and remove access, see <bpt id=\"p1\">[</bpt>Managing role-based access control with Windows PowerShell<ept id=\"p1\">](role-based-access-control-powershell.md)</ept>."
    },
    {
      "content": "Remove access",
      "pos": [
        9113,
        9126
      ]
    },
    {
      "content": "You can also remove assignments easily.",
      "pos": [
        9128,
        9167
      ]
    },
    {
      "content": "Let’s say you want to remove a user named Brad Adams from the Reader role for a resource group named TestDB.",
      "pos": [
        9168,
        9276
      ]
    },
    {
      "content": "Open the resource group blade, click <bpt id=\"p1\">**</bpt>Reader &gt; Brad Adams &gt; Remove<ept id=\"p1\">**</ept>.",
      "pos": [
        9277,
        9347
      ]
    },
    {
      "content": "![][7]",
      "pos": [
        9349,
        9355
      ]
    },
    {
      "content": "Here is an example of how to remove Brad Adams by using the Remove-AzureRoleAssignment cmdlet:",
      "pos": [
        9357,
        9451
      ]
    },
    {
      "content": "Add or remove access for external user",
      "pos": [
        9575,
        9613
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> tab of a directory includes options to control access for external users.",
      "pos": [
        9615,
        9706
      ]
    },
    {
      "content": "These options can be changed only in the UI (there is no Windows PowerShell or API method) in the full Azure portal by a directory global administrator.",
      "pos": [
        9707,
        9859
      ]
    },
    {
      "content": "To open the <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> tab in the Azure portal, click <bpt id=\"p2\">**</bpt>Active Directory<ept id=\"p2\">**</ept>, and then click the name of the directory.",
      "pos": [
        9860,
        9980
      ]
    },
    {
      "content": "![][10]",
      "pos": [
        9982,
        9989
      ]
    },
    {
      "content": "Then you can edit the options to control access for external users.",
      "pos": [
        9991,
        10058
      ]
    },
    {
      "content": "![][8]",
      "pos": [
        10060,
        10066
      ]
    },
    {
      "content": "By default, guests cannot enumerate the contents of the directory, so they do not see any users or groups in the <bpt id=\"p1\">**</bpt>Member List<ept id=\"p1\">**</ept>.",
      "pos": [
        10068,
        10197
      ]
    },
    {
      "content": "They can search for a user by typing the user's full email address, and then grant access.",
      "pos": [
        10198,
        10288
      ]
    },
    {
      "content": "The set of default restrictions for guests are:",
      "pos": [
        10289,
        10336
      ]
    },
    {
      "content": "They cannot enumerate users and groups in the directory.",
      "pos": [
        10340,
        10396
      ]
    },
    {
      "content": "They can see limited details of a user if they know the user's email address.",
      "pos": [
        10399,
        10476
      ]
    },
    {
      "content": "They can see limited details of a group when they know the group name.",
      "pos": [
        10479,
        10549
      ]
    },
    {
      "content": "The ability for guests to see limited details of a user or group allows them to invite other people and see some details of people with whom they are collaborating.",
      "pos": [
        10551,
        10715
      ]
    },
    {
      "content": "Let’s step through the process to add access for an external user.",
      "pos": [
        10719,
        10785
      ]
    },
    {
      "content": "We’ll add an external user to the same Reader role for TestDB resource group so that user can help debug an error.",
      "pos": [
        10786,
        10900
      ]
    },
    {
      "content": "Open the resource group blade, click <bpt id=\"p1\">**</bpt>Reader &gt; Add &gt; Invite<ept id=\"p1\">**</ept> and type the email address of the user you want to add.",
      "pos": [
        10901,
        11019
      ]
    },
    {
      "content": "![][9]",
      "pos": [
        11021,
        11027
      ]
    },
    {
      "content": "When you add an external user, a guest is created in the directory.",
      "pos": [
        11029,
        11096
      ]
    },
    {
      "content": "Thereafter, that guest can be added to a group or removed from a group, or you can add or remove it individually from a role just like you would for any other directory users.",
      "pos": [
        11097,
        11272
      ]
    },
    {
      "content": "You can also remove a guest from any role, just as you would remove any user.",
      "pos": [
        11274,
        11351
      ]
    },
    {
      "content": "Removing the guest from a role on a resource does not remove the guest from the directory.",
      "pos": [
        11352,
        11442
      ]
    },
    {
      "content": "How to track changes to role assignments",
      "pos": [
        11447,
        11487
      ]
    },
    {
      "content": "Changes to role assignments are logged in the <bpt id=\"p1\">[</bpt>Audit logs<ept id=\"p1\">](http://azure.microsoft.com/updates/audit-logs-in-azure-preview-portal/)</ept>, similar to other events.",
      "pos": [
        11489,
        11645
      ]
    },
    {
      "content": "The log of role assignment changes can be retrieved using <bpt id=\"p1\">[</bpt>Azure PowerShell<ept id=\"p1\">](https://msdn.microsoft.com/library/azure/jj156055.aspx)</ept> or the <bpt id=\"p2\">[</bpt>Azure Resource Manager REST API<ept id=\"p2\">](https://msdn.microsoft.com/library/azure/dn931927.aspx)</ept>.",
      "pos": [
        11647,
        11877
      ]
    },
    {
      "content": "For example, to retrieve the list of role assignment changes for an entire subscription, run the following two cmdlets with Azure PowerShell.",
      "pos": [
        11879,
        12020
      ]
    },
    {
      "content": "The first one switches to Azure Resource Manager mode.",
      "pos": [
        12021,
        12075
      ]
    },
    {
      "content": "Role assignment changes are captured in events where the ResourceProviderName is <ph id=\"ph1\">`Microsoft.Authorization`</ph>.",
      "pos": [
        12212,
        12319
      ]
    },
    {
      "content": "The actual detail of the assignment is captured in the event detail: what principal was assigned, to what role, for what scope.",
      "pos": [
        12321,
        12448
      ]
    },
    {
      "content": "Role assignment changes are visible when browsing audit logs in the portal, but the portal does not show the event detail.",
      "pos": [
        12450,
        12572
      ]
    },
    {
      "content": "To view event detail, you must use Azure PowerShell.",
      "pos": [
        12573,
        12625
      ]
    },
    {
      "content": "Event detail",
      "pos": [
        12630,
        12642
      ]
    },
    {
      "content": "Here's an example of an event detail for a role assignment change:",
      "pos": [
        12644,
        12710
      ]
    },
    {
      "content": "The information in the event is interpreted as follows:",
      "pos": [
        17631,
        17686
      ]
    },
    {
      "content": "Field",
      "pos": [
        17690,
        17695
      ]
    },
    {
      "content": "Value",
      "pos": [
        17698,
        17703
      ]
    },
    {
      "content": "Details",
      "pos": [
        17706,
        17713
      ]
    },
    {
      "content": "Caller",
      "pos": [
        17738,
        17744
      ]
    },
    {
      "content": "The principal that made the role assignment.",
      "pos": [
        17779,
        17823
      ]
    },
    {
      "content": "The principal could be a user, group, or service principal.",
      "pos": [
        17824,
        17883
      ]
    },
    {
      "content": "HttpRequest:  Method",
      "pos": [
        17886,
        17906
      ]
    },
    {
      "content": "The action taken.",
      "pos": [
        17917,
        17934
      ]
    },
    {
      "content": "PUT grants an assignment and DELETE removes an assignment.",
      "pos": [
        17936,
        17994
      ]
    },
    {
      "content": "Properties:  PrincipalId",
      "pos": [
        17999,
        18023
      ]
    },
    {
      "content": "The Object ID of the principal that was assigned to the role.",
      "pos": [
        18069,
        18130
      ]
    },
    {
      "content": "The principal could be a user, group, or service principal.",
      "pos": [
        18132,
        18191
      ]
    },
    {
      "content": "You can determine the name and type of the principal by looking it up in Azure Active Directory using Azure PowerShell.",
      "pos": [
        18192,
        18311
      ]
    },
    {
      "content": "Properties:  RoleDefinitionId",
      "pos": [
        18316,
        18345
      ]
    },
    {
      "content": "The role that was assigned.",
      "pos": [
        18494,
        18521
      ]
    },
    {
      "content": "You can determined the display name of the role using Azure PowerShell.",
      "pos": [
        18523,
        18594
      ]
    },
    {
      "content": "Properties:  Scope",
      "pos": [
        18599,
        18617
      ]
    },
    {
      "content": "The resource on which the role assignment was made.",
      "pos": [
        18777,
        18828
      ]
    },
    {
      "content": "This can be a resource, resource group, or subscription.",
      "pos": [
        18830,
        18886
      ]
    },
    {
      "content": "Sample PowerShell code snippets",
      "pos": [
        18893,
        18924
      ]
    },
    {
      "content": "First, here's some sample Azure PowerShell code to map a PrincipalId to a name and type:",
      "pos": [
        18926,
        19014
      ]
    },
    {
      "content": "Next, here's some sample Azure PowerShell code to map a Scope to a resource name and type:",
      "pos": [
        19832,
        19922
      ]
    },
    {
      "content": "Next, here’s some sample Azure PowerShell code to map a RoleDefinitionId to a role’s display name:",
      "pos": [
        20661,
        20759
      ]
    },
    {
      "content": "Sample Azure PowerShell script",
      "pos": [
        21222,
        21252
      ]
    },
    {
      "content": "Putting it all together, here is an sample script that retrieves role assignment events for a given date range, and outputs them as a table:",
      "pos": [
        21254,
        21394
      ]
    },
    {
      "content": "And here are the commands to run the script",
      "pos": [
        25408,
        25451
      ]
    },
    {
      "content": "Known issues when using role-based access control",
      "pos": [
        25541,
        25590
      ]
    },
    {
      "pos": [
        25592,
        25817
      ],
      "content": "If you encounter a problem when you use role based access control feature, see <bpt id=\"p1\">[</bpt>Troubleshooting role-based access control<ept id=\"p1\">](role-based-access-control-troubleshooting.md)</ept> for any known issues that may be related to the problem."
    },
    {
      "content": "Built-in roles",
      "pos": [
        25823,
        25837
      ]
    },
    {
      "content": "Azure role-based access control comes with the following built-in roles that can be assigned to users, groups, and services.",
      "pos": [
        25839,
        25963
      ]
    },
    {
      "content": "You can’t modify the definition of built-in roles.",
      "pos": [
        25964,
        26014
      ]
    },
    {
      "content": "In an upcoming release of Azure RBAC, you will be able to define custom roles by composing a set of actions from a list of available actions that can be performed on Azure resources.",
      "pos": [
        26015,
        26197
      ]
    },
    {
      "content": "Click the corresponding link to see the <bpt id=\"p1\">**</bpt>actions<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>not actions<ept id=\"p2\">**</ept> properties of a role definition.",
      "pos": [
        26199,
        26303
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>actions<ept id=\"p1\">**</ept> property specifies the allowed actions on Azure resources.",
      "pos": [
        26304,
        26378
      ]
    },
    {
      "content": "Action strings can use wildcard characters.",
      "pos": [
        26379,
        26422
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>not actions<ept id=\"p1\">**</ept> property of a role definition specifies the actions that must be excluded from the allowed actions.",
      "pos": [
        26423,
        26542
      ]
    },
    {
      "content": "Role name",
      "pos": [
        26545,
        26554
      ]
    },
    {
      "content": "Description",
      "pos": [
        26558,
        26569
      ]
    },
    {
      "content": "API Management Service Contributor",
      "pos": [
        26603,
        26637
      ]
    },
    {
      "content": "Lets you manage API Management service, but not access to them.",
      "pos": [
        26678,
        26741
      ]
    },
    {
      "content": "Application Insights Component Contributor",
      "pos": [
        26743,
        26785
      ]
    },
    {
      "content": "Lets you manage Application Insights components, but not access to them.",
      "pos": [
        26834,
        26906
      ]
    },
    {
      "content": "BizTalk Contributor",
      "pos": [
        26908,
        26927
      ]
    },
    {
      "content": "Lets you manage BizTalk services, but not access to them.",
      "pos": [
        26953,
        27010
      ]
    },
    {
      "content": "ClearDB MySQL DB Contributor",
      "pos": [
        27012,
        27040
      ]
    },
    {
      "content": "Lets you manage ClearDB MySQL databases, but not access to them.",
      "pos": [
        27075,
        27139
      ]
    },
    {
      "content": "Contributor",
      "pos": [
        27141,
        27152
      ]
    },
    {
      "content": "Contributors can manage everything except access.",
      "pos": [
        27170,
        27219
      ]
    },
    {
      "content": "Data Factory Contributor",
      "pos": [
        27221,
        27245
      ]
    },
    {
      "content": "Lets you manage data factories, but not access to them.",
      "pos": [
        27276,
        27331
      ]
    },
    {
      "content": "Document DB Account Contributor",
      "pos": [
        27333,
        27364
      ]
    },
    {
      "content": "Lets you manage DocumentDB accounts, but not access to them.",
      "pos": [
        27402,
        27462
      ]
    },
    {
      "content": "Intelligent Systems Account Contributor",
      "pos": [
        27464,
        27503
      ]
    },
    {
      "content": "Lets you manage Intelligent Systems accounts, but not access to them.",
      "pos": [
        27549,
        27618
      ]
    },
    {
      "content": "NewRelic APM Account Contributor",
      "pos": [
        27620,
        27652
      ]
    },
    {
      "content": "Lets you manage New Relic Application Performance Management accounts and applications, but not access to them.",
      "pos": [
        27691,
        27802
      ]
    },
    {
      "content": "Owner",
      "pos": [
        27804,
        27809
      ]
    },
    {
      "content": "Owner can manage everything, including access.",
      "pos": [
        27821,
        27867
      ]
    },
    {
      "content": "Reader",
      "pos": [
        27869,
        27875
      ]
    },
    {
      "content": "Readers can view everything, but can't make changes.",
      "pos": [
        27888,
        27940
      ]
    },
    {
      "content": "Redis Cache Contributor",
      "pos": [
        27942,
        27965
      ]
    },
    {
      "content": "Lets you manage Redis caches, but not access to them.",
      "pos": [
        27995,
        28048
      ]
    },
    {
      "content": "SQL DB Contributor",
      "pos": [
        28050,
        28068
      ]
    },
    {
      "content": "Lets you manage SQL databases, but not access to them.",
      "pos": [
        28093,
        28147
      ]
    },
    {
      "content": "Also, you can’t manage their security-related policies or their parent SQL servers.",
      "pos": [
        28148,
        28231
      ]
    },
    {
      "content": "SQL Security Manager",
      "pos": [
        28233,
        28253
      ]
    },
    {
      "content": "Lets you manage the security-related policies of SQL servers and databases, but not access to them.",
      "pos": [
        28280,
        28379
      ]
    },
    {
      "content": "SQL Server Contributor",
      "pos": [
        28381,
        28403
      ]
    },
    {
      "content": "Lets you manage SQL servers and databases, but not access to them, and not their security-related policies.",
      "pos": [
        28432,
        28539
      ]
    },
    {
      "content": "Scheduler Job Collections Contributor",
      "pos": [
        28541,
        28578
      ]
    },
    {
      "content": "Lets you manage Scheduler job collections, but not access to them.",
      "pos": [
        28622,
        28688
      ]
    },
    {
      "content": "Search Service Contributor",
      "pos": [
        28690,
        28716
      ]
    },
    {
      "content": "Lets you manage Search services, but not access to them.",
      "pos": [
        28749,
        28805
      ]
    },
    {
      "content": "Storage Account Contributor",
      "pos": [
        28807,
        28834
      ]
    },
    {
      "content": "Lets you manage storage accounts, but not access to them.",
      "pos": [
        28868,
        28925
      ]
    },
    {
      "content": "User Access Administrator",
      "pos": [
        28927,
        28952
      ]
    },
    {
      "content": "Lets you manage user access to Azure resources.",
      "pos": [
        28984,
        29031
      ]
    },
    {
      "content": "Virtual Machine Contributor",
      "pos": [
        29033,
        29060
      ]
    },
    {
      "content": "Lets you manage virtual machines, but not access to them, and not the virtual network or storage account they’re connected to.",
      "pos": [
        29094,
        29220
      ]
    },
    {
      "content": "Virtual Network Contributor",
      "pos": [
        29222,
        29249
      ]
    },
    {
      "content": "Lets you manage virtual networks, but not access to them.",
      "pos": [
        29283,
        29340
      ]
    },
    {
      "content": "Web Plan Contributor",
      "pos": [
        29342,
        29362
      ]
    },
    {
      "content": "Lets you manage the web plans for websites, but not access to them.",
      "pos": [
        29389,
        29456
      ]
    },
    {
      "content": "Website Contributor",
      "pos": [
        29458,
        29477
      ]
    },
    {
      "content": "Lets you manage websites (not web plans), but not access to them.",
      "pos": [
        29503,
        29568
      ]
    },
    {
      "content": "API Management Service Contributor",
      "pos": [
        29575,
        29609
      ]
    },
    {
      "content": "Actions",
      "pos": [
        29658,
        29665
      ]
    },
    {
      "content": "Microsoft.ApiManagement/Services/*",
      "pos": [
        29686,
        29720
      ]
    },
    {
      "content": "Create and Manage API Management Services",
      "pos": [
        29730,
        29771
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        29792,
        29822
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        29832,
        29863
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        29884,
        29937
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        29947,
        29967
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        29988,
        30050
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        30060,
        30104
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        30125,
        30156
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        30166,
        30195
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        30216,
        30235
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        30245,
        30278
      ]
    },
    {
      "content": "Application Insights Component Contributor",
      "pos": [
        30304,
        30346
      ]
    },
    {
      "content": "Actions",
      "pos": [
        30395,
        30402
      ]
    },
    {
      "content": "Microsoft.Insights/components/*",
      "pos": [
        30423,
        30454
      ]
    },
    {
      "content": "Create and Manage Insights Components",
      "pos": [
        30464,
        30501
      ]
    },
    {
      "content": "Microsoft.Insights/webtests/*",
      "pos": [
        30522,
        30551
      ]
    },
    {
      "content": "Create and Manage Web Tests",
      "pos": [
        30561,
        30588
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        30609,
        30639
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        30649,
        30680
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        30701,
        30754
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        30764,
        30784
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        30805,
        30867
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        30877,
        30921
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        30942,
        30973
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        30983,
        31012
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        31028,
        31047
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        31057,
        31090
      ]
    },
    {
      "content": "BizTalk Contributor",
      "pos": [
        31116,
        31135
      ]
    },
    {
      "content": "Actions",
      "pos": [
        31184,
        31191
      ]
    },
    {
      "content": "Microsoft.BizTalkServices/BizTalk/*",
      "pos": [
        31212,
        31247
      ]
    },
    {
      "content": "Create and Manage BizTalk Services",
      "pos": [
        31257,
        31291
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        31312,
        31342
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        31352,
        31383
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        31404,
        31457
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        31467,
        31487
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        31508,
        31570
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        31580,
        31624
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        31645,
        31676
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        31686,
        31715
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        31736,
        31755
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        31765,
        31798
      ]
    },
    {
      "content": "ClearDB MySQL DB Contributor",
      "pos": [
        31824,
        31852
      ]
    },
    {
      "content": "Actions",
      "pos": [
        31901,
        31908
      ]
    },
    {
      "content": "successbricks.cleardb/databases/*",
      "pos": [
        31929,
        31962
      ]
    },
    {
      "content": "Create and Manage ClearDB MySQL Databases",
      "pos": [
        31972,
        32013
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        32034,
        32064
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        32074,
        32105
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        32126,
        32179
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        32189,
        32209
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        32230,
        32292
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        32302,
        32346
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        32367,
        32398
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        32408,
        32437
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        32458,
        32477
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        32487,
        32520
      ]
    },
    {
      "content": "Contributor",
      "pos": [
        32546,
        32557
      ]
    },
    {
      "content": "Actions",
      "pos": [
        32606,
        32613
      ]
    },
    {
      "content": "Create and Manage Resources of All Types",
      "pos": [
        32645,
        32685
      ]
    },
    {
      "content": "Not Actions",
      "pos": [
        32718,
        32729
      ]
    },
    {
      "content": "Microsoft.Authorization/*/Write",
      "pos": [
        32750,
        32781
      ]
    },
    {
      "content": "Can’t Create Roles and Role Assignments",
      "pos": [
        32791,
        32830
      ]
    },
    {
      "content": "Microsoft.Authorization/*/Delete",
      "pos": [
        32852,
        32884
      ]
    },
    {
      "content": "Can’t Delete Roles and Role Assignments",
      "pos": [
        32894,
        32933
      ]
    },
    {
      "content": "Data Factory Contributor",
      "pos": [
        32959,
        32983
      ]
    },
    {
      "content": "Microsoft.DataFactory/dataFactories/*",
      "pos": [
        33020,
        33057
      ]
    },
    {
      "content": "Create and Manage Data Factories",
      "pos": [
        33067,
        33099
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        33120,
        33150
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        33160,
        33191
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        33212,
        33265
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        33275,
        33295
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        33316,
        33378
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        33388,
        33432
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        33453,
        33484
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        33494,
        33523
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        33544,
        33563
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        33573,
        33606
      ]
    },
    {
      "content": "Document DB Account Contributor",
      "pos": [
        33632,
        33663
      ]
    },
    {
      "content": "Actions",
      "pos": [
        33712,
        33719
      ]
    },
    {
      "content": "Microsoft.DocumentDb/databaseAccounts/*",
      "pos": [
        33740,
        33779
      ]
    },
    {
      "content": "Create and Manage DocumentDB Accounts",
      "pos": [
        33789,
        33826
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        33847,
        33877
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        33887,
        33918
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        33939,
        33992
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        34002,
        34022
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        34043,
        34105
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        34115,
        34159
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        34180,
        34211
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        34221,
        34250
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        34271,
        34290
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        34300,
        34333
      ]
    },
    {
      "content": "Intelligent Systems Account Contributor",
      "pos": [
        34359,
        34398
      ]
    },
    {
      "content": "Actions",
      "pos": [
        34447,
        34454
      ]
    },
    {
      "content": "Microsoft.IntelligentSystems/accounts/*",
      "pos": [
        34475,
        34514
      ]
    },
    {
      "content": "Create and Manage Intelligent Systems Accounts",
      "pos": [
        34524,
        34570
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        34591,
        34621
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        34631,
        34662
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        34683,
        34736
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        34746,
        34766
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        34787,
        34849
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        34859,
        34903
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        34924,
        34955
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        34965,
        34994
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        35015,
        35034
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        35044,
        35077
      ]
    },
    {
      "content": "NewRelic APM Account Contributor",
      "pos": [
        35103,
        35135
      ]
    },
    {
      "content": "Actions",
      "pos": [
        35184,
        35191
      ]
    },
    {
      "content": "NewRelic.APM/accounts/*",
      "pos": [
        35212,
        35235
      ]
    },
    {
      "content": "Create and Manage NewRelic Application Performance Management Accounts",
      "pos": [
        35245,
        35315
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        35336,
        35366
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        35376,
        35407
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        35428,
        35481
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        35491,
        35511
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        35532,
        35594
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        35604,
        35648
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        35669,
        35700
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        35710,
        35739
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        35760,
        35779
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        35789,
        35822
      ]
    },
    {
      "content": "Owner",
      "pos": [
        35848,
        35853
      ]
    },
    {
      "content": "Actions",
      "pos": [
        35902,
        35909
      ]
    },
    {
      "content": "Create and Manage Resources of All Types",
      "pos": [
        35941,
        35981
      ]
    },
    {
      "content": "Reader",
      "pos": [
        36007,
        36013
      ]
    },
    {
      "content": "Actions",
      "pos": [
        36062,
        36069
      ]
    },
    {
      "content": "*/read",
      "pos": [
        36090,
        36096
      ]
    },
    {
      "content": "Read Resources of All Types.",
      "pos": [
        36106,
        36134
      ]
    },
    {
      "content": "Can’t read secrets though.",
      "pos": [
        36135,
        36161
      ]
    },
    {
      "content": "Redis Cache Contributor",
      "pos": [
        36187,
        36210
      ]
    },
    {
      "content": "Microsoft.Cache/redis/*",
      "pos": [
        36247,
        36270
      ]
    },
    {
      "content": "Create and Manage Redis Caches",
      "pos": [
        36280,
        36310
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        36331,
        36361
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        36371,
        36402
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        36423,
        36476
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        36486,
        36506
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        36527,
        36589
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        36599,
        36643
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        36664,
        36695
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        36705,
        36734
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        36755,
        36774
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        36784,
        36817
      ]
    },
    {
      "content": "SQL DB Contributor",
      "pos": [
        36843,
        36861
      ]
    },
    {
      "content": "Actions",
      "pos": [
        36910,
        36917
      ]
    },
    {
      "content": "Microsoft.Sql/servers/read",
      "pos": [
        36938,
        36964
      ]
    },
    {
      "content": "Read SQL Servers",
      "pos": [
        36974,
        36990
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/*",
      "pos": [
        37011,
        37044
      ]
    },
    {
      "content": "Create and Manage SQL Databases",
      "pos": [
        37054,
        37085
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        37106,
        37136
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        37146,
        37177
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resources/read",
      "pos": [
        37198,
        37246
      ]
    },
    {
      "content": "Read subscription resources",
      "pos": [
        37256,
        37283
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        37304,
        37357
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        37367,
        37387
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/resources/read",
      "pos": [
        37408,
        37471
      ]
    },
    {
      "content": "Read Resource Group resources",
      "pos": [
        37481,
        37510
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        37531,
        37593
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        37603,
        37647
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        37668,
        37699
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        37709,
        37738
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        37759,
        37778
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        37788,
        37821
      ]
    },
    {
      "content": "Not Actions",
      "pos": [
        37854,
        37865
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/auditingPolicies/*",
      "pos": [
        37886,
        37936
      ]
    },
    {
      "content": "Can’t Manage SQL Database Auditing Policies",
      "pos": [
        37946,
        37989
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/connectionPolicies/*",
      "pos": [
        38010,
        38062
      ]
    },
    {
      "content": "Can’t Manage SQL Database Connection Policies",
      "pos": [
        38072,
        38117
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/dataMaskingPolicies/*",
      "pos": [
        38138,
        38191
      ]
    },
    {
      "content": "Can’t Manage SQL Database Data Masking Policies",
      "pos": [
        38201,
        38248
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/securityMetrics/*",
      "pos": [
        38269,
        38318
      ]
    },
    {
      "content": "Can’t Manage SQL Database Security Metrics",
      "pos": [
        38328,
        38370
      ]
    },
    {
      "content": "SQL Security Manager",
      "pos": [
        38396,
        38416
      ]
    },
    {
      "content": "Actions",
      "pos": [
        38465,
        38472
      ]
    },
    {
      "content": "Microsoft.Sql/servers/read",
      "pos": [
        38493,
        38519
      ]
    },
    {
      "content": "Read SQL Servers",
      "pos": [
        38529,
        38545
      ]
    },
    {
      "content": "Microsoft.Sql/servers/auditingPolicies/*",
      "pos": [
        38566,
        38606
      ]
    },
    {
      "content": "Create and Manage SQL Server Auditing Policies",
      "pos": [
        38616,
        38662
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/read",
      "pos": [
        38683,
        38719
      ]
    },
    {
      "content": "Read SQL Databases",
      "pos": [
        38729,
        38747
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/auditingPolicies/*",
      "pos": [
        38768,
        38818
      ]
    },
    {
      "content": "Create and Manage SQL Database Auditing Policies",
      "pos": [
        38828,
        38876
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/connectionPolicies/*",
      "pos": [
        38897,
        38949
      ]
    },
    {
      "content": "Create and Manage SQL Database Connection Policies",
      "pos": [
        38959,
        39009
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/dataMaskingPolicies/*",
      "pos": [
        39030,
        39083
      ]
    },
    {
      "content": "Create and Manage SQL Database Data Masking Policies",
      "pos": [
        39093,
        39145
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/securityMetrics/*",
      "pos": [
        39166,
        39215
      ]
    },
    {
      "content": "Create and Manage SQL Database Security Metrics",
      "pos": [
        39225,
        39272
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        39293,
        39323
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        39333,
        39364
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        39385,
        39438
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        39448,
        39468
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        39489,
        39551
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        39561,
        39605
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        39626,
        39657
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        39667,
        39696
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        39717,
        39736
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        39746,
        39779
      ]
    },
    {
      "content": "SQL Server Contributor",
      "pos": [
        39805,
        39827
      ]
    },
    {
      "content": "Actions",
      "pos": [
        39876,
        39883
      ]
    },
    {
      "content": "Microsoft.Sql/servers/*",
      "pos": [
        39904,
        39927
      ]
    },
    {
      "content": "Create and Manage SQL Servers",
      "pos": [
        39937,
        39966
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        39987,
        40017
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        40027,
        40058
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resources/read",
      "pos": [
        40079,
        40127
      ]
    },
    {
      "content": "Read subscription resources",
      "pos": [
        40137,
        40164
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        40185,
        40238
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        40248,
        40268
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/resources/read",
      "pos": [
        40289,
        40352
      ]
    },
    {
      "content": "Read Resource Group resources",
      "pos": [
        40362,
        40391
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        40412,
        40474
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        40484,
        40528
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        40549,
        40580
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        40590,
        40619
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        40640,
        40659
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        40669,
        40702
      ]
    },
    {
      "content": "Not Actions",
      "pos": [
        40735,
        40746
      ]
    },
    {
      "content": "Microsoft.Sql/servers/auditingPolicies/*",
      "pos": [
        40767,
        40807
      ]
    },
    {
      "content": "Can’t Manage SQL Server Auditing Policies",
      "pos": [
        40817,
        40858
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/auditingPolicies/*",
      "pos": [
        40879,
        40929
      ]
    },
    {
      "content": "Can’t Manage SQL Database Auditing Policies",
      "pos": [
        40939,
        40982
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/connectionPolicies/*",
      "pos": [
        41003,
        41055
      ]
    },
    {
      "content": "Can’t Manage SQL Database Connection Policies",
      "pos": [
        41065,
        41110
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/dataMaskingPolicies/*",
      "pos": [
        41131,
        41184
      ]
    },
    {
      "content": "Can’t Manage SQL Database Data Masking Policies",
      "pos": [
        41194,
        41241
      ]
    },
    {
      "content": "Microsoft.Sql/servers/databases/securityMetrics/*",
      "pos": [
        41262,
        41311
      ]
    },
    {
      "content": "Can’t Manage SQL Database Security Metrics",
      "pos": [
        41321,
        41363
      ]
    },
    {
      "content": "Scheduler Job Collections Contributor",
      "pos": [
        41389,
        41426
      ]
    },
    {
      "content": "Actions",
      "pos": [
        41475,
        41482
      ]
    },
    {
      "content": "Microsoft.Scheduler/jobcollections/*",
      "pos": [
        41503,
        41539
      ]
    },
    {
      "content": "Create and Manage Scheduler Job Collections",
      "pos": [
        41549,
        41592
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        41613,
        41643
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        41653,
        41684
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        41705,
        41758
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        41768,
        41788
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        41809,
        41871
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        41881,
        41925
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        41946,
        41977
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        41987,
        42016
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        42037,
        42056
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        42066,
        42099
      ]
    },
    {
      "content": "Search Service Contributor",
      "pos": [
        42125,
        42151
      ]
    },
    {
      "content": "Actions",
      "pos": [
        42200,
        42207
      ]
    },
    {
      "content": "Microsoft.Search/searchServices/*",
      "pos": [
        42228,
        42261
      ]
    },
    {
      "content": "Create and Manage Search Services",
      "pos": [
        42271,
        42304
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        42325,
        42355
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        42365,
        42396
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        42417,
        42470
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        42480,
        42500
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        42521,
        42583
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        42593,
        42637
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        42658,
        42689
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        42699,
        42728
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        42749,
        42768
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        42778,
        42811
      ]
    },
    {
      "content": "Storage Account Contributor",
      "pos": [
        42837,
        42864
      ]
    },
    {
      "content": "Actions",
      "pos": [
        42913,
        42920
      ]
    },
    {
      "content": "Microsoft.ClassicStorage/storageAccounts/*",
      "pos": [
        42941,
        42983
      ]
    },
    {
      "content": "Create and Manage Storage Accounts",
      "pos": [
        42993,
        43027
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        43048,
        43078
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        43088,
        43119
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        43140,
        43193
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        43203,
        43223
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        43244,
        43306
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        43316,
        43360
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        43381,
        43412
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        43422,
        43451
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        43472,
        43491
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        43501,
        43534
      ]
    },
    {
      "content": "User Access Administrator",
      "pos": [
        43560,
        43585
      ]
    },
    {
      "content": "Actions",
      "pos": [
        43634,
        43641
      ]
    },
    {
      "content": "*/read",
      "pos": [
        43662,
        43668
      ]
    },
    {
      "content": "Read Resources of All Types",
      "pos": [
        43678,
        43705
      ]
    },
    {
      "content": "Microsoft.Authorization/*",
      "pos": [
        43726,
        43751
      ]
    },
    {
      "content": "Create and Manage Roles and Role Assignments",
      "pos": [
        43761,
        43805
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        43826,
        43845
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        43855,
        43888
      ]
    },
    {
      "content": "Virtual Machine Contributor",
      "pos": [
        43914,
        43941
      ]
    },
    {
      "content": "Actions",
      "pos": [
        43990,
        43997
      ]
    },
    {
      "content": "Microsoft.ClassicStorage/storageAccounts/read",
      "pos": [
        44018,
        44063
      ]
    },
    {
      "content": "Read Storage Accounts",
      "pos": [
        44073,
        44094
      ]
    },
    {
      "content": "Microsoft.ClassicStorage/storageAccounts/listKeys/action",
      "pos": [
        44115,
        44171
      ]
    },
    {
      "content": "Retrieve Storage Account Keys",
      "pos": [
        44181,
        44210
      ]
    },
    {
      "content": "Microsoft.ClassicNetwork/virtualNetworks/read",
      "pos": [
        44231,
        44276
      ]
    },
    {
      "content": "Read Virtual Networks",
      "pos": [
        44286,
        44307
      ]
    },
    {
      "content": "Microsoft.ClassicNetwork/virtualNetworks/join/action",
      "pos": [
        44328,
        44380
      ]
    },
    {
      "content": "Join Virtual Networks",
      "pos": [
        44390,
        44411
      ]
    },
    {
      "content": "Microsoft.ClassicNetwork/reservedIps/read",
      "pos": [
        44432,
        44473
      ]
    },
    {
      "content": "Read Reserved IP Addresses",
      "pos": [
        44483,
        44509
      ]
    },
    {
      "content": "Microsoft.ClassicNetwork/reservedIps/link/action",
      "pos": [
        44530,
        44578
      ]
    },
    {
      "content": "Link to Reserved IP Addresses",
      "pos": [
        44588,
        44617
      ]
    },
    {
      "content": "Microsoft.ClassicCompute/domainNames/*",
      "pos": [
        44638,
        44676
      ]
    },
    {
      "content": "Create and Manage Cloud Services",
      "pos": [
        44686,
        44718
      ]
    },
    {
      "content": "Microsoft.ClassicCompute/virtualMachines/*",
      "pos": [
        44739,
        44781
      ]
    },
    {
      "content": "Create and Manage Virtual Machines",
      "pos": [
        44791,
        44825
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        44846,
        44876
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        44886,
        44917
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        44938,
        44991
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        45001,
        45021
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        45042,
        45104
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        45114,
        45158
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        45179,
        45210
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        45220,
        45249
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        45270,
        45289
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        45299,
        45332
      ]
    },
    {
      "content": "Virtual Network Contributor",
      "pos": [
        45358,
        45385
      ]
    },
    {
      "content": "Actions",
      "pos": [
        45434,
        45441
      ]
    },
    {
      "content": "Microsoft.ClassicNetwork/virtualNetworks/*",
      "pos": [
        45462,
        45504
      ]
    },
    {
      "content": "Create and Manage Virtual Networks",
      "pos": [
        45514,
        45548
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        45569,
        45599
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        45609,
        45640
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        45661,
        45714
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        45724,
        45744
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        45765,
        45827
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        45837,
        45881
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        45902,
        45933
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        45943,
        45972
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        45993,
        46012
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        46022,
        46055
      ]
    },
    {
      "content": "Web Plan Contributor",
      "pos": [
        46081,
        46101
      ]
    },
    {
      "content": "Actions",
      "pos": [
        46150,
        46157
      ]
    },
    {
      "content": "Microsoft.Web/serverFarms/*",
      "pos": [
        46178,
        46205
      ]
    },
    {
      "content": "Create and Manage Web Plans",
      "pos": [
        46215,
        46242
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        46263,
        46293
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        46303,
        46334
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        46355,
        46408
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        46418,
        46438
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        46459,
        46521
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        46531,
        46575
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        46596,
        46627
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        46637,
        46666
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        46687,
        46706
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        46716,
        46749
      ]
    },
    {
      "content": "Website Contributor",
      "pos": [
        46775,
        46794
      ]
    },
    {
      "content": "Actions",
      "pos": [
        46843,
        46850
      ]
    },
    {
      "content": "Microsoft.Web/serverFarms/read",
      "pos": [
        46871,
        46901
      ]
    },
    {
      "content": "Read Web Plans",
      "pos": [
        46911,
        46925
      ]
    },
    {
      "content": "Microsoft.Web/serverFarms/join/action",
      "pos": [
        46946,
        46983
      ]
    },
    {
      "content": "Join Web Plans",
      "pos": [
        46993,
        47007
      ]
    },
    {
      "content": "Microsoft.Web/sites/*",
      "pos": [
        47028,
        47049
      ]
    },
    {
      "content": "Create and Manage Web Sites",
      "pos": [
        47059,
        47086
      ]
    },
    {
      "content": "Microsoft.Web/certificates/*",
      "pos": [
        47107,
        47135
      ]
    },
    {
      "content": "Create and Manage Web Site Certificates",
      "pos": [
        47145,
        47184
      ]
    },
    {
      "content": "Microsoft.Authorization/*/read",
      "pos": [
        47205,
        47235
      ]
    },
    {
      "content": "Read Roles and Role Assignments",
      "pos": [
        47245,
        47276
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/read",
      "pos": [
        47297,
        47350
      ]
    },
    {
      "content": "Read Resource Groups",
      "pos": [
        47360,
        47380
      ]
    },
    {
      "content": "Microsoft.Resources/subscriptions/resourceGroups/deployments/*",
      "pos": [
        47401,
        47463
      ]
    },
    {
      "content": "Create and Manage Resource Group Deployments",
      "pos": [
        47473,
        47517
      ]
    },
    {
      "content": "Microsoft.Insights/alertRules/*",
      "pos": [
        47538,
        47569
      ]
    },
    {
      "content": "Create and Manage Alert Rules",
      "pos": [
        47579,
        47608
      ]
    },
    {
      "content": "Microsoft.Support/*",
      "pos": [
        47629,
        47648
      ]
    },
    {
      "content": "Create and Manage Support Tickets",
      "pos": [
        47658,
        47691
      ]
    },
    {
      "content": "How to provide feedback",
      "pos": [
        47717,
        47740
      ]
    },
    {
      "pos": [
        47742,
        47820
      ],
      "content": "Please try Azure RBAC and send us <bpt id=\"p1\">[</bpt>feedback<ept id=\"p1\">](http://aka.ms/azurerbacfeedback)</ept>."
    },
    {
      "content": "Next steps",
      "pos": [
        47826,
        47836
      ]
    },
    {
      "content": "Here are some additional resources to help you use role-based access control:",
      "pos": [
        47838,
        47915
      ]
    },
    {
      "content": "Managing role-based access control with Windows PowerShell",
      "pos": [
        47920,
        47978
      ]
    },
    {
      "content": "Managing role-based access control with Azure CLI",
      "pos": [
        48024,
        48073
      ]
    },
    {
      "content": "Troubleshooting role-based access control",
      "pos": [
        48118,
        48159
      ]
    },
    {
      "content": "Azure Active Directory Premium and Basic",
      "pos": [
        48210,
        48250
      ]
    },
    {
      "content": "How Azure subscriptions are associated with Azure AD",
      "pos": [
        48285,
        48337
      ]
    },
    {
      "pos": [
        48401,
        48621
      ],
      "content": "For an introduction to self-service group management for security groups, see the <bpt id=\"p1\">[</bpt>Active Directory Team Blog<ept id=\"p1\">](http://blogs.technet.com/b/ad/archive/2014/02/24/more-preview-enhancements-for-windows-azure-ad-premium.aspx)</ept>"
    },
    {
      "content": "test",
      "pos": [
        49388,
        49392
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Role-based access control in the Microsoft Azure portal\"\n    description=\"Describes how role based access control works and how to set it up\"\n    services=\"\"\n    documentationCenter=\"\"\n    authors=\"IHenkel\"\n    manager=\"stevenpo\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"multiple\"\n    ms.devlang=\"dotnet\"\n    ms.topic=\"article\"\n    ms.tgt_pltfrm=\"Ibiza\"\n    ms.workload=\"infrastructure-services\"\n    ms.date=\"08/14/2015\"\n    ms.author=\"inhenk\"/>\n\n# Role-based access control in the Microsoft Azure portal\n\nWe’ve added support for role-based access control (RBAC) in the Microsoft Azure portal to help organizations meet their access management requirements simply and precisely. The [blog post](http://go.microsoft.com/fwlink/?LinkId=511576) will give you a quick introduction of the feature and get you started. This topic describes the concepts in detail and covers additional use cases.\n\n\n## RBAC in Azure\n\nEvery Azure subscription is associated with an Azure Active Directory. Users and services that access resources of the subscription using the Microsoft Azure Management Portal or Azure Resource Manager API first need to authenticate with that Azure Active Directory.\n\n![][1]\n\nAzure role-based access control allows you to grant appropriate access to Azure AD users, groups, and services, by assigning roles to them on a subscription or resource group or individual resource level. The assigned role defines the level of access that the users, groups, or services have on the Azure resource.\n\n### Role\n\nA role is a collection of actions that can be performed on Azure resources. A user or a service is allowed to perform an action on an Azure resource if they have been assigned a role that contains that action. For a list of built-in roles and **their** actions and **not actions** properties, see [Built-in roles](#builtinroles).\n\n### Role Assignment\n\nAccess is granted to Azure AD users and services by assigning the appropriate role to them on an Azure resource.\n\n#### Azure AD Security Principals\n\nRoles can be assigned to the following types of Azure AD security principals:\n\n+ **Users**: roles can be assigned to organizational users that are in the Azure AD with which the Azure subscription is associated. Roles can also be assigned to external Microsoft account users (such as joe@outlook.com) by using the Invite action to assign the user to a role in the Azure portal. Assigning a role to an external Microsoft account user causes a guest account to be created in the Azure AD for it. If this guest account is disabled in the directory, the external user won’t be allowed to access any Azure resource that the user has been granted access to.\n+ **Groups**: roles can be assigned to Azure AD security groups. A user is automatically granted access to a resource if the user becomes a member of a group that has access. The user also automatically loses access to the resource after getting removed from the group. Managing access via groups by assigning roles to groups and adding users to those groups is the best practice, instead of assigning roles directly to users. Azure RBAC does not allow assigning roles to distribution lists.\n    The ability to assign roles to groups lets an organization extend its existing access control model from its on-premises directory to the cloud, so security groups that are already established to control access on-premises can be re-used to control access to resources in the Azure portal. For more information about different options for synchronizing users and groups from an on-premises directory, see [Directory integration](http://technet.microsoft.com/library/jj573653.aspx). Azure AD Premium also offers a [delegated group management feature](http://msdn.microsoft.com/library/azure/dn641267.aspx) with which the ability to create and manage groups can be delegated to non-administrator users from Azure AD.\n+ **Service principals**: service identities are represented as service principals in the directory. They authenticate with Azure AD and securely communicate with one another. Services can be granted access to Azure resources by assigning roles via the Azure module for Windows PowerShell to the Azure AD service principal representing that service.\n\n#### Resource scope\n\nAccess does not need to be granted to the entire subscription. Roles can also be assigned for resource groups as well as for individual resources. In Azure RBAC, a resource inherits role assignments from its parent resources. So if a user, group, or service is granted access to only a resource group within a subscription, they will be able to access only that resource group and resources within it, and not the other resources groups within the subscription. As another example, a security group can be added to the Reader role for a resource group, but be added to the Contributor role for a database within that resource group.\n\n![][2]\n\n## Co-existence of RBAC with subscription co-administrators\n\nSubscription administrator and co-admins will continue to have full access to the Azure portals and management APIs. In the RBAC model, they are assigned the Owner role at the subscription level.  \nHowever, the new RBAC model is supported only by the Azure portal and Azure Resource Manager APIs. Users and services that are assigned RBAC roles cannot access the Azure Management Portal and the Service Management APIs. Adding a user to the Owner role of a subscription in the Azure portal does not make that user a co-administrator of the subscription in the full Azure portal.\n\nIf you wish to grant access to a user to an Azure Resource that isn’t yet available to be managed via the Azure portal, you should add them to the subscription co-administrators using the Azure Management Portal. Service Bus and StorSimple are examples of resources that cannot be managed by using RBAC today.\n\n## Authorization for management versus data operations\n\nRole-based access control is supported only for management operations of the Azure resources in Azure portal and Azure Resource Manager APIs. Not all data level operations for Azure resources can be authorized via RBAC. For instance, create/read/update/delete of Storage Accounts can be controlled via RBAC, but create/read/update/delete of blobs or tables within the Storage Account cannot yet be controlled via RBAC. Similarly, create/read/update/delete of a SQL DB can be controlled via RBAC but create/read/update/delete of SQL tables within the DB cannot yet be controlled via RBAC.\n\n## How to add and remove access\n\nLet’s take a look at an example of how a resource owner in an organization can manage access. In this scenario, you have multiple people working on a variety of test and production projects that are built using Azure resources. You want to follow best practices for granting access. Users should have access to all resources that they need, but no additional access. You want to re-use all the investments you have made in processes and tooling to use security groups that are mastered in an on-premises Active Directory. These sections cover how you set up access to these resources:\n\n* [Add access](#add-access)\n* [Remove access](#remove-access)\n* [Add or remove access for external user](#add-or-remove-access-for-external-user)\n\n### Add access\n\nHere is a summary of the access requirements and how they are set up in Azure.\n\nUser/Group  | Access requirement  | role and scope for access\n------------- | -------------  | ------------\nAll of Jill Santos’ team  | Read all Azure resources  | Add the AD group that represents Jill Santos’ team to Reader role for the Azure subscription\nAll of Jill Santos’ team  | Create and manage all resources in the Test resource group  | Add the AD group that represents Jill Santos’ team to Contributor role for the Test resource group\nBrock  | Create and manage all resources in the Prod resource group  | Add Brock to Contributor role for the Prod resource group\n\n\nFirst, let’s add Read access for all resources of the subscription. Click **Browse > Everything > Subscriptions**.\n\n![][3]\n\nClick *name of your subscription* ** > Reader > Add**. From the list of users and groups, select or type the name of the Active Directory group.\n\n![][4]\n\nThen add the same team to the Contributor role of the Test resource group. Click the resource group to open its property blade. Under **Roles**, click **Contributor > Add** and type the name of the team.\n\n![][5]\n\nTo add Brock to the Contributor role of the Prod resource group, click the resource group click **Contributor > Add** and type Brock’s name.\n\n![][6]\n\nRole assignments can also be managed by using the Microsoft Azure module for Windows PowerShell. Here is an example of adding Brock's account by using the New-AzureRoleAssignment cmdlet rather than the portal:\n\n    PS C:\\> New-AzureRoleAssignment -Mail brockh@contoso.com -RoleDefinitionName Contributor -ResourceGroupName ProdDB\n\nFor more information about using Windows PowerShell to add and remove access, see [Managing role-based access control with Windows PowerShell](role-based-access-control-powershell.md).\n\n### Remove access\n\nYou can also remove assignments easily. Let’s say you want to remove a user named Brad Adams from the Reader role for a resource group named TestDB. Open the resource group blade, click **Reader > Brad Adams > Remove**.\n\n![][7]\n\nHere is an example of how to remove Brad Adams by using the Remove-AzureRoleAssignment cmdlet:\n\n    PS C:\\> Remove-AzureRoleAssignment -Mail badams@contoso.com -RoleDefinitionName Reader -ResourceGroupName TestDB\n\n### Add or remove access for external user\n\nThe **Configure** tab of a directory includes options to control access for external users. These options can be changed only in the UI (there is no Windows PowerShell or API method) in the full Azure portal by a directory global administrator.\nTo open the **Configure** tab in the Azure portal, click **Active Directory**, and then click the name of the directory.\n\n![][10]\n\nThen you can edit the options to control access for external users.\n\n![][8]\n\nBy default, guests cannot enumerate the contents of the directory, so they do not see any users or groups in the **Member List**. They can search for a user by typing the user's full email address, and then grant access. The set of default restrictions for guests are:\n\n- They cannot enumerate users and groups in the directory.\n- They can see limited details of a user if they know the user's email address.\n- They can see limited details of a group when they know the group name.\n\nThe ability for guests to see limited details of a user or group allows them to invite other people and see some details of people with whom they are collaborating.  \n\nLet’s step through the process to add access for an external user. We’ll add an external user to the same Reader role for TestDB resource group so that user can help debug an error. Open the resource group blade, click **Reader > Add > Invite** and type the email address of the user you want to add.\n\n![][9]\n\nWhen you add an external user, a guest is created in the directory. Thereafter, that guest can be added to a group or removed from a group, or you can add or remove it individually from a role just like you would for any other directory users.\n\nYou can also remove a guest from any role, just as you would remove any user. Removing the guest from a role on a resource does not remove the guest from the directory.\n\n## How to track changes to role assignments\n\nChanges to role assignments are logged in the [Audit logs](http://azure.microsoft.com/updates/audit-logs-in-azure-preview-portal/), similar to other events.  The log of role assignment changes can be retrieved using [Azure PowerShell](https://msdn.microsoft.com/library/azure/jj156055.aspx) or the [Azure Resource Manager REST API](https://msdn.microsoft.com/library/azure/dn931927.aspx).\n\nFor example, to retrieve the list of role assignment changes for an entire subscription, run the following two cmdlets with Azure PowerShell. The first one switches to Azure Resource Manager mode.\n\n`Switch-AzureMode -name AzureResourceManager`\n\n`Get-AzureSubscriptionIdLog –DetailedOutput -StartTime '06-15-15' -EndTime '06-29-15'`\n\nRole assignment changes are captured in events where the ResourceProviderName is `Microsoft.Authorization`.  The actual detail of the assignment is captured in the event detail: what principal was assigned, to what role, for what scope.  Role assignment changes are visible when browsing audit logs in the portal, but the portal does not show the event detail. To view event detail, you must use Azure PowerShell.\n\n###Event detail\n\nHere's an example of an event detail for a role assignment change:\n\n```\nAuthorization        :\n                       Scope     : /subscriptions/ff945b8d-441a-41ef-a9db-7bd5fcc99978/resourceGroups/Default-Storage-W\n                       estUS/providers/Microsoft.ClassicStorage/storageAccounts/authzwaes/providers/Microsoft.Authoriza\n                       tion/roleAssignments/531f036a-37ff-40c1-9bb9-aa580ebe7e78\n                       Action    : Microsoft.Authorization/roleAssignments/write\n                       Role      : Subscription Admin\n                       Condition :\nCaller               : William.Hennum@contoso.com\nClaims               :\n                       aud            : https://management.core.windows.net/\n                       iss            : https://sts.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/\n                       iat            : 1435333533\n                       nbf            : 1435333533\n                       exp            : 1435337433\n                       ver            : 1.0\n                       http://schemas.microsoft.com/identity/claims/tenantid: 72f988bf-86f1-41af-91ab-2d7cd011db47\n                       http://schemas.microsoft.com/identity/claims/objectidentifier:\n                       dda50086-5e3d-4a4b-b8bc-f54771104d89\n                       http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn: William.Hennum@contoso.com\n                       puid           : 10030000803CDC0B\n                       http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier:\n                       MJwntjqWaULfl30NJMiDRVSVCWMX5GzmMNU4oqitDXs\n                       http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname: William\n                       http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname: Hennum\n                       name           : William Hennum\n                       http://schemas.microsoft.com/claims/authnmethodsreferences: rsa,wia,mfa\n                       _claim_names   : {\"groups\":\"src1\"}\n                       _claim_sources : {\"src1\":{\"endpoint\":\"https://graph.windows.net/72f988bf-86f1-41af-91ab-2d7cd011\n                       db47/users/dda50086-5e3d-4a4b-b8bc-f54771104d89/getMemberObjects\"}}\n                       http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: William.Hennum@contoso.com\n                       onprem_sid     : S-1-5-21-1721254763-462695806-1538882281-3175325\n                       appid          : c44b4083-3bb0-49c1-b47d-974e53cbdf3c\n                       appidacr       : 2\n                       http://schemas.microsoft.com/identity/claims/scope: user_impersonation\n                       http://schemas.microsoft.com/claims/authnclassreference: 1\nCorrelationId        : d724ffd0-31a4-4564-941b-f3a5d32ad8a4\nDescription          :\nEventChannels        : Operation\nEventDataId          : ed8e79b6-c7d1-4332-adcf-70d37546c5a6\nEventName            : BeginRequest\nEventSource          : Administrative\nEventTimestamp       : 6/26/2015 3:53:34 PM\nHttpRequest          :\n                       ClientId        : F7272386-295A-4545-96BD-21F0856A43FE\n                       Method          : PUT\n                       Url             :\n                       ClientIpAddress : 23.99.81.159\nId                   : /subscriptions/ff945b8d-441a-41ef-a9db-7bd5fcc99978/resourceGroups/Default-Storage-WestUS/provid\n                       ers/Microsoft.ClassicStorage/storageAccounts/authzwaes/providers/Microsoft.Authorization/roleAss\n                       ignments/531f036a-37ff-40c1-9bb9-aa580ebe7e78/events/ed8e79b6-c7d1-4332-adcf-70d37546c5a6/ticks/\n                       635709308140011864\nLevel                : Informational\nOperationId          : d724ffd0-31a4-4564-941b-f3a5d32ad8a4\nOperationName        : Microsoft.Authorization/roleAssignments/write\nProperties           :\n                       requestbody    : {\"Id\":\"531f036a-37ff-40c1-9bb9-aa580ebe7e78\",\"Properties\":{\"PrincipalId\":\"dda50\n                       086-5e3d-4a4b-b8bc-f54771104d89\",\"RoleDefinitionId\":\"/subscriptions/ff945b8d-441a-41ef-a9db-7bd5\n                       fcc99978/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7\"\n                       ,\"Scope\":\"/subscriptions/ff945b8d-441a-41ef-a9db-7bd5fcc99978/resourceGroups/Default-Storage-Wes\n                       tUS/providers/Microsoft.ClassicStorage/storageAccounts/authzwaes\"}}\nResourceGroupName    : Default-Storage-WestUS\nResourceProviderName : Microsoft.Authorization\nResourceId           : /subscriptions/ff945b8d-441a-41ef-a9db-7bd5fcc99978/resourceGroups/Default-Storage-WestUS/provid\n                       ers/Microsoft.ClassicStorage/storageAccounts/authzwaes/providers/Microsoft.Authorization/roleAss\n                       ignments/531f036a-37ff-40c1-9bb9-aa580ebe7e78\nStatus               : Started\nSubmissionTimestamp  : 6/26/2015 3:53:50 PM\nSubscriptionId       : ff945b8d-441a-41ef-a9db-7bd5fcc99978\nSubStatus            :`\n```\n\nThe information in the event is interpreted as follows:\n\n| Field | Value | Details |\n| --- | --- | --- |\n| Caller |  `William.Hennum@contoso.com` | The principal that made the role assignment. The principal could be a user, group, or service principal.\n| HttpRequest:  Method | `PUT` | The action taken.  PUT grants an assignment and DELETE removes an assignment. |\n| Properties:  PrincipalId  | `dda50086-5e3d-4a4b-b8bc-f54771104d89` |  The Object ID of the principal that was assigned to the role.  The principal could be a user, group, or service principal. You can determine the name and type of the principal by looking it up in Azure Active Directory using Azure PowerShell. |\n| Properties:  RoleDefinitionId |   `/subscriptions/ff945b8d-441a-41ef-a9db-7bd5fcc99978/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7 ` | The role that was assigned.  You can determined the display name of the role using Azure PowerShell. |\n| Properties:  Scope | `/subscriptions/ff945b8d-441a-41ef-a9db-7bd5fcc99978/resourceGroups/Default-Storage-WestUS/providers/Microsoft.ClassicStorage/storageAccounts/authzwaes` |   The resource on which the role assignment was made.  This can be a resource, resource group, or subscription. |\n\n###Sample PowerShell code snippets\n\nFirst, here's some sample Azure PowerShell code to map a PrincipalId to a name and type:\n\n```\n# Sample - how to resolve a principal\nfunction Get-PrincipalDetails($principalId)\n{\n    $principalDetails = \"\" | select Name, Type\n    $user = Get-AzureADUser -ObjectId $principalId\n    if ($user) {\n        $principalDetails.Name = $user.DisplayName\n        $principalDetails.Type = \"User\"\n    } else {\n        $group = Get-AzureADGroup -ObjectId $principalId\n        if ($group) {\n            $principalDetails.Name = $group.DisplayName\n            $principalDetails.Type = \"Group\"\n        } else {\n            $servicePrincipal = Get-AZureADServicePrincipal -objectId $principalId\n            if ($servicePrincipal) {\n                $principalDetails.Name = $servicePrincipal.DisplayName\n                $principalDetails.Type = \"Service Principal\"\n            }\n        }\n    }\n\n    $principalDetails\n}\n```\n\nNext, here's some sample Azure PowerShell code to map a Scope to a resource name and type:\n\n```\n# Sample - how to resolve a resource\nfunction Get-ResourceDetails($resourceId)\n{\n    $resourceDetails = \"\" | select Name, Type\n    $resource = Get-AzureResource -Id $resourceId -OutputObjectFormat New\n    if ($resource) {\n        if ($resource.ResourceName) {\n            $resourceDetails.Name = $resource.ResourceName\n            $resourceDetails.Type = \"Resource\"\n        } elseif ($resource.ResourceGroupName) {\n            $resourceDetails.Name = $resource.ResourceGroupName\n            $resourceDetails.Type = \"Resource Group\"\n        } elseif ($resource.SubscriptionId) {\n            $resourceDetails.Name = $resource.SubscriptionId\n            $resourceDetails.Type = \"Subscription\"\n        }\n    }\n    $resourceDetails\n}\n```\nNext, here’s some sample Azure PowerShell code to map a RoleDefinitionId to a role’s display name:\n\n```\n\n# Get the name of a role\nfunction Get-AzureRoleDefinitionName($roleDefinitionId)\n{\n    if (!$Global:_azureRoleDefinitionCache) {\n        $Global:_azureRoleDefinitionCache = @{}\n        Get-AzureRoleDefinition | % { $Global:_azureRoleDefinitionCache[$_.Id] = $_; }\n    }\n\n    if ($Global:_azureRoleDefinitionCache[$roleDefinitionId]) {\n        return $Global:_azureRoleDefinitionCache[$roleDefinitionId].Name\n    } else {\n        return \"\"\n    }\n}\n\n```\n\n###Sample Azure PowerShell script\n\nPutting it all together, here is an sample script that retrieves role assignment events for a given date range, and outputs them as a table:\n\n```\n# Sample - how to resolve a principal\nfunction Get-PrincipalDetails($principalId)\n{\n    $principalDetails = \"\" | select Name, Type\n    $user = Get-AzureADUser -ObjectId $principalId\n    if ($user) {\n        $principalDetails.Name = $user.DisplayName\n        $principalDetails.Type = \"User\"\n    } else {\n        $group = Get-AzureADGroup -ObjectId $principalId\n        if ($group) {\n            $principalDetails.Name = $group.DisplayName\n            $principalDetails.Type = \"Group\"\n        } else {\n            $servicePrincipal = Get-AZureADServicePrincipal -objectId $principalId\n            if ($servicePrincipal) {\n                $principalDetails.Name = $servicePrincipal.DisplayName\n                $principalDetails.Type = \"Service Principal\"\n            }\n        }\n    }\n\n    $principalDetails\n}\n# Sample - how to resolve a resource\nfunction Get-ResourceDetails($resourceId)\n{\n    $resourceDetails = \"\" | select Name, Type\n    $resource = Get-AzureResource -Id $resourceId -OutputObjectFormat New\n    if ($resource) {\n        if ($resource.ResourceName) {\n            $resourceDetails.Name = $resource.ResourceName\n            $resourceDetails.Type = \"Resource\"\n        } elseif ($resource.ResourceGroupName) {\n            $resourceDetails.Name = $resource.ResourceGroupName\n            $resourceDetails.Type = \"Resource Group\"\n        } elseif ($resource.SubscriptionId) {\n            $resourceDetails.Name = $resource.SubscriptionId\n            $resourceDetails.Type = \"Subscription\"\n        }\n    }\n    $resourceDetails\n}\n# Get the name of a role\nfunction Get-AzureRoleDefinitionName($roleDefinitionId)\n{\n    if (!$Global:_azureRoleDefinitionCache) {\n        $Global:_azureRoleDefinitionCache = @{}\n        Get-AzureRoleDefinition | % { $Global:_azureRoleDefinitionCache[$_.Id] = $_; }\n    }\n\n    if ($Global:_azureRoleDefinitionCache[$roleDefinitionId]) {\n        return $Global:_azureRoleDefinitionCache[$roleDefinitionId].Name\n    } else {\n        return \"\"\n    }\n}\n# Sample - output the list of role assignment events\nfunction Get-AzureRBACAuditLog($startDateTime, $endDateTime)\n{\n    $log = Get-AzureSubscriptionIdLog -DetailedOutput -StartTime $startDateTime -EndTime $endDateTime\n    $log = $log | ? { $_.ResourceProviderName -ieq \"Microsoft.Authorization\" }\n    $startEvents = $log | ? { $_.httpRequest -and $_.Status -ieq \"Started\" }\n    $endEvents = @{}\n    $log | ? { $_.httpRequest -and $_.Status -ne \"Started\" } | % { $endEvents[$_.OperationId] = $_ }\n\n    $startEvents | ? { $endEvents.ContainsKey($_.OperationId) } | % {\n        $endEvent = $endEvents[$_.OperationId];\n        $out = \"\" | select Timestamp, Caller, Action, PrincipalId, PrincipalName, PrincipalType, RoleName, Scope, ScopeName, ScopeType, RoleDefinitionId\n        $out.Timestamp = $endEvent.EventTimestamp\n        $out.Caller = $_.Caller\n        if ($_.HttpRequest.Method -ieq \"PUT\") {\n            $out.Action = \"Granted\"\n            if ($_.Properties.Content.ContainsKey(\"requestbody\")) {\n                $messageBody = ConvertFrom-Json $_.Properties.Content[\"requestbody\"]\n            }\n        }\n        elseif ($_.HttpRequest.Method -ieq \"DELETE\") {\n            $out.Action = \"Revoked\"\n            if ($endEvent.Properties.Content.ContainsKey(\"responseBody\")) {\n                $messageBody = ConvertFrom-Json $endEvent.Properties.Content[\"responseBody\"]\n            }\n        }\n\n        if ($messageBody) {\n            $out.PrincipalId = $messageBody.properties.principalId\n            $pd = Get-PrincipalDetails $out.PrincipalId\n            $out.PrincipalName = $pd.Name\n            $out.PrincipalType = $pd.Type\n            $out.RoleName = (Get-AzureRoleDefinitionName $messageBody.properties.roleDefinitionId)\n            $out.Scope = $messageBody.properties.Scope\n            $rd = Get-ResourceDetails $out.Scope\n            $out.ScopeName = $rd.Name\n            $out.ScopeType = $rd.Type\n            $out.RoleDefinitionId = $messageBody.properties.roleDefinitionId\n        }\n\n        $out\n    }\n}\n\n```\n\nAnd here are the commands to run the script\n\n```\n$log = Get-AzureRBACAuditLog '2015-06-26' '2015-06-27'\n\n$log | Format-Table\n```\n\n## Known issues when using role-based access control\n\nIf you encounter a problem when you use role based access control feature, see [Troubleshooting role-based access control](role-based-access-control-troubleshooting.md) for any known issues that may be related to the problem.\n\n\n## Built-in roles\n\nAzure role-based access control comes with the following built-in roles that can be assigned to users, groups, and services. You can’t modify the definition of built-in roles. In an upcoming release of Azure RBAC, you will be able to define custom roles by composing a set of actions from a list of available actions that can be performed on Azure resources.\n\nClick the corresponding link to see the **actions** and **not actions** properties of a role definition. The **actions** property specifies the allowed actions on Azure resources. Action strings can use wildcard characters. The **not actions** property of a role definition specifies the actions that must be excluded from the allowed actions.\n\n\nRole name  | Description\n------------- | -------------  \n[API Management Service Contributor](#api-management-service-contributor) | Lets you manage API Management service, but not access to them.\n[Application Insights Component Contributor](#application-insights-component-contributor) | Lets you manage Application Insights components, but not access to them.\n[BizTalk Contributor](#biztalk-contributor) | Lets you manage BizTalk services, but not access to them.\n[ClearDB MySQL DB Contributor](#cleardb-mysql-db-contributor) | Lets you manage ClearDB MySQL databases, but not access to them.\n[Contributor](#contributor) | Contributors can manage everything except access.\n[Data Factory Contributor](#data-factory-contributor) | Lets you manage data factories, but not access to them.\n[Document DB Account Contributor](#document-db-account-contributor) | Lets you manage DocumentDB accounts, but not access to them.\n[Intelligent Systems Account Contributor](#intelligent-systems-account-contributor) | Lets you manage Intelligent Systems accounts, but not access to them.\n[NewRelic APM Account Contributor](#newrelic-apm-account-contributor) | Lets you manage New Relic Application Performance Management accounts and applications, but not access to them.\n[Owner](#owner) | Owner can manage everything, including access.\n[Reader](#reader) | Readers can view everything, but can't make changes.\n[Redis Cache Contributor](#redis-cache-contributor) | Lets you manage Redis caches, but not access to them.\n[SQL DB Contributor](#sql-db-contributor) | Lets you manage SQL databases, but not access to them. Also, you can’t manage their security-related policies or their parent SQL servers.\n[SQL Security Manager](#sql-security-manager) | Lets you manage the security-related policies of SQL servers and databases, but not access to them.\n[SQL Server Contributor](#sql-server-contributor) | Lets you manage SQL servers and databases, but not access to them, and not their security-related policies.\n[Scheduler Job Collections Contributor](#scheduler-job-collections-contributor) | Lets you manage Scheduler job collections, but not access to them.\n[Search Service Contributor](#search-service-contributor) | Lets you manage Search services, but not access to them.\n[Storage Account Contributor](#storage-account-contributor) | Lets you manage storage accounts, but not access to them.\n[User Access Administrator](#user-access-administrator) | Lets you manage user access to Azure resources.\n[Virtual Machine Contributor](#virtual-machine-contributor) | Lets you manage virtual machines, but not access to them, and not the virtual network or storage account they’re connected to.\n[Virtual Network Contributor](#virtual-network-contributor) | Lets you manage virtual networks, but not access to them.\n[Web Plan Contributor](#web-plan-contributor) | Lets you manage the web plans for websites, but not access to them.\n[Website Contributor](#website-contributor) | Lets you manage websites (not web plans), but not access to them.\n\n\n### API Management Service Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.ApiManagement/Services/*</td>\n<td>Create and Manage API Management Services</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Application Insights Component Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Insights/components/*</td>\n<td>Create and Manage Insights Components</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/webtests/*</td>\n<td>Create and Manage Web Tests</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### BizTalk Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.BizTalkServices/BizTalk/*</td>\n<td>Create and Manage BizTalk Services</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### ClearDB MySQL DB Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>successbricks.cleardb/databases/*</td>\n<td>Create and Manage ClearDB MySQL Databases</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>*</td>\n<td>Create and Manage Resources of All Types</td>\n</tr>\n<tr>\n<th colspan=\"2\">Not Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/Write</td>\n<td>Can’t Create Roles and Role Assignments </td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/Delete</td>\n<td>Can’t Delete Roles and Role Assignments</td>\n</tr>\n</table>\n\n### Data Factory Contributor\n\n<table style=width:100%\">\n<tr>\n<td>Microsoft.DataFactory/dataFactories/*</td>\n<td>Create and Manage Data Factories</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Document DB Account Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.DocumentDb/databaseAccounts/*</td>\n<td>Create and Manage DocumentDB Accounts</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Intelligent Systems Account Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.IntelligentSystems/accounts/*</td>\n<td>Create and Manage Intelligent Systems Accounts</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### NewRelic APM Account Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>NewRelic.APM/accounts/*</td>\n<td>Create and Manage NewRelic Application Performance Management Accounts</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Owner\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>*</td>\n<td>Create and Manage Resources of All Types</td>\n</tr>\n</table>\n\n### Reader\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>*/read</td>\n<td>Read Resources of All Types. Can’t read secrets though.</td>\n</tr>\n</table>\n\n### Redis Cache Contributor\n\n<table style=width:100%\">\n<tr>\n<td>Microsoft.Cache/redis/*</td>\n<td>Create and Manage Redis Caches</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### SQL DB Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/read</td>\n<td>Read SQL Servers</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/*</td>\n<td>Create and Manage SQL Databases</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resources/read</td>\n<td>Read subscription resources</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/resources/read</td>\n<td>Read Resource Group resources</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n<tr>\n<th colspan=\"2\">Not Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/auditingPolicies/*</td>\n<td>Can’t Manage SQL Database Auditing Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/connectionPolicies/*</td>\n<td>Can’t Manage SQL Database Connection Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/dataMaskingPolicies/*</td>\n<td>Can’t Manage SQL Database Data Masking Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/securityMetrics/*</td>\n<td>Can’t Manage SQL Database Security Metrics</td>\n</tr>\n</table>\n\n### SQL Security Manager\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/read</td>\n<td>Read SQL Servers</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/auditingPolicies/*</td>\n<td>Create and Manage SQL Server Auditing Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/read</td>\n<td>Read SQL Databases</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/auditingPolicies/*</td>\n<td>Create and Manage SQL Database Auditing Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/connectionPolicies/*</td>\n<td>Create and Manage SQL Database Connection Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/dataMaskingPolicies/*</td>\n<td>Create and Manage SQL Database Data Masking Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/securityMetrics/*</td>\n<td>Create and Manage SQL Database Security Metrics</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### SQL Server Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/*</td>\n<td>Create and Manage SQL Servers</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resources/read</td>\n<td>Read subscription resources</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/resources/read</td>\n<td>Read Resource Group resources</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n<tr>\n<th colspan=\"2\">Not Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/auditingPolicies/*</td>\n<td>Can’t Manage SQL Server Auditing Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/auditingPolicies/*</td>\n<td>Can’t Manage SQL Database Auditing Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/connectionPolicies/*</td>\n<td>Can’t Manage SQL Database Connection Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/dataMaskingPolicies/*</td>\n<td>Can’t Manage SQL Database Data Masking Policies</td>\n</tr>\n<tr>\n<td>Microsoft.Sql/servers/databases/securityMetrics/*</td>\n<td>Can’t Manage SQL Database Security Metrics</td>\n</tr>\n</table>\n\n### Scheduler Job Collections Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Scheduler/jobcollections/*</td>\n<td>Create and Manage Scheduler Job Collections</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Search Service Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Search/searchServices/*</td>\n<td>Create and Manage Search Services</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Storage Account Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.ClassicStorage/storageAccounts/*</td>\n<td>Create and Manage Storage Accounts</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### User Access Administrator\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>*/read</td>\n<td>Read Resources of All Types</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*</td>\n<td>Create and Manage Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Virtual Machine Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.ClassicStorage/storageAccounts/read</td>\n<td>Read Storage Accounts</td>\n</tr>\n<tr>\n<td>Microsoft.ClassicStorage/storageAccounts/listKeys/action</td>\n<td>Retrieve Storage Account Keys</td>\n</tr>\n<tr>\n<td>Microsoft.ClassicNetwork/virtualNetworks/read</td>\n<td>Read Virtual Networks</td>\n</tr>\n<tr>\n<td>Microsoft.ClassicNetwork/virtualNetworks/join/action</td>\n<td>Join Virtual Networks</td>\n</tr>\n<tr>\n<td>Microsoft.ClassicNetwork/reservedIps/read</td>\n<td>Read Reserved IP Addresses</td>\n</tr>\n<tr>\n<td>Microsoft.ClassicNetwork/reservedIps/link/action</td>\n<td>Link to Reserved IP Addresses</td>\n</tr>\n<tr>\n<td>Microsoft.ClassicCompute/domainNames/*</td>\n<td>Create and Manage Cloud Services</td>\n</tr>\n<tr>\n<td>Microsoft.ClassicCompute/virtualMachines/*</td>\n<td>Create and Manage Virtual Machines</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Virtual Network Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.ClassicNetwork/virtualNetworks/*</td>\n<td>Create and Manage Virtual Networks</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Web Plan Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Web/serverFarms/*</td>\n<td>Create and Manage Web Plans</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n### Website Contributor\n\n<table style=width:100%\">\n<tr>\n<th colspan=\"2\">Actions</th>\n</tr>\n<tr>\n<td>Microsoft.Web/serverFarms/read</td>\n<td>Read Web Plans</td>\n</tr>\n<tr>\n<td>Microsoft.Web/serverFarms/join/action</td>\n<td>Join Web Plans</td>\n</tr>\n<tr>\n<td>Microsoft.Web/sites/*</td>\n<td>Create and Manage Web Sites</td>\n</tr>\n<tr>\n<td>Microsoft.Web/certificates/*</td>\n<td>Create and Manage Web Site Certificates</td>\n</tr>\n<tr>\n<td>Microsoft.Authorization/*/read</td>\n<td>Read Roles and Role Assignments</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/read</td>\n<td>Read Resource Groups</td>\n</tr>\n<tr>\n<td>Microsoft.Resources/subscriptions/resourceGroups/deployments/*</td>\n<td>Create and Manage Resource Group Deployments</td>\n</tr>\n<tr>\n<td>Microsoft.Insights/alertRules/*</td>\n<td>Create and Manage Alert Rules</td>\n</tr>\n<tr>\n<td>Microsoft.Support/*</td>\n<td>Create and Manage Support Tickets</td>\n</tr>\n</table>\n\n\n## How to provide feedback\n\nPlease try Azure RBAC and send us [feedback](http://aka.ms/azurerbacfeedback).\n\n\n## Next steps\n\nHere are some additional resources to help you use role-based access control:\n\n+ [Managing role-based access control with Windows PowerShell](role-based-access-control-powershell.md)\n+ [Managing role-based access control with Azure CLI](role-based-access-control-xplat-cli.md)\n+ [Troubleshooting role-based access control](role-based-access-control-troubleshooting.md)\n+ [Azure Active Directory Premium and Basic](active-directory-editions.md)\n+ [How Azure subscriptions are associated with Azure AD](active-directory-how-subscriptions-associated-directory.md)\n+ For an introduction to self-service group management for security groups, see the [Active Directory Team Blog](http://blogs.technet.com/b/ad/archive/2014/02/24/more-preview-enhancements-for-windows-azure-ad-premium.aspx)\n\n<!--Image references-->\n[1]: ./media/role-based-access-control-configure/RBACSubAuthDir.png\n[2]: ./media/role-based-access-control-configure/RBACAssignmentScopes.png\n[3]: ./media/role-based-access-control-configure/RBACSubscriptionBlade.png\n[4]: ./media/role-based-access-control-configure/RBACAddSubReader_NEW.png\n[5]: ./media/role-based-access-control-configure/RBACAddRGContributor_NEW.png\n[6]: ./media/role-based-access-control-configure/RBACAddProdContributor_NEW.png\n[7]: ./media/role-based-access-control-configure/RBACRemoveRole.png\n[8]: ./media/role-based-access-control-configure/RBACGuestAccessControls.png\n[9]: ./media/role-based-access-control-configure/RBACInviteExtUser_NEW.png\n[10]: ./media/role-based-access-control-configure/RBACDirConfigTab.png\n\ntest\n"
}