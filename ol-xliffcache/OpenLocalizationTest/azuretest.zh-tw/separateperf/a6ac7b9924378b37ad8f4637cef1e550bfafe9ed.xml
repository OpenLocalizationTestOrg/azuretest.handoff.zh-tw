{
  "nodes": [
    {
      "content": "Create an Azure virtual machine running Linux in the Azure Portal",
      "pos": [
        27,
        92
      ]
    },
    {
      "content": "Use the Azure Portal to create an Azure virtual machine (VM) running Linux with the Azure resource groups.",
      "pos": [
        111,
        217
      ]
    },
    {
      "content": "Create a Virtual Machine Running Linux using the Azure Preview Portal",
      "pos": [
        591,
        660
      ]
    },
    {
      "content": "[AZURE.SELECTOR]",
      "pos": [
        664,
        680
      ]
    },
    {
      "content": "Azure CLI",
      "pos": [
        684,
        693
      ]
    },
    {
      "content": "Azure Preview Portal",
      "pos": [
        734,
        754
      ]
    },
    {
      "content": "Creating an Azure virtual machine (VM) that runs Linux is easy to do.",
      "pos": [
        803,
        872
      ]
    },
    {
      "content": "This tutorial shows you how to use the Azure Preview portal to create one quickly, and uses the <ph id=\"ph1\">`~/.ssh/id_rsa.pub`</ph> public key file to secure your <bpt id=\"p1\">**</bpt>SSH<ept id=\"p1\">**</ept> connection to the VM.",
      "pos": [
        873,
        1049
      ]
    },
    {
      "content": "You can also create Linux VMs using <bpt id=\"p1\">[</bpt>your own images as templates<ept id=\"p1\">](virtual-machines-linux-create-upload-vhd.md)</ept>.",
      "pos": [
        1050,
        1162
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> This tutorial creates an Azure virtual machine that is managed by the Azure resource group API.",
      "pos": [
        1166,
        1274
      ]
    },
    {
      "content": "For details, see <bpt id=\"p1\">[</bpt>Azure resource group overview<ept id=\"p1\">](resource-group-overview.md)</ept>.",
      "pos": [
        1275,
        1352
      ]
    },
    {
      "content": "Select the image",
      "pos": [
        1427,
        1443
      ]
    },
    {
      "content": "Go to the Azure Marketplace in the Preview portal to find the Windows Server VM image you want.",
      "pos": [
        1445,
        1540
      ]
    },
    {
      "pos": [
        1545,
        1603
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Preview portal<ept id=\"p1\">](https://portal.azure.com)</ept>."
    },
    {
      "pos": [
        1608,
        1683
      ],
      "content": "On the Hub menu, click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>Compute<ept id=\"p2\">**</ept> &gt; <bpt id=\"p3\">**</bpt>Ubuntu Server 14.04 LTS<ept id=\"p3\">**</ept>."
    },
    {
      "content": "choosing a VM image",
      "pos": [
        1691,
        1710
      ]
    },
    {
      "pos": [
        1787,
        1894
      ],
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> To find additional images, click <bpt id=\"p1\">**</bpt>Marketplace<ept id=\"p1\">**</ept> and then search or filter for available items."
    },
    {
      "content": "At the bottom of the <bpt id=\"p1\">**</bpt>Ubuntu Server 14.04 LTS<ept id=\"p1\">**</ept> page, select <bpt id=\"p2\">**</bpt>Use the Resource Manager stack<ept id=\"p2\">**</ept> to create the VM in Azure Resource Manager.",
      "pos": [
        1899,
        2039
      ]
    },
    {
      "content": "Note that for most new workloads, we recommend the Resource Manager stack.",
      "pos": [
        2040,
        2114
      ]
    },
    {
      "content": "For considerations, see <bpt id=\"p1\">[</bpt>Azure Compute, Network and Storage Providers under the Azure Resource Manager<ept id=\"p1\">](virtual-machines-azurerm-versus-azuresm.md)</ept>.",
      "pos": [
        2115,
        2263
      ]
    },
    {
      "content": "Next, click",
      "pos": [
        2268,
        2279
      ]
    },
    {
      "content": "create button",
      "pos": [
        2282,
        2295
      ]
    },
    {
      "content": ".",
      "pos": [
        2362,
        2363
      ]
    },
    {
      "content": "change to the resource manager compute stack",
      "pos": [
        2371,
        2415
      ]
    },
    {
      "content": "Create the virtual machine",
      "pos": [
        2496,
        2522
      ]
    },
    {
      "content": "After you select the image, you can use Azure's default settings for most of the configuration and quickly create the VM.",
      "pos": [
        2524,
        2645
      ]
    },
    {
      "content": "On the <bpt id=\"p1\">**</bpt>Create virtual machine<ept id=\"p1\">**</ept> blade, click <bpt id=\"p2\">**</bpt>Basics<ept id=\"p2\">**</ept>.",
      "pos": [
        2650,
        2708
      ]
    },
    {
      "content": "Enter a <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> you want for the VM, and a public key file (in <bpt id=\"p2\">**</bpt>ssh-rsa<ept id=\"p2\">**</ept> format, in this case from the <ph id=\"ph1\">`~/.ssh/id_rsa.pub`</ph> file).",
      "pos": [
        2709,
        2841
      ]
    },
    {
      "content": "If you have more than one subscription, specify the one for the new VM, as well as a new or existing <bpt id=\"p1\">**</bpt>Resource group<ept id=\"p1\">**</ept> and an Azure datacenter <bpt id=\"p2\">**</bpt>Location<ept id=\"p2\">**</ept>.",
      "pos": [
        2842,
        2999
      ]
    },
    {
      "pos": [
        3086,
        3273
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> You may also choose username/password authentication here and enter that information if you do not want to secure your <bpt id=\"p1\">**</bpt>ssh<ept id=\"p1\">**</ept> session with a public and private key exchange."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Size<ept id=\"p1\">**</ept> and select an appropriate VM size for your needs.",
      "pos": [
        3278,
        3342
      ]
    },
    {
      "content": "Each size specifies the number of compute cores, memory, and other features, such as support for Premium Storage, which will affect the price.",
      "pos": [
        3343,
        3485
      ]
    },
    {
      "content": "Azure recommends certain sizes automatically depending on the image you choose.",
      "pos": [
        3486,
        3565
      ]
    },
    {
      "content": "When done, click <ph id=\"ph1\">![</ph>select button<ph id=\"ph2\">](media/virtual-machines-linux-tutorial-portal-rm/selectbutton-size.png)</ph>.",
      "pos": [
        3566,
        3671
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Premium storage is available for DS-series virtual machines in certain regions.",
      "pos": [
        3678,
        3770
      ]
    },
    {
      "content": "Premium storage is the best storage option for data intensive workloads such as a database.",
      "pos": [
        3771,
        3862
      ]
    },
    {
      "content": "For details, see <bpt id=\"p1\">[</bpt>Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads<ept id=\"p1\">](storage-premium-storage-preview-portal.md)</ept>.",
      "pos": [
        3863,
        4003
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept> to see storage and networking settings for the new VM.",
      "pos": [
        4008,
        4081
      ]
    },
    {
      "content": "For a first VM you can generally accept the default settings.",
      "pos": [
        4082,
        4143
      ]
    },
    {
      "content": "If you selected a VM size that supports it, you can try out Premium Storage by selecting <bpt id=\"p1\">**</bpt>Premium (SSD)<ept id=\"p1\">**</ept> under <bpt id=\"p2\">**</bpt>Disk type<ept id=\"p2\">**</ept>.",
      "pos": [
        4144,
        4271
      ]
    },
    {
      "content": "When done, click <ph id=\"ph1\">![</ph>OK button<ph id=\"ph2\">](media/virtual-machines-linux-tutorial-portal-rm/okbutton.png)</ph>.",
      "pos": [
        4272,
        4364
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Summary<ept id=\"p1\">**</ept> to review your configuration choices.",
      "pos": [
        4447,
        4502
      ]
    },
    {
      "content": "When you're done reviewing or updating the settings, click <ph id=\"ph1\">![</ph>OK button<ph id=\"ph2\">](media/virtual-machines-linux-tutorial-portal-rm/createbutton.png)</ph> .",
      "pos": [
        4503,
        4642
      ]
    },
    {
      "content": "creation summary",
      "pos": [
        4650,
        4666
      ]
    },
    {
      "content": "While Azure creates the VM, you can track the progress in <bpt id=\"p1\">**</bpt>Notifications<ept id=\"p1\">**</ept>, in the Hub menu.",
      "pos": [
        4747,
        4840
      ]
    },
    {
      "content": "After Azure creates the VM, you'll see it on your Startboard unless you cleared <bpt id=\"p1\">**</bpt>Pin to Startboard<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Create virtual machine<ept id=\"p2\">**</ept> blade.",
      "pos": [
        4841,
        4983
      ]
    },
    {
      "pos": [
        4991,
        5164
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Note that the summary does not contain a public DNS name the way it does when a VM is created inside a Cloud Service using the service management compute stack."
    },
    {
      "pos": [
        5169,
        5213
      ],
      "content": "Connect to your Azure Linux VM using <bpt id=\"p1\">**</bpt>ssh<ept id=\"p1\">**</ept>"
    },
    {
      "content": "Now you can connect to your Ubuntu VM using <bpt id=\"p1\">**</bpt>ssh<ept id=\"p1\">**</ept> in the standard way.",
      "pos": [
        5215,
        5287
      ]
    },
    {
      "content": "However, you're going to need to discover the IP address allocated to the Azure VM by opening the tile for the VM and its resources.",
      "pos": [
        5288,
        5420
      ]
    },
    {
      "content": "You can either do this by clicking <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept>, then selecting <bpt id=\"p2\">**</bpt>Recent<ept id=\"p2\">**</ept> and looking for the VM you created, or clicking the tile created for you on the Startboard.",
      "pos": [
        5421,
        5585
      ]
    },
    {
      "content": "In either case, locate and copy the <bpt id=\"p1\">**</bpt>Public IP Address<ept id=\"p1\">**</ept> value, shown in the following graphic.",
      "pos": [
        5586,
        5682
      ]
    },
    {
      "content": "summary of successful creation",
      "pos": [
        5686,
        5716
      ]
    },
    {
      "pos": [
        5792,
        5855
      ],
      "content": "Now you can <bpt id=\"p1\">**</bpt>ssh<ept id=\"p1\">**</ept> into your Azure VM, and you're ready to go."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> You can also configure a fully qualified domain name (FQDN) for your virtual machine in the portal.",
      "pos": [
        7106,
        7218
      ]
    },
    {
      "content": "Read more about FQDN <bpt id=\"p1\">[</bpt>here<ept id=\"p1\">](virtual-machines-create-fqdn-on-portal.md)</ept>.",
      "pos": [
        7219,
        7290
      ]
    },
    {
      "content": "Next Steps",
      "pos": [
        7295,
        7305
      ]
    },
    {
      "content": "To learn more about Linux on Azure, see:",
      "pos": [
        7307,
        7347
      ]
    },
    {
      "content": "Linux and Open-Source Computing on Azure",
      "pos": [
        7352,
        7392
      ]
    },
    {
      "content": "How to use the Azure Command-Line Tools for Mac and Linux",
      "pos": [
        7436,
        7493
      ]
    },
    {
      "content": "Deploy a LAMP app using the Azure CustomScript Extension for Linux",
      "pos": [
        7539,
        7605
      ]
    },
    {
      "content": "The Docker Virtual Machine Extension for Linux on Azure",
      "pos": [
        7650,
        7705
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Create an Azure virtual machine running Linux in the Azure Portal\"\n    description=\"Use the Azure Portal to create an Azure virtual machine (VM) running Linux with the Azure resource groups.\"\n    services=\"virtual-machines\"\n    documentationCenter=\"\"\n    authors=\"squillace\"\n    manager=\"timlt\"\n    editor=\"tysonn\"\n    tags=\"azure-resource-management\"/>\n\n<tags\n    ms.service=\"virtual-machines\"\n    ms.workload=\"infrastructure-services\"\n    ms.tgt_pltfrm=\"vm-linux\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"07/13/2015\"\n    ms.author=\"rasquill\"/>\n\n# Create a Virtual Machine Running Linux using the Azure Preview Portal\n\n> [AZURE.SELECTOR]\n- [Azure CLI](virtual-machines-linux-tutorial.md)\n- [Azure Preview Portal](virtual-machines-linux-tutorial-portal-rm.md)\n\nCreating an Azure virtual machine (VM) that runs Linux is easy to do. This tutorial shows you how to use the Azure Preview portal to create one quickly, and uses the `~/.ssh/id_rsa.pub` public key file to secure your **SSH** connection to the VM. You can also create Linux VMs using [your own images as templates](virtual-machines-linux-create-upload-vhd.md).\n\n> [AZURE.NOTE] This tutorial creates an Azure virtual machine that is managed by the Azure resource group API. For details, see [Azure resource group overview](resource-group-overview.md).\n\n[AZURE.INCLUDE [free-trial-note](../../includes/free-trial-note.md)]\n\n## Select the image\n\nGo to the Azure Marketplace in the Preview portal to find the Windows Server VM image you want.\n\n1. Sign in to the [Preview portal](https://portal.azure.com).\n\n2. On the Hub menu, click **New** > **Compute** > **Ubuntu Server 14.04 LTS**.\n\n    ![choosing a VM image](media/virtual-machines-linux-tutorial-portal-rm/chooseubuntuvm.png)\n\n    > [AZURE.TIP] To find additional images, click **Marketplace** and then search or filter for available items.\n\n3. At the bottom of the **Ubuntu Server 14.04 LTS** page, select **Use the Resource Manager stack** to create the VM in Azure Resource Manager. Note that for most new workloads, we recommend the Resource Manager stack. For considerations, see [Azure Compute, Network and Storage Providers under the Azure Resource Manager](virtual-machines-azurerm-versus-azuresm.md).\n\n4. Next, click ![create button](media/virtual-machines-linux-tutorial-portal-rm/createbutton.png).\n\n    ![change to the resource manager compute stack](media/virtual-machines-linux-tutorial-portal-rm/changetoresourcestack.png)\n\n## Create the virtual machine\n\nAfter you select the image, you can use Azure's default settings for most of the configuration and quickly create the VM.\n\n1. On the **Create virtual machine** blade, click **Basics**. Enter a **Name** you want for the VM, and a public key file (in **ssh-rsa** format, in this case from the `~/.ssh/id_rsa.pub` file). If you have more than one subscription, specify the one for the new VM, as well as a new or existing **Resource group** and an Azure datacenter **Location**.\n\n    ![](media/virtual-machines-linux-tutorial-portal-rm/step-1-thebasics.png)\n\n    > [AZURE.NOTE] You may also choose username/password authentication here and enter that information if you do not want to secure your **ssh** session with a public and private key exchange.\n\n2. Click **Size** and select an appropriate VM size for your needs. Each size specifies the number of compute cores, memory, and other features, such as support for Premium Storage, which will affect the price. Azure recommends certain sizes automatically depending on the image you choose. When done, click ![select button](media/virtual-machines-linux-tutorial-portal-rm/selectbutton-size.png).\n\n    >[AZURE.NOTE] Premium storage is available for DS-series virtual machines in certain regions. Premium storage is the best storage option for data intensive workloads such as a database. For details, see [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](storage-premium-storage-preview-portal.md).\n\n3. Click **Settings** to see storage and networking settings for the new VM. For a first VM you can generally accept the default settings. If you selected a VM size that supports it, you can try out Premium Storage by selecting **Premium (SSD)** under **Disk type**. When done, click ![OK button](media/virtual-machines-linux-tutorial-portal-rm/okbutton.png).\n\n    ![](media/virtual-machines-linux-tutorial-portal-rm/step-3-settings.png)\n\n6. Click **Summary** to review your configuration choices. When you're done reviewing or updating the settings, click ![OK button](media/virtual-machines-linux-tutorial-portal-rm/createbutton.png) .\n\n    ![creation summary](media/virtual-machines-linux-tutorial-portal-rm/summarybeforecreation.png)\n\n8. While Azure creates the VM, you can track the progress in **Notifications**, in the Hub menu. After Azure creates the VM, you'll see it on your Startboard unless you cleared **Pin to Startboard** in the **Create virtual machine** blade.\n\n    > [AZURE.NOTE] Note that the summary does not contain a public DNS name the way it does when a VM is created inside a Cloud Service using the service management compute stack.\n\n## Connect to your Azure Linux VM using **ssh**\n\nNow you can connect to your Ubuntu VM using **ssh** in the standard way. However, you're going to need to discover the IP address allocated to the Azure VM by opening the tile for the VM and its resources. You can either do this by clicking **Browse**, then selecting **Recent** and looking for the VM you created, or clicking the tile created for you on the Startboard. In either case, locate and copy the **Public IP Address** value, shown in the following graphic.\n\n![summary of successful creation](media/virtual-machines-linux-tutorial-portal-rm/successresultwithip.png)\n\nNow you can **ssh** into your Azure VM, and you're ready to go.\n\n    ssh ops@23.96.106.1 -p 22\n    The authenticity of host '23.96.106.1 (23.96.106.1)' can't be established.\n    ECDSA key fingerprint is bc:ee:50:2b:ca:67:b0:1a:24:2f:8a:cb:42:00:42:55.\n    Are you sure you want to continue connecting (yes/no)? yes\n    Warning: Permanently added '23.96.106.1' (ECDSA) to the list of known hosts.\n    Welcome to Ubuntu 14.04.2 LTS (GNU/Linux 3.16.0-43-generic x86_64)\n\n     * Documentation:  https://help.ubuntu.com/\n\n      System information as of Mon Jul 13 21:36:28 UTC 2015\n\n      System load: 0.31              Memory usage: 5%   Processes:       208\n      Usage of /:  42.1% of 1.94GB   Swap usage:   0%   Users logged in: 0\n\n      Graph this data and manage this system at:\n        https://landscape.canonical.com/\n\n      Get cloud support with Ubuntu Advantage Cloud Guest:\n        http://www.ubuntu.com/business/services/cloud\n\n    0 packages can be updated.\n    0 updates are security updates.\n\n    The programs included with the Ubuntu system are free software;\n    the exact distribution terms for each program are described in the\n    individual files in /usr/share/doc/*/copyright.\n\n    Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by\n    applicable law.\n\n    ops@ubuntuvm:~$\n\n\n> [AZURE.NOTE] You can also configure a fully qualified domain name (FQDN) for your virtual machine in the portal. Read more about FQDN [here](virtual-machines-create-fqdn-on-portal.md).\n\n## Next Steps\n\nTo learn more about Linux on Azure, see:\n\n- [Linux and Open-Source Computing on Azure](virtual-machines-linux-opensource.md)\n\n- [How to use the Azure Command-Line Tools for Mac and Linux](virtual-machines-command-line-tools.md)\n\n- [Deploy a LAMP app using the Azure CustomScript Extension for Linux](virtual-machines-linux-script-lamp.md)\n\n- [The Docker Virtual Machine Extension for Linux on Azure](virtual-machines-docker-vm-extension.md)\n"
}