<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="zh-tw">
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Certificate renewal guidance for Office 365 and Azure AD users.</source>
          <target state="new">Certificate renewal guidance for Office 365 and Azure AD users.</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>This article explains to Office 365 users how to resolve issues with emails that notify them about renewing a certificate.</source>
          <target state="new">This article explains to Office 365 users how to resolve issues with emails that notify them about renewing a certificate.</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Renewing Federation Certificates for Office 365 and Azure AD</source>
          <target state="new">Renewing Federation Certificates for Office 365 and Azure AD</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>If you received an email or a portal notification asking you to renew your certificate for Office 365, this article is intended to help you resolve the issue and keep it from happening again.</source>
          <target state="new">If you received an email or a portal notification asking you to renew your certificate for Office 365, this article is intended to help you resolve the issue and keep it from happening again.</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>This article assumes that you are using AD FS as your federation server.</source>
          <target state="new">This article assumes that you are using AD FS as your federation server.</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Check to see if you have to do anything</source>
          <target state="new">Check to see if you have to do anything</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>If you are using AD FS 2.0 or later, Office 365 and Azure AD will automatically update your certificate before it expires.</source>
          <target state="new">If you are using AD FS 2.0 or later, Office 365 and Azure AD will automatically update your certificate before it expires.</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>You do not need to perform any manual steps or run a script as a scheduled task.</source>
          <target state="new">You do not need to perform any manual steps or run a script as a scheduled task.</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>For this to work, both of the following default AD FS configuration settings must be in effect:</source>
          <target state="new">For this to work, both of the following default AD FS configuration settings must be in effect:</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>The AD FS property AutoCertificateRollover must be set to True, indicating that AD FS will automatically generate new token signing and token decryption certificates before the old ones expire.</source>
          <target state="new">The AD FS property AutoCertificateRollover must be set to True, indicating that AD FS will automatically generate new token signing and token decryption certificates before the old ones expire.</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>If the value is False, you are using custom certificate settings.</source>
          <target state="new">If the value is False, you are using custom certificate settings.</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Go <bpt id="p1">[</bpt>here<ept id="p1">](https://msdn.microsoft.com/library/azure/JJ933264.aspx#BKMK_NotADFSCert)</ept>  for comprehensive guidance.</source>
          <target state="new">Go <bpt id="p1">[</bpt>here<ept id="p1">](https://msdn.microsoft.com/library/azure/JJ933264.aspx#BKMK_NotADFSCert)</ept>  for comprehensive guidance.</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Your federation metadata must be available to the public internet.</source>
          <target state="new">Your federation metadata must be available to the public internet.</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>Here is how to check:</source>
          <target state="new">Here is how to check:</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>Verify that your AD FS installation is using automatic certificate rollover by executing the following command in a PowerShell command window on your primary federation server:</source>
          <target state="new">Verify that your AD FS installation is using automatic certificate rollover by executing the following command in a PowerShell command window on your primary federation server:</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>(note that if you are using AD FS 2.0, you will need to run Add-Pssnapin Microsoft.Adfs.Powershell first)</source>
          <target state="new">(note that if you are using AD FS 2.0, you will need to run Add-Pssnapin Microsoft.Adfs.Powershell first)</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>else.</source>
          <target state="new">else.</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Check that your federation metadata is publicly accessible by navigating to the following URL from a computer on the public internet (off of the corporate network):</source>
          <target state="new">Check that your federation metadata is publicly accessible by navigating to the following URL from a computer on the public internet (off of the corporate network):</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>https://(your_FS_name)/federationmetadata/2007-06/federationmetadata.xml</source>
          <target state="new">https://(your_FS_name)/federationmetadata/2007-06/federationmetadata.xml</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>where <ph id="ph1">`(your_FS_name) `</ph>is replaced with the federation service host name your organization uses, such as fs.contoso.com.</source>
          <target state="new">where <ph id="ph1">`(your_FS_name) `</ph>is replaced with the federation service host name your organization uses, such as fs.contoso.com.</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>If you are able to verify both of these settings successfully, you do not have to do anything else.</source>
          <target state="new">If you are able to verify both of these settings successfully, you do not have to do anything else.</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>Example: https://fs.contos.com/federationmetadata/2007-06/federationmetadata.xml</source>
          <target state="new">Example: https://fs.contos.com/federationmetadata/2007-06/federationmetadata.xml</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>If your AutoCertificateRollover property is set to False</source>
          <target state="new">If your AutoCertificateRollover property is set to False</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>If your AutoCertificateRollover property is set to False, you are using non-default AD FS certificate settings.</source>
          <target state="new">If your AutoCertificateRollover property is set to False, you are using non-default AD FS certificate settings.</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>The most common reason for this is that your organization manages AD FS certificates enrolled from an organizational certificate authority.</source>
          <target state="new">The most common reason for this is that your organization manages AD FS certificates enrolled from an organizational certificate authority.</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>In this case you need to renew and update your certificates yourself.</source>
          <target state="new">In this case you need to renew and update your certificates yourself.</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Use the guidance <bpt id="p1">[</bpt>here<ept id="p1">](https://msdn.microsoft.com/library/azure/JJ933264.aspx#BKMK_NotADFSCert)</ept>.</source>
          <target state="new">Use the guidance <bpt id="p1">[</bpt>here<ept id="p1">](https://msdn.microsoft.com/library/azure/JJ933264.aspx#BKMK_NotADFSCert)</ept>.</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>If your metadata is not publicly accessible</source>
          <target state="new">If your metadata is not publicly accessible</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>If your AutocertificateRollover setting is True but your federation metadata is not publicly available, use the procedure below to ensure your certificates are updated both on premises and in the cloud:</source>
          <target state="new">If your AutocertificateRollover setting is True but your federation metadata is not publicly available, use the procedure below to ensure your certificates are updated both on premises and in the cloud:</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Verify that your AD FS system has generated a new certificate.</source>
          <target state="new">Verify that your AD FS system has generated a new certificate.</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>verify that you are logged on to the primary AD FS server.</source>
          <target state="new">verify that you are logged on to the primary AD FS server.</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Check the current signing certificates in AD FS by opening a PowerShell command window and running the following command:</source>
          <target state="new">Check the current signing certificates in AD FS by opening a PowerShell command window and running the following command:</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>(note that if you are using AD FS 2.0, you will need to run Add-Pssnapin Microsoft.Adfs.Powershell first)</source>
          <target state="new">(note that if you are using AD FS 2.0, you will need to run Add-Pssnapin Microsoft.Adfs.Powershell first)</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>Look at the command output at any certificates listed.</source>
          <target state="new">Look at the command output at any certificates listed.</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>If AD FS has generated a new certificate, you should see two certificates in the output:  One for which the IsPrimary value is True and the NotAfter date is within 5 days, and one for which IsPrimary is False and NotAfter is about a year in the future.</source>
          <target state="new">If AD FS has generated a new certificate, you should see two certificates in the output:  One for which the IsPrimary value is True and the NotAfter date is within 5 days, and one for which IsPrimary is False and NotAfter is about a year in the future.</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>If you only see one certificate, and the NotAfter date is within 5 days, you need to generate a new certificate by executing the following steps.</source>
          <target state="new">If you only see one certificate, and the NotAfter date is within 5 days, you need to generate a new certificate by executing the following steps.</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>To generate a new certificate, execute the following command at a PowerShell command prompt: <ph id="ph1">`PS C:\&gt;Update-ADFSCertificate –CertificateType token-signing`</ph>.</source>
          <target state="new">To generate a new certificate, execute the following command at a PowerShell command prompt: <ph id="ph1">`PS C:\&gt;Update-ADFSCertificate –CertificateType token-signing`</ph>.</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Verify the update by running the following command again: PS C:\&gt;Get-ADFSCertificate –CertificateType token-signing</source>
          <target state="new">Verify the update by running the following command again: PS C:\&gt;Get-ADFSCertificate –CertificateType token-signing</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Next, to manually update Office 365 federation trust properties, follow these steps.</source>
          <target state="new">Next, to manually update Office 365 federation trust properties, follow these steps.</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Two certificates should be listed now, one of which has a NotAfter date of approximately one year in the future and for which the IsPrimary value is False.</source>
          <target state="new">Two certificates should be listed now, one of which has a NotAfter date of approximately one year in the future and for which the IsPrimary value is False.</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Manually update Office 365 federation trust properties, follow these steps.</source>
          <target state="new">Manually update Office 365 federation trust properties, follow these steps.</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Open the Microsoft Azure Active Directory Module for Windows PowerShell.</source>
          <target state="new">Open the Microsoft Azure Active Directory Module for Windows PowerShell.</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>Run $cred=Get-Credential.</source>
          <target state="new">Run $cred=Get-Credential.</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>When this cmdlet prompts you for credentials, type your cloud service administrator account credentials.</source>
          <target state="new">When this cmdlet prompts you for credentials, type your cloud service administrator account credentials.</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Run Connect-MsolService –Credential $cred.</source>
          <target state="new">Run Connect-MsolService –Credential $cred.</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>This cmdlet connects you to the cloud service.</source>
          <target state="new">This cmdlet connects you to the cloud service.</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Creating a context that connects you to the cloud service is required before running any of the additional cmdlets installed by the tool.</source>
          <target state="new">Creating a context that connects you to the cloud service is required before running any of the additional cmdlets installed by the tool.</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>If you are running these commands on a computer that is not the AD FS primary federation server, run Set-MSOLAdfscontext -Computer</source>
          <target state="new">If you are running these commands on a computer that is not the AD FS primary federation server, run Set-MSOLAdfscontext -Computer</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>, where</source>
          <target state="new">, where</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>is the internal FQDN name of the primary AD FS server.</source>
          <target state="new">is the internal FQDN name of the primary AD FS server.</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>This cmdlet creates a context that connects you to AD FS.</source>
          <target state="new">This cmdlet creates a context that connects you to AD FS.</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Run Update-MSOLFederatedDomain –DomainName</source>
          <target state="new">Run Update-MSOLFederatedDomain –DomainName</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>This cmdlet updates the settings from AD FS into the cloud service and configures the trust relationship between the two.</source>
          <target state="new">This cmdlet updates the settings from AD FS into the cloud service and configures the trust relationship between the two.</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> If you need to support multiple top-level domains, such as contoso.com and fabrikam.com, you must use the SupportMultipleDomain switch with any cmdlets.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> If you need to support multiple top-level domains, such as contoso.com and fabrikam.com, you must use the SupportMultipleDomain switch with any cmdlets.</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>For more information, see Support for Multiple Top Level Domains.</source>
          <target state="new">For more information, see Support for Multiple Top Level Domains.</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Finally, ensure all Web Application Proxy servers are updated with <bpt id="p1">[</bpt>Windows Server May 2014<ept id="p1">](http://support.microsoft.com/kb/2955164)</ept> rollup, otherwise the proxies may fail to update themselves with the new certificate, resulting in an outage.</source>
          <target state="new">Finally, ensure all Web Application Proxy servers are updated with <bpt id="p1">[</bpt>Windows Server May 2014<ept id="p1">](http://support.microsoft.com/kb/2955164)</ept> rollup, otherwise the proxies may fail to update themselves with the new certificate, resulting in an outage.</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>test</source>
          <target state="new">test</target>
        </trans-unit>
      </group>
    </body>
  </file>
  <header xmlns="">
    <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">
    </xliffext:oltranslationpriority>
    <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">060de596182939fcd61b172e225e25489393124f</xliffext:olfilehash>
  </header>
</xliff>