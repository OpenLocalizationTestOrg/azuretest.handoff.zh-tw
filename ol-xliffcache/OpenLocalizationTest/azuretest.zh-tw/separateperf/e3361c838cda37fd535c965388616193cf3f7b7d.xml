{
  "nodes": [
    {
      "content": "Set up a SQL Server virtual machine as an IPython Notebook server | Microsoft Azure",
      "pos": [
        27,
        110
      ]
    },
    {
      "content": "Set up a Data Science Virtual Machine with SQL Server and IPython Server.",
      "pos": [
        129,
        202
      ]
    },
    {
      "content": "Set up an Azure SQL Server virtual machine as an IPython Notebook server for advanced analytics",
      "pos": [
        558,
        653
      ]
    },
    {
      "content": "This topic shows how to provision and configure an SQL Server virtual machine to be used as part of a cloud-based data science environment.",
      "pos": [
        655,
        794
      ]
    },
    {
      "content": "The Windows virtual machine is configured with supporting tools such as IPython Notebook, Azure Storage Explorer and AzCopy, as well as other utilities that are useful for data science projects.",
      "pos": [
        795,
        989
      ]
    },
    {
      "content": "Azure Storage Explorer and AzCopy, for example, provide convenient ways to upload data to Azure blob storage from your local machine or to download it to your local machine from blob storage.",
      "pos": [
        990,
        1181
      ]
    },
    {
      "content": "The Azure virtual machine gallery includes several images that contain Microsoft SQL Server.",
      "pos": [
        1183,
        1275
      ]
    },
    {
      "content": "Select an SQL Server VM image that is suitable for your data needs.",
      "pos": [
        1276,
        1343
      ]
    },
    {
      "content": "Recommended images are:",
      "pos": [
        1344,
        1367
      ]
    },
    {
      "content": "SQL Server 2012 SP2 Enterprise for small to medium data sizes",
      "pos": [
        1371,
        1432
      ]
    },
    {
      "content": "SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads for large to very large data sizes",
      "pos": [
        1435,
        1540
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> SQL Server 2012 SP2 Enterprise image <bpt id=\"p1\">**</bpt>does not include a data disk<ept id=\"p1\">**</ept>.",
      "pos": [
        1545,
        1628
      ]
    },
    {
      "content": "You will need to add and/or attach one or more virtual hard disks to store your data.",
      "pos": [
        1629,
        1714
      ]
    },
    {
      "content": "When you create an Azure virtual machine, it has a disk for the operating system mapped to the C drive and a temporary disk mapped to the D drive.",
      "pos": [
        1715,
        1861
      ]
    },
    {
      "content": "Do not use the D drive to store data.",
      "pos": [
        1862,
        1899
      ]
    },
    {
      "content": "As the name implies, it provides temporary storage only.",
      "pos": [
        1900,
        1956
      ]
    },
    {
      "content": "It offers no redundancy or backup because it doesn't reside in Azure storage.",
      "pos": [
        1957,
        2034
      ]
    },
    {
      "pos": [
        2039,
        2145
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"Provision\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Connect to the Azure management portal and provision an SQL Server virtual machine"
    },
    {
      "pos": [
        2151,
        2363
      ],
      "content": "Log in to the [Azure Management Portal](http://manage.windowsazure.com/) using your account.\nIf you do not have an Azure account, visit [Azure free\ntrial](http://www.windowsazure.com/pricing/free-trial/).",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "Log in to the <bpt id=\"p1\">[</bpt>Azure Management Portal<ept id=\"p1\">](http://manage.windowsazure.com/)</ept> using your account.",
          "pos": [
            0,
            92
          ]
        },
        {
          "content": "If you do not have an Azure account, visit <bpt id=\"p1\">[</bpt>Azure free\ntrial<ept id=\"p1\">](http://www.windowsazure.com/pricing/free-trial/)</ept>.",
          "pos": [
            93,
            204
          ]
        }
      ]
    },
    {
      "pos": [
        2369,
        2539
      ],
      "content": "On the Azure Management Portal, at the bottom left of the web page,\nclick **+NEW**, click **COMPUTE**, click **VIRTUAL MACHINE**, and\nthen click **FROM GALLERY**.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "On the Azure Management Portal, at the bottom left of the web page,",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "click <bpt id=\"p1\">**</bpt>+NEW<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>COMPUTE<ept id=\"p2\">**</ept>, click <bpt id=\"p3\">**</bpt>VIRTUAL MACHINE<ept id=\"p3\">**</ept>, and",
          "pos": [
            68,
            133
          ]
        },
        {
          "content": "then click <bpt id=\"p1\">**</bpt>FROM GALLERY<ept id=\"p1\">**</ept>.",
          "pos": [
            134,
            162
          ]
        }
      ]
    },
    {
      "pos": [
        2545,
        3054
      ],
      "content": "On the **Create a Virtual Machine** page, select a virtual machine\nimage containing SQL Server based on your data needs, and then click the next arrow at the\nbottom right of the page. For the most up-to-date information on the supported SQL Server images on Azure,\nsee [Getting Started with SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294720) topic in the [SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294719) documentation set.",
      "leadings": [
        "",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "On the <bpt id=\"p1\">**</bpt>Create a Virtual Machine<ept id=\"p1\">**</ept> page, select a virtual machine",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "image containing SQL Server based on your data needs, and then click the next arrow at the",
          "pos": [
            67,
            157
          ]
        },
        {
          "content": "bottom right of the page. For the most up-to-date information on the supported SQL Server images on Azure,",
          "pos": [
            158,
            264
          ],
          "nodes": [
            {
              "content": "bottom right of the page.",
              "pos": [
                0,
                25
              ]
            },
            {
              "content": "For the most up-to-date information on the supported SQL Server images on Azure,",
              "pos": [
                26,
                106
              ]
            }
          ]
        },
        {
          "content": "see <bpt id=\"p1\">[</bpt>Getting Started with SQL Server in Azure Virtual Machines<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=294720)</ept> topic in the <bpt id=\"p2\">[</bpt>SQL Server in Azure Virtual Machines<ept id=\"p2\">](http://go.microsoft.com/fwlink/p/?LinkId=294719)</ept> documentation set.",
          "pos": [
            265,
            497
          ]
        }
      ]
    },
    {
      "content": "Select SQL Server VM",
      "pos": [
        3062,
        3082
      ]
    },
    {
      "pos": [
        3092,
        3183
      ],
      "content": "On the first **Virtual Machine Configuration** page, provide the\nfollowing information:",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "On the first <bpt id=\"p1\">**</bpt>Virtual Machine Configuration<ept id=\"p1\">**</ept> page, provide the",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "following information:",
          "pos": [
            65,
            87
          ]
        }
      ]
    },
    {
      "pos": [
        3193,
        3228
      ],
      "content": "Provide a <bpt id=\"p1\">**</bpt>VIRTUAL MACHINE NAME<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        3237,
        3336
      ],
      "content": "In the **NEW USER NAME** box, type unique user name for the VM\nlocal administrator account.",
      "leadings": [
        "",
        "        "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>NEW USER NAME<ept id=\"p1\">**</ept> box, type unique user name for the VM",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "local administrator account.",
          "pos": [
            63,
            91
          ]
        }
      ]
    },
    {
      "pos": [
        3345,
        3500
      ],
      "content": "In the **NEW PASSWORD** box, type a strong password. For more\ninformation, see [Strong Passwords](http://msdn.microsoft.com/library/ms161962.aspx).",
      "leadings": [
        "",
        "        "
      ],
      "nodes": [
        {
          "content": "In the **NEW PASSWORD** box, type a strong password. For more",
          "pos": [
            0,
            61
          ],
          "nodes": [
            {
              "content": "In the <bpt id=\"p1\">**</bpt>NEW PASSWORD<ept id=\"p1\">**</ept> box, type a strong password.",
              "pos": [
                0,
                52
              ]
            },
            {
              "content": "For more",
              "pos": [
                53,
                61
              ]
            }
          ]
        },
        {
          "content": "information, see <bpt id=\"p1\">[</bpt>Strong Passwords<ept id=\"p1\">](http://msdn.microsoft.com/library/ms161962.aspx)</ept>.",
          "pos": [
            62,
            147
          ]
        }
      ]
    },
    {
      "pos": [
        3509,
        3562
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>CONFIRM PASSWORD<ept id=\"p1\">**</ept> box, retype the password."
    },
    {
      "pos": [
        3571,
        3627
      ],
      "content": "Select the appropriate <bpt id=\"p1\">**</bpt>SIZE<ept id=\"p1\">**</ept> from the drop down list."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> The size of the virtual machine is specified during provisioning: A2",
      "pos": [
        3636,
        3717
      ]
    },
    {
      "content": "is the smallest size recommended for production workloads.",
      "pos": [
        3722,
        3780
      ]
    },
    {
      "content": "The",
      "pos": [
        3781,
        3784
      ]
    },
    {
      "content": "minimum recommended size for a virtual machine is A3 when using SQL",
      "pos": [
        3789,
        3856
      ]
    },
    {
      "content": "Server Enterprise Edition.",
      "pos": [
        3861,
        3887
      ]
    },
    {
      "content": "Select A3 or higher when using SQL Server",
      "pos": [
        3888,
        3929
      ]
    },
    {
      "content": "Enterprise Edition.",
      "pos": [
        3934,
        3953
      ]
    },
    {
      "content": "Select A4 when using SQL Server 2012 or 2014",
      "pos": [
        3954,
        3998
      ]
    },
    {
      "content": "Enterprise Optimized for Transactional Workloads images.",
      "pos": [
        4003,
        4059
      ]
    },
    {
      "content": "Select A7 when using SQL Server 2012 or 2014 Enterprise Optimized",
      "pos": [
        4065,
        4130
      ]
    },
    {
      "content": "for Data Warehousing Workloads images.",
      "pos": [
        4135,
        4173
      ]
    },
    {
      "content": "The size selected limits the",
      "pos": [
        4174,
        4202
      ]
    },
    {
      "content": "number of data disks you can configure.",
      "pos": [
        4207,
        4246
      ]
    },
    {
      "content": "For most up-to-date",
      "pos": [
        4247,
        4266
      ]
    },
    {
      "pos": [
        4271,
        4612
      ],
      "content": "information on available virtual machine sizes and the number of\ndata disks that you can attach to a virtual machine, see [Virtual\nMachine Sizes for\nAzure](http://msdn.microsoft.com/library/azure/dn197896.aspx). For pricing information, see [VIrtual Macines Pricing](http://azure.microsoft.com/pricing/details/virtual-machines/).",
      "leadings": [
        "",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "information on available virtual machine sizes and the number of",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "data disks that you can attach to a virtual machine, see [Virtual\nMachine Sizes for\nAzure](http://msdn.microsoft.com/library/azure/dn197896.aspx). For pricing information, see [VIrtual Macines Pricing](http://azure.microsoft.com/pricing/details/virtual-machines/).",
          "pos": [
            65,
            329
          ],
          "nodes": [
            {
              "content": "data disks that you can attach to a virtual machine, see <bpt id=\"p1\">[</bpt>Virtual\nMachine Sizes for\nAzure<ept id=\"p1\">](http://msdn.microsoft.com/library/azure/dn197896.aspx)</ept>.",
              "pos": [
                0,
                146
              ]
            },
            {
              "content": "For pricing information, see <bpt id=\"p1\">[</bpt>VIrtual Macines Pricing<ept id=\"p1\">](http://azure.microsoft.com/pricing/details/virtual-machines/)</ept>.",
              "pos": [
                147,
                264
              ]
            }
          ]
        }
      ]
    },
    {
      "content": "Click the next arrow on the bottom right to continue.",
      "pos": [
        4618,
        4671
      ]
    },
    {
      "content": "VM Configuration",
      "pos": [
        4679,
        4695
      ]
    },
    {
      "pos": [
        4705,
        4825
      ],
      "content": "On the second **Virtual machine configuration** page, configure\nresources for networking, storage, and availability:",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "On the second <bpt id=\"p1\">**</bpt>Virtual machine configuration<ept id=\"p1\">**</ept> page, configure",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "resources for networking, storage, and availability:",
          "pos": [
            64,
            116
          ]
        }
      ]
    },
    {
      "pos": [
        4835,
        4911
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Cloud Service<ept id=\"p1\">**</ept> box, choose <bpt id=\"p2\">**</bpt>Create a new cloud\nservice<ept id=\"p2\">**</ept>.",
      "leadings": [
        "",
        "        "
      ]
    },
    {
      "pos": [
        4920,
        5098
      ],
      "content": "In the **Cloud Service DNS Name** box, provide the first portion\nof a DNS name of your choice, so that it completes a name in the\nformat **TESTNAME.cloudapp.net**",
      "leadings": [
        "",
        "        ",
        "        "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>Cloud Service DNS Name<ept id=\"p1\">**</ept> box, provide the first portion",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "of a DNS name of your choice, so that it completes a name in the",
          "pos": [
            65,
            129
          ]
        },
        {
          "content": "format <bpt id=\"p1\">**</bpt>TESTNAME.cloudapp.net<ept id=\"p1\">**</ept>",
          "pos": [
            130,
            162
          ]
        }
      ]
    },
    {
      "pos": [
        5107,
        5225
      ],
      "content": "In the **REGION/AFFINITY GROUP/VIRTUAL NETWORK** box, select a\nregion where this virtual image will be hosted.",
      "leadings": [
        "",
        "        "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>REGION/AFFINITY GROUP/VIRTUAL NETWORK<ept id=\"p1\">**</ept> box, select a",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "region where this virtual image will be hosted.",
          "pos": [
            63,
            110
          ]
        }
      ]
    },
    {
      "pos": [
        5234,
        5346
      ],
      "content": "In the **Storage Account**, select an existing storage account\nor select an automatically generated one.",
      "leadings": [
        "",
        "        "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>Storage Account<ept id=\"p1\">**</ept>, select an existing storage account",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "or select an automatically generated one.",
          "pos": [
            63,
            104
          ]
        }
      ]
    },
    {
      "pos": [
        5355,
        5406
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>AVAILABILITY SET<ept id=\"p1\">**</ept> box, select <bpt id=\"p2\">**</bpt>(none)<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Read and accept the pricing information.",
      "pos": [
        5415,
        5455
      ]
    },
    {
      "pos": [
        5461,
        5666
      ],
      "content": "In the **ENDPOINTS** section, click in the empty dropdown under **NAME**, and\nselect **MSSQL**  then type the port number of the\ninstance of the Database Engine (**1433** for the default instance).",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>ENDPOINTS<ept id=\"p1\">**</ept> section, click in the empty dropdown under <bpt id=\"p2\">**</bpt>NAME<ept id=\"p2\">**</ept>, and",
          "pos": [
            0,
            77
          ]
        },
        {
          "content": "select <bpt id=\"p1\">**</bpt>MSSQL<ept id=\"p1\">**</ept>  then type the port number of the",
          "pos": [
            78,
            128
          ]
        },
        {
          "content": "instance of the Database Engine (<bpt id=\"p1\">**</bpt>1433<ept id=\"p1\">**</ept> for the default instance).",
          "pos": [
            129,
            197
          ]
        }
      ]
    },
    {
      "pos": [
        5672,
        5990
      ],
      "content": "Your SQL Server VM can also serve as an IPython Notebook Server, which will be configured in a later step.\nAdd a new endpoint to specify the port to use for your IPython Notebook server. Enter a name in the **NAME** column,    select a port number of your choice for the public port, and 9999 for the private port.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Your SQL Server VM can also serve as an IPython Notebook Server, which will be configured in a later step.",
          "pos": [
            0,
            106
          ]
        },
        {
          "content": "Add a new endpoint to specify the port to use for your IPython Notebook server. Enter a name in the **NAME** column,    select a port number of your choice for the public port, and 9999 for the private port.",
          "pos": [
            107,
            314
          ],
          "nodes": [
            {
              "content": "Add a new endpoint to specify the port to use for your IPython Notebook server.",
              "pos": [
                0,
                79
              ]
            },
            {
              "content": "Enter a name in the <bpt id=\"p1\">**</bpt>NAME<ept id=\"p1\">**</ept> column,    select a port number of your choice for the public port, and 9999 for the private port.",
              "pos": [
                80,
                207
              ]
            }
          ]
        }
      ]
    },
    {
      "content": "Click the next arrow on the bottom right to continue.",
      "pos": [
        5996,
        6049
      ]
    },
    {
      "content": "Select MSSQL and IPython ports",
      "pos": [
        6057,
        6087
      ]
    },
    {
      "pos": [
        6097,
        6266
      ],
      "content": "Accept the default **Install VM agent** option checked and click the the check mark in the bottom right\ncorner of the wizard to complete the VM provisioning process.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Accept the default <bpt id=\"p1\">**</bpt>Install VM agent<ept id=\"p1\">**</ept> option checked and click the the check mark in the bottom right",
          "pos": [
            0,
            103
          ]
        },
        {
          "content": "corner of the wizard to complete the VM provisioning process.",
          "pos": [
            104,
            165
          ]
        }
      ]
    },
    {
      "content": "`",
      "pos": [
        6272,
        6273
      ]
    },
    {
      "content": "VM Final Options",
      "pos": [
        6275,
        6291
      ]
    },
    {
      "pos": [
        6301,
        6406
      ],
      "content": "Wait while Azure prepares your virtual machine. Expect the virtual\nmachine status to proceed through:",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Wait while Azure prepares your virtual machine. Expect the virtual",
          "pos": [
            0,
            66
          ],
          "nodes": [
            {
              "content": "Wait while Azure prepares your virtual machine.",
              "pos": [
                0,
                47
              ]
            },
            {
              "content": "Expect the virtual",
              "pos": [
                48,
                66
              ]
            }
          ]
        },
        {
          "content": "machine status to proceed through:",
          "pos": [
            67,
            101
          ]
        }
      ]
    },
    {
      "content": "Starting (Provisioning)",
      "pos": [
        6416,
        6439
      ]
    },
    {
      "content": "Stopped",
      "pos": [
        6448,
        6455
      ]
    },
    {
      "content": "Starting (Provisioning)",
      "pos": [
        6464,
        6487
      ]
    },
    {
      "content": "Running (Provisioning)",
      "pos": [
        6496,
        6518
      ]
    },
    {
      "content": "Running",
      "pos": [
        6527,
        6534
      ]
    },
    {
      "pos": [
        6538,
        6630
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"RemoteDesktop\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Open the virtual machine using Remote Desktop and complete setup"
    },
    {
      "pos": [
        6636,
        6789
      ],
      "content": "When provisioning completes, click on the name of your virtual\nmachine to go to the DASHBOARD page. At the bottom of the page,\nclick **Connect**.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "When provisioning completes, click on the name of your virtual",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "machine to go to the DASHBOARD page. At the bottom of the page,",
          "pos": [
            63,
            126
          ],
          "nodes": [
            {
              "content": "machine to go to the DASHBOARD page.",
              "pos": [
                0,
                36
              ]
            },
            {
              "content": "At the bottom of the page,",
              "pos": [
                37,
                63
              ]
            }
          ]
        },
        {
          "content": "click <bpt id=\"p1\">**</bpt>Connect<ept id=\"p1\">**</ept>.",
          "pos": [
            127,
            145
          ]
        }
      ]
    },
    {
      "pos": [
        6795,
        6900
      ],
      "content": "Choose to open the rpd file using the Windows Remote Desktop program\n(`%windir%\\system32\\mstsc.exe`).",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Choose to open the rpd file using the Windows Remote Desktop program",
          "pos": [
            0,
            68
          ]
        },
        {
          "content": "(<ph id=\"ph1\">`%windir%\\system32\\mstsc.exe`</ph>).",
          "pos": [
            69,
            101
          ]
        }
      ]
    },
    {
      "pos": [
        6906,
        7124
      ],
      "content": "At the **Windows Security** dialog box, provide the password for the\nlocal administrator account that you specified in an earlier step.\n(You might be asked to verify the credentials of the virtual\nmachine.)",
      "leadings": [
        "",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "At the <bpt id=\"p1\">**</bpt>Windows Security<ept id=\"p1\">**</ept> dialog box, provide the password for the",
          "pos": [
            0,
            68
          ]
        },
        {
          "content": "local administrator account that you specified in an earlier step.",
          "pos": [
            69,
            135
          ]
        },
        {
          "content": "(You might be asked to verify the credentials of the virtual",
          "pos": [
            136,
            196
          ]
        },
        {
          "content": "machine.)",
          "pos": [
            197,
            206
          ]
        }
      ]
    },
    {
      "pos": [
        7130,
        7675
      ],
      "content": "The first time you log on to this virtual machine, several processes\nmay need to complete, including setup of your desktop, Windows\nupdates, and completion of the Windows initial configuration tasks\n(sysprep). After Windows sysprep completes, SQL Server setup\ncompletes configuration tasks. These tasks may cause a delay of a\nfew minutes while they complete. `SELECT @@SERVERNAME` may not\nreturn the correct name until SQL Server setup completes, and SQL\nServer Management Studio may not be visable on the start page.",
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "The first time you log on to this virtual machine, several processes",
          "pos": [
            0,
            68
          ]
        },
        {
          "content": "may need to complete, including setup of your desktop, Windows",
          "pos": [
            69,
            131
          ]
        },
        {
          "content": "updates, and completion of the Windows initial configuration tasks",
          "pos": [
            132,
            198
          ]
        },
        {
          "content": "(sysprep). After Windows sysprep completes, SQL Server setup",
          "pos": [
            199,
            259
          ],
          "nodes": [
            {
              "content": "(sysprep).",
              "pos": [
                0,
                10
              ]
            },
            {
              "content": "After Windows sysprep completes, SQL Server setup",
              "pos": [
                11,
                60
              ]
            }
          ]
        },
        {
          "content": "completes configuration tasks. These tasks may cause a delay of a",
          "pos": [
            260,
            325
          ],
          "nodes": [
            {
              "content": "completes configuration tasks.",
              "pos": [
                0,
                30
              ]
            },
            {
              "content": "These tasks may cause a delay of a",
              "pos": [
                31,
                65
              ]
            }
          ]
        },
        {
          "content": "few minutes while they complete. `SELECT @@SERVERNAME` may not",
          "pos": [
            326,
            388
          ],
          "nodes": [
            {
              "content": "few minutes while they complete.",
              "pos": [
                0,
                32
              ]
            },
            {
              "content": "<ph id=\"ph1\">`SELECT @@SERVERNAME`</ph> may not",
              "pos": [
                33,
                62
              ]
            }
          ]
        },
        {
          "content": "return the correct name until SQL Server setup completes, and SQL",
          "pos": [
            389,
            454
          ]
        },
        {
          "content": "Server Management Studio may not be visable on the start page.",
          "pos": [
            455,
            517
          ]
        }
      ]
    },
    {
      "content": "Once you are connected to the virtual machine with Windows Remote",
      "pos": [
        7677,
        7742
      ]
    },
    {
      "content": "Desktop, the virtual machine works much like any other computer.",
      "pos": [
        7743,
        7807
      ]
    },
    {
      "content": "Connect",
      "pos": [
        7808,
        7815
      ]
    },
    {
      "content": "to the default instance of SQL Server with SQL Server Management Studio",
      "pos": [
        7816,
        7887
      ]
    },
    {
      "content": "(running on the virtual machine) in the normal way.",
      "pos": [
        7888,
        7939
      ]
    },
    {
      "pos": [
        7943,
        8023
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"InstallIPython\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Install IPython Notebook and other supporting tools"
    },
    {
      "content": "To configure your new SQL Server VM to serve as an IPython Notebook server, and install additional",
      "pos": [
        8025,
        8123
      ]
    },
    {
      "content": "supporting tools such AzCopy, Azure Storage Explorer, useful Data Science Python packages, and others,",
      "pos": [
        8124,
        8226
      ]
    },
    {
      "content": "a special customization script is provided to you.",
      "pos": [
        8227,
        8277
      ]
    },
    {
      "content": "To install:",
      "pos": [
        8278,
        8289
      ]
    },
    {
      "pos": [
        8293,
        8364
      ],
      "content": "Right-click the Windows Start icon and click <bpt id=\"p1\">**</bpt>Command Prompt (Admin)<ept id=\"p1\">**</ept>"
    },
    {
      "content": "Copy the following commands and paste at the command prompt.",
      "pos": [
        8367,
        8427
      ]
    },
    {
      "content": "When prompted, enter a password of your choice for the IPython Notebook server.",
      "pos": [
        8709,
        8788
      ]
    },
    {
      "content": "The customization script automates several post-install procedures, which include:",
      "pos": [
        8791,
        8873
      ]
    },
    {
      "content": "Installation and setup of IPython Notebook server",
      "pos": [
        8880,
        8929
      ]
    },
    {
      "content": "Opening TCP ports in the Windows firewall for the endpoints created earlier:",
      "pos": [
        8936,
        9012
      ]
    },
    {
      "content": "For SQL Server remote connectivity",
      "pos": [
        9019,
        9053
      ]
    },
    {
      "content": "For IPython Notebook server remote connectivity",
      "pos": [
        9060,
        9107
      ]
    },
    {
      "content": "Fetching sample IPython notebooks and SQL scripts",
      "pos": [
        9114,
        9163
      ]
    },
    {
      "content": "Downloading and installing useful Data Science Python packages",
      "pos": [
        9170,
        9232
      ]
    },
    {
      "content": "Downloading and installing Azure tools such as AzCopy and Azure Storage Explorer",
      "pos": [
        9239,
        9319
      ]
    },
    {
      "pos": [
        9329,
        9561
      ],
      "content": "You may access and run IPython Notebook from any local or remote browser using a URL of the form <ph id=\"ph1\">`https://&lt;virtual_machine_DNS_name&gt;:&lt;port&gt;`</ph>, where port is the IPython public port you selected while provisioning the virtual machine."
    },
    {
      "content": "IPython Notebook server is running as a background service and will be restarted automatically when you restart the virtual machine.",
      "pos": [
        9564,
        9696
      ]
    },
    {
      "pos": [
        9700,
        9749
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"Optional\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Attach data disk as needed"
    },
    {
      "content": "If your VM image does not include data disks, i.e., disks other than C drive (OS disk) and D drive (temporary disk), you need to add one or more data disks to store your data.",
      "pos": [
        9751,
        9926
      ]
    },
    {
      "content": "The VM image for SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads comes pre-configured with additional disks for SQL Server data and log files.",
      "pos": [
        9927,
        10092
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Do not use the D drive to store data.",
      "pos": [
        10097,
        10147
      ]
    },
    {
      "content": "As the name implies, it provides temporary storage only.",
      "pos": [
        10148,
        10204
      ]
    },
    {
      "content": "It offers no redundancy or backup because it doesn't reside in Azure storage.",
      "pos": [
        10205,
        10282
      ]
    },
    {
      "pos": [
        10284,
        10466
      ],
      "content": "To attach additional data disks, follow the steps described in <bpt id=\"p1\">[</bpt>How to Attach a Data Disk to a Windows Virtual Machine<ept id=\"p1\">](storage-windows-attach-disk.md)</ept>, which will guide you through:"
    },
    {
      "content": "Attaching empty disk(s) to the virtual machine provisioned in earlier steps",
      "pos": [
        10471,
        10546
      ]
    },
    {
      "content": "Initialization of the new disk(s) in the virtual machine",
      "pos": [
        10550,
        10606
      ]
    },
    {
      "pos": [
        10611,
        10706
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"SSMS\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Connect to SQL Server Management Studio and enable mixed mode authentication"
    },
    {
      "content": "The SQL Server Database Engine cannot use Windows Authentication without",
      "pos": [
        10708,
        10780
      ]
    },
    {
      "content": "domain environment.",
      "pos": [
        10781,
        10800
      ]
    },
    {
      "content": "To connect to the Database Engine from another",
      "pos": [
        10801,
        10847
      ]
    },
    {
      "content": "computer, configure SQL Server for mixed mode authentication.",
      "pos": [
        10848,
        10909
      ]
    },
    {
      "content": "Mixed mode",
      "pos": [
        10910,
        10920
      ]
    },
    {
      "content": "authentication allows both SQL Server Authentication and Windows",
      "pos": [
        10921,
        10985
      ]
    },
    {
      "content": "Authentication.",
      "pos": [
        10986,
        11001
      ]
    },
    {
      "content": "SQL authentication mode is required in order to ingest data",
      "pos": [
        11002,
        11061
      ]
    },
    {
      "content": "directly from your SQL Server VM databases in the",
      "pos": [
        11062,
        11111
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>Azure Machine Learning Studio<ept id=\"p1\">](https://studio.azureml.net)</ept> using the Reader module.",
      "pos": [
        11112,
        11196
      ]
    },
    {
      "content": "While connected to the virtual machine by using Remote Desktop, use the Windows <bpt id=\"p1\">**</bpt>Search<ept id=\"p1\">**</ept> pane and type <bpt id=\"p2\">**</bpt>SQL Server Management Studio<ept id=\"p2\">**</ept> (SMSS).",
      "pos": [
        11202,
        11347
      ]
    },
    {
      "content": "Click to start the SQL Server Management Studio (SSMS).",
      "pos": [
        11348,
        11403
      ]
    },
    {
      "content": "You may want to add a shortcut to SSMS on your Desktop for future use.",
      "pos": [
        11404,
        11474
      ]
    },
    {
      "content": "Start SSMS",
      "pos": [
        11482,
        11492
      ]
    },
    {
      "pos": [
        11502,
        11632
      ],
      "content": "The first time you open Management Studio it must create the users\nManagement Studio environment. This may take a few moments.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "The first time you open Management Studio it must create the users",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "Management Studio environment. This may take a few moments.",
          "pos": [
            67,
            126
          ],
          "nodes": [
            {
              "content": "Management Studio environment.",
              "pos": [
                0,
                30
              ]
            },
            {
              "content": "This may take a few moments.",
              "pos": [
                31,
                59
              ]
            }
          ]
        }
      ]
    },
    {
      "pos": [
        11638,
        12117
      ],
      "content": "When opening, Management Studio presents the **Connect to Server**\ndialog box. In the **Server name** box, type the name of the virtual\nmachine to connect to the Database Engine with the Object Explorer.\n(Instead of the virtual machine name you can also use **(local)** or\na single period as the **Server name**. Select **Windows\nAuthentication**, and leave\n***your\\_VM\\_name*\\\\your\\_local\\_administrator** in the **User\nname** box. Click **Connect**.",
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "When opening, Management Studio presents the <bpt id=\"p1\">**</bpt>Connect to Server<ept id=\"p1\">**</ept>",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "dialog box. In the **Server name** box, type the name of the virtual",
          "pos": [
            67,
            135
          ],
          "nodes": [
            {
              "content": "dialog box.",
              "pos": [
                0,
                11
              ]
            },
            {
              "content": "In the <bpt id=\"p1\">**</bpt>Server name<ept id=\"p1\">**</ept> box, type the name of the virtual",
              "pos": [
                12,
                68
              ]
            }
          ]
        },
        {
          "content": "machine to connect to the Database Engine with the Object Explorer.",
          "pos": [
            136,
            203
          ]
        },
        {
          "content": "(Instead of the virtual machine name you can also use <bpt id=\"p1\">**</bpt>(local)<ept id=\"p1\">**</ept> or",
          "pos": [
            204,
            272
          ]
        },
        {
          "content": "a single period as the **Server name**. Select **Windows\nAuthentication**, and leave",
          "pos": [
            273,
            357
          ],
          "nodes": [
            {
              "content": "a single period as the <bpt id=\"p1\">**</bpt>Server name<ept id=\"p1\">**</ept>.",
              "pos": [
                0,
                39
              ]
            },
            {
              "content": "Select <bpt id=\"p1\">**</bpt>Windows\nAuthentication<ept id=\"p1\">**</ept>, and leave",
              "pos": [
                40,
                84
              ]
            }
          ]
        },
        {
          "content": "***your\\_VM\\_name*\\\\your\\_local\\_administrator** in the **User\nname** box. Click **Connect**.",
          "pos": [
            358,
            451
          ],
          "nodes": [
            {
              "content": "<bpt id=\"p1\">**</bpt><bpt id=\"p2\">*</bpt>your\\_VM\\_name<ept id=\"p2\">*</ept>\\\\your\\_local\\_administrator<ept id=\"p1\">**</ept> in the <bpt id=\"p3\">**</bpt>User\nname<ept id=\"p3\">**</ept> box.",
              "pos": [
                0,
                74
              ]
            },
            {
              "content": "Click <bpt id=\"p1\">**</bpt>Connect<ept id=\"p1\">**</ept>.",
              "pos": [
                75,
                93
              ]
            }
          ]
        }
      ]
    },
    {
      "content": "Connect to Server",
      "pos": [
        12125,
        12142
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> You may change the SQL Server authentication mode using a Windows registry key change or using the SQL Server Management Studio.",
      "pos": [
        12165,
        12305
      ]
    },
    {
      "content": "To change authentication mode using the registry key change, start a <bpt id=\"p1\">**</bpt>New Query<ept id=\"p1\">**</ept> and execute the following script:",
      "pos": [
        12306,
        12422
      ]
    },
    {
      "content": "To change the authentication mode using SQL Server management Studio:",
      "pos": [
        12603,
        12672
      ]
    },
    {
      "pos": [
        12678,
        12844
      ],
      "content": "In SQL Server Management Studio Object Explorer, right-click the\nname of the instance of SQL Server (the virtual machine name), and\nthen click **Properties**.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "In SQL Server Management Studio Object Explorer, right-click the",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "name of the instance of SQL Server (the virtual machine name), and",
          "pos": [
            65,
            131
          ]
        },
        {
          "content": "then click <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.",
          "pos": [
            132,
            158
          ]
        }
      ]
    },
    {
      "content": "Server Properties",
      "pos": [
        12852,
        12869
      ]
    },
    {
      "pos": [
        12879,
        13023
      ],
      "content": "On the **Security** page, under **Server authentication**, select\n**SQL Server and Windows Authentication mode**, and then click\n**OK**.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "On the <bpt id=\"p1\">**</bpt>Security<ept id=\"p1\">**</ept> page, under <bpt id=\"p2\">**</bpt>Server authentication<ept id=\"p2\">**</ept>, select",
          "pos": [
            0,
            65
          ]
        },
        {
          "content": "<bpt id=\"p1\">**</bpt>SQL Server and Windows Authentication mode<ept id=\"p1\">**</ept>, and then click",
          "pos": [
            66,
            128
          ]
        },
        {
          "content": "<bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.",
          "pos": [
            129,
            136
          ]
        }
      ]
    },
    {
      "content": "Select Authentication Mode",
      "pos": [
        13031,
        13057
      ]
    },
    {
      "pos": [
        13067,
        13185
      ],
      "content": "In the SQL Server Management Studio dialog box, click **OK** to\nacknowledge the requirement to restart SQL Server.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the SQL Server Management Studio dialog box, click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "acknowledge the requirement to restart SQL Server.",
          "pos": [
            64,
            114
          ]
        }
      ]
    },
    {
      "pos": [
        13191,
        13332
      ],
      "content": "In Object Explorer, right-click your server, and then click\n**Restart**. (If SQL Server Agent is running, it must also be\nrestarted.)",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "In Object Explorer, right-click your server, and then click",
          "pos": [
            0,
            59
          ]
        },
        {
          "content": "**Restart**. (If SQL Server Agent is running, it must also be",
          "pos": [
            60,
            121
          ],
          "nodes": [
            {
              "content": "<bpt id=\"p1\">**</bpt>Restart<ept id=\"p1\">**</ept>.",
              "pos": [
                0,
                12
              ]
            },
            {
              "content": "(If SQL Server Agent is running, it must also be",
              "pos": [
                13,
                61
              ]
            }
          ]
        },
        {
          "content": "restarted.)",
          "pos": [
            122,
            133
          ]
        }
      ]
    },
    {
      "content": "Restart",
      "pos": [
        13340,
        13347
      ]
    },
    {
      "pos": [
        13357,
        13468
      ],
      "content": "In the SQL Server Management Studio dialog box, click **Yes** to\nagree that you want to restart SQL Server.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the SQL Server Management Studio dialog box, click <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept> to",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "agree that you want to restart SQL Server.",
          "pos": [
            65,
            107
          ]
        }
      ]
    },
    {
      "pos": [
        13472,
        13532
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"Logins\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Create SQL Server authentication logins"
    },
    {
      "content": "To connect to the Database Engine from another computer, you must create",
      "pos": [
        13534,
        13606
      ]
    },
    {
      "content": "at least one SQL Server authentication login.",
      "pos": [
        13607,
        13652
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.TIP]</ph> You may create new SQL Server logins programmatically or using the SQL Server Management Studio.",
      "pos": [
        13658,
        13766
      ]
    },
    {
      "content": "To create a new sysadmin user with SQL authentication programatically, start a <bpt id=\"p1\">**</bpt>New Query<ept id=\"p1\">**</ept> and execute the following script.",
      "pos": [
        13767,
        13893
      ]
    },
    {
      "content": "Replace &lt;new user name\\&gt; and &lt;new password\\&gt; with your choice of user name and password.",
      "pos": [
        13894,
        13982
      ]
    },
    {
      "content": "Adjust the password policy as needed (the sample code turns off policy checking and password expiration).",
      "pos": [
        13983,
        14088
      ]
    },
    {
      "content": "For more information about SQL Server logins, see <bpt id=\"p1\">[</bpt>Create a Login<ept id=\"p1\">](http://msdn.microsoft.com/library/aa337562.aspx)</ept>.",
      "pos": [
        14089,
        14205
      ]
    },
    {
      "content": "To create new SQL Server logins using the SQL Server Management Studio:",
      "pos": [
        14448,
        14519
      ]
    },
    {
      "pos": [
        14525,
        14661
      ],
      "content": "In SQL Server Management Studio Object Explorer, expand the folder\nof the server instance in which you want to create the new login.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In SQL Server Management Studio Object Explorer, expand the folder",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "of the server instance in which you want to create the new login.",
          "pos": [
            67,
            132
          ]
        }
      ]
    },
    {
      "pos": [
        14667,
        14748
      ],
      "content": "Right-click the **Security** folder, point to **New**, and select\n**Login…**.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Right-click the <bpt id=\"p1\">**</bpt>Security<ept id=\"p1\">**</ept> folder, point to <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, and select",
          "pos": [
            0,
            65
          ]
        },
        {
          "content": "<bpt id=\"p1\">**</bpt>Login…<ept id=\"p1\">**</ept>.",
          "pos": [
            66,
            77
          ]
        }
      ]
    },
    {
      "content": "New Login",
      "pos": [
        14756,
        14765
      ]
    },
    {
      "pos": [
        14776,
        14897
      ],
      "content": "In the **Login - New** dialog box, on the **General** page, enter\nthe name of the new user in the **Login name** box.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>Login - New<ept id=\"p1\">**</ept> dialog box, on the <bpt id=\"p2\">**</bpt>General<ept id=\"p2\">**</ept> page, enter",
          "pos": [
            0,
            65
          ]
        },
        {
          "content": "the name of the new user in the <bpt id=\"p1\">**</bpt>Login name<ept id=\"p1\">**</ept> box.",
          "pos": [
            66,
            117
          ]
        }
      ]
    },
    {
      "pos": [
        14903,
        14940
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>SQL Server authentication<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        14946,
        15070
      ],
      "content": "In the **Password** box, enter a password for the new user. Enter\nthat password again into the **Confirm Password** box.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the **Password** box, enter a password for the new user. Enter",
          "pos": [
            0,
            65
          ],
          "nodes": [
            {
              "content": "In the <bpt id=\"p1\">**</bpt>Password<ept id=\"p1\">**</ept> box, enter a password for the new user.",
              "pos": [
                0,
                59
              ]
            },
            {
              "content": "Enter",
              "pos": [
                60,
                65
              ]
            }
          ]
        },
        {
          "content": "that password again into the <bpt id=\"p1\">**</bpt>Confirm Password<ept id=\"p1\">**</ept> box.",
          "pos": [
            66,
            120
          ]
        }
      ]
    },
    {
      "pos": [
        15076,
        15269
      ],
      "content": "To enforce password policy options for complexity and enforcement,\nselect **Enforce password policy** (recommended). This is a default\noption when SQL Server authentication is selected.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "To enforce password policy options for complexity and enforcement,",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "select **Enforce password policy** (recommended). This is a default",
          "pos": [
            67,
            134
          ],
          "nodes": [
            {
              "content": "select <bpt id=\"p1\">**</bpt>Enforce password policy<ept id=\"p1\">**</ept> (recommended).",
              "pos": [
                0,
                49
              ]
            },
            {
              "content": "This is a default",
              "pos": [
                50,
                67
              ]
            }
          ]
        },
        {
          "content": "option when SQL Server authentication is selected.",
          "pos": [
            135,
            185
          ]
        }
      ]
    },
    {
      "pos": [
        15275,
        15526
      ],
      "content": "To enforce password policy options for expiration, select **Enforce\npassword expiration** (recommended). Enforce password policy must be\nselected to enable this checkbox. This is a default option when SQL\nServer authentication is selected.",
      "leadings": [
        "",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "To enforce password policy options for expiration, select **Enforce\npassword expiration** (recommended). Enforce password policy must be",
          "pos": [
            0,
            136
          ],
          "nodes": [
            {
              "content": "To enforce password policy options for expiration, select <bpt id=\"p1\">**</bpt>Enforce\npassword expiration<ept id=\"p1\">**</ept> (recommended).",
              "pos": [
                0,
                104
              ]
            },
            {
              "content": "Enforce password policy must be",
              "pos": [
                105,
                136
              ]
            }
          ]
        },
        {
          "content": "selected to enable this checkbox. This is a default option when SQL",
          "pos": [
            137,
            204
          ],
          "nodes": [
            {
              "content": "selected to enable this checkbox.",
              "pos": [
                0,
                33
              ]
            },
            {
              "content": "This is a default option when SQL",
              "pos": [
                34,
                67
              ]
            }
          ]
        },
        {
          "content": "Server authentication is selected.",
          "pos": [
            205,
            239
          ]
        }
      ]
    },
    {
      "pos": [
        15532,
        15941
      ],
      "content": "To force the user to create a new password after the first time the\nlogin is used, select **User must change password at next login**\n(Recommended if this login is for someone else to use. If the login\nis for your own use, do not select this option.) Enforce password\nexpiration must be selected to enable this checkbox. This is a\ndefault option when SQL Server authentication is selected.",
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "To force the user to create a new password after the first time the",
          "pos": [
            0,
            67
          ]
        },
        {
          "content": "login is used, select <bpt id=\"p1\">**</bpt>User must change password at next login<ept id=\"p1\">**</ept>",
          "pos": [
            68,
            133
          ]
        },
        {
          "content": "(Recommended if this login is for someone else to use. If the login",
          "pos": [
            134,
            201
          ],
          "nodes": [
            {
              "content": "(Recommended if this login is for someone else to use.",
              "pos": [
                0,
                54
              ]
            },
            {
              "content": "If the login",
              "pos": [
                55,
                67
              ]
            }
          ]
        },
        {
          "content": "is for your own use, do not select this option.) Enforce password",
          "pos": [
            202,
            267
          ]
        },
        {
          "content": "expiration must be selected to enable this checkbox. This is a",
          "pos": [
            268,
            330
          ],
          "nodes": [
            {
              "content": "expiration must be selected to enable this checkbox.",
              "pos": [
                0,
                52
              ]
            },
            {
              "content": "This is a",
              "pos": [
                53,
                62
              ]
            }
          ]
        },
        {
          "content": "default option when SQL Server authentication is selected.",
          "pos": [
            331,
            389
          ]
        }
      ]
    },
    {
      "pos": [
        15947,
        16149
      ],
      "content": "From the **Default database** list, select a default database for\nthe login. **master** is the default for this option. If you have\nnot yet created a user database, leave this set to **master**.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "From the <bpt id=\"p1\">**</bpt>Default database<ept id=\"p1\">**</ept> list, select a default database for",
          "pos": [
            0,
            65
          ]
        },
        {
          "content": "the login. **master** is the default for this option. If you have",
          "pos": [
            66,
            131
          ],
          "nodes": [
            {
              "content": "the login.",
              "pos": [
                0,
                10
              ]
            },
            {
              "content": "<bpt id=\"p1\">**</bpt>master<ept id=\"p1\">**</ept> is the default for this option.",
              "pos": [
                11,
                53
              ]
            },
            {
              "content": "If you have",
              "pos": [
                54,
                65
              ]
            }
          ]
        },
        {
          "content": "not yet created a user database, leave this set to <bpt id=\"p1\">**</bpt>master<ept id=\"p1\">**</ept>.",
          "pos": [
            132,
            194
          ]
        }
      ]
    },
    {
      "pos": [
        16155,
        16220
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Default language<ept id=\"p1\">**</ept> list, leave <bpt id=\"p2\">**</bpt>default<ept id=\"p2\">**</ept> as the value."
    },
    {
      "content": "Login Properties",
      "pos": [
        16228,
        16244
      ]
    },
    {
      "pos": [
        16255,
        16432
      ],
      "content": "If this is the first login you are creating, you may want to\ndesignate this login as a SQL Server administrator. If so, on the\n**Server Roles** page, check **sysadmin**.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "If this is the first login you are creating, you may want to",
          "pos": [
            0,
            60
          ]
        },
        {
          "content": "designate this login as a SQL Server administrator. If so, on the",
          "pos": [
            61,
            126
          ],
          "nodes": [
            {
              "content": "designate this login as a SQL Server administrator.",
              "pos": [
                0,
                51
              ]
            },
            {
              "content": "If so, on the",
              "pos": [
                52,
                65
              ]
            }
          ]
        },
        {
          "content": "<bpt id=\"p1\">**</bpt>Server Roles<ept id=\"p1\">**</ept> page, check <bpt id=\"p2\">**</bpt>sysadmin<ept id=\"p2\">**</ept>.",
          "pos": [
            127,
            169
          ]
        }
      ]
    },
    {
      "pos": [
        16438,
        16607
      ],
      "content": "**Security Note:** Members of the sysadmin fixed server role have\ncomplete control of the Database Engine. You should carefully\nrestrict membership in this role.",
      "leadings": [
        "",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "<bpt id=\"p1\">**</bpt>Security Note:<ept id=\"p1\">**</ept> Members of the sysadmin fixed server role have",
          "pos": [
            0,
            65
          ]
        },
        {
          "content": "complete control of the Database Engine. You should carefully",
          "pos": [
            66,
            127
          ],
          "nodes": [
            {
              "content": "complete control of the Database Engine.",
              "pos": [
                0,
                40
              ]
            },
            {
              "content": "You should carefully",
              "pos": [
                41,
                61
              ]
            }
          ]
        },
        {
          "content": "restrict membership in this role.",
          "pos": [
            128,
            161
          ]
        }
      ]
    },
    {
      "content": "sysadmin",
      "pos": [
        16615,
        16623
      ]
    },
    {
      "content": "Click OK.",
      "pos": [
        16634,
        16643
      ]
    },
    {
      "pos": [
        16647,
        16710
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"DNS\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Determine the DNS name of the virtual machine"
    },
    {
      "content": "To connect to the SQL Server Database Engine from another computer, you",
      "pos": [
        16712,
        16783
      ]
    },
    {
      "content": "must know the Domain Name System (DNS) name of the virtual machine.",
      "pos": [
        16784,
        16851
      ]
    },
    {
      "content": "(This is the name the internet uses to identify the virtual machine.",
      "pos": [
        16852,
        16920
      ]
    },
    {
      "content": "You",
      "pos": [
        16921,
        16924
      ]
    },
    {
      "content": "can use the IP address, but the IP address might change when Azure moves",
      "pos": [
        16925,
        16997
      ]
    },
    {
      "content": "resources for redundancy or maintenance.",
      "pos": [
        16998,
        17038
      ]
    },
    {
      "content": "The DNS name will be stable",
      "pos": [
        17039,
        17066
      ]
    },
    {
      "content": "because it can be redirected to a new IP address.)",
      "pos": [
        17067,
        17117
      ]
    },
    {
      "pos": [
        17123,
        17215
      ],
      "content": "In the Azure Management Portal (or from the previous step), select\n**VIRTUAL MACHINES**.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the Azure Management Portal (or from the previous step), select",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "<bpt id=\"p1\">**</bpt>VIRTUAL MACHINES<ept id=\"p1\">**</ept>.",
          "pos": [
            67,
            88
          ]
        }
      ]
    },
    {
      "pos": [
        17221,
        17501
      ],
      "content": "On the **VIRTUAL MACHINE INSTANCES** page, in the **DNS NAME**\ncolumn, find and copy the DNS name for the virtual machine which\nappears preceded by **http://**. (The user interface might not\ndisplay the entire name, but you can right-click on it, and select\ncopy.)",
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "On the <bpt id=\"p1\">**</bpt>VIRTUAL MACHINE INSTANCES<ept id=\"p1\">**</ept> page, in the <bpt id=\"p2\">**</bpt>DNS NAME<ept id=\"p2\">**</ept>",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "column, find and copy the DNS name for the virtual machine which",
          "pos": [
            63,
            127
          ]
        },
        {
          "content": "appears preceded by **http://**. (The user interface might not",
          "pos": [
            128,
            190
          ],
          "nodes": [
            {
              "content": "appears preceded by <bpt id=\"p1\">**</bpt>http://<ept id=\"p1\">**</ept>.",
              "pos": [
                0,
                32
              ]
            },
            {
              "content": "(The user interface might not",
              "pos": [
                33,
                62
              ]
            }
          ]
        },
        {
          "content": "display the entire name, but you can right-click on it, and select",
          "pos": [
            191,
            257
          ]
        },
        {
          "content": "copy.)",
          "pos": [
            258,
            264
          ]
        }
      ]
    },
    {
      "pos": [
        17505,
        17575
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"cde\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Connect to the Database Engine from another computer"
    },
    {
      "content": "On a computer connected to the internet, open SQL Server Management Studio.",
      "pos": [
        17581,
        17656
      ]
    },
    {
      "pos": [
        17662,
        17975
      ],
      "content": "In the **Connect to Server** or **Connect to Database Engine**\ndialog box, in the **Server name** box, enter the DNS name of the\nvirtual machine (determined in the previous task) and a public\nendpoint port number in the format of *DNSName,portnumber* such as\n**tutorialtestVM.cloudapp.net,57500**.",
      "leadings": [
        "",
        "    ",
        "    ",
        "    ",
        "    "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>Connect to Server<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Connect to Database Engine<ept id=\"p2\">**</ept>",
          "pos": [
            0,
            62
          ]
        },
        {
          "content": "dialog box, in the <bpt id=\"p1\">**</bpt>Server name<ept id=\"p1\">**</ept> box, enter the DNS name of the",
          "pos": [
            63,
            128
          ]
        },
        {
          "content": "virtual machine (determined in the previous task) and a public",
          "pos": [
            129,
            191
          ]
        },
        {
          "content": "endpoint port number in the format of <bpt id=\"p1\">*</bpt>DNSName,portnumber<ept id=\"p1\">*</ept> such as",
          "pos": [
            192,
            258
          ]
        },
        {
          "content": "<bpt id=\"p1\">**</bpt>tutorialtestVM.cloudapp.net,57500<ept id=\"p1\">**</ept>.",
          "pos": [
            259,
            297
          ]
        }
      ]
    },
    {
      "pos": [
        17981,
        18049
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Authentication<ept id=\"p1\">**</ept> box, select <bpt id=\"p2\">**</bpt>SQL Server Authentication<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        18055,
        18142
      ],
      "content": "In the **Login** box, type the name of a login that you created in\nan earlier task.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>Login<ept id=\"p1\">**</ept> box, type the name of a login that you created in",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "an earlier task.",
          "pos": [
            67,
            83
          ]
        }
      ]
    },
    {
      "pos": [
        18148,
        18243
      ],
      "content": "In the **Password** box, type the password of the login that you\ncreate in an earlier task.",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the <bpt id=\"p1\">**</bpt>Password<ept id=\"p1\">**</ept> box, type the password of the login that you",
          "pos": [
            0,
            64
          ]
        },
        {
          "content": "create in an earlier task.",
          "pos": [
            65,
            91
          ]
        }
      ]
    },
    {
      "pos": [
        18249,
        18267
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Connect<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        18271,
        18354
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"amlconnect\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Connect to the Database Engine from Azure Machine Learning"
    },
    {
      "content": "In later stages of the Advanced Analytics Process and Technology, you will use the <bpt id=\"p1\">[</bpt>Azure Machine Learning Studio<ept id=\"p1\">](https://studio.azureml.net)</ept> to build and deploy machine learning models.",
      "pos": [
        18356,
        18543
      ]
    },
    {
      "content": "To ingest data from your SQL Server VM databases directly into Azure Machine Learning for training or scoring, use the Reader module in a new <bpt id=\"p1\">[</bpt>Azure Machine Learning Studio<ept id=\"p1\">](https://studio.azureml.net)</ept> experiment.",
      "pos": [
        18544,
        18757
      ]
    },
    {
      "content": "This topic is covered in more details through the Advanced Analytics Process and Technology guide links.",
      "pos": [
        18758,
        18862
      ]
    },
    {
      "content": "For an introduction, see <bpt id=\"p1\">[</bpt>What is Azure Machine Learning Studio?<ept id=\"p1\">](machine-learning-what-is-ml-studio.md)</ept>.",
      "pos": [
        18863,
        18968
      ]
    },
    {
      "pos": [
        18974,
        19152
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> pane of the <bpt id=\"p2\">[</bpt>Reader module<ept id=\"p2\">](https://msdn.microsoft.com/library/azure/dn905997.aspx)</ept>, select <bpt id=\"p3\">**</bpt>Azure SQL Database<ept id=\"p3\">**</ept> from the <bpt id=\"p4\">**</bpt>Data Source<ept id=\"p4\">**</ept>   dropdown list."
    },
    {
      "pos": [
        19158,
        19251
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Database server name<ept id=\"p1\">**</ept> text box, enter <ph id=\"ph1\">`tcp:&lt;DNS name of your virtual machine&gt;,1433`</ph>"
    },
    {
      "pos": [
        19257,
        19326
      ],
      "content": "Enter the SQL user name in the <bpt id=\"p1\">**</bpt>Server user account name<ept id=\"p1\">**</ept> text box."
    },
    {
      "pos": [
        19332,
        19411
      ],
      "content": "Enter the sql user's password in the <bpt id=\"p1\">**</bpt>Server user account password<ept id=\"p1\">**</ept> text box."
    },
    {
      "content": "Azure ML Reader",
      "pos": [
        19419,
        19434
      ]
    },
    {
      "pos": [
        19443,
        19521
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"shutdown\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Shutdown and deallocate virtual machine when not in use"
    },
    {
      "content": "Azure Virtual Machines are priced as <bpt id=\"p1\">**</bpt>pay only for what you use<ept id=\"p1\">**</ept>.",
      "pos": [
        19523,
        19590
      ]
    },
    {
      "content": "To ensure that you are not being billed when not using your virtual machine, it has to be in the <bpt id=\"p1\">**</bpt>Stopped (Deallocated)<ept id=\"p1\">**</ept> state.",
      "pos": [
        19591,
        19720
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Shutting down the virtual machine from inside (using Windows power options), the VM is stopped but remains allocated.",
      "pos": [
        19724,
        19854
      ]
    },
    {
      "content": "To ensure you’re not being billed, always stop virtual machines from the <bpt id=\"p1\">[</bpt>Azure Management Portal<ept id=\"p1\">](http://manage.windowsazure.com/)</ept>.",
      "pos": [
        19855,
        19987
      ]
    },
    {
      "content": "You can also stop the VM through Powershell by calling ShutdownRoleOperation with \"PostShutdownAction\" equal to \"StoppedDeallocated\".",
      "pos": [
        19988,
        20121
      ]
    },
    {
      "content": "To shutdown and deallocate the virtual machine:",
      "pos": [
        20123,
        20170
      ]
    },
    {
      "pos": [
        20175,
        20267
      ],
      "content": "Log in to the <bpt id=\"p1\">[</bpt>Azure Management Portal<ept id=\"p1\">](http://manage.windowsazure.com/)</ept> using your account."
    },
    {
      "pos": [
        20274,
        20331
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>VIRTUAL MACHINES<ept id=\"p1\">**</ept> from the left navigation bar."
    },
    {
      "pos": [
        20336,
        20448
      ],
      "content": "In the list of virtual machines, click on the name of your virtual\nmachine then go to the **DASHBOARD** page.",
      "leadings": [
        "",
        "   "
      ],
      "nodes": [
        {
          "content": "In the list of virtual machines, click on the name of your virtual",
          "pos": [
            0,
            66
          ]
        },
        {
          "content": "machine then go to the <bpt id=\"p1\">**</bpt>DASHBOARD<ept id=\"p1\">**</ept> page.",
          "pos": [
            67,
            109
          ]
        }
      ]
    },
    {
      "pos": [
        20453,
        20499
      ],
      "content": "At the bottom of the page, click <bpt id=\"p1\">**</bpt>SHUTDOWN<ept id=\"p1\">**</ept>."
    },
    {
      "content": "VM Shutdown",
      "pos": [
        20503,
        20514
      ]
    },
    {
      "content": "The virtual machine will be deallocated but not deleted.",
      "pos": [
        20521,
        20577
      ]
    },
    {
      "content": "You may restart your virtual machine at any time from the Azure Management Portal.",
      "pos": [
        20578,
        20660
      ]
    },
    {
      "content": "Your Azure SQL Server VM is ready to use: what's next?",
      "pos": [
        20665,
        20719
      ]
    },
    {
      "content": "Your virtual machine is now ready to use in your data science exercises.",
      "pos": [
        20721,
        20793
      ]
    },
    {
      "content": "The virtual machine is also ready for use as an IPython Notebook server for the exploration and processing of data, and other tasks in conjunction with Azure Machine Learning and the Advanced Analytics Process and Technology (ADAPT).",
      "pos": [
        20794,
        21027
      ]
    },
    {
      "pos": [
        21029,
        21352
      ],
      "content": "The next steps in the data science process are mapped in the <bpt id=\"p1\">[</bpt>Learning Guide: Advanced data processing in Azure<ept id=\"p1\">](machine-learning-data-science-advanced-data-processing.md)</ept> and may include steps that move data into HDInsight, process and sample it there in preparation for learning from the data with Azure Machine Learning."
    },
    {
      "content": "test",
      "pos": [
        22661,
        22665
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Set up a SQL Server virtual machine as an IPython Notebook server | Microsoft Azure\"\n    description=\"Set up a Data Science Virtual Machine with SQL Server and IPython Server.\"\n    services=\"machine-learning\"\n    solutions=\"\" documentationCenter=\"\"\n    authors=\"msolhab\" \n    manager=\"paulettm\"\n    editor=\"cgronlun\" />\n\n<tags\n    ms.service=\"machine-learning\"\n    ms.workload=\"data-services\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"09/01/2015\"\n    ms.author=\"mohabib;xibingao;bradsev\" />\n\n# Set up an Azure SQL Server virtual machine as an IPython Notebook server for advanced analytics\n\nThis topic shows how to provision and configure an SQL Server virtual machine to be used as part of a cloud-based data science environment. The Windows virtual machine is configured with supporting tools such as IPython Notebook, Azure Storage Explorer and AzCopy, as well as other utilities that are useful for data science projects. Azure Storage Explorer and AzCopy, for example, provide convenient ways to upload data to Azure blob storage from your local machine or to download it to your local machine from blob storage.\n\nThe Azure virtual machine gallery includes several images that contain Microsoft SQL Server. Select an SQL Server VM image that is suitable for your data needs. Recommended images are:\n\n- SQL Server 2012 SP2 Enterprise for small to medium data sizes\n- SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads for large to very large data sizes\n\n > [AZURE.NOTE] SQL Server 2012 SP2 Enterprise image **does not include a data disk**. You will need to add and/or attach one or more virtual hard disks to store your data. When you create an Azure virtual machine, it has a disk for the operating system mapped to the C drive and a temporary disk mapped to the D drive. Do not use the D drive to store data. As the name implies, it provides temporary storage only. It offers no redundancy or backup because it doesn't reside in Azure storage.\n\n\n##<a name=\"Provision\"></a>Connect to the Azure management portal and provision an SQL Server virtual machine\n\n1.  Log in to the [Azure Management Portal](http://manage.windowsazure.com/) using your account.\n    If you do not have an Azure account, visit [Azure free\n    trial](http://www.windowsazure.com/pricing/free-trial/).\n\n2.  On the Azure Management Portal, at the bottom left of the web page,\n    click **+NEW**, click **COMPUTE**, click **VIRTUAL MACHINE**, and\n    then click **FROM GALLERY**.\n\n3.  On the **Create a Virtual Machine** page, select a virtual machine\n    image containing SQL Server based on your data needs, and then click the next arrow at the\n    bottom right of the page. For the most up-to-date information on the supported SQL Server images on Azure,\n    see [Getting Started with SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294720) topic in the [SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294719) documentation set.\n\n    ![Select SQL Server VM][1]\n\n4.  On the first **Virtual Machine Configuration** page, provide the\n    following information:\n\n    -   Provide a **VIRTUAL MACHINE NAME**.\n    -   In the **NEW USER NAME** box, type unique user name for the VM\n        local administrator account.\n    -   In the **NEW PASSWORD** box, type a strong password. For more\n        information, see [Strong Passwords](http://msdn.microsoft.com/library/ms161962.aspx).\n    -   In the **CONFIRM PASSWORD** box, retype the password.\n    -   Select the appropriate **SIZE** from the drop down list.\n\n     > [AZURE.NOTE] The size of the virtual machine is specified during provisioning: A2\n    is the smallest size recommended for production workloads. The\n    minimum recommended size for a virtual machine is A3 when using SQL\n    Server Enterprise Edition. Select A3 or higher when using SQL Server\n    Enterprise Edition. Select A4 when using SQL Server 2012 or 2014\n    Enterprise Optimized for Transactional Workloads images.\n     Select A7 when using SQL Server 2012 or 2014 Enterprise Optimized\n    for Data Warehousing Workloads images. The size selected limits the\n    number of data disks you can configure. For most up-to-date\n    information on available virtual machine sizes and the number of\n    data disks that you can attach to a virtual machine, see [Virtual\n    Machine Sizes for\n    Azure](http://msdn.microsoft.com/library/azure/dn197896.aspx). For pricing information, see [VIrtual Macines Pricing](http://azure.microsoft.com/pricing/details/virtual-machines/).\n\n    Click the next arrow on the bottom right to continue.\n\n    ![VM Configuration][2]\n\n5.  On the second **Virtual machine configuration** page, configure\n    resources for networking, storage, and availability:\n\n    -   In the **Cloud Service** box, choose **Create a new cloud\n        service**.\n    -   In the **Cloud Service DNS Name** box, provide the first portion\n        of a DNS name of your choice, so that it completes a name in the\n        format **TESTNAME.cloudapp.net**\n    -   In the **REGION/AFFINITY GROUP/VIRTUAL NETWORK** box, select a\n        region where this virtual image will be hosted.\n    -   In the **Storage Account**, select an existing storage account\n        or select an automatically generated one.\n    -   In the **AVAILABILITY SET** box, select **(none)**.\n    -   Read and accept the pricing information.\n\n6.  In the **ENDPOINTS** section, click in the empty dropdown under **NAME**, and\n    select **MSSQL**  then type the port number of the\n    instance of the Database Engine (**1433** for the default instance).\n\n7.  Your SQL Server VM can also serve as an IPython Notebook Server, which will be configured in a later step.\n    Add a new endpoint to specify the port to use for your IPython Notebook server. Enter a name in the **NAME** column,    select a port number of your choice for the public port, and 9999 for the private port.\n\n    Click the next arrow on the bottom right to continue.\n\n    ![Select MSSQL and IPython ports][3]\n\n8.  Accept the default **Install VM agent** option checked and click the the check mark in the bottom right\n    corner of the wizard to complete the VM provisioning process.\n\n    `![VM Final Options][4]\n\n9.  Wait while Azure prepares your virtual machine. Expect the virtual\n    machine status to proceed through:\n\n    -   Starting (Provisioning)\n    -   Stopped\n    -   Starting (Provisioning)\n    -   Running (Provisioning)\n    -   Running\n\n##<a name=\"RemoteDesktop\"></a>Open the virtual machine using Remote Desktop and complete setup\n\n1.  When provisioning completes, click on the name of your virtual\n    machine to go to the DASHBOARD page. At the bottom of the page,\n    click **Connect**.\n\n2.  Choose to open the rpd file using the Windows Remote Desktop program\n    (`%windir%\\system32\\mstsc.exe`).\n\n3.  At the **Windows Security** dialog box, provide the password for the\n    local administrator account that you specified in an earlier step.\n    (You might be asked to verify the credentials of the virtual\n    machine.)\n\n4.  The first time you log on to this virtual machine, several processes\n    may need to complete, including setup of your desktop, Windows\n    updates, and completion of the Windows initial configuration tasks\n    (sysprep). After Windows sysprep completes, SQL Server setup\n    completes configuration tasks. These tasks may cause a delay of a\n    few minutes while they complete. `SELECT @@SERVERNAME` may not\n    return the correct name until SQL Server setup completes, and SQL\n    Server Management Studio may not be visable on the start page.\n\nOnce you are connected to the virtual machine with Windows Remote\nDesktop, the virtual machine works much like any other computer. Connect\nto the default instance of SQL Server with SQL Server Management Studio\n(running on the virtual machine) in the normal way.\n\n##<a name=\"InstallIPython\"></a>Install IPython Notebook and other supporting tools\n\nTo configure your new SQL Server VM to serve as an IPython Notebook server, and install additional\nsupporting tools such AzCopy, Azure Storage Explorer, useful Data Science Python packages, and others,\na special customization script is provided to you. To install:\n\n- Right-click the Windows Start icon and click **Command Prompt (Admin)**\n- Copy the following commands and paste at the command prompt.\n\n        set script='https://raw.githubusercontent.com/Azure/Azure-MachineLearning-DataScience/master/Misc/MachineSetup/Azure_VM_Setup_Windows.ps1'\n        @powershell -NoProfile -ExecutionPolicy unrestricted -Command \"iex ((new-object net.webclient).DownloadString(%script%))\"\n\n- When prompted, enter a password of your choice for the IPython Notebook server.\n- The customization script automates several post-install procedures, which include:\n    + Installation and setup of IPython Notebook server\n    + Opening TCP ports in the Windows firewall for the endpoints created earlier:\n    + For SQL Server remote connectivity\n    + For IPython Notebook server remote connectivity\n    + Fetching sample IPython notebooks and SQL scripts\n    + Downloading and installing useful Data Science Python packages\n    + Downloading and installing Azure tools such as AzCopy and Azure Storage Explorer  \n<br>\n- You may access and run IPython Notebook from any local or remote browser using a URL of the form `https://<virtual_machine_DNS_name>:<port>`, where port is the IPython public port you selected while provisioning the virtual machine.\n- IPython Notebook server is running as a background service and will be restarted automatically when you restart the virtual machine.\n\n##<a name=\"Optional\"></a>Attach data disk as needed\n\nIf your VM image does not include data disks, i.e., disks other than C drive (OS disk) and D drive (temporary disk), you need to add one or more data disks to store your data. The VM image for SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads comes pre-configured with additional disks for SQL Server data and log files.\n\n > [AZURE.NOTE] Do not use the D drive to store data. As the name implies, it provides temporary storage only. It offers no redundancy or backup because it doesn't reside in Azure storage.\n\nTo attach additional data disks, follow the steps described in [How to Attach a Data Disk to a Windows Virtual Machine](storage-windows-attach-disk.md), which will guide you through:\n\n1. Attaching empty disk(s) to the virtual machine provisioned in earlier steps\n2. Initialization of the new disk(s) in the virtual machine\n\n\n##<a name=\"SSMS\"></a>Connect to SQL Server Management Studio and enable mixed mode authentication\n\nThe SQL Server Database Engine cannot use Windows Authentication without\ndomain environment. To connect to the Database Engine from another\ncomputer, configure SQL Server for mixed mode authentication. Mixed mode\nauthentication allows both SQL Server Authentication and Windows\nAuthentication. SQL authentication mode is required in order to ingest data\ndirectly from your SQL Server VM databases in the\n[Azure Machine Learning Studio](https://studio.azureml.net) using the Reader module.\n\n1.  While connected to the virtual machine by using Remote Desktop, use the Windows **Search** pane and type **SQL Server Management Studio** (SMSS). Click to start the SQL Server Management Studio (SSMS). You may want to add a shortcut to SSMS on your Desktop for future use.\n\n    ![Start SSMS][5]\n\n    The first time you open Management Studio it must create the users\n    Management Studio environment. This may take a few moments.\n\n2.  When opening, Management Studio presents the **Connect to Server**\n    dialog box. In the **Server name** box, type the name of the virtual\n    machine to connect to the Database Engine with the Object Explorer.\n    (Instead of the virtual machine name you can also use **(local)** or\n    a single period as the **Server name**. Select **Windows\n    Authentication**, and leave\n    ***your\\_VM\\_name*\\\\your\\_local\\_administrator** in the **User\n    name** box. Click **Connect**.\n\n    ![Connect to Server][6]\n\n    <br>\n\n     > [AZURE.TIP] You may change the SQL Server authentication mode using a Windows registry key change or using the SQL Server Management Studio. To change authentication mode using the registry key change, start a **New Query** and execute the following script:\n\n        USE master\n        go\n\n        EXEC xp_instance_regwrite N'HKEY_LOCAL_MACHINE', N'Software\\Microsoft\\MSSQLServer\\MSSQLServer', N'LoginMode', REG_DWORD, 2\n        go\n\n\n    To change the authentication mode using SQL Server management Studio:\n\n3.  In SQL Server Management Studio Object Explorer, right-click the\n    name of the instance of SQL Server (the virtual machine name), and\n    then click **Properties**.\n\n    ![Server Properties][7]\n\n4.  On the **Security** page, under **Server authentication**, select\n    **SQL Server and Windows Authentication mode**, and then click\n    **OK**.\n\n    ![Select Authentication Mode][8]\n\n5.  In the SQL Server Management Studio dialog box, click **OK** to\n    acknowledge the requirement to restart SQL Server.\n\n6.  In Object Explorer, right-click your server, and then click\n    **Restart**. (If SQL Server Agent is running, it must also be\n    restarted.)\n\n    ![Restart][9]\n\n7.  In the SQL Server Management Studio dialog box, click **Yes** to\n    agree that you want to restart SQL Server.\n\n##<a name=\"Logins\"></a>Create SQL Server authentication logins\n\nTo connect to the Database Engine from another computer, you must create\nat least one SQL Server authentication login.  \n\n> [AZURE.TIP] You may create new SQL Server logins programmatically or using the SQL Server Management Studio. To create a new sysadmin user with SQL authentication programatically, start a **New Query** and execute the following script. Replace <new user name\\> and <new password\\> with your choice of user name and password. Adjust the password policy as needed (the sample code turns off policy checking and password expiration). For more information about SQL Server logins, see [Create a Login](http://msdn.microsoft.com/library/aa337562.aspx).  \n\n    USE master\n    go\n\n    CREATE LOGIN <new user name> WITH PASSWORD = N'<new password>',\n        CHECK_POLICY = OFF,\n        CHECK_EXPIRATION = OFF;\n\n    EXEC sp_addsrvrolemember @loginame = N'<new user name>', @rolename = N'sysadmin';\n\nTo create new SQL Server logins using the SQL Server Management Studio:\n\n1.  In SQL Server Management Studio Object Explorer, expand the folder\n    of the server instance in which you want to create the new login.\n\n2.  Right-click the **Security** folder, point to **New**, and select\n    **Login…**.\n\n    ![New Login][10]\n\n3.  In the **Login - New** dialog box, on the **General** page, enter\n    the name of the new user in the **Login name** box.\n\n4.  Select **SQL Server authentication**.\n\n5.  In the **Password** box, enter a password for the new user. Enter\n    that password again into the **Confirm Password** box.\n\n6.  To enforce password policy options for complexity and enforcement,\n    select **Enforce password policy** (recommended). This is a default\n    option when SQL Server authentication is selected.\n\n7.  To enforce password policy options for expiration, select **Enforce\n    password expiration** (recommended). Enforce password policy must be\n    selected to enable this checkbox. This is a default option when SQL\n    Server authentication is selected.\n\n8.  To force the user to create a new password after the first time the\n    login is used, select **User must change password at next login**\n    (Recommended if this login is for someone else to use. If the login\n    is for your own use, do not select this option.) Enforce password\n    expiration must be selected to enable this checkbox. This is a\n    default option when SQL Server authentication is selected.\n\n9.  From the **Default database** list, select a default database for\n    the login. **master** is the default for this option. If you have\n    not yet created a user database, leave this set to **master**.\n\n10. In the **Default language** list, leave **default** as the value.\n\n    ![Login Properties][11]\n\n11. If this is the first login you are creating, you may want to\n    designate this login as a SQL Server administrator. If so, on the\n    **Server Roles** page, check **sysadmin**.\n\n    **Security Note:** Members of the sysadmin fixed server role have\n    complete control of the Database Engine. You should carefully\n    restrict membership in this role.\n\n    ![sysadmin][12]\n\n12. Click OK.\n\n##<a name=\"DNS\"></a>Determine the DNS name of the virtual machine\n\nTo connect to the SQL Server Database Engine from another computer, you\nmust know the Domain Name System (DNS) name of the virtual machine.\n(This is the name the internet uses to identify the virtual machine. You\ncan use the IP address, but the IP address might change when Azure moves\nresources for redundancy or maintenance. The DNS name will be stable\nbecause it can be redirected to a new IP address.)\n\n1.  In the Azure Management Portal (or from the previous step), select\n    **VIRTUAL MACHINES**.\n\n2.  On the **VIRTUAL MACHINE INSTANCES** page, in the **DNS NAME**\n    column, find and copy the DNS name for the virtual machine which\n    appears preceded by **http://**. (The user interface might not\n    display the entire name, but you can right-click on it, and select\n    copy.)\n\n##<a name=\"cde\"></a>Connect to the Database Engine from another computer\n\n1.  On a computer connected to the internet, open SQL Server Management Studio.\n\n2.  In the **Connect to Server** or **Connect to Database Engine**\n    dialog box, in the **Server name** box, enter the DNS name of the\n    virtual machine (determined in the previous task) and a public\n    endpoint port number in the format of *DNSName,portnumber* such as\n    **tutorialtestVM.cloudapp.net,57500**.\n\n3.  In the **Authentication** box, select **SQL Server Authentication**.\n\n4.  In the **Login** box, type the name of a login that you created in\n    an earlier task.\n\n5.  In the **Password** box, type the password of the login that you\n    create in an earlier task.\n\n6.  Click **Connect**.\n\n##<a name=\"amlconnect\"></a>Connect to the Database Engine from Azure Machine Learning\n\nIn later stages of the Advanced Analytics Process and Technology, you will use the [Azure Machine Learning Studio](https://studio.azureml.net) to build and deploy machine learning models. To ingest data from your SQL Server VM databases directly into Azure Machine Learning for training or scoring, use the Reader module in a new [Azure Machine Learning Studio](https://studio.azureml.net) experiment. This topic is covered in more details through the Advanced Analytics Process and Technology guide links. For an introduction, see [What is Azure Machine Learning Studio?](machine-learning-what-is-ml-studio.md).\n\n2.  In the **Properties** pane of the [Reader module](https://msdn.microsoft.com/library/azure/dn905997.aspx), select **Azure SQL Database** from the **Data Source**   dropdown list.\n\n3.  In the **Database server name** text box, enter `tcp:<DNS name of your virtual machine>,1433`\n\n4.  Enter the SQL user name in the **Server user account name** text box.\n\n5.  Enter the sql user's password in the **Server user account password** text box.\n\n    ![Azure ML Reader][13]\n\n##<a name=\"shutdown\"></a>Shutdown and deallocate virtual machine when not in use\n\nAzure Virtual Machines are priced as **pay only for what you use**. To ensure that you are not being billed when not using your virtual machine, it has to be in the **Stopped (Deallocated)** state.\n\n> [AZURE.NOTE] Shutting down the virtual machine from inside (using Windows power options), the VM is stopped but remains allocated. To ensure you’re not being billed, always stop virtual machines from the [Azure Management Portal](http://manage.windowsazure.com/). You can also stop the VM through Powershell by calling ShutdownRoleOperation with \"PostShutdownAction\" equal to \"StoppedDeallocated\".\n\nTo shutdown and deallocate the virtual machine:\n\n1. Log in to the [Azure Management Portal](http://manage.windowsazure.com/) using your account.  \n\n2. Select **VIRTUAL MACHINES** from the left navigation bar.\n\n3. In the list of virtual machines, click on the name of your virtual\n   machine then go to the **DASHBOARD** page.\n\n4. At the bottom of the page, click **SHUTDOWN**.\n\n![VM Shutdown][15]\n\nThe virtual machine will be deallocated but not deleted. You may restart your virtual machine at any time from the Azure Management Portal.\n\n## Your Azure SQL Server VM is ready to use: what's next?\n\nYour virtual machine is now ready to use in your data science exercises. The virtual machine is also ready for use as an IPython Notebook server for the exploration and processing of data, and other tasks in conjunction with Azure Machine Learning and the Advanced Analytics Process and Technology (ADAPT).\n\nThe next steps in the data science process are mapped in the [Learning Guide: Advanced data processing in Azure](machine-learning-data-science-advanced-data-processing.md) and may include steps that move data into HDInsight, process and sample it there in preparation for learning from the data with Azure Machine Learning.\n\n\n[1]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/selectsqlvmimg.png\n[2]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/4vm-config.png\n[3]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/sqlvmports.png\n[4]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/vmpostopts.png\n[5]:./media/machine-learning-data-science-setup-sql-server-virtual-machine/searchssms.png\n[6]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/19connect-to-server.png\n[7]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/20server-properties.png\n[8]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/21mixed-mode.png\n[9]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/22restart2.png\n[10]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/23new-login.png\n[11]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/24test-login.png\n[12]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/25sysadmin.png\n[13]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/amlreader.png\n[15]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/vmshutdown.png\n \ntest\n"
}