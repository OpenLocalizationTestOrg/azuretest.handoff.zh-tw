{
  "nodes": [
    {
      "content": "How to create, manage, or delete a storage account | Microsoft Azure",
      "pos": [
        27,
        95
      ]
    },
    {
      "content": "Learn how to create, manage, or delete a storage account in the Azure portal.",
      "pos": [
        114,
        191
      ]
    },
    {
      "content": "About Azure storage accounts",
      "pos": [
        491,
        519
      ]
    },
    {
      "content": "Overview",
      "pos": [
        524,
        532
      ]
    },
    {
      "content": "An Azure storage account gives you access to the Azure Blob, Queue, Table, and File services in Azure Storage.",
      "pos": [
        534,
        644
      ]
    },
    {
      "content": "Your storage account provides the unique namespace for your Azure Storage data objects.",
      "pos": [
        645,
        732
      ]
    },
    {
      "content": "By default, the data in your account is available only to you, the account owner.",
      "pos": [
        733,
        814
      ]
    },
    {
      "content": "There are two types of storage accounts:",
      "pos": [
        816,
        856
      ]
    },
    {
      "content": "A standard storage account includes Blob, Table, and Queue storage.",
      "pos": [
        860,
        927
      ]
    },
    {
      "content": "File storage is available by request via the <bpt id=\"p1\">[</bpt>Azure Preview page<ept id=\"p1\">](http://azure.microsoft.com/services/preview/)</ept>.",
      "pos": [
        928,
        1040
      ]
    },
    {
      "content": "A premium storage account currently supports Azure virtual machine disks only.",
      "pos": [
        1043,
        1121
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Premium Storage: High-performance storage for Azure virtual machine workloads<ept id=\"p1\">](storage-premium-storage-preview-portal.md)</ept> for an in-depth overview of Premium Storage.",
      "pos": [
        1122,
        1293
      ]
    },
    {
      "content": "Storage account billing",
      "pos": [
        1298,
        1321
      ]
    },
    {
      "content": "You are billed for Azure Storage usage based on your storage account.",
      "pos": [
        1323,
        1392
      ]
    },
    {
      "content": "Storage costs are based on four factors: storage capacity, replication scheme, storage transactions, and data egress.",
      "pos": [
        1393,
        1510
      ]
    },
    {
      "content": "Storage capacity refers to how much of your storage account allotment you are using to store data.",
      "pos": [
        1514,
        1612
      ]
    },
    {
      "content": "The cost of simply storing your data is determined by how much data you are storing, and how it is replicated.",
      "pos": [
        1613,
        1723
      ]
    },
    {
      "content": "Replication determines how many copies of your data are maintained at once, and in what locations.",
      "pos": [
        1726,
        1824
      ]
    },
    {
      "content": "Transactions refer to all read and write operations to Azure Storage.",
      "pos": [
        1827,
        1896
      ]
    },
    {
      "content": "Data egress refers to data transferred out of an Azure region.",
      "pos": [
        1899,
        1961
      ]
    },
    {
      "content": "When the data in your storage account is accessed by an application that is not running in the same region, whether that application is a cloud service or some other type of application, then you are charged for data egress.",
      "pos": [
        1962,
        2186
      ]
    },
    {
      "content": "(For Azure services, you can take steps to group your data and services in the same datacenters to reduce or eliminate data egress charges.)",
      "pos": [
        2187,
        2327
      ]
    },
    {
      "content": "The <bpt id=\"p1\">[</bpt>Azure pricing<ept id=\"p1\">](http://azure.microsoft.com/pricing/details/#storage)</ept> page provides detailed pricing information for storage capacity, replication, and transactions.",
      "pos": [
        2331,
        2499
      ]
    },
    {
      "content": "The <bpt id=\"p1\">[</bpt>Data transfers pricing details<ept id=\"p1\">](http://azure.microsoft.com/pricing/details/data-transfers/)</ept> page provides detailed pricing information for data egress.",
      "pos": [
        2500,
        2656
      ]
    },
    {
      "pos": [
        2658,
        2837
      ],
      "content": "For details about storage account capacity and performance targets, see <bpt id=\"p1\">[</bpt>Azure Storage scalability and performance targets<ept id=\"p1\">](http://msdn.microsoft.com/library/azure/dn249410.aspx)</ept>."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> When you create an Azure virtual machine, a storage account is created for you automatically in the deployment location if you do not already have a storage account in that location.",
      "pos": [
        2841,
        3036
      ]
    },
    {
      "content": "So it's not necessary to follow the steps below to create a storage account for your virtual machine disks.",
      "pos": [
        3037,
        3144
      ]
    },
    {
      "content": "The storage account name will be based on the virtual machine name.",
      "pos": [
        3145,
        3212
      ]
    },
    {
      "content": "See the <bpt id=\"p1\">[</bpt>Azure Virtual Machines documentation<ept id=\"p1\">](http://azure.microsoft.com/documentation/services/virtual-machines/)</ept> for more details.",
      "pos": [
        3213,
        3346
      ]
    },
    {
      "content": "Create a storage account",
      "pos": [
        3351,
        3375
      ]
    },
    {
      "pos": [
        3380,
        3443
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://manage.windowsazure.com)</ept>."
    },
    {
      "pos": [
        3448,
        3521
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create New<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>Storage<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Quick Create<ept id=\"p3\">**</ept>."
    },
    {
      "content": "NewStorageAccount",
      "pos": [
        3529,
        3546
      ]
    },
    {
      "pos": [
        3622,
        3672
      ],
      "content": "In <bpt id=\"p1\">**</bpt>URL<ept id=\"p1\">**</ept>, enter a name for your storage account."
    },
    {
      "pos": [
        3680,
        3812
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Storage account names must be between 3 and 24 characters in length and may contain numbers and lowercase letters only."
    },
    {
      "content": "Your storage account name must be unique within Azure.",
      "pos": [
        3827,
        3881
      ]
    },
    {
      "content": "The portal will indicate if the storage account name you select is already taken.",
      "pos": [
        3882,
        3963
      ]
    },
    {
      "pos": [
        3969,
        4136
      ],
      "content": "See <bpt id=\"p1\">[</bpt>Storage account endpoints<ept id=\"p1\">](#storage-account-endpoints)</ept> below for details about how the storage account name will be used to address your objects in Azure Storage."
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Location/Affinity Group<ept id=\"p1\">**</ept>, select a location for your storage account that is close to you or to your customers.",
      "pos": [
        4141,
        4258
      ]
    },
    {
      "content": "If data in your storage account will be accessed from another Azure service, such as an Azure virtual machine or cloud service, you may want to select an affinity group from the list to group your storage account in the same datacenter with other Azure services that you are using to improve performance and lower costs.",
      "pos": [
        4259,
        4579
      ]
    },
    {
      "content": "Note that you must select an affinity group when your storage account is created.",
      "pos": [
        4585,
        4666
      ]
    },
    {
      "content": "You cannot move an existing account to an affinity group.",
      "pos": [
        4667,
        4724
      ]
    },
    {
      "content": "For more information on affinity groups, see <bpt id=\"p1\">[</bpt>Service colocation with an affinity group<ept id=\"p1\">](#service-co-location-with-an-affinity-group)</ept> below.",
      "pos": [
        4725,
        4865
      ]
    },
    {
      "content": "If you have more than one Azure subscription, then the <bpt id=\"p1\">**</bpt>Subscription<ept id=\"p1\">**</ept> field is displayed.",
      "pos": [
        4870,
        4961
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Subscription<ept id=\"p1\">**</ept>, enter the Azure subscription that you want to use the storage account with.",
      "pos": [
        4962,
        5058
      ]
    },
    {
      "content": "In <bpt id=\"p1\">**</bpt>Replication<ept id=\"p1\">**</ept>, select the desired level of replication for your storage account.",
      "pos": [
        5063,
        5148
      ]
    },
    {
      "content": "The recommended replication option is geo-redundant replication, which provides maximum durability for your data.",
      "pos": [
        5149,
        5262
      ]
    },
    {
      "content": "For more details on Azure Storage replication options, see <bpt id=\"p1\">[</bpt>Azure Storage replication<ept id=\"p1\">](storage-redundancy.md)</ept>.",
      "pos": [
        5263,
        5373
      ]
    },
    {
      "pos": [
        5378,
        5411
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create Storage Account<ept id=\"p1\">**</ept>."
    },
    {
      "content": "It may take a few minutes to create your storage account.",
      "pos": [
        5417,
        5474
      ]
    },
    {
      "content": "To check the status, you can monitor the notifications at the bottom of the portal.",
      "pos": [
        5475,
        5558
      ]
    },
    {
      "content": "After the storage account has been created, your new storage account has <bpt id=\"p1\">**</bpt>Online<ept id=\"p1\">**</ept> status and is ready for use.",
      "pos": [
        5559,
        5671
      ]
    },
    {
      "content": "StoragePage",
      "pos": [
        5675,
        5686
      ]
    },
    {
      "content": "Storage account endpoints",
      "pos": [
        5758,
        5783
      ]
    },
    {
      "content": "Every object that you store in Azure Storage has a unique URL address.",
      "pos": [
        5785,
        5855
      ]
    },
    {
      "content": "The storage account name forms the subdomain of that address.",
      "pos": [
        5856,
        5917
      ]
    },
    {
      "content": "The combination of subdomain and domain name, which is specific to each service, forms an <bpt id=\"p1\">*</bpt>endpoint<ept id=\"p1\">*</ept> for your storage account.",
      "pos": [
        5918,
        6044
      ]
    },
    {
      "pos": [
        6046,
        6168
      ],
      "content": "For example, if your storage account is named <bpt id=\"p1\">*</bpt>mystorageaccount<ept id=\"p1\">*</ept>, then the default endpoints for your storage account are:"
    },
    {
      "pos": [
        6172,
        6233
      ],
      "content": "Blob service: http://<bpt id=\"p1\">*</bpt>mystorageaccount<ept id=\"p1\">*</ept>.blob.core.windows.net"
    },
    {
      "pos": [
        6237,
        6300
      ],
      "content": "Table service: http://<bpt id=\"p1\">*</bpt>mystorageaccount<ept id=\"p1\">*</ept>.table.core.windows.net"
    },
    {
      "pos": [
        6304,
        6367
      ],
      "content": "Queue service: http://<bpt id=\"p1\">*</bpt>mystorageaccount<ept id=\"p1\">*</ept>.queue.core.windows.net"
    },
    {
      "pos": [
        6371,
        6432
      ],
      "content": "File service: http://<bpt id=\"p1\">*</bpt>mystorageaccount<ept id=\"p1\">*</ept>.file.core.windows.net"
    },
    {
      "content": "You can see the endpoints for your storage account on the storage dashboard in the Azure portal once the account has been created.",
      "pos": [
        6434,
        6564
      ]
    },
    {
      "content": "The URL for accessing an object in a storage account is built by appending the object's location in the storage account to the endpoint.",
      "pos": [
        6566,
        6702
      ]
    },
    {
      "content": "For example, a blob address might have this format: http://<bpt id=\"p1\">*</bpt>mystorageaccount<ept id=\"p1\">*</ept>.blob.core.windows.net/<bpt id=\"p2\">*</bpt>mycontainer<ept id=\"p2\">*</ept>/<bpt id=\"p3\">*</bpt>myblob<ept id=\"p3\">*</ept>.",
      "pos": [
        6703,
        6826
      ]
    },
    {
      "content": "You can also configure a custom domain name to use with your storage account.",
      "pos": [
        6828,
        6905
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Configure a custom domain name for blob data in an Azure storage account<ept id=\"p1\">](storage-custom-domain-name.md)</ept> for details.",
      "pos": [
        6906,
        7028
      ]
    },
    {
      "content": "Service colocation with an affinity group",
      "pos": [
        7034,
        7075
      ]
    },
    {
      "content": "An <bpt id=\"p1\">*</bpt>affinity group<ept id=\"p1\">*</ept> is a geographic grouping of your Azure services and VMs with your Azure storage account.",
      "pos": [
        7077,
        7185
      ]
    },
    {
      "content": "An affinity group can improve service performance by locating computer workloads in the same datacenter or near the target user audience.",
      "pos": [
        7186,
        7323
      ]
    },
    {
      "content": "Also, no billing charges are incurred for egress when data in a storage account is accessed from another service that is part of the same affinity group.",
      "pos": [
        7324,
        7477
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph>  To create an affinity group, open the <ph id=\"ph2\">&lt;b&gt;</ph>Settings<ph id=\"ph3\">&lt;/b&gt;</ph> area of the Azure portal, click <ph id=\"ph4\">&lt;b&gt;</ph>Affinity Groups<ph id=\"ph5\">&lt;/b&gt;</ph>, and then click either <ph id=\"ph6\">&lt;b&gt;</ph>Add an affinity group<ph id=\"ph7\">&lt;/b&gt;</ph> or the <ph id=\"ph8\">&lt;b&gt;</ph>Add<ph id=\"ph9\">&lt;/b&gt;</ph> button.",
      "pos": [
        7481,
        7681
      ]
    },
    {
      "content": "You can also create and manage affinity groups by using the Azure Service Management API.",
      "pos": [
        7682,
        7771
      ]
    },
    {
      "content": "See <ph id=\"ph1\">&lt;a href=\"http://msdn.microsoft.com/library/azure/ee460798.aspx\"&gt;</ph>Operations on affinity groups<ph id=\"ph2\">&lt;/a&gt;</ph> for more information.",
      "pos": [
        7772,
        7895
      ]
    },
    {
      "content": "View, copy, and regenerate storage access keys",
      "pos": [
        7900,
        7946
      ]
    },
    {
      "content": "When you create a storage account, Azure generates two 512-bit storage access keys, which are used for authentication when the storage account is accessed.",
      "pos": [
        7948,
        8103
      ]
    },
    {
      "content": "By providing two storage access keys, Azure enables you to regenerate the keys with no interruption to your storage service or access to that service.",
      "pos": [
        8104,
        8254
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> We recommend that you avoid sharing your storage access keys with anyone else.",
      "pos": [
        8258,
        8349
      ]
    },
    {
      "content": "To permit access to storage resources without giving out your access keys, you can use a <bpt id=\"p1\">*</bpt>shared access signature<ept id=\"p1\">*</ept>.",
      "pos": [
        8350,
        8465
      ]
    },
    {
      "content": "A shared access signature provides access to a resource in your account for an interval that you define and with the permissions that you specify.",
      "pos": [
        8466,
        8612
      ]
    },
    {
      "content": "See the <bpt id=\"p1\">[</bpt>shared access signature tutorial<ept id=\"p1\">](storage-dotnet-shared-access-signature-part-1.md)</ept> for more information.",
      "pos": [
        8613,
        8727
      ]
    },
    {
      "pos": [
        8729,
        8959
      ],
      "content": "In the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](http://manage.windowsazure.com)</ept>, use <bpt id=\"p2\">**</bpt>Manage Keys<ept id=\"p2\">**</ept> on the dashboard or the <bpt id=\"p3\">**</bpt>Storage<ept id=\"p3\">**</ept> page to view, copy, and regenerate the storage access keys that are used to access the Blob, Table, and Queue services."
    },
    {
      "content": "Copy a storage access key",
      "pos": [
        8965,
        8990
      ]
    },
    {
      "content": "You can use <bpt id=\"p1\">**</bpt>Manage Keys<ept id=\"p1\">**</ept> to copy a storage access key to use in a connection string.",
      "pos": [
        8994,
        9081
      ]
    },
    {
      "content": "The connection string requires the storage account name and a key to use in authentication.",
      "pos": [
        9082,
        9173
      ]
    },
    {
      "content": "For information about configuring connection strings to access Azure storage services, see <bpt id=\"p1\">[</bpt>Configuring Azure connection strings<ept id=\"p1\">](http://msdn.microsoft.com/library/azure/ee758697.aspx)</ept>.",
      "pos": [
        9174,
        9359
      ]
    },
    {
      "pos": [
        9364,
        9507
      ],
      "content": "In the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](http://manage.windowsazure.com)</ept>, click <bpt id=\"p2\">**</bpt>Storage<ept id=\"p2\">**</ept>, and then click the name of the storage account to open the dashboard."
    },
    {
      "pos": [
        9512,
        9534
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Manage Keys<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        9540,
        9569
      ],
      "content": "<bpt id=\"p1\">**</bpt>Manage Access Keys<ept id=\"p1\">**</ept> opens."
    },
    {
      "content": "Managekeys",
      "pos": [
        9577,
        9587
      ]
    },
    {
      "content": "To copy a storage access key, select the key text.",
      "pos": [
        9657,
        9707
      ]
    },
    {
      "content": "Then right-click, and click <bpt id=\"p1\">**</bpt>Copy<ept id=\"p1\">**</ept>.",
      "pos": [
        9708,
        9745
      ]
    },
    {
      "content": "Regenerate storage access keys",
      "pos": [
        9751,
        9781
      ]
    },
    {
      "content": "You should change the access keys to your storage account periodically to help keep your storage connections secure.",
      "pos": [
        9782,
        9898
      ]
    },
    {
      "content": "Two access keys are assigned so that you can maintain connections to the storage account by using one access key while you regenerate the other access key.",
      "pos": [
        9899,
        10054
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.WARNING]</ph> Regenerating your access keys affects virtual machines, media services, and any applications that are dependent on the storage account.",
      "pos": [
        10058,
        10209
      ]
    },
    {
      "content": "All clients that use the access key to access the storage account must be updated to use the new key.",
      "pos": [
        10210,
        10311
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Virtual machines<ept id=\"p1\">**</ept> - If your storage account contains any virtual machines that are running, you will have to redeploy all virtual machines after you regenerate the access keys.",
      "pos": [
        10313,
        10492
      ]
    },
    {
      "content": "To avoid redeployment, shut down the virtual machines before you regenerate the access keys.",
      "pos": [
        10493,
        10585
      ]
    },
    {
      "pos": [
        10587,
        10765
      ],
      "content": "<bpt id=\"p1\">**</bpt>Media services<ept id=\"p1\">**</ept> - If you have media services that are dependent on your storage account, you must resync the access keys with your media service after you regenerate the keys."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Applications<ept id=\"p1\">**</ept> - If you have web applications or cloud services that use the storage account, you will lose the connections if you regenerate keys, unless you roll your keys.",
      "pos": [
        10767,
        10943
      ]
    },
    {
      "content": "Here is the process:",
      "pos": [
        10944,
        10964
      ]
    },
    {
      "content": "Update the connection strings in your application code to reference the secondary access key of the storage account.",
      "pos": [
        10969,
        11085
      ]
    },
    {
      "content": "Regenerate the primary access key for your storage account.",
      "pos": [
        11090,
        11149
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](http://manage.windowsazure.com)</ept>, from the dashboard or the <bpt id=\"p2\">**</bpt>Configure<ept id=\"p2\">**</ept> page, click <bpt id=\"p3\">**</bpt>Manage Keys<ept id=\"p3\">**</ept>.",
      "pos": [
        11150,
        11273
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Regenerate<ept id=\"p1\">**</ept> under the primary access key, and then click <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept> to confirm that you want to generate a new key.",
      "pos": [
        11274,
        11395
      ]
    },
    {
      "content": "Update the connection strings in your code to reference the new primary access key.",
      "pos": [
        11400,
        11483
      ]
    },
    {
      "content": "Regenerate the secondary access key.",
      "pos": [
        11488,
        11524
      ]
    },
    {
      "content": "Delete a storage account",
      "pos": [
        11529,
        11553
      ]
    },
    {
      "content": "To remove a storage account that you are no longer using, use <bpt id=\"p1\">**</bpt>Delete<ept id=\"p1\">**</ept> on the dashboard or the <bpt id=\"p2\">**</bpt>Configure<ept id=\"p2\">**</ept> page.",
      "pos": [
        11555,
        11671
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Delete<ept id=\"p1\">**</ept> deletes the entire storage account, including all of the blobs, tables, and queues in the account.",
      "pos": [
        11672,
        11781
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.WARNING]</ph> It's not possible to restore a deleted storage account or retrieve any of the content that it contained before deletion.",
      "pos": [
        11785,
        11921
      ]
    },
    {
      "content": "Be sure to back up anything you want to save before you delete the account.",
      "pos": [
        11922,
        11997
      ]
    },
    {
      "content": "This also holds true for any resources in the account—once you delete a blob, table, queue, or file, it is permanently deleted.",
      "pos": [
        11998,
        12125
      ]
    },
    {
      "content": "If your storage account contains VHD files for an Azure virtual machine, then you must delete any images and disks that are using those VHD files before you can delete the storage account.",
      "pos": [
        12130,
        12318
      ]
    },
    {
      "content": "First, stop the virtual machine if it is running, and then delete it.",
      "pos": [
        12319,
        12388
      ]
    },
    {
      "content": "To delete disks, navigate to the <bpt id=\"p1\">**</bpt>Disks<ept id=\"p1\">**</ept> tab and delete any disks there.",
      "pos": [
        12389,
        12463
      ]
    },
    {
      "content": "To delete images, navigate to the <bpt id=\"p1\">**</bpt>Images<ept id=\"p1\">**</ept> tab and delete any images that are stored in the account.",
      "pos": [
        12464,
        12566
      ]
    },
    {
      "pos": [
        12571,
        12644
      ],
      "content": "In the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](http://manage.windowsazure.com)</ept>, click <bpt id=\"p2\">**</bpt>Storage<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        12649,
        12736
      ],
      "content": "Click anywhere in the storage account entry except the name, and then click <bpt id=\"p1\">**</bpt>Delete<ept id=\"p1\">**</ept>."
    },
    {
      "content": "-Or-",
      "pos": [
        12743,
        12747
      ]
    },
    {
      "pos": [
        12753,
        12840
      ],
      "content": "Click the name of the storage account to open the dashboard, and then click <bpt id=\"p1\">**</bpt>Delete<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        12845,
        12914
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept> to confirm that you want to delete the storage account."
    },
    {
      "content": "Next steps",
      "pos": [
        12919,
        12929
      ]
    },
    {
      "pos": [
        12933,
        13148
      ],
      "content": "To learn more about Azure Storage, see the Azure Storage documentation on <bpt id=\"p1\">[</bpt>Azure.com<ept id=\"p1\">](http://azure.microsoft.com/documentation/services/storage/)</ept> and on <bpt id=\"p2\">[</bpt>MSDN<ept id=\"p2\">](http://msdn.microsoft.com/library/azure/gg433040.aspx)</ept>."
    },
    {
      "pos": [
        13152,
        13234
      ],
      "content": "Visit the <bpt id=\"p1\">[</bpt>Azure Storage Team Blog<ept id=\"p1\">](http://blogs.msdn.com/b/windowsazurestorage/)</ept>."
    }
  ],
  "content": "<properties\n    pageTitle=\"How to create, manage, or delete a storage account | Microsoft Azure\"\n    description=\"Learn how to create, manage, or delete a storage account in the Azure portal.\"\n    services=\"storage\"\n    documentationCenter=\"\"\n    authors=\"tamram\"\n    manager=\"adinah\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"storage\"\n    ms.workload=\"storage\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"get-started-article\"\n    ms.date=\"07/16/2015\"\n    ms.author=\"tamram\"/>\n\n\n# About Azure storage accounts\n\n## Overview\n\nAn Azure storage account gives you access to the Azure Blob, Queue, Table, and File services in Azure Storage. Your storage account provides the unique namespace for your Azure Storage data objects. By default, the data in your account is available only to you, the account owner.\n\nThere are two types of storage accounts:\n\n- A standard storage account includes Blob, Table, and Queue storage. File storage is available by request via the [Azure Preview page](http://azure.microsoft.com/services/preview/).\n- A premium storage account currently supports Azure virtual machine disks only. See [Premium Storage: High-performance storage for Azure virtual machine workloads](storage-premium-storage-preview-portal.md) for an in-depth overview of Premium Storage.\n\n## Storage account billing\n\nYou are billed for Azure Storage usage based on your storage account. Storage costs are based on four factors: storage capacity, replication scheme, storage transactions, and data egress.\n\n- Storage capacity refers to how much of your storage account allotment you are using to store data. The cost of simply storing your data is determined by how much data you are storing, and how it is replicated.\n- Replication determines how many copies of your data are maintained at once, and in what locations.\n- Transactions refer to all read and write operations to Azure Storage.\n- Data egress refers to data transferred out of an Azure region. When the data in your storage account is accessed by an application that is not running in the same region, whether that application is a cloud service or some other type of application, then you are charged for data egress. (For Azure services, you can take steps to group your data and services in the same datacenters to reduce or eliminate data egress charges.)  \n\nThe [Azure pricing](http://azure.microsoft.com/pricing/details/#storage) page provides detailed pricing information for storage capacity, replication, and transactions. The [Data transfers pricing details](http://azure.microsoft.com/pricing/details/data-transfers/) page provides detailed pricing information for data egress.\n\nFor details about storage account capacity and performance targets, see [Azure Storage scalability and performance targets](http://msdn.microsoft.com/library/azure/dn249410.aspx).\n\n> [AZURE.NOTE] When you create an Azure virtual machine, a storage account is created for you automatically in the deployment location if you do not already have a storage account in that location. So it's not necessary to follow the steps below to create a storage account for your virtual machine disks. The storage account name will be based on the virtual machine name. See the [Azure Virtual Machines documentation](http://azure.microsoft.com/documentation/services/virtual-machines/) for more details.\n\n## Create a storage account\n\n1. Sign in to the [Azure portal](https://manage.windowsazure.com).\n\n2. Click **Create New**, click **Storage**, and then click **Quick Create**.\n\n    ![NewStorageAccount](./media/storage-create-storage-account/storage_NewStorageAccount.png)\n\n3. In **URL**, enter a name for your storage account.\n\n    > [AZURE.NOTE] Storage account names must be between 3 and 24 characters in length and may contain numbers and lowercase letters only.\n    >  \n    > Your storage account name must be unique within Azure. The portal will indicate if the storage account name you select is already taken.\n\n    See [Storage account endpoints](#storage-account-endpoints) below for details about how the storage account name will be used to address your objects in Azure Storage.\n\n4. In **Location/Affinity Group**, select a location for your storage account that is close to you or to your customers. If data in your storage account will be accessed from another Azure service, such as an Azure virtual machine or cloud service, you may want to select an affinity group from the list to group your storage account in the same datacenter with other Azure services that you are using to improve performance and lower costs.\n\n    Note that you must select an affinity group when your storage account is created. You cannot move an existing account to an affinity group. For more information on affinity groups, see [Service colocation with an affinity group](#service-co-location-with-an-affinity-group) below.\n\n5. If you have more than one Azure subscription, then the **Subscription** field is displayed. In **Subscription**, enter the Azure subscription that you want to use the storage account with.\n\n6. In **Replication**, select the desired level of replication for your storage account. The recommended replication option is geo-redundant replication, which provides maximum durability for your data. For more details on Azure Storage replication options, see [Azure Storage replication](storage-redundancy.md).\n\n6. Click **Create Storage Account**.\n\n    It may take a few minutes to create your storage account. To check the status, you can monitor the notifications at the bottom of the portal. After the storage account has been created, your new storage account has **Online** status and is ready for use.\n\n![StoragePage](./media/storage-create-storage-account/Storage_StoragePage.png)\n\n\n### Storage account endpoints\n\nEvery object that you store in Azure Storage has a unique URL address. The storage account name forms the subdomain of that address. The combination of subdomain and domain name, which is specific to each service, forms an *endpoint* for your storage account.\n\nFor example, if your storage account is named *mystorageaccount*, then the default endpoints for your storage account are:\n\n- Blob service: http://*mystorageaccount*.blob.core.windows.net\n\n- Table service: http://*mystorageaccount*.table.core.windows.net\n\n- Queue service: http://*mystorageaccount*.queue.core.windows.net\n\n- File service: http://*mystorageaccount*.file.core.windows.net\n\nYou can see the endpoints for your storage account on the storage dashboard in the Azure portal once the account has been created.\n\nThe URL for accessing an object in a storage account is built by appending the object's location in the storage account to the endpoint. For example, a blob address might have this format: http://*mystorageaccount*.blob.core.windows.net/*mycontainer*/*myblob*.\n\nYou can also configure a custom domain name to use with your storage account. See [Configure a custom domain name for blob data in an Azure storage account](storage-custom-domain-name.md) for details.\n\n### Service colocation with an affinity group\n\nAn *affinity group* is a geographic grouping of your Azure services and VMs with your Azure storage account. An affinity group can improve service performance by locating computer workloads in the same datacenter or near the target user audience. Also, no billing charges are incurred for egress when data in a storage account is accessed from another service that is part of the same affinity group.\n\n> [AZURE.NOTE]  To create an affinity group, open the <b>Settings</b> area of the Azure portal, click <b>Affinity Groups</b>, and then click either <b>Add an affinity group</b> or the <b>Add</b> button. You can also create and manage affinity groups by using the Azure Service Management API. See <a href=\"http://msdn.microsoft.com/library/azure/ee460798.aspx\">Operations on affinity groups</a> for more information.\n\n## View, copy, and regenerate storage access keys\n\nWhen you create a storage account, Azure generates two 512-bit storage access keys, which are used for authentication when the storage account is accessed. By providing two storage access keys, Azure enables you to regenerate the keys with no interruption to your storage service or access to that service.\n\n> [AZURE.NOTE] We recommend that you avoid sharing your storage access keys with anyone else. To permit access to storage resources without giving out your access keys, you can use a *shared access signature*. A shared access signature provides access to a resource in your account for an interval that you define and with the permissions that you specify. See the [shared access signature tutorial](storage-dotnet-shared-access-signature-part-1.md) for more information.\n\nIn the [Azure portal](http://manage.windowsazure.com), use **Manage Keys** on the dashboard or the **Storage** page to view, copy, and regenerate the storage access keys that are used to access the Blob, Table, and Queue services.\n\n### Copy a storage access key  \n\nYou can use **Manage Keys** to copy a storage access key to use in a connection string. The connection string requires the storage account name and a key to use in authentication. For information about configuring connection strings to access Azure storage services, see [Configuring Azure connection strings](http://msdn.microsoft.com/library/azure/ee758697.aspx).\n\n1. In the [Azure portal](http://manage.windowsazure.com), click **Storage**, and then click the name of the storage account to open the dashboard.\n\n2. Click **Manage Keys**.\n\n    **Manage Access Keys** opens.\n\n    ![Managekeys](./media/storage-create-storage-account/Storage_ManageKeys.png)\n\n\n3. To copy a storage access key, select the key text. Then right-click, and click **Copy**.\n\n### Regenerate storage access keys\nYou should change the access keys to your storage account periodically to help keep your storage connections secure. Two access keys are assigned so that you can maintain connections to the storage account by using one access key while you regenerate the other access key.\n\n> [AZURE.WARNING] Regenerating your access keys affects virtual machines, media services, and any applications that are dependent on the storage account. All clients that use the access key to access the storage account must be updated to use the new key.\n\n**Virtual machines** - If your storage account contains any virtual machines that are running, you will have to redeploy all virtual machines after you regenerate the access keys. To avoid redeployment, shut down the virtual machines before you regenerate the access keys.\n\n**Media services** - If you have media services that are dependent on your storage account, you must resync the access keys with your media service after you regenerate the keys.\n\n**Applications** - If you have web applications or cloud services that use the storage account, you will lose the connections if you regenerate keys, unless you roll your keys. Here is the process:\n\n1. Update the connection strings in your application code to reference the secondary access key of the storage account.\n\n2. Regenerate the primary access key for your storage account. In the [Azure portal](http://manage.windowsazure.com), from the dashboard or the **Configure** page, click **Manage Keys**. Click **Regenerate** under the primary access key, and then click **Yes** to confirm that you want to generate a new key.\n\n3. Update the connection strings in your code to reference the new primary access key.\n\n4. Regenerate the secondary access key.\n\n## Delete a storage account\n\nTo remove a storage account that you are no longer using, use **Delete** on the dashboard or the **Configure** page. **Delete** deletes the entire storage account, including all of the blobs, tables, and queues in the account.\n\n> [AZURE.WARNING] It's not possible to restore a deleted storage account or retrieve any of the content that it contained before deletion. Be sure to back up anything you want to save before you delete the account. This also holds true for any resources in the account—once you delete a blob, table, queue, or file, it is permanently deleted.\n>\n> If your storage account contains VHD files for an Azure virtual machine, then you must delete any images and disks that are using those VHD files before you can delete the storage account. First, stop the virtual machine if it is running, and then delete it. To delete disks, navigate to the **Disks** tab and delete any disks there. To delete images, navigate to the **Images** tab and delete any images that are stored in the account.\n\n1. In the [Azure portal](http://manage.windowsazure.com), click **Storage**.\n\n2. Click anywhere in the storage account entry except the name, and then click **Delete**.\n\n     -Or-\n\n    Click the name of the storage account to open the dashboard, and then click **Delete**.\n\n3. Click **Yes** to confirm that you want to delete the storage account.\n\n## Next steps\n\n- To learn more about Azure Storage, see the Azure Storage documentation on [Azure.com](http://azure.microsoft.com/documentation/services/storage/) and on [MSDN](http://msdn.microsoft.com/library/azure/gg433040.aspx).\n\n- Visit the [Azure Storage Team Blog](http://blogs.msdn.com/b/windowsazurestorage/).\n"
}