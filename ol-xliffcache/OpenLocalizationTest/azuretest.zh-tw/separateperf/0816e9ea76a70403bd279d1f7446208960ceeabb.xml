{
  "nodes": [
    {
      "content": "Register for Azure Active Directory authentication | Microsoft Azure",
      "pos": [
        28,
        96
      ]
    },
    {
      "content": "Learn how to register for Azure Active Directory authentication in your Mobile Services application.",
      "pos": [
        116,
        216
      ]
    },
    {
      "content": "Register your apps to use an Azure Active Directory Account login",
      "pos": [
        544,
        609
      ]
    },
    {
      "content": "Overview",
      "pos": [
        755,
        763
      ]
    },
    {
      "content": "This topic shows you how to register your apps to be able to use Azure Active Directory as an authentication provider for your mobile service.",
      "pos": [
        765,
        907
      ]
    },
    {
      "content": "Registering your app",
      "pos": [
        912,
        932
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> The steps outlined in this topic are intended to be used with <bpt id=\"p1\">[</bpt>Add Authentication to your Mobile Services app<ept id=\"p1\">](../mobile-services-dotnet-backend-windows-store-dotnet-get-started-users.md)</ept> tutorial when you want to use <bpt id=\"p2\">[</bpt>Service-directed login operations<ept id=\"p2\">](http://msdn.microsoft.com/library/azure/dn283952.aspx)</ept> with your app.",
      "pos": [
        935,
        1271
      ]
    },
    {
      "content": "Alternatively, if your app has a requirement for <bpt id=\"p1\">[</bpt>client-directed login operations<ept id=\"p1\">](http://msdn.microsoft.com/library/azure/jj710106.aspx)</ept> for Azure Active Directory and a .NET backend mobile service you should start with the <bpt id=\"p2\">[</bpt>Authenticate your app with Active Directory Authentication Library Single Sign-On<ept id=\"p2\">](mobile-services-windows-store-dotnet-adal-sso-authentication.md)</ept> tutorial.",
      "pos": [
        1272,
        1656
      ]
    },
    {
      "pos": [
        1661,
        1877
      ],
      "content": "Log on to the [Azure Management Portal], navigate to your mobile service, click the <bpt id=\"p1\">**</bpt>Identity<ept id=\"p1\">**</ept> tab, then scroll down to the <bpt id=\"p2\">**</bpt>Azure active directory<ept id=\"p2\">**</ept> identity provider section and copy the <bpt id=\"p3\">**</bpt>App URL<ept id=\"p3\">**</ept> shown there."
    },
    {
      "content": "Mobile service app URL for AAD",
      "pos": [
        1885,
        1915
      ]
    },
    {
      "pos": [
        2037,
        2185
      ],
      "content": "Navigate to <bpt id=\"p1\">**</bpt>Active Directory<ept id=\"p1\">**</ept> in the management portal, click your directory then <bpt id=\"p2\">**</bpt>Domains<ept id=\"p2\">**</ept> and make a note of your directory's default domain."
    },
    {
      "pos": [
        2190,
        2278
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Applications<ept id=\"p1\">**</ept> &gt; <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept> &gt; <bpt id=\"p3\">**</bpt>Add an application my organization is developing<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        2283,
        2407
      ],
      "content": "In the Add Application Wizard, enter a <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> for your application and click the  <bpt id=\"p2\">**</bpt>Web application and/or Web API<ept id=\"p2\">**</ept> type."
    },
    {
      "content": "Name your AAD app",
      "pos": [
        2416,
        2433
      ]
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Sign-on URL<ept id=\"p1\">**</ept> box, paste the app URL value you copied from your mobile service.",
      "pos": [
        2559,
        2647
      ]
    },
    {
      "content": "Enter the same unique value in the <bpt id=\"p1\">**</bpt>App ID URI<ept id=\"p1\">**</ept> box, then click to continue.",
      "pos": [
        2648,
        2726
      ]
    },
    {
      "content": "Set the AAD app properties",
      "pos": [
        2735,
        2761
      ]
    },
    {
      "pos": [
        2887,
        2992
      ],
      "content": "After the application has been added, click the <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> tab and copy the <bpt id=\"p2\">**</bpt>Client ID<ept id=\"p2\">**</ept> for the app."
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph>For a .NET backend mobile service, you must also edit the <bpt id=\"p1\">**</bpt>Reply URL<ept id=\"p1\">**</ept> value under <bpt id=\"p2\">**</bpt>Single Sign-on<ept id=\"p2\">**</ept> to be the URL of your mobile service appended with the path, <bpt id=\"p3\">_</bpt>signin-aad<ept id=\"p3\">_</ept>.",
      "pos": [
        2999,
        3188
      ]
    },
    {
      "content": "For example,  <ph id=\"ph1\">`https://todolist.azure-mobile.net/signin-aad`</ph>",
      "pos": [
        3189,
        3249
      ]
    },
    {
      "pos": [
        3254,
        3393
      ],
      "content": "Return to your mobile service's <bpt id=\"p1\">**</bpt>Identity<ept id=\"p1\">**</ept> tab and paste the copied <bpt id=\"p2\">**</bpt>Client ID<ept id=\"p2\">**</ept> value for the azure active directory identity provider."
    },
    {
      "pos": [
        3528,
        3691
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Allowed Tenants<ept id=\"p1\">**</ept> list, type the domain of the directory in which you registered the application (such as <ph id=\"ph1\">`contoso.onmicrosoft.com`</ph>), then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>."
    },
    {
      "content": "You are now ready to use an Azure Active Directory for authentication in your app.",
      "pos": [
        3697,
        3779
      ]
    },
    {
      "content": "test",
      "pos": [
        3898,
        3902
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Register for Azure Active Directory authentication | Microsoft Azure\" \n    description=\"Learn how to register for Azure Active Directory authentication in your Mobile Services application.\" \n    authors=\"wesmc7777\" \n    services=\"mobile-services\" \n    documentationCenter=\"\" \n    manager=\"dwrede\" \n    editor=\"\"/>\n\n<tags \n    ms.service=\"mobile-services\" \n    ms.workload=\"mobile\" \n    ms.tgt_pltfrm=\"multiple\" \n    ms.devlang=\"multiple\" \n    ms.topic=\"article\" \n    ms.date=\"06/15/2015\" \n    ms.author=\"wesmc\"/>\n\n# Register your apps to use an Azure Active Directory Account login\n\n[AZURE.INCLUDE [mobile-services-selector-register-identity-provider](../../includes/mobile-services-selector-register-identity-provider.md)]\n\n##Overview\n\nThis topic shows you how to register your apps to be able to use Azure Active Directory as an authentication provider for your mobile service. \n\n##Registering your app\n\n>[AZURE.NOTE] The steps outlined in this topic are intended to be used with [Add Authentication to your Mobile Services app](../mobile-services-dotnet-backend-windows-store-dotnet-get-started-users.md) tutorial when you want to use [Service-directed login operations](http://msdn.microsoft.com/library/azure/dn283952.aspx) with your app. Alternatively, if your app has a requirement for [client-directed login operations](http://msdn.microsoft.com/library/azure/jj710106.aspx) for Azure Active Directory and a .NET backend mobile service you should start with the [Authenticate your app with Active Directory Authentication Library Single Sign-On](mobile-services-windows-store-dotnet-adal-sso-authentication.md) tutorial.\n\n1. Log on to the [Azure Management Portal], navigate to your mobile service, click the **Identity** tab, then scroll down to the **Azure active directory** identity provider section and copy the **App URL** shown there.\n\n    ![Mobile service app URL for AAD](./media/mobile-services-how-to-register-active-directory-authentication/mobile-services-copy-app-url-waad-auth.png)\n\n2. Navigate to **Active Directory** in the management portal, click your directory then **Domains** and make a note of your directory's default domain.\n\n3. Click **Applications** > **Add** > **Add an application my organization is developing**.\n\n4. In the Add Application Wizard, enter a **Name** for your application and click the  **Web application and/or Web API** type. \n\n    ![Name your AAD app](./media/mobile-services-how-to-register-active-directory-authentication/mobile-services-add-app-wizard-1-waad-auth.png)\n\n5. In the **Sign-on URL** box, paste the app URL value you copied from your mobile service. Enter the same unique value in the **App ID URI** box, then click to continue.\n \n    ![Set the AAD app properties](./media/mobile-services-how-to-register-active-directory-authentication/mobile-services-add-app-wizard-2-waad-auth.png)\n\n6. After the application has been added, click the **Configure** tab and copy the **Client ID** for the app.\n\n    >[AZURE.NOTE]For a .NET backend mobile service, you must also edit the **Reply URL** value under **Single Sign-on** to be the URL of your mobile service appended with the path, _signin-aad_. For example,  `https://todolist.azure-mobile.net/signin-aad`\n\n7. Return to your mobile service's **Identity** tab and paste the copied **Client ID** value for the azure active directory identity provider.\n \n    ![](./media/mobile-services-how-to-register-active-directory-authentication/mobile-services-clientid-pasted-waad-auth.png)\n\n8.  In the **Allowed Tenants** list, type the domain of the directory in which you registered the application (such as `contoso.onmicrosoft.com`), then click **Save**.    \n\nYou are now ready to use an Azure Active Directory for authentication in your app. \n\n<!-- Anchors. -->\n\n<!-- Images. -->\n\n\n<!-- URLs. -->\n[Azure Management Portal]: https://manage.windowsazure.com/\n\n \ntest\n"
}