{
  "nodes": [
    {
      "content": "Get started with push notifications (Android JavaScript) | Microsoft Azure",
      "pos": [
        28,
        102
      ]
    },
    {
      "content": "Learn how to use Azure Mobile Services to send push notifications to your Android JavaScript app.",
      "pos": [
        121,
        218
      ]
    },
    {
      "content": "Add push notifications to your Mobile Services Android app",
      "pos": [
        588,
        646
      ]
    },
    {
      "content": "Summary",
      "pos": [
        773,
        780
      ]
    },
    {
      "content": "This topic shows how to use Azure Mobile Services to send push notifications to your Android app using Google Cloud Messaging (\"GCM\").",
      "pos": [
        782,
        916
      ]
    },
    {
      "content": "You will add push notifications to the quickstart project that is a prerequisite for this tutorial.",
      "pos": [
        917,
        1016
      ]
    },
    {
      "content": "Push notifications are enabled by using the Azure Notification Hub that is included in your mobile service.",
      "pos": [
        1017,
        1124
      ]
    },
    {
      "content": "When complete, your mobile service will send a push notification each time a record is inserted.",
      "pos": [
        1125,
        1221
      ]
    },
    {
      "content": "Prerequisites",
      "pos": [
        1226,
        1239
      ]
    },
    {
      "pos": [
        1357,
        1407
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"register\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Enable Google Cloud Messaging"
    },
    {
      "pos": [
        1541,
        1610
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"configure\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Configure Mobile Services to send push requests"
    },
    {
      "pos": [
        1730,
        1785
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"add-push\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Add push notifications to your app"
    },
    {
      "content": "Your next step is to install Google Play services.",
      "pos": [
        1789,
        1839
      ]
    },
    {
      "content": "Google Cloud Messaging has some minimum API level requirements for development and testing, which the <bpt id=\"p1\">**</bpt>minSdkVersion<ept id=\"p1\">**</ept> property in the Manifest must conform to.",
      "pos": [
        1840,
        2001
      ]
    },
    {
      "content": "If you will be testing with an older device, then consult [Set Up Google Play Services SDK] to determine how low you can set this value, and set it appropriately.",
      "pos": [
        2003,
        2165
      ]
    },
    {
      "content": "Add Google Play Services to the project",
      "pos": [
        2170,
        2209
      ]
    },
    {
      "content": "Add code",
      "pos": [
        2311,
        2319
      ]
    },
    {
      "pos": [
        2462,
        2549
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"update-scripts\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Update the registered insert script in the Management Portal"
    },
    {
      "pos": [
        2716,
        2768
      ],
      "content": "<ph id=\"ph1\">&lt;a id=\"test\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Test push notifications in your app"
    },
    {
      "content": "You can test the app by directly attaching an Android phone with a USB cable, or by using a virtual device in the emulator.",
      "pos": [
        2770,
        2893
      ]
    },
    {
      "content": "Setting up the Android emulator for testing",
      "pos": [
        2898,
        2941
      ]
    },
    {
      "content": "When you run this app in the emulator, make sure that you use an Android Virtual Device (AVD) that supports Google APIs.",
      "pos": [
        2943,
        3063
      ]
    },
    {
      "content": "From the right end of the toolbar, select the Android Virtual Device Manager, select your device, click the edit icon on the right.",
      "pos": [
        3068,
        3199
      ]
    },
    {
      "pos": [
        3333,
        3422
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Change<ept id=\"p1\">**</ept> on the device description line, select <bpt id=\"p2\">**</bpt>Google APIs<ept id=\"p2\">**</ept>,  then click OK."
    },
    {
      "content": "This targets the AVD to use Google APIs.",
      "pos": [
        3562,
        3602
      ]
    },
    {
      "content": "Running the test",
      "pos": [
        3607,
        3623
      ]
    },
    {
      "pos": [
        3628,
        3691
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> menu item, click <bpt id=\"p2\">**</bpt>Run app<ept id=\"p2\">**</ept> to start the app."
    },
    {
      "pos": [
        3696,
        3801
      ],
      "content": "In the app, type meaningful text, such as <bpt id=\"p1\">_</bpt>A new Mobile Services task<ept id=\"p1\">_</ept> and then click the <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept> button."
    },
    {
      "content": "Swipe down from the top of the screen to open the device's Notification Drawer to see the notification.",
      "pos": [
        3920,
        4023
      ]
    },
    {
      "content": "You have successfully completed this tutorial.",
      "pos": [
        4026,
        4072
      ]
    },
    {
      "content": "Troubleshooting",
      "pos": [
        4077,
        4092
      ]
    },
    {
      "content": "Verify Android SDK Version",
      "pos": [
        4098,
        4124
      ]
    },
    {
      "content": "Older Code Versions",
      "pos": [
        4222,
        4241
      ]
    },
    {
      "content": "If you would like to see the Eclipse version of this tutorial, go to [Get started with push notifications (Eclipse)].",
      "pos": [
        4243,
        4360
      ]
    },
    {
      "pos": [
        4561,
        4597
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"next-steps\"&gt;</ph> <ph id=\"ph2\">&lt;/a&gt;</ph>Next steps"
    },
    {
      "content": "Learn more about Mobile Services and Notification Hubs in the following topics:",
      "pos": [
        5478,
        5557
      ]
    },
    {
      "pos": [
        5561,
        5657
      ],
      "content": "[Get started with data]\n<br/>Learn more about storing and querying data using mobile services.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "[Get started with data]",
          "pos": [
            0,
            23
          ]
        },
        {
          "content": "Learn more about storing and querying data using mobile services.",
          "pos": [
            29,
            94
          ]
        }
      ]
    },
    {
      "pos": [
        5661,
        5797
      ],
      "content": "[Get started with authentication]\n<br/>Learn how to authenticate users of your app with different account types using mobile services.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "[Get started with authentication]",
          "pos": [
            0,
            33
          ]
        },
        {
          "content": "Learn how to authenticate users of your app with different account types using mobile services.",
          "pos": [
            39,
            134
          ]
        }
      ]
    },
    {
      "pos": [
        5801,
        5955
      ],
      "content": "[What are Notification Hubs?]\n<br/>Learn more about how Notification Hubs works to deliver notifications to your apps across all major client platforms.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "[What are Notification Hubs?]",
          "pos": [
            0,
            29
          ]
        },
        {
          "content": "Learn more about how Notification Hubs works to deliver notifications to your apps across all major client platforms.",
          "pos": [
            35,
            152
          ]
        }
      ]
    },
    {
      "pos": [
        5959,
        6125
      ],
      "content": "[Debug Notification Hubs applications](http://go.microsoft.com/fwlink/p/?linkid=386630)\n</br>Get guidance troubleshooting and debugging Notification Hubs solutions.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "<bpt id=\"p1\">[</bpt>Debug Notification Hubs applications<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=386630)</ept>",
          "pos": [
            0,
            87
          ]
        },
        {
          "content": "Get guidance troubleshooting and debugging Notification Hubs solutions.",
          "pos": [
            93,
            164
          ]
        }
      ]
    },
    {
      "pos": [
        6129,
        6253
      ],
      "content": "[How to use the Android client library for Mobile Services]\n<br/>Learn more about how to use Mobile Services with Android.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "[How to use the Android client library for Mobile Services]",
          "pos": [
            0,
            59
          ]
        },
        {
          "content": "Learn more about how to use Mobile Services with Android.",
          "pos": [
            65,
            122
          ]
        }
      ]
    },
    {
      "pos": [
        6257,
        6378
      ],
      "content": "[Mobile Services server script reference]\n<br/>Learn more about how to implement business logic in your mobile service.",
      "leadings": [
        "",
        "  "
      ],
      "nodes": [
        {
          "content": "[Mobile Services server script reference]",
          "pos": [
            0,
            41
          ]
        },
        {
          "content": "Learn more about how to implement business logic in your mobile service.",
          "pos": [
            47,
            119
          ]
        }
      ]
    },
    {
      "content": "test",
      "pos": [
        8483,
        8487
      ]
    }
  ],
  "content": "\n<properties\n    pageTitle=\"Get started with push notifications (Android JavaScript) | Microsoft Azure\"\n    description=\"Learn how to use Azure Mobile Services to send push notifications to your Android JavaScript app.\"\n    services=\"mobile-services, notification-hubs\"\n    documentationCenter=\"android\"\n    authors=\"RickSaling\"\n    writer=\"ricksal\"\n    manager=\"dwrede\"\n    editor=\"\"/>\n\n<tags\n    ms.service=\"mobile-services\"\n    ms.workload=\"mobile\"\n    ms.tgt_pltfrm=\"mobile-android\"\n    ms.devlang=\"java\"\n    ms.topic=\"article\"\n    ms.date=\"06/16/2015\" \n    ms.author=\"ricksal\"/>\n\n\n# Add push notifications to your Mobile Services Android app\n\n[AZURE.INCLUDE [mobile-services-selector-get-started-push](../../includes/mobile-services-selector-get-started-push.md)]\n\n## Summary\n\nThis topic shows how to use Azure Mobile Services to send push notifications to your Android app using Google Cloud Messaging (\"GCM\"). You will add push notifications to the quickstart project that is a prerequisite for this tutorial. Push notifications are enabled by using the Azure Notification Hub that is included in your mobile service. When complete, your mobile service will send a push notification each time a record is inserted.\n\n## Prerequisites\n\n[AZURE.INCLUDE [mobile-services-android-prerequisites](../../includes/mobile-services-android-prerequisites.md)]\n\n##<a id=\"register\"></a>Enable Google Cloud Messaging\n\n[AZURE.INCLUDE [mobile-services-enable-Google-cloud-messaging](../../includes/mobile-services-enable-google-cloud-messaging.md)]\n\n##<a id=\"configure\"></a>Configure Mobile Services to send push requests\n\n[AZURE.INCLUDE [mobile-services-android-configure-push](../../includes/mobile-services-android-configure-push.md)]\n\n##<a id=\"add-push\"></a>Add push notifications to your app\n\n\n\nYour next step is to install Google Play services. Google Cloud Messaging has some minimum API level requirements for development and testing, which the **minSdkVersion** property in the Manifest must conform to.\n\nIf you will be testing with an older device, then consult [Set Up Google Play Services SDK] to determine how low you can set this value, and set it appropriately.\n\n###Add Google Play Services to the project\n\n[AZURE.INCLUDE [Add Play Services](../../includes/mobile-services-add-google-play-services.md)]\n\n###Add code\n\n[AZURE.INCLUDE [mobile-services-android-getting-started-with-push](../../includes/mobile-services-android-getting-started-with-push.md)]\n\n\n##<a id=\"update-scripts\"></a>Update the registered insert script in the Management Portal\n\n[AZURE.INCLUDE [mobile-services-javascript-backend-android-push-insert-script](../../includes/mobile-services-javascript-backend-android-push-insert-script.md)]\n\n\n##<a id=\"test\"></a>Test push notifications in your app\n\nYou can test the app by directly attaching an Android phone with a USB cable, or by using a virtual device in the emulator.\n\n###Setting up the Android emulator for testing\n\nWhen you run this app in the emulator, make sure that you use an Android Virtual Device (AVD) that supports Google APIs.\n\n1. From the right end of the toolbar, select the Android Virtual Device Manager, select your device, click the edit icon on the right.\n\n    ![](./media/mobile-services-javascript-backend-android-get-started-push/mobile-services-android-virtual-device-manager.png)\n\n2. Select **Change** on the device description line, select **Google APIs**,  then click OK.\n\n    ![](./media/mobile-services-javascript-backend-android-get-started-push/mobile-services-android-virtual-device-manager-edit.png)\n\n    This targets the AVD to use Google APIs.\n\n###Running the test\n\n1. From the **Run** menu item, click **Run app** to start the app.\n\n2. In the app, type meaningful text, such as _A new Mobile Services task_ and then click the **Add** button.\n\n    ![](./media/mobile-services-javascript-backend-android-get-started-push/mobile-quickstart-push1-android.png)\n\n3. Swipe down from the top of the screen to open the device's Notification Drawer to see the notification.\n\n\nYou have successfully completed this tutorial.\n\n## Troubleshooting\n\n### Verify Android SDK Version\n\n[AZURE.INCLUDE [Verify SDK](../../includes/mobile-services-verify-android-sdk-version.md)]\n\n\n## Older Code Versions\n\nIf you would like to see the Eclipse version of this tutorial, go to [Get started with push notifications (Eclipse)].\n\n\n<!--\nTo see a completed version of the source code in an Eclipse project, go <a href=\"https://github.com/Azure/mobile-services-samples/tree/master/GettingStartedWithData/Android\">here</a>.\n-->\n\n\n## <a name=\"next-steps\"> </a>Next steps\n\n<!---This tutorial demonstrated the basics of enabling an Android app to use Mobile Services and Notification Hubs to send push notifications. Next, consider completing the next tutorial, [Send push notifications to authenticated users], which shows how to use tags to send push notifications from a Mobile Service to only an authenticated user.\n\n+ [Send push notifications to authenticated users]\n    <br/>Learn how to use tags to send push notifications from a Mobile Service to only an authenticated user.\n\n+ [Send broadcast notifications to subscribers]\n    <br/>Learn how users can register and receive push notifications for categories they're interested in.\n\n+ [Send template-based notifications to subscribers]\n    <br/>Learn how to use templates to send push notifications from a Mobile Service, without having to craft platform-specific payloads in your back-end.\n-->\n\nLearn more about Mobile Services and Notification Hubs in the following topics:\n\n* [Get started with data]\n  <br/>Learn more about storing and querying data using mobile services.\n\n* [Get started with authentication]\n  <br/>Learn how to authenticate users of your app with different account types using mobile services.\n\n* [What are Notification Hubs?]\n  <br/>Learn more about how Notification Hubs works to deliver notifications to your apps across all major client platforms.\n\n* [Debug Notification Hubs applications](http://go.microsoft.com/fwlink/p/?linkid=386630)\n  </br>Get guidance troubleshooting and debugging Notification Hubs solutions.\n\n* [How to use the Android client library for Mobile Services]\n  <br/>Learn more about how to use Mobile Services with Android.\n\n* [Mobile Services server script reference]\n  <br/>Learn more about how to implement business logic in your mobile service.\n\n\n<!-- Anchors. -->\n[Register your app for push notifications and configure Mobile Services]: #register\n[Update the generated push notification code]: #update-scripts\n[Insert data to receive notifications]: #test\n[Next Steps]:#next-steps\n\n<!-- Images. -->\n[13]: ./media/mobile-services-windows-store-javascript-get-started-push/mobile-quickstart-push1.png\n[14]: ./media/mobile-services-windows-store-javascript-get-started-push/mobile-quickstart-push2.png\n\n\n<!-- URLs. -->\n[Get started with push notifications (Eclipse)]: mobile-services-javascript-backend-android-get-started-push-ec.md\n[Submit an app page]: http://go.microsoft.com/fwlink/p/?LinkID=266582\n[My Applications]: http://go.microsoft.com/fwlink/p/?LinkId=262039\n[Get started with Mobile Services]: mobile-services-android-get-started.md\n[Get started with data]: mobile-services-android-get-started-data.md\n[Get started with authentication]: mobile-services-android-get-started-users.md\n[Get started with push notifications]: /develop/mobile/tutorials/get-started-with-push-js\n[Push notifications to app users]: /develop/mobile/tutorials/push-notifications-to-users-js\n[Authorize users with scripts]: /develop/mobile/tutorials/authorize-users-in-scripts-js\n[JavaScript and HTML]: /develop/mobile/tutorials/get-started-with-push-js\n[Set Up Google Play Services SDK]: http://go.microsoft.com/fwlink/?LinkId=389801\n[Azure Management Portal]: https://manage.windowsazure.com/\n[How to use the Android client library for Mobile Services]: mobile-services-android-how-to-use-client-library.md\n\n[gcm object]: http://go.microsoft.com/fwlink/p/?LinkId=282645\n\n[Mobile Services server script reference]: http://go.microsoft.com/fwlink/?LinkId=262293\n\n[Send push notifications to authenticated users]: mobile-services-javascript-backend-android-push-notifications-app-users.md\n\n[What are Notification Hubs?]: ../notification-hubs-overview.md\n[Send broadcast notifications to subscribers]: ../notification-hubs-android-send-breaking-news.md\n[Send template-based notifications to subscribers]: ../notification-hubs-android-send-localized-breaking-news.md\n\ntest\n"
}