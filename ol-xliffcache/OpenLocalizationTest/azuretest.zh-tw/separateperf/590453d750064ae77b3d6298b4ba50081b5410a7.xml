{
  "nodes": [
    {
      "content": "Monitor a DocumentDB account by using the Azure preview portal | Microsoft Azure",
      "pos": [
        28,
        108
      ]
    },
    {
      "content": "Learn how to monitor your DocumentDB account for performance metrics, such as requests and server errors, and usage metrics, such as storage consumption.",
      "pos": [
        128,
        281
      ]
    },
    {
      "content": "Monitor a DocumentDB account by using the Azure preview portal",
      "pos": [
        601,
        663
      ]
    },
    {
      "content": "You can monitor your DocumentDB accounts in the <bpt id=\"p1\">[</bpt>Microsoft Azure preview portal<ept id=\"p1\">](https://portal.azure.com/)</ept>.",
      "pos": [
        666,
        774
      ]
    },
    {
      "content": "For each DocumentDB account, both performance metrics, such as requests and server errors, and usage metrics, such as storage consumption, are available.",
      "pos": [
        775,
        928
      ]
    },
    {
      "content": "How to: View performance metrics for a DocumentDB account",
      "pos": [
        933,
        990
      ]
    },
    {
      "pos": [
        995,
        1203
      ],
      "content": "In the <bpt id=\"p1\">[</bpt>Azure preview portal<ept id=\"p1\">](https://portal.azure.com/)</ept>, click <bpt id=\"p2\">**</bpt>Browse All<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>DocumentDB Accounts<ept id=\"p3\">**</ept>, and then click the name of the DocumentDB account for which you would like to view performance metrics."
    },
    {
      "pos": [
        1208,
        1264
      ],
      "content": "Within the <bpt id=\"p1\">**</bpt>Monitoring<ept id=\"p1\">**</ept> lens you can, by default, see:"
    },
    {
      "content": "Total requests for the current day.",
      "pos": [
        1273,
        1308
      ]
    },
    {
      "content": "Average requests per second for the current day.",
      "pos": [
        1317,
        1365
      ]
    },
    {
      "content": "Screen shot of the Monitoring lens",
      "pos": [
        1378,
        1412
      ]
    },
    {
      "pos": [
        1470,
        1579
      ],
      "content": "Clicking on the <bpt id=\"p1\">**</bpt>Total Requests<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Average Requests per Second<ept id=\"p2\">**</ept> part opens a detailed <bpt id=\"p3\">**</bpt>Metric<ept id=\"p3\">**</ept> blade."
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>Metric<ept id=\"p1\">**</ept> blade shows you details about the metrics you have selected.",
      "pos": [
        1584,
        1659
      ]
    },
    {
      "content": "At the top of the blade is a graph and below that a table which shows aggregation values of the selected metrics such as average, minimum, and maximum.",
      "pos": [
        1661,
        1812
      ]
    },
    {
      "content": "The metric blade also shows the list of alerts which have been defined, filtered to the metrics that appear on the current metric blade (this way, if you have a number of alerts, you'll only see the relevant ones presented here).",
      "pos": [
        1814,
        2043
      ]
    },
    {
      "content": "Screenshot of the Metric blade",
      "pos": [
        2054,
        2084
      ]
    },
    {
      "content": "Customize performance metric views for a DocumentDB account",
      "pos": [
        2141,
        2200
      ]
    },
    {
      "pos": [
        2206,
        2465
      ],
      "content": "To customize the metrics that display in a particular part, right-click the metric chart, and then select **Edit Chart**.  \n![Screen shot of the Total Requests chart with the Edit Chart button highlighted](./media/documentdb-monitor-accounts/madocdb3.png)",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "To customize the metrics that display in a particular part, right-click the metric chart, and then select <bpt id=\"p1\">**</bpt>Edit Chart<ept id=\"p1\">**</ept>.",
          "pos": [
            0,
            121
          ]
        },
        {
          "content": "<ph id=\"ph1\">![</ph>Screen shot of the Total Requests chart with the Edit Chart button highlighted<ph id=\"ph2\">](./media/documentdb-monitor-accounts/madocdb3.png)</ph>",
          "pos": [
            124,
            255
          ]
        }
      ]
    },
    {
      "pos": [
        2471,
        2689
      ],
      "content": "On the **Edit Chart** blade, there are options to modify the metrics that display in the part, as well as their time range.  \n![Screen shot of the Edit Chart blade](./media/documentdb-monitor-accounts/madocdb4.png)",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "On the <bpt id=\"p1\">**</bpt>Edit Chart<ept id=\"p1\">**</ept> blade, there are options to modify the metrics that display in the part, as well as their time range.",
          "pos": [
            0,
            123
          ]
        },
        {
          "content": "<ph id=\"ph1\">![</ph>Screen shot of the Edit Chart blade<ph id=\"ph2\">](./media/documentdb-monitor-accounts/madocdb4.png)</ph>",
          "pos": [
            126,
            214
          ]
        }
      ]
    },
    {
      "pos": [
        2695,
        2849
      ],
      "content": "To change the metrics displayed in the part, simply select or clear the available performance metrics, and then click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> at the bottom of the blade."
    },
    {
      "pos": [
        2856,
        2985
      ],
      "content": "To change the time range, choose a different range (for example, <bpt id=\"p1\">**</bpt>Custom<ept id=\"p1\">**</ept>), and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept> at the bottom of the blade."
    },
    {
      "content": "Screen shot of the Time Range part of the Edit Chart blade showing how to enter a custom time range",
      "pos": [
        2995,
        3094
      ]
    },
    {
      "content": "Create side-by-side performance metric charts",
      "pos": [
        3152,
        3197
      ]
    },
    {
      "content": "The Azure preview portal allows you to create side-by-side metric charts.",
      "pos": [
        3198,
        3271
      ]
    },
    {
      "pos": [
        3279,
        3365
      ],
      "content": "First, right-click on the chart you want to clone and modify and select <bpt id=\"p1\">**</bpt>Customize<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Screen shot of the Total Requests chart with the Customize option highlighted",
      "pos": [
        3374,
        3451
      ]
    },
    {
      "pos": [
        3508,
        3589
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Clone<ept id=\"p1\">**</ept> on the menu to copy the part and then click <bpt id=\"p2\">**</bpt>Done customizing<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Screen shot of the Total Requests chart with the Clone and Done customizing options highlighted",
      "pos": [
        3598,
        3693
      ]
    },
    {
      "content": "You may now treat this part as any other metric part, customizing the metrics and time range displayed in the part.",
      "pos": [
        3749,
        3864
      ]
    },
    {
      "content": "By doing this, you can see two different metrics chart side-by-side at the same time.",
      "pos": [
        3866,
        3951
      ]
    },
    {
      "content": "Screen shot of the Total Requests chart and the new Total Requests past hour chart",
      "pos": [
        3960,
        4042
      ]
    },
    {
      "content": "View usage metrics for a DocumentDB account",
      "pos": [
        4100,
        4143
      ]
    },
    {
      "pos": [
        4148,
        4345
      ],
      "content": "In the <bpt id=\"p1\">[</bpt>Azure preview portal<ept id=\"p1\">](https://portal.azure.com/)</ept>, click <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>DocumentDB Accounts<ept id=\"p3\">**</ept>, and then click the name of the DocumentDB account for which you would like to see usage metrics."
    },
    {
      "pos": [
        4350,
        4414
      ],
      "content": "Within the <bpt id=\"p1\">**</bpt>Usage<ept id=\"p1\">**</ept> lens you can view the following by default:"
    },
    {
      "content": "Estimated cost to date of the DocumentDB account for the current billing period.",
      "pos": [
        4423,
        4503
      ]
    },
    {
      "content": "Storage consumed within the account.",
      "pos": [
        4512,
        4548
      ]
    },
    {
      "content": "Maximum available storage of the account (threshold).",
      "pos": [
        4557,
        4610
      ]
    },
    {
      "content": "User and permission usage.",
      "pos": [
        4619,
        4645
      ]
    },
    {
      "content": "Attachment usage.",
      "pos": [
        4654,
        4671
      ]
    },
    {
      "content": "Screen shot of the Usage lens",
      "pos": [
        4679,
        4708
      ]
    },
    {
      "content": "Set up performance metric alerts for a DocumentDB account",
      "pos": [
        4765,
        4822
      ]
    },
    {
      "pos": [
        4827,
        5042
      ],
      "content": "In the <bpt id=\"p1\">[</bpt>Azure preview portal<ept id=\"p1\">](https://portal.azure.com/)</ept>, click <bpt id=\"p2\">**</bpt>Browse All<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>DocumentDB Accounts<ept id=\"p3\">**</ept>, and then click the name of the DocumentDB account for which you would like to setup performance metric alerts."
    },
    {
      "pos": [
        5047,
        5241
      ],
      "content": "Within the **Operations** lens, click the **Alert rules** part.  \n![Screen shot of the Operations lens, with the Alert rules part selected](./media/documentdb-monitor-accounts/madocdb10.png)",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Within the <bpt id=\"p1\">**</bpt>Operations<ept id=\"p1\">**</ept> lens, click the <bpt id=\"p2\">**</bpt>Alert rules<ept id=\"p2\">**</ept> part.",
          "pos": [
            0,
            63
          ]
        },
        {
          "content": "<ph id=\"ph1\">![</ph>Screen shot of the Operations lens, with the Alert rules part selected<ph id=\"ph2\">](./media/documentdb-monitor-accounts/madocdb10.png)</ph>",
          "pos": [
            66,
            190
          ]
        }
      ]
    },
    {
      "pos": [
        5247,
        5428
      ],
      "content": "In the Alert rules blade, click **Add alert**.  \n![Screenshot of the Alert Rules blade, with the Add Alert button highlighted](./media/documentdb-monitor-accounts/madocdb11.png)",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "In the Alert rules blade, click <bpt id=\"p1\">**</bpt>Add alert<ept id=\"p1\">**</ept>.",
          "pos": [
            0,
            46
          ]
        },
        {
          "content": "<ph id=\"ph1\">![</ph>Screenshot of the Alert Rules blade, with the Add Alert button highlighted<ph id=\"ph2\">](./media/documentdb-monitor-accounts/madocdb11.png)</ph>",
          "pos": [
            49,
            177
          ]
        }
      ]
    },
    {
      "pos": [
        5434,
        5478
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Add an alert rule<ept id=\"p1\">**</ept> blade, specify:"
    },
    {
      "content": "The name of the alert rule you are setting up.",
      "pos": [
        5487,
        5533
      ]
    },
    {
      "content": "A description of the new alert rule.",
      "pos": [
        5542,
        5578
      ]
    },
    {
      "content": "The metric for the alert rule.",
      "pos": [
        5587,
        5617
      ]
    },
    {
      "content": "The condition, threshold, and period that determine when the alert activates.",
      "pos": [
        5626,
        5703
      ]
    },
    {
      "content": "For example, a server error count greater than 5 over the last 15 minutes.",
      "pos": [
        5704,
        5778
      ]
    },
    {
      "content": "Whether the service administrator and coadministrators are emailed when the alert fires.",
      "pos": [
        5787,
        5875
      ]
    },
    {
      "pos": [
        5884,
        6038
      ],
      "content": "Additional email addresses for alert notifications.  \n![Screen shot of the Add an alert rule blade](./media/documentdb-monitor-accounts/madocdb12.png)",
      "leadings": [
        "",
        "    "
      ],
      "nodes": [
        {
          "content": "Additional email addresses for alert notifications.",
          "pos": [
            0,
            51
          ]
        },
        {
          "content": "Screen shot of the Add an alert rule blade",
          "pos": [
            56,
            98
          ]
        }
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        6043,
        6053
      ]
    },
    {
      "pos": [
        6054,
        6150
      ],
      "content": "To learn more about DocumentDB capacity, see <bpt id=\"p1\">[</bpt>Manage DocumentDB capacity<ept id=\"p1\">](documentdb-manage.md)</ept>."
    },
    {
      "content": "test",
      "pos": [
        6154,
        6158
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Monitor a DocumentDB account by using the Azure preview portal | Microsoft Azure\" \n    description=\"Learn how to monitor your DocumentDB account for performance metrics, such as requests and server errors, and usage metrics, such as storage consumption.\" \n    services=\"documentdb\" \n    documentationCenter=\"\" \n    authors=\"mimig1\" \n    manager=\"jhubbard\" \n    editor=\"cgronlun\"/>\n\n<tags \n    ms.service=\"documentdb\" \n    ms.workload=\"data-services\" \n    ms.tgt_pltfrm=\"na\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"07/29/2015\" \n    ms.author=\"mimig\"/>\n\n# Monitor a DocumentDB account by using the Azure preview portal \n\nYou can monitor your DocumentDB accounts in the [Microsoft Azure preview portal](https://portal.azure.com/). For each DocumentDB account, both performance metrics, such as requests and server errors, and usage metrics, such as storage consumption, are available.\n\n## How to: View performance metrics for a DocumentDB account\n1.  In the [Azure preview portal](https://portal.azure.com/), click **Browse All**, **DocumentDB Accounts**, and then click the name of the DocumentDB account for which you would like to view performance metrics.\n2.  Within the **Monitoring** lens you can, by default, see:\n    *   Total requests for the current day.\n    *   Average requests per second for the current day. \n    \n    ![Screen shot of the Monitoring lens](./media/documentdb-monitor-accounts/madocdb1.png)\n\n\n3.  Clicking on the **Total Requests** or **Average Requests per Second** part opens a detailed **Metric** blade.\n4.  The **Metric** blade shows you details about the metrics you have selected.  At the top of the blade is a graph and below that a table which shows aggregation values of the selected metrics such as average, minimum, and maximum.  The metric blade also shows the list of alerts which have been defined, filtered to the metrics that appear on the current metric blade (this way, if you have a number of alerts, you'll only see the relevant ones presented here).   \n\n    ![Screenshot of the Metric blade](./media/documentdb-monitor-accounts/madocdb2.png)\n\n\n## Customize performance metric views for a DocumentDB account\n\n1.  To customize the metrics that display in a particular part, right-click the metric chart, and then select **Edit Chart**.  \n    ![Screen shot of the Total Requests chart with the Edit Chart button highlighted](./media/documentdb-monitor-accounts/madocdb3.png)\n\n2.  On the **Edit Chart** blade, there are options to modify the metrics that display in the part, as well as their time range.  \n    ![Screen shot of the Edit Chart blade](./media/documentdb-monitor-accounts/madocdb4.png)\n\n3.  To change the metrics displayed in the part, simply select or clear the available performance metrics, and then click **Save** at the bottom of the blade.  \n4.  To change the time range, choose a different range (for example, **Custom**), and then click **Save** at the bottom of the blade.  \n\n    ![Screen shot of the Time Range part of the Edit Chart blade showing how to enter a custom time range](./media/documentdb-monitor-accounts/madocdb5.png) \n\n\n## Create side-by-side performance metric charts\nThe Azure preview portal allows you to create side-by-side metric charts.  \n\n1.  First, right-click on the chart you want to clone and modify and select **Customize**. \n\n    ![Screen shot of the Total Requests chart with the Customize option highlighted](./media/documentdb-monitor-accounts/madocdb6.png)\n\n2.  Click **Clone** on the menu to copy the part and then click **Done customizing**. \n\n    ![Screen shot of the Total Requests chart with the Clone and Done customizing options highlighted](./media/documentdb-monitor-accounts/madocdb7.png)  \n\n\nYou may now treat this part as any other metric part, customizing the metrics and time range displayed in the part.  By doing this, you can see two different metrics chart side-by-side at the same time.  \n    ![Screen shot of the Total Requests chart and the new Total Requests past hour chart](./media/documentdb-monitor-accounts/madocdb8.png)  \n\n## View usage metrics for a DocumentDB account\n1.  In the [Azure preview portal](https://portal.azure.com/), click **Browse**, **DocumentDB Accounts**, and then click the name of the DocumentDB account for which you would like to see usage metrics.\n2.  Within the **Usage** lens you can view the following by default:\n    *   Estimated cost to date of the DocumentDB account for the current billing period.\n    *   Storage consumed within the account.\n    *   Maximum available storage of the account (threshold).\n    *   User and permission usage.\n    *   Attachment usage.\n\n    ![Screen shot of the Usage lens](./media/documentdb-monitor-accounts/madocdb9.png)\n \n## Set up performance metric alerts for a DocumentDB account\n1.  In the [Azure preview portal](https://portal.azure.com/), click **Browse All**, **DocumentDB Accounts**, and then click the name of the DocumentDB account for which you would like to setup performance metric alerts.\n2.  Within the **Operations** lens, click the **Alert rules** part.  \n    ![Screen shot of the Operations lens, with the Alert rules part selected](./media/documentdb-monitor-accounts/madocdb10.png)\n\n3.  In the Alert rules blade, click **Add alert**.  \n    ![Screenshot of the Alert Rules blade, with the Add Alert button highlighted](./media/documentdb-monitor-accounts/madocdb11.png)\n\n4.  In the **Add an alert rule** blade, specify:\n    *   The name of the alert rule you are setting up.\n    *   A description of the new alert rule.\n    *   The metric for the alert rule.\n    *   The condition, threshold, and period that determine when the alert activates. For example, a server error count greater than 5 over the last 15 minutes.\n    *   Whether the service administrator and coadministrators are emailed when the alert fires.\n    *   Additional email addresses for alert notifications.  \n    ![Screen shot of the Add an alert rule blade](./media/documentdb-monitor-accounts/madocdb12.png)\n\n## Next steps\nTo learn more about DocumentDB capacity, see [Manage DocumentDB capacity](documentdb-manage.md). \n \ntest\n"
}