{
  "nodes": [
    {
      "content": "Create an ASP.NET 5 web app in Visual Studio Code",
      "pos": [
        26,
        75
      ]
    },
    {
      "content": "This tutorial illustrates how to create an ASP.NET 5 web app using Visual Studio Code.",
      "pos": [
        93,
        179
      ]
    },
    {
      "content": "Create an ASP.NET 5 web app in Visual Studio Code",
      "pos": [
        502,
        551
      ]
    },
    {
      "content": "Overview",
      "pos": [
        556,
        564
      ]
    },
    {
      "content": "This tutorial shows you how to create an ASP.NET 5 web app using <bpt id=\"p1\">[</bpt>Visual Studio Code (VS Code)<ept id=\"p1\">](http://code.visualstudio.com//Docs/whyvscode)</ept> and deploy it to <bpt id=\"p2\">[</bpt>Azure App Service<ept id=\"p2\">](../app-service/app-service-value-prop-what-is.md)</ept>.",
      "pos": [
        566,
        795
      ]
    },
    {
      "content": "ASP.NET 5 is a significant redesign of ASP.NET.",
      "pos": [
        796,
        843
      ]
    },
    {
      "content": "ASP.NET 5 is a new open-source and cross-platform framework for building modern cloud-based web apps using .NET.",
      "pos": [
        844,
        956
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Introduction to ASP.NET 5<ept id=\"p1\">](http://docs.asp.net/en/latest/conceptual-overview/aspnet.html)</ept>.",
      "pos": [
        957,
        1074
      ]
    },
    {
      "content": "For information about Azure App Service web apps, see <bpt id=\"p1\">[</bpt>Web Apps Overview<ept id=\"p1\">](app-service-web-overview.md)</ept>.",
      "pos": [
        1075,
        1178
      ]
    },
    {
      "content": "Prerequisites",
      "pos": [
        1288,
        1301
      ]
    },
    {
      "pos": [
        1307,
        1366
      ],
      "content": "Install <bpt id=\"p1\">[</bpt>VS Code<ept id=\"p1\">](http://code.visualstudio.com/Docs/setup)</ept>."
    },
    {
      "content": "Install <bpt id=\"p1\">[</bpt>Node.js<ept id=\"p1\">](http://nodejs.org/download/)</ept> - <bpt id=\"p2\">[</bpt>Node.js<ept id=\"p2\">](http://nodejs.org/)</ept> is a platform for building fast and scalable server applications using JavaScript.",
      "pos": [
        1369,
        1530
      ]
    },
    {
      "content": "Node is the runtime (Node), and <bpt id=\"p1\">[</bpt>npm<ept id=\"p1\">](http://www.npmjs.com/)</ept> is the Package Manager for Node modules.",
      "pos": [
        1531,
        1632
      ]
    },
    {
      "content": "You will use npm to scaffold an ASP.NET 5 web app in this tutorial.",
      "pos": [
        1633,
        1700
      ]
    },
    {
      "content": "Install Git - You can install it from either of these locations: <bpt id=\"p1\">[</bpt>Chocolatey<ept id=\"p1\">](https://chocolatey.org/packages/git)</ept> or <bpt id=\"p2\">[</bpt>git-scm.com<ept id=\"p2\">](http://git-scm.com/downloads)</ept>.",
      "pos": [
        1703,
        1865
      ]
    },
    {
      "content": "If you are new to Git, choose <bpt id=\"p1\">[</bpt>git-scm.com<ept id=\"p1\">](http://git-scm.com/downloads)</ept> and select the option to use Git with GitBash and from the Windows command prompt.",
      "pos": [
        1866,
        2022
      ]
    },
    {
      "content": "Once you install Git, you'll also need to set the Git user name and email as it's required later in the tutorial (when performing a commit from VS Code).",
      "pos": [
        2023,
        2176
      ]
    },
    {
      "content": "Install ASP.NET 5 and DNX",
      "pos": [
        2183,
        2208
      ]
    },
    {
      "content": "ASP.NET 5/DNX is a lean .NET stack for building modern cloud and web apps that run on OS X, Linux, and Windows.",
      "pos": [
        2209,
        2320
      ]
    },
    {
      "content": "It has been built from the ground up to provide an optimized development framework for apps that are either deployed to the cloud or run on-premises.",
      "pos": [
        2321,
        2470
      ]
    },
    {
      "content": "It consists of modular components with minimal overhead, so you retain flexibility while constructing your solutions.",
      "pos": [
        2471,
        2588
      ]
    },
    {
      "pos": [
        2592,
        2709
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> ASP.NET 5 and DNX (the .NET Execution Environment) on OS X and Linux are in an early Beta/Preview state."
    },
    {
      "content": "This tutorial is designed to get you started building applications with the latest development versions of ASP.NET 5 and DNX.",
      "pos": [
        2712,
        2837
      ]
    },
    {
      "content": "The following instructions are specific to Windows.",
      "pos": [
        2838,
        2889
      ]
    },
    {
      "content": "For more detailed installation instructions for OS X, Linux, and Windows, see <bpt id=\"p1\">[</bpt>Installing ASP.NET 5 and DNX<ept id=\"p1\">](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx)</ept>.",
      "pos": [
        2890,
        3072
      ]
    },
    {
      "content": "To install .NET Version Manager (DNVM) in Windows, open a command prompt, and run the following command.",
      "pos": [
        3078,
        3182
      ]
    },
    {
      "content": "This will download the DNVM script and put it in your user profile directory.",
      "pos": [
        3395,
        3472
      ]
    },
    {
      "content": "Restart Windows to complete the DNVM installation.",
      "pos": [
        3478,
        3528
      ]
    },
    {
      "content": "Open a command prompt and verify the location of DNVM by entering the following.",
      "pos": [
        3534,
        3614
      ]
    },
    {
      "content": "The command prompt will show a path similar to the following.",
      "pos": [
        3641,
        3702
      ]
    },
    {
      "content": "dnvm location",
      "pos": [
        3710,
        3723
      ]
    },
    {
      "content": "Now that you have DNVM, you need to use it to download DNX to run your applications.",
      "pos": [
        3794,
        3878
      ]
    },
    {
      "content": "Run the following at the command prompt.",
      "pos": [
        3879,
        3919
      ]
    },
    {
      "content": "Verify your DNVM, and view the active runtime by entering the following at the command prompt.",
      "pos": [
        3946,
        4040
      ]
    },
    {
      "content": "The command prompt will show the details of the active runtime.",
      "pos": [
        4065,
        4128
      ]
    },
    {
      "content": "DNVM location",
      "pos": [
        4136,
        4149
      ]
    },
    {
      "content": "If more than one DNX runtime is listed, enter the following at the command prompt to set the active DNX runtime to the same version as the one that is used by the ASP.NET 5 generator when you create your web app later in this tutorial.",
      "pos": [
        4220,
        4455
      ]
    },
    {
      "pos": [
        4493,
        4688
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> For more detailed installation instructions for OS X, Linux, and Windows, see <bpt id=\"p1\">[</bpt>Installing ASP.NET 5 and DNX<ept id=\"p1\">](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx)</ept>."
    },
    {
      "content": "Create the web app",
      "pos": [
        4694,
        4712
      ]
    },
    {
      "content": "This section shows you how to scaffold a new app ASP.NET web app.",
      "pos": [
        4715,
        4780
      ]
    },
    {
      "content": "You will use the node package manager (npm) to install <bpt id=\"p1\">[</bpt>Yeoman<ept id=\"p1\">](http://yeoman.io/)</ept> (application scaffolding tool - the VS Code equivalent of the Visual Studio <bpt id=\"p2\">**</bpt>File &gt; New Project<ept id=\"p2\">**</ept> operation), <bpt id=\"p3\">[</bpt>Grunt<ept id=\"p3\">](http://gruntjs.com/)</ept> (JavaScript task runner), and <bpt id=\"p4\">[</bpt>Bower<ept id=\"p4\">](http://bower.io/)</ept> (client side package manager).",
      "pos": [
        4781,
        5090
      ]
    },
    {
      "content": "Open a command prompt with Administrator rights and navigate to the location where you want to create your ASP.NET project.",
      "pos": [
        5096,
        5219
      ]
    },
    {
      "content": "Enter the following at the command prompt to install Yeoman and the supporting tools.",
      "pos": [
        5224,
        5309
      ]
    },
    {
      "content": "Enter the following at the command prompt to create the project folder and scaffold the app.",
      "pos": [
        5374,
        5466
      ]
    },
    {
      "pos": [
        5490,
        5604
      ],
      "content": "Use the arrow keys to select the <bpt id=\"p1\">**</bpt>Web Application<ept id=\"p1\">**</ept> type from the ASP.NET 5 generator menu, and press &amp;lt;Enter&gt;."
    },
    {
      "content": "Yeoman - ASP.NET 5 generator",
      "pos": [
        5612,
        5640
      ]
    },
    {
      "content": "Set the name of your new ASP.NET web app to <bpt id=\"p1\">**</bpt>SampleWebApp<ept id=\"p1\">**</ept>.",
      "pos": [
        5710,
        5771
      ]
    },
    {
      "content": "As this name is used throughout the tutorial, if you select a different name, you'll need to substitute it for each occurrence of <bpt id=\"p1\">**</bpt>SampleWebApp<ept id=\"p1\">**</ept>.",
      "pos": [
        5772,
        5919
      ]
    },
    {
      "content": "When you press &amp;lt;Enter&gt;, Yeoman will create a new folder named <bpt id=\"p1\">**</bpt>SampleWebApp<ept id=\"p1\">**</ept> and the necessary files for your new app.",
      "pos": [
        5920,
        6043
      ]
    },
    {
      "content": "Open VS Code by entering the following at the command prompt.",
      "pos": [
        6048,
        6109
      ]
    },
    {
      "pos": [
        6130,
        6227
      ],
      "content": "In VS Code, select <bpt id=\"p1\">**</bpt>File &gt; Open Folder<ept id=\"p1\">**</ept>, and select the folder containing your ASP.NET web app."
    },
    {
      "content": "Select Folder dialog box",
      "pos": [
        6235,
        6259
      ]
    },
    {
      "pos": [
        6332,
        6413
      ],
      "content": "VS Code will load your project, and display its files in the <bpt id=\"p1\">**</bpt>Explore<ept id=\"p1\">**</ept> windows."
    },
    {
      "content": "VSCode displaying SampleWebApp project",
      "pos": [
        6421,
        6459
      ]
    },
    {
      "pos": [
        6534,
        6568
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>View &gt; Command Palette<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        6573,
        6630
      ],
      "content": "In the <bpt id=\"p1\">**</bpt>Command Palette<ept id=\"p1\">**</ept>, enter the following commands."
    },
    {
      "content": "As you start typing, you will see the full command line from the list.",
      "pos": [
        6678,
        6748
      ]
    },
    {
      "content": "Restore command",
      "pos": [
        6757,
        6772
      ]
    },
    {
      "content": "The Restore command installs the necessary NuGet packages to run the application.",
      "pos": [
        6845,
        6926
      ]
    },
    {
      "content": "A command prompt will display <bpt id=\"p1\">**</bpt>Restore complete<ept id=\"p1\">**</ept> when ready.",
      "pos": [
        6927,
        6989
      ]
    },
    {
      "content": "Run the web app locally",
      "pos": [
        6994,
        7017
      ]
    },
    {
      "content": "Now that you have created the web app and retrieved all the NuGet packages for the app, you can run the web app locally.",
      "pos": [
        7019,
        7139
      ]
    },
    {
      "pos": [
        7144,
        7228
      ],
      "content": "From the <bpt id=\"p1\">**</bpt>Command Palette<ept id=\"p1\">**</ept> in VS Code, enter the following to run the app locally."
    },
    {
      "content": "The command window will display <bpt id=\"p1\">*</bpt>Started<ept id=\"p1\">*</ept> in it.",
      "pos": [
        7351,
        7399
      ]
    },
    {
      "content": "If the command window doesn't display <bpt id=\"p1\">*</bpt>Started<ept id=\"p1\">*</ept>, check the lower left corning of VS Code for errors in your project.",
      "pos": [
        7400,
        7516
      ]
    },
    {
      "content": "Open a browser and navigate to the following URL.",
      "pos": [
        7521,
        7570
      ]
    },
    {
      "content": "http://localhost:5001",
      "pos": [
        7578,
        7599
      ]
    },
    {
      "content": "The default page of the web app will appear as follows.",
      "pos": [
        7607,
        7662
      ]
    },
    {
      "content": "Local web app in a browser",
      "pos": [
        7670,
        7696
      ]
    },
    {
      "content": "Create a web app in the Azure preview portal",
      "pos": [
        7764,
        7808
      ]
    },
    {
      "content": "The following steps will guide you through creating a web app in the Azure preview portal.",
      "pos": [
        7810,
        7900
      ]
    },
    {
      "pos": [
        7905,
        7968
      ],
      "content": "Log in to the <bpt id=\"p1\">[</bpt>Azure preview portal<ept id=\"p1\">](https://portal.azure.com)</ept>."
    },
    {
      "pos": [
        7973,
        8017
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>NEW<ept id=\"p1\">**</ept> at the top left of the portal."
    },
    {
      "pos": [
        8022,
        8051
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Web Apps &gt; Web App<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure new web app",
      "pos": [
        8059,
        8076
      ]
    },
    {
      "content": "Enter a value for <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept>, such as <bpt id=\"p2\">**</bpt>SampleWebAppDemo<ept id=\"p2\">**</ept>.",
      "pos": [
        8152,
        8209
      ]
    },
    {
      "content": "Note that this name needs to be unique, and the portal will enforce that when you attempt to enter the name.",
      "pos": [
        8210,
        8318
      ]
    },
    {
      "content": "Therefore, if you select a enter a different value, you'll need to substitute that value for each occurrence of <bpt id=\"p1\">**</bpt>SampleWebAppDemo<ept id=\"p1\">**</ept> that you see in this tutorial.",
      "pos": [
        8319,
        8482
      ]
    },
    {
      "content": "Select an existing <bpt id=\"p1\">**</bpt>App Service Plan<ept id=\"p1\">**</ept> or create a new one.",
      "pos": [
        8488,
        8548
      ]
    },
    {
      "content": "If you create a new plan, select the pricing tier, location, and other options.",
      "pos": [
        8549,
        8628
      ]
    },
    {
      "content": "For more information on App Service plans, see the article, <bpt id=\"p1\">[</bpt>Azure App Service plans in-depth overview<ept id=\"p1\">](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md)</ept>.",
      "pos": [
        8629,
        8804
      ]
    },
    {
      "content": "Azure new web app blade",
      "pos": [
        8812,
        8835
      ]
    },
    {
      "pos": [
        8913,
        8930
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept>."
    },
    {
      "content": "web app blade",
      "pos": [
        8938,
        8951
      ]
    },
    {
      "content": "Enable Git publishing for the new web app",
      "pos": [
        9029,
        9070
      ]
    },
    {
      "content": "Git is a distributed version control system that you can use to deploy your Azure App Service web app.",
      "pos": [
        9072,
        9174
      ]
    },
    {
      "content": "You'll store the code you write for your web app in a local Git repository, and you'll deploy your code to Azure by pushing to a remote repository.",
      "pos": [
        9175,
        9322
      ]
    },
    {
      "pos": [
        9330,
        9392
      ],
      "content": "Log into the <bpt id=\"p1\">[</bpt>Azure preview portal<ept id=\"p1\">](https://portal.azure.com)</ept>."
    },
    {
      "pos": [
        9397,
        9418
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Browse All<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        9423,
        9513
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Web Apps<ept id=\"p1\">**</ept> to view a list of the web apps associated with your Azure subscription."
    },
    {
      "content": "Select the web app you created in this tutorial.",
      "pos": [
        9518,
        9566
      ]
    },
    {
      "pos": [
        9571,
        9686
      ],
      "content": "In the web app blade, scroll down to locate the <bpt id=\"p1\">**</bpt>Deployment<ept id=\"p1\">**</ept> section, and click <bpt id=\"p2\">**</bpt>Set up continuous deployment<ept id=\"p2\">**</ept>."
    },
    {
      "content": "Azure web app host",
      "pos": [
        9695,
        9713
      ]
    },
    {
      "pos": [
        9790,
        9837
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Choose Source &gt; Local Git Repository<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        9842,
        9855
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure Local Git Respository",
      "pos": [
        9863,
        9890
      ]
    },
    {
      "content": "If you have not previously set up deployment credentials for publishing a web app or other App Service app, set them up now:",
      "pos": [
        9972,
        10096
      ]
    },
    {
      "pos": [
        10104,
        10148
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>FTP<ept id=\"p1\">**</ept> to set deployment credentials."
    },
    {
      "content": "Create a user name and password.",
      "pos": [
        10156,
        10188
      ]
    },
    {
      "content": "You'll need this password later when setting up Git.",
      "pos": [
        10190,
        10242
      ]
    },
    {
      "pos": [
        10250,
        10265
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Azure Deployment Credentials",
      "pos": [
        10273,
        10301
      ]
    },
    {
      "content": "In your web app's blade, click <bpt id=\"p1\">**</bpt>Settings &gt; Properties<ept id=\"p1\">**</ept>.",
      "pos": [
        10379,
        10436
      ]
    },
    {
      "content": "The URL of the remote Git repository that you'll deploy to is shown under **",
      "pos": [
        10437,
        10513
      ]
    },
    {
      "content": "URL**.",
      "pos": [
        10519,
        10525
      ]
    },
    {
      "pos": [
        10531,
        10588
      ],
      "content": "Copy the <bpt id=\"p1\">**</bpt>GIT URL<ept id=\"p1\">**</ept> value for later use in the tutorial."
    },
    {
      "content": "Azure Git URL",
      "pos": [
        10596,
        10609
      ]
    },
    {
      "content": "Publish your web app to Azure App Service",
      "pos": [
        10682,
        10723
      ]
    },
    {
      "content": "In this section, you will create a local Git repository and push from that repository to Azure to deploy your web app to Azure.",
      "pos": [
        10725,
        10852
      ]
    },
    {
      "pos": [
        10857,
        10922
      ],
      "content": "In VS Code, select the <bpt id=\"p1\">**</bpt>Git<ept id=\"p1\">**</ept> option in the left navigation bar."
    },
    {
      "content": "Git icon in VS Code",
      "pos": [
        10930,
        10949
      ]
    },
    {
      "pos": [
        11015,
        11108
      ],
      "content": "Select <bpt id=\"p1\">**</bpt>Initialize git repository<ept id=\"p1\">**</ept> to make sure your workspace is under git source control."
    },
    {
      "content": "Initialize Git",
      "pos": [
        11117,
        11131
      ]
    },
    {
      "pos": [
        11199,
        11260
      ],
      "content": "Add a commit message and click the <bpt id=\"p1\">**</bpt>Commit All<ept id=\"p1\">**</ept> check icon."
    },
    {
      "content": "Git Commit All",
      "pos": [
        11268,
        11282
      ]
    },
    {
      "pos": [
        11353,
        11467
      ],
      "content": "After Git has completed processing, you'll see that there are no files listed in the Git window under <bpt id=\"p1\">**</bpt>Changes<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Git no changes",
      "pos": [
        11476,
        11490
      ]
    },
    {
      "content": "Open a command prompt, and change directories to the directory housing your web app.",
      "pos": [
        11558,
        11642
      ]
    },
    {
      "content": "Create a remote reference for pushing updates to your web app by using the Git URL (ending in \".git\") that you copied earlier.",
      "pos": [
        11647,
        11773
      ]
    },
    {
      "content": "Configure Git to save your credentials locally so that they will be automatically appended to your push commands generated from VS Code.",
      "pos": [
        11836,
        11972
      ]
    },
    {
      "content": "Push your changes to Azure by entering the following command.",
      "pos": [
        12021,
        12082
      ]
    },
    {
      "content": "After this initial push to Azure, you will be able to do all the push commands from VS Code.",
      "pos": [
        12083,
        12175
      ]
    },
    {
      "content": "You are prompted for the password you created earlier.",
      "pos": [
        12216,
        12270
      ]
    },
    {
      "content": "Note: Your password will not be visible.",
      "pos": [
        12273,
        12313
      ]
    },
    {
      "content": "**",
      "pos": [
        12313,
        12315
      ]
    },
    {
      "content": "The output from the above command ends with a message that deployment is successful.",
      "pos": [
        12321,
        12405
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> If you make changes to your app, you can republish directly in VS Code using the built-in Git functionality by selecting the <bpt id=\"p1\">**</bpt>Commit All<ept id=\"p1\">**</ept> option followed by the <bpt id=\"p2\">**</bpt>Push<ept id=\"p2\">**</ept> option.",
      "pos": [
        12560,
        12752
      ]
    },
    {
      "content": "You will find the <bpt id=\"p1\">**</bpt>Push<ept id=\"p1\">**</ept> option available in the drop-down menu next to the <bpt id=\"p2\">**</bpt>Commit All<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>Refresh<ept id=\"p3\">**</ept> buttons.",
      "pos": [
        12753,
        12870
      ]
    },
    {
      "content": "If you need to collaborate on a project, you should consider pushing to GitHub in between pushing to Azure.",
      "pos": [
        12872,
        12979
      ]
    },
    {
      "content": "Run the app in Azure",
      "pos": [
        12984,
        13004
      ]
    },
    {
      "content": "Now that you have deployed your web app, let's run the app while hosted in Azure.",
      "pos": [
        13005,
        13086
      ]
    },
    {
      "content": "This can be done in two ways:",
      "pos": [
        13089,
        13118
      ]
    },
    {
      "content": "Open a browser and enter the name of your web app as follows.",
      "pos": [
        13122,
        13183
      ]
    },
    {
      "pos": [
        13242,
        13376
      ],
      "content": "In the Azure preview portal, locate the web app blade for your web app, and click <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept> to view your app in your default browser."
    },
    {
      "content": "Azure web app",
      "pos": [
        13380,
        13393
      ]
    },
    {
      "content": "Summary",
      "pos": [
        13465,
        13472
      ]
    },
    {
      "content": "In this tutorial, you learned how to create a web app in VS Code and deploy it to Azure.",
      "pos": [
        13473,
        13561
      ]
    },
    {
      "content": "For more information about VS Code, see the article, <bpt id=\"p1\">[</bpt>Why Visual Studio Code?<ept id=\"p1\">](https://code.visualstudio.com/Docs/)</ept>.",
      "pos": [
        13562,
        13678
      ]
    },
    {
      "content": "For information about App Service web apps, see <bpt id=\"p1\">[</bpt>Web Apps Overview<ept id=\"p1\">](app-service-web-overview.md)</ept>.",
      "pos": [
        13679,
        13776
      ]
    },
    {
      "content": "test",
      "pos": [
        13778,
        13782
      ]
    }
  ],
  "content": "<properties\n   pageTitle=\"Create an ASP.NET 5 web app in Visual Studio Code\"\n   description=\"This tutorial illustrates how to create an ASP.NET 5 web app using Visual Studio Code.\"\n   services=\"app-service\\web\"\n   documentationCenter=\".net\"\n   authors=\"erikre\"\n   manager=\"wpickett\"\n   editor=\"jimbe\"/>\n\n<tags\n    ms.service=\"app-service-web\" \n    ms.workload=\"web\" \n    ms.tgt_pltfrm=\"dotnet\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"06/14/2015\" \n    ms.author=\"erikre;tarcher\"/>\n\n# Create an ASP.NET 5 web app in Visual Studio Code\n\n## Overview\n\nThis tutorial shows you how to create an ASP.NET 5 web app using [Visual Studio Code (VS Code)](http://code.visualstudio.com//Docs/whyvscode) and deploy it to [Azure App Service](../app-service/app-service-value-prop-what-is.md). ASP.NET 5 is a significant redesign of ASP.NET. ASP.NET 5 is a new open-source and cross-platform framework for building modern cloud-based web apps using .NET. For more information, see [Introduction to ASP.NET 5](http://docs.asp.net/en/latest/conceptual-overview/aspnet.html). For information about Azure App Service web apps, see [Web Apps Overview](app-service-web-overview.md).\n\n[AZURE.INCLUDE [app-service-web-try-app-service.md](../../includes/app-service-web-try-app-service.md)]\n\n## Prerequisites  \n\n* Install [VS Code](http://code.visualstudio.com/Docs/setup).\n* Install [Node.js](http://nodejs.org/download/) - [Node.js](http://nodejs.org/) is a platform for building fast and scalable server applications using JavaScript. Node is the runtime (Node), and [npm](http://www.npmjs.com/) is the Package Manager for Node modules. You will use npm to scaffold an ASP.NET 5 web app in this tutorial.\n* Install Git - You can install it from either of these locations: [Chocolatey](https://chocolatey.org/packages/git) or [git-scm.com](http://git-scm.com/downloads). If you are new to Git, choose [git-scm.com](http://git-scm.com/downloads) and select the option to use Git with GitBash and from the Windows command prompt. Once you install Git, you'll also need to set the Git user name and email as it's required later in the tutorial (when performing a commit from VS Code).  \n\n## Install ASP.NET 5 and DNX\nASP.NET 5/DNX is a lean .NET stack for building modern cloud and web apps that run on OS X, Linux, and Windows. It has been built from the ground up to provide an optimized development framework for apps that are either deployed to the cloud or run on-premises. It consists of modular components with minimal overhead, so you retain flexibility while constructing your solutions.\n\n> [AZURE.NOTE] ASP.NET 5 and DNX (the .NET Execution Environment) on OS X and Linux are in an early Beta/Preview state. \n\nThis tutorial is designed to get you started building applications with the latest development versions of ASP.NET 5 and DNX. The following instructions are specific to Windows. For more detailed installation instructions for OS X, Linux, and Windows, see [Installing ASP.NET 5 and DNX](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx). \n\n1. To install .NET Version Manager (DNVM) in Windows, open a command prompt, and run the following command.\n\n        @powershell -NoProfile -ExecutionPolicy unrestricted -Command \"&{$Branch='dev';iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/aspnet/Home/dev/dnvminstall.ps1'))}\"\n\n    This will download the DNVM script and put it in your user profile directory. \n\n2. Restart Windows to complete the DNVM installation. \n\n3. Open a command prompt and verify the location of DNVM by entering the following. \n\n        where dnvm\n\n    The command prompt will show a path similar to the following.\n\n    ![dnvm location](./media/web-sites-create-web-app-using-vscode/00-where-dnvm.png)\n\n4. Now that you have DNVM, you need to use it to download DNX to run your applications. Run the following at the command prompt.\n\n        dnvm upgrade\n\n5. Verify your DNVM, and view the active runtime by entering the following at the command prompt.\n\n        dnvm list\n\n    The command prompt will show the details of the active runtime.\n\n    ![DNVM location](./media/web-sites-create-web-app-using-vscode/00b-dnvm-list.png)\n\n6. If more than one DNX runtime is listed, enter the following at the command prompt to set the active DNX runtime to the same version as the one that is used by the ASP.NET 5 generator when you create your web app later in this tutorial. \n\n        dnvm use 1.0.0-beta4 –p\n\n> [AZURE.NOTE] For more detailed installation instructions for OS X, Linux, and Windows, see [Installing ASP.NET 5 and DNX](https://code.visualstudio.com/Docs/ASPnet5#_installing-aspnet-5-and-dnx). \n\n## Create the web app \n\nThis section shows you how to scaffold a new app ASP.NET web app. You will use the node package manager (npm) to install [Yeoman](http://yeoman.io/) (application scaffolding tool - the VS Code equivalent of the Visual Studio **File > New Project** operation), [Grunt](http://gruntjs.com/) (JavaScript task runner), and [Bower](http://bower.io/) (client side package manager). \n\n1. Open a command prompt with Administrator rights and navigate to the location where you want to create your ASP.NET project.\n\n2. Enter the following at the command prompt to install Yeoman and the supporting tools.\n\n        npm install -g yo grunt-cli generator-aspnet bower\n\n3. Enter the following at the command prompt to create the project folder and scaffold the app.\n\n        yo aspnet\n\n4. Use the arrow keys to select the **Web Application** type from the ASP.NET 5 generator menu, and press &lt;Enter>.\n\n    ![Yeoman - ASP.NET 5 generator](./media/web-sites-create-web-app-using-vscode/01-yo-aspnet.png)\n\n5. Set the name of your new ASP.NET web app to **SampleWebApp**. As this name is used throughout the tutorial, if you select a different name, you'll need to substitute it for each occurrence of **SampleWebApp**. When you press &lt;Enter>, Yeoman will create a new folder named **SampleWebApp** and the necessary files for your new app.\n\n6. Open VS Code by entering the following at the command prompt.\n\n        code .\n\n7. In VS Code, select **File > Open Folder**, and select the folder containing your ASP.NET web app.\n\n    ![Select Folder dialog box](./media/web-sites-create-web-app-using-vscode/02-open-folder.png)\n\n    VS Code will load your project, and display its files in the **Explore** windows.\n\n    ![VSCode displaying SampleWebApp project](./media/web-sites-create-web-app-using-vscode/03-vscode-project.png)\n\n8. Select **View > Command Palette**.\n\n9. In the **Command Palette**, enter the following commands.\n\n        dnx:dnu restore - (SampleWebApp)\n\n    As you start typing, you will see the full command line from the list. \n\n    ![Restore command](./media/web-sites-create-web-app-using-vscode/04-dnu-restore.png)\n\n    The Restore command installs the necessary NuGet packages to run the application. A command prompt will display **Restore complete** when ready.\n\n## Run the web app locally\n\nNow that you have created the web app and retrieved all the NuGet packages for the app, you can run the web app locally.\n\n1. From the **Command Palette** in VS Code, enter the following to run the app locally.\n\n        dnx: kestrel - (SampleWebApp, Microsoft.AspNet.Hosting --server Kestrel --server.urls http://localhost:5001\n\n    The command window will display *Started* in it. If the command window doesn't display *Started*, check the lower left corning of VS Code for errors in your project.\n\n5. Open a browser and navigate to the following URL.\n\n    **http://localhost:5001**\n\n    The default page of the web app will appear as follows.\n\n    ![Local web app in a browser](./media/web-sites-create-web-app-using-vscode/08-web-app.png)\n\n## Create a web app in the Azure preview portal\n\nThe following steps will guide you through creating a web app in the Azure preview portal.\n\n1. Log in to the [Azure preview portal](https://portal.azure.com).\n\n2. Click **NEW** at the top left of the portal.\n\n3. Click **Web Apps > Web App**.\n\n    ![Azure new web app](./media/web-sites-create-web-app-using-vscode/09-azure-newwebapp.png)\n\n4. Enter a value for **Name**, such as **SampleWebAppDemo**. Note that this name needs to be unique, and the portal will enforce that when you attempt to enter the name. Therefore, if you select a enter a different value, you'll need to substitute that value for each occurrence of **SampleWebAppDemo** that you see in this tutorial. \n\n5. Select an existing **App Service Plan** or create a new one. If you create a new plan, select the pricing tier, location, and other options. For more information on App Service plans, see the article, [Azure App Service plans in-depth overview](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md).\n\n    ![Azure new web app blade](./media/web-sites-create-web-app-using-vscode/10-azure-newappblade.png)\n\n6. Click **Create**.\n\n    ![web app blade](./media/web-sites-create-web-app-using-vscode/11-azure-webappblade.png)\n\n## Enable Git publishing for the new web app\n\nGit is a distributed version control system that you can use to deploy your Azure App Service web app. You'll store the code you write for your web app in a local Git repository, and you'll deploy your code to Azure by pushing to a remote repository.   \n\n1. Log into the [Azure preview portal](https://portal.azure.com).\n\n2. Click **Browse All**.\n\n3. Click **Web Apps** to view a list of the web apps associated with your Azure subscription.\n\n4. Select the web app you created in this tutorial.\n\n5. In the web app blade, scroll down to locate the **Deployment** section, and click **Set up continuous deployment**. \n\n    ![Azure web app host](./media/web-sites-create-web-app-using-vscode/14-azure-deployment.png)\n\n6. Click **Choose Source > Local Git Repository**.\n\n7. Click **OK**.\n\n    ![Azure Local Git Respository](./media/web-sites-create-web-app-using-vscode/15-azure-localrepository.png)\n\n8. If you have not previously set up deployment credentials for publishing a web app or other App Service app, set them up now:\n\n    * Click **FTP** to set deployment credentials.\n\n    * Create a user name and password.  You'll need this password later when setting up Git.\n\n    * Click **Save**.\n\n    ![Azure Deployment Credentials](./media/web-sites-create-web-app-using-vscode/16-azure-credentials.png)\n\n9. In your web app's blade, click **Settings > Properties**. The URL of the remote Git repository that you'll deploy to is shown under **\n10.  URL**.\n\n10. Copy the **GIT URL** value for later use in the tutorial.\n\n    ![Azure Git URL](./media/web-sites-create-web-app-using-vscode/17-azure-giturl.png)\n\n## Publish your web app to Azure App Service\n\nIn this section, you will create a local Git repository and push from that repository to Azure to deploy your web app to Azure.\n\n1. In VS Code, select the **Git** option in the left navigation bar.\n\n    ![Git icon in VS Code](./media/web-sites-create-web-app-using-vscode/git-icon.png)\n\n2. Select **Initialize git repository** to make sure your workspace is under git source control. \n\n    ![Initialize Git](./media/web-sites-create-web-app-using-vscode/19-initgit.png)\n\n3. Add a commit message and click the **Commit All** check icon.\n\n    ![Git Commit All](./media/web-sites-create-web-app-using-vscode/20-git-commit.png)\n\n4. After Git has completed processing, you'll see that there are no files listed in the Git window under **Changes**. \n\n    ![Git no changes](./media/web-sites-create-web-app-using-vscode/no-changes.png)\n\n5. Open a command prompt, and change directories to the directory housing your web app.\n\n6. Create a remote reference for pushing updates to your web app by using the Git URL (ending in \".git\") that you copied earlier.\n\n        git remote add azure [URL for remote repository]\n\n7. Configure Git to save your credentials locally so that they will be automatically appended to your push commands generated from VS Code.\n\n        git config credential.helper store\n\n8. Push your changes to Azure by entering the following command. After this initial push to Azure, you will be able to do all the push commands from VS Code. \n\n        git push -u azure master\n\n    You are prompted for the password you created earlier. **Note: Your password will not be visible.**\n\n    The output from the above command ends with a message that deployment is successful.\n\n        remote: Deployment successful.\n        To https://user@testsite.scm.azurewebsites.net/testsite.git\n        [new branch]      master -> master\n\n> [AZURE.NOTE] If you make changes to your app, you can republish directly in VS Code using the built-in Git functionality by selecting the **Commit All** option followed by the **Push** option. You will find the **Push** option available in the drop-down menu next to the **Commit All** and **Refresh** buttons.\n\nIf you need to collaborate on a project, you should consider pushing to GitHub in between pushing to Azure.\n\n## Run the app in Azure\nNow that you have deployed your web app, let's run the app while hosted in Azure. \n\nThis can be done in two ways:\n\n* Open a browser and enter the name of your web app as follows.   \n\n        http://SampleWebAppDemo.azurewebsites.net\n \n* In the Azure preview portal, locate the web app blade for your web app, and click **Browse** to view your app in your default browser.\n\n![Azure web app](./media/web-sites-create-web-app-using-vscode/21-azurewebapp.png)\n\n## Summary\nIn this tutorial, you learned how to create a web app in VS Code and deploy it to Azure. For more information about VS Code, see the article, [Why Visual Studio Code?](https://code.visualstudio.com/Docs/). For information about App Service web apps, see [Web Apps Overview](app-service-web-overview.md). \ntest\n"
}