{
  "nodes": [
    {
      "content": "Application Insights for ASP.NET",
      "pos": [
        28,
        60
      ]
    },
    {
      "content": "Analyze usage, availability and performance of your on-premises or Microsoft Azure web application with Application Insights.",
      "pos": [
        80,
        205
      ]
    },
    {
      "content": "Application Insights for ASP.NET",
      "pos": [
        527,
        559
      ]
    },
    {
      "content": "Application Insights is in preview.",
      "pos": [
        562,
        597
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>Visual Studio Application Insights<ept id=\"p1\">](http://azure.microsoft.com/services/application-insights)</ept> monitors your live application to help you [detect and diagnose performance issues and exceptions][detect], and [discover how your app is used][knowUsers].",
      "pos": [
        707,
        957
      ]
    },
    {
      "content": "It can be used with a wide variety of application types.",
      "pos": [
        958,
        1014
      ]
    },
    {
      "content": "It works for apps that are hosted on your own on-premises IIS servers or on Azure VMs, as well as Azure web apps.",
      "pos": [
        1015,
        1128
      ]
    },
    {
      "content": "([Device apps and Java servers are also covered][start].)",
      "pos": [
        1129,
        1186
      ]
    },
    {
      "content": "Example performance monitoring charts",
      "pos": [
        1190,
        1227
      ]
    },
    {
      "content": "Before you start",
      "pos": [
        1278,
        1294
      ]
    },
    {
      "content": "You need:",
      "pos": [
        1296,
        1305
      ]
    },
    {
      "content": "A subscription to <bpt id=\"p1\">[</bpt>Microsoft Azure<ept id=\"p1\">](http://azure.com)</ept>.",
      "pos": [
        1309,
        1363
      ]
    },
    {
      "content": "If your team or organization has an Azure subscription, the owner can add you to it, using your <bpt id=\"p1\">[</bpt>Microsoft account<ept id=\"p1\">](http://live.com)</ept>.",
      "pos": [
        1364,
        1497
      ]
    },
    {
      "content": "Visual Studio 2013 update 3 or later.",
      "pos": [
        1500,
        1537
      ]
    },
    {
      "pos": [
        1542,
        1618
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"ide\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Add Application Insights to your project in Visual Studio"
    },
    {
      "content": "If it's a new project...",
      "pos": [
        1625,
        1649
      ]
    },
    {
      "content": "When you create a new project in Visual Studio, make sure Application Insights is selected.",
      "pos": [
        1651,
        1742
      ]
    },
    {
      "content": "Create an ASP.NET project",
      "pos": [
        1748,
        1773
      ]
    },
    {
      "content": "... or if it's an existing project",
      "pos": [
        1839,
        1873
      ]
    },
    {
      "content": "Right click the project in Solution Explorer, and choose Add Application Insights.",
      "pos": [
        1875,
        1957
      ]
    },
    {
      "content": "Choose Add Application Insights",
      "pos": [
        1961,
        1992
      ]
    },
    {
      "content": "Setup options",
      "pos": [
        2065,
        2078
      ]
    },
    {
      "content": "If this is your first time, you'll be asked login or sign up to Microsoft Azure Preview.",
      "pos": [
        2080,
        2168
      ]
    },
    {
      "content": "(It's separate from your Visual Studio Online account.)",
      "pos": [
        2169,
        2224
      ]
    },
    {
      "pos": [
        2226,
        2377
      ],
      "content": "If this app is part of a bigger application, you might want to use <bpt id=\"p1\">**</bpt>Configure settings<ept id=\"p1\">**</ept> to put it in the same resource group as the other components."
    },
    {
      "pos": [
        2385,
        2444
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"land\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> What did 'Add Application Insights' do?"
    },
    {
      "content": "The command did these steps (which you could instead do manually if you prefer):",
      "pos": [
        2446,
        2526
      ]
    },
    {
      "content": "Creates an Application Insights resource in [the Azure portal][portal].",
      "pos": [
        2530,
        2601
      ]
    },
    {
      "content": "This is where you'll see your data.",
      "pos": [
        2602,
        2637
      ]
    },
    {
      "content": "It retrieves the <bpt id=\"p1\">*</bpt>instrumentation key,<ept id=\"p1\">*</ept> which identifies the resource.",
      "pos": [
        2638,
        2708
      ]
    },
    {
      "content": "Adds the Application Insights Web SDK NuGet package to your project.",
      "pos": [
        2711,
        2779
      ]
    },
    {
      "content": "To see it in Visual Studio, right-click your project and choose Manage NuGet Packages.",
      "pos": [
        2780,
        2866
      ]
    },
    {
      "pos": [
        2869,
        2932
      ],
      "content": "Places the instrumentation key in <ph id=\"ph1\">`ApplicationInsights.config`</ph>."
    },
    {
      "pos": [
        2938,
        2973
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"run\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Run your project"
    },
    {
      "content": "Run your application with F5 and try it out: open different pages to generate some telemetry.",
      "pos": [
        2975,
        3068
      ]
    },
    {
      "content": "In Visual Studio, you'll see a count of the events that have been sent.",
      "pos": [
        3070,
        3141
      ]
    },
    {
      "pos": [
        3210,
        3258
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"monitor\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> Open Application Insights"
    },
    {
      "content": "Open your Application Insights resource in the [Azure portal][portal].",
      "pos": [
        3260,
        3330
      ]
    },
    {
      "content": "Right-click your project and open the Azure portal",
      "pos": [
        3334,
        3384
      ]
    },
    {
      "content": "Look for data in the Overview charts.",
      "pos": [
        3448,
        3485
      ]
    },
    {
      "content": "At first, you'll just see one or two points.",
      "pos": [
        3486,
        3530
      ]
    },
    {
      "content": "For example:",
      "pos": [
        3531,
        3543
      ]
    },
    {
      "content": "Click through to more data",
      "pos": [
        3547,
        3573
      ]
    },
    {
      "content": "Click through any chart to see more detailed metrics.",
      "pos": [
        3624,
        3677
      ]
    },
    {
      "content": "[Learn more about metrics.][perf]",
      "pos": [
        3678,
        3711
      ]
    },
    {
      "content": "Now deploy your application and watch the data accumulate.",
      "pos": [
        3713,
        3771
      ]
    },
    {
      "content": "When you run in debug mode, telemetry is expedited through the pipeline, so that you should see data appearing within seconds.",
      "pos": [
        3774,
        3900
      ]
    },
    {
      "content": "When you deploy your app, data accumulates more slowly.",
      "pos": [
        3901,
        3956
      ]
    },
    {
      "content": "No data?",
      "pos": [
        3963,
        3971
      ]
    },
    {
      "content": "Open the [Search][diagnostic] tile, to see individual events.",
      "pos": [
        3975,
        4036
      ]
    },
    {
      "content": "Use the application, opening different pages so that it generates some telemetry.",
      "pos": [
        4039,
        4120
      ]
    },
    {
      "content": "Wait a few seconds and click Refresh.",
      "pos": [
        4123,
        4160
      ]
    },
    {
      "content": "See [Troubleshooting][qna].",
      "pos": [
        4163,
        4190
      ]
    },
    {
      "content": "Trouble on your build server?",
      "pos": [
        4197,
        4226
      ]
    },
    {
      "pos": [
        4228,
        4312
      ],
      "content": "Please see <bpt id=\"p1\">[</bpt>this Troubleshooting item<ept id=\"p1\">](app-insights-troubleshoot-faq.md#NuGetBuild)</ept>."
    },
    {
      "content": "Add browser monitoring",
      "pos": [
        4318,
        4340
      ]
    },
    {
      "content": "Browser or client-side monitoring gives you data on users, sessions, page views, and any exceptions or crashes that occur in the browser.",
      "pos": [
        4342,
        4479
      ]
    },
    {
      "content": "Choose New, Developer Services, Application Insights.",
      "pos": [
        4484,
        4537
      ]
    },
    {
      "content": "You'll also be able to write your own code to track how your users work with your app, right down to the detailed level of clicks and keystrokes.",
      "pos": [
        4591,
        4736
      ]
    },
    {
      "content": "If your clients are web browsers",
      "pos": [
        4743,
        4775
      ]
    },
    {
      "content": "If your app displays web pages, add a JavaScript snippet to every page.",
      "pos": [
        4777,
        4848
      ]
    },
    {
      "content": "Get the code from your Application Insights resource:",
      "pos": [
        4849,
        4902
      ]
    },
    {
      "content": "In your web app, open Quick Start and click 'Get code to monitor my web pages'",
      "pos": [
        4906,
        4984
      ]
    },
    {
      "content": "Notice that the code contains the instrumentation key that identifies your application resource.",
      "pos": [
        5041,
        5137
      ]
    },
    {
      "content": "Learn more about web page tracking.",
      "pos": [
        5140,
        5175
      ]
    },
    {
      "content": "If your clients are device apps",
      "pos": [
        5216,
        5247
      ]
    },
    {
      "pos": [
        5249,
        5393
      ],
      "content": "If your application is serving clients such as phones or other devices, add the <bpt id=\"p1\">[</bpt>appropriate SDK<ept id=\"p1\">](app-insights-platforms.md)</ept> to your device app."
    },
    {
      "content": "If you configure the client SDK with the same instrumentation key as the server SDK, the two streams will be integrated so that you can see them together.",
      "pos": [
        5395,
        5549
      ]
    },
    {
      "content": "Usage tracking",
      "pos": [
        5554,
        5568
      ]
    },
    {
      "content": "When you've delivered a new user story, you'd like to know how much your customers are using it, and whether they are achieving their goals or having difficulties.",
      "pos": [
        5570,
        5733
      ]
    },
    {
      "content": "Get a detailed picture of user activity by inserting TrackEvent() and other calls in your code, both at the client and server.",
      "pos": [
        5734,
        5860
      ]
    },
    {
      "content": "[Use the API to track usage][api]",
      "pos": [
        5863,
        5896
      ]
    },
    {
      "content": "Diagnostic logs",
      "pos": [
        5902,
        5917
      ]
    },
    {
      "content": "[Capture log traces][netlogs] from your favorite logging framework to help diagnose any problems.",
      "pos": [
        5919,
        6016
      ]
    },
    {
      "content": "Your log entries will appear in [diagnostic search][diagnostic] along with the Application Insights telemetry events.",
      "pos": [
        6017,
        6134
      ]
    },
    {
      "content": "Publish your app",
      "pos": [
        6139,
        6155
      ]
    },
    {
      "content": "If you haven't yet published your app (since you added Application Insights), do that now.",
      "pos": [
        6157,
        6247
      ]
    },
    {
      "content": "Watch the data grow in the charts as people use your app.",
      "pos": [
        6248,
        6305
      ]
    },
    {
      "content": "Keep separate resources for dev, test and release",
      "pos": [
        6311,
        6360
      ]
    },
    {
      "pos": [
        6362,
        6526
      ],
      "content": "For a major application, it's advisable to send telemetry data from debugging, testing and production into <bpt id=\"p1\">[</bpt>separate resources<ept id=\"p1\">](app-insights-separate-resources.md)</ept>."
    },
    {
      "content": "Add dependency tracking",
      "pos": [
        6534,
        6557
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>Dependency metrics<ept id=\"p1\">](app-insights-dependencies.md)</ept> can be invaluable to help you diagnose performance issues.",
      "pos": [
        6559,
        6668
      ]
    },
    {
      "content": "They measure calls from your app to databases, REST APIs, and other external components.",
      "pos": [
        6669,
        6757
      ]
    },
    {
      "content": "If your app runs in your IIS server",
      "pos": [
        6819,
        6854
      ]
    },
    {
      "pos": [
        6856,
        6993
      ],
      "content": "Login to your server with admin rights, and install <bpt id=\"p1\">[</bpt>Application Insights Status Monitor<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=506648)</ept>."
    },
    {
      "pos": [
        6996,
        7173
      ],
      "content": "(You can also use Status Monitor to <bpt id=\"p1\">[</bpt>instrument an app that's already running<ept id=\"p1\">](app-insights-monitor-performance-live-website-now.md)</ept>, even if it hasn't been built with the SDK.)"
    },
    {
      "content": "If your app is an Azure Web App",
      "pos": [
        7180,
        7211
      ]
    },
    {
      "content": "In the control panel of your Azure Web App, add the Application Insights extension.",
      "pos": [
        7213,
        7296
      ]
    },
    {
      "content": "In your web app, Settings, Extensions, Add, Application Insights",
      "pos": [
        7300,
        7364
      ]
    },
    {
      "content": "(The extension only assists an app that has been built with the SDK.",
      "pos": [
        7411,
        7479
      ]
    },
    {
      "content": "Unlike Status Monitor, it can't instrument an existing app.)",
      "pos": [
        7480,
        7540
      ]
    },
    {
      "content": "Availability web tests",
      "pos": [
        7545,
        7567
      ]
    },
    {
      "content": "[Set up web tests][availability] to test from the outside that your application is live and responsive.",
      "pos": [
        7569,
        7672
      ]
    },
    {
      "content": "To upgrade to future SDK versions",
      "pos": [
        7750,
        7783
      ]
    },
    {
      "content": "To upgrade to a <bpt id=\"p1\">[</bpt>new release of the SDK<ept id=\"p1\">](app-insights-release-notes-dotnet.md)</ept>, open NuGet package manager again and filter on installed packages.",
      "pos": [
        7785,
        7931
      ]
    },
    {
      "content": "Select Microsoft.ApplicationInsights.Web and choose Upgrade.",
      "pos": [
        7932,
        7992
      ]
    },
    {
      "content": "If you made any customizations to ApplicationInsights.config, save a copy of it before you upgrade, and afterwards merge your changes into the new version.",
      "pos": [
        7994,
        8149
      ]
    },
    {
      "pos": [
        8156,
        8181
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"video\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Video"
    },
    {
      "content": "test",
      "pos": [
        9025,
        9029
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"Application Insights for ASP.NET\" \n    description=\"Analyze usage, availability and performance of your on-premises or Microsoft Azure web application with Application Insights.\" \n    services=\"application-insights\" \n    documentationCenter=\".net\"\n    authors=\"alancameronwills\" \n    manager=\"douge\"/>\n\n<tags \n    ms.service=\"application-insights\" \n    ms.workload=\"tbd\" \n    ms.tgt_pltfrm=\"ibiza\" \n    ms.devlang=\"na\" \n    ms.topic=\"article\" \n    ms.date=\"07/14/2015\" \n    ms.author=\"awills\"/>\n\n\n# Application Insights for ASP.NET\n\n*Application Insights is in preview.*\n\n[AZURE.INCLUDE [app-insights-selector-get-started](../../includes/app-insights-selector-get-started.md)]\n\n\n[Visual Studio Application Insights](http://azure.microsoft.com/services/application-insights) monitors your live application to help you [detect and diagnose performance issues and exceptions][detect], and [discover how your app is used][knowUsers]. It can be used with a wide variety of application types. It works for apps that are hosted on your own on-premises IIS servers or on Azure VMs, as well as Azure web apps. ([Device apps and Java servers are also covered][start].)\n\n![Example performance monitoring charts](./media/app-insights-asp-net/10-perf.png)\n\n\n#### Before you start\n\nYou need:\n\n* A subscription to [Microsoft Azure](http://azure.com). If your team or organization has an Azure subscription, the owner can add you to it, using your [Microsoft account](http://live.com).\n* Visual Studio 2013 update 3 or later.\n\n## <a name=\"ide\"></a> Add Application Insights to your project in Visual Studio\n\n#### If it's a new project...\n\nWhen you create a new project in Visual Studio, make sure Application Insights is selected. \n\n\n![Create an ASP.NET project](./media/app-insights-asp-net/appinsights-01-vsnewp1.png)\n\n\n#### ... or if it's an existing project\n\nRight click the project in Solution Explorer, and choose Add Application Insights.\n\n![Choose Add Application Insights](./media/app-insights-asp-net/appinsights-03-addExisting.png)\n\n\n\n\n\n#### Setup options\n\nIf this is your first time, you'll be asked login or sign up to Microsoft Azure Preview. (It's separate from your Visual Studio Online account.)\n\nIf this app is part of a bigger application, you might want to use **Configure settings** to put it in the same resource group as the other components. \n\n\n####<a name=\"land\"></a> What did 'Add Application Insights' do?\n\nThe command did these steps (which you could instead do manually if you prefer):\n\n* Creates an Application Insights resource in [the Azure portal][portal]. This is where you'll see your data. It retrieves the *instrumentation key,* which identifies the resource.\n* Adds the Application Insights Web SDK NuGet package to your project. To see it in Visual Studio, right-click your project and choose Manage NuGet Packages.\n* Places the instrumentation key in `ApplicationInsights.config`.\n\n\n## <a name=\"run\"></a> Run your project\n\nRun your application with F5 and try it out: open different pages to generate some telemetry.\n\nIn Visual Studio, you'll see a count of the events that have been sent.\n\n![](./media/app-insights-asp-net/appinsights-09eventcount.png)\n\n## <a name=\"monitor\"></a> Open Application Insights\n\nOpen your Application Insights resource in the [Azure portal][portal].\n\n![Right-click your project and open the Azure portal](./media/app-insights-asp-net/appinsights-04-openPortal.png)\n\n\nLook for data in the Overview charts. At first, you'll just see one or two points. For example:\n\n![Click through to more data](./media/app-insights-asp-net/12-first-perf.png)\n\nClick through any chart to see more detailed metrics. [Learn more about metrics.][perf]\n\nNow deploy your application and watch the data accumulate.\n\n\nWhen you run in debug mode, telemetry is expedited through the pipeline, so that you should see data appearing within seconds. When you deploy your app, data accumulates more slowly.\n\n#### No data?\n\n* Open the [Search][diagnostic] tile, to see individual events.\n* Use the application, opening different pages so that it generates some telemetry.\n* Wait a few seconds and click Refresh.\n* See [Troubleshooting][qna].\n\n#### Trouble on your build server?\n\nPlease see [this Troubleshooting item](app-insights-troubleshoot-faq.md#NuGetBuild).\n\n\n## Add browser monitoring\n\nBrowser or client-side monitoring gives you data on users, sessions, page views, and any exceptions or crashes that occur in the browser. \n\n![Choose New, Developer Services, Application Insights.](./media/app-insights-asp-net/16-page-views.png)   \n\nYou'll also be able to write your own code to track how your users work with your app, right down to the detailed level of clicks and keystrokes.\n\n#### If your clients are web browsers\n\nIf your app displays web pages, add a JavaScript snippet to every page. Get the code from your Application Insights resource:\n\n![In your web app, open Quick Start and click 'Get code to monitor my web pages'](./media/app-insights-asp-net/02-monitor-web-page.png)\n\nNotice that the code contains the instrumentation key that identifies your application resource.\n\n[Learn more about web page tracking.](app-insights-web-track-usage.md)\n\n#### If your clients are device apps\n\nIf your application is serving clients such as phones or other devices, add the [appropriate SDK](app-insights-platforms.md) to your device app.\n\nIf you configure the client SDK with the same instrumentation key as the server SDK, the two streams will be integrated so that you can see them together.\n\n## Usage tracking\n\nWhen you've delivered a new user story, you'd like to know how much your customers are using it, and whether they are achieving their goals or having difficulties. Get a detailed picture of user activity by inserting TrackEvent() and other calls in your code, both at the client and server. \n\n[Use the API to track usage][api]\n\n\n## Diagnostic logs\n\n[Capture log traces][netlogs] from your favorite logging framework to help diagnose any problems. Your log entries will appear in [diagnostic search][diagnostic] along with the Application Insights telemetry events.\n\n## Publish your app\n\nIf you haven't yet published your app (since you added Application Insights), do that now. Watch the data grow in the charts as people use your app.\n\n### Keep separate resources for dev, test and release\n\nFor a major application, it's advisable to send telemetry data from debugging, testing and production into [separate resources](app-insights-separate-resources.md). \n\n\n\n## Add dependency tracking\n\n[Dependency metrics](app-insights-dependencies.md) can be invaluable to help you diagnose performance issues. They measure calls from your app to databases, REST APIs, and other external components.\n\n![](./media/app-insights-asp-net/04-dependencies.png)\n\n#### If your app runs in your IIS server\n\nLogin to your server with admin rights, and install [Application Insights Status Monitor](http://go.microsoft.com/fwlink/?LinkId=506648). \n\n(You can also use Status Monitor to [instrument an app that's already running](app-insights-monitor-performance-live-website-now.md), even if it hasn't been built with the SDK.)\n\n#### If your app is an Azure Web App\n\nIn the control panel of your Azure Web App, add the Application Insights extension.\n\n![In your web app, Settings, Extensions, Add, Application Insights](./media/app-insights-asp-net/05-extend.png)\n\n(The extension only assists an app that has been built with the SDK. Unlike Status Monitor, it can't instrument an existing app.)\n\n## Availability web tests\n\n[Set up web tests][availability] to test from the outside that your application is live and responsive.\n\n\n![](./media/app-insights-asp-net/appinsights-10webtestresult.png)\n\n\n\n\n\n\n## To upgrade to future SDK versions\n\nTo upgrade to a [new release of the SDK](app-insights-release-notes-dotnet.md), open NuGet package manager again and filter on installed packages. Select Microsoft.ApplicationInsights.Web and choose Upgrade.\n\nIf you made any customizations to ApplicationInsights.config, save a copy of it before you upgrade, and afterwards merge your changes into the new version.\n\n\n\n## <a name=\"video\"></a>Video\n\n> [AZURE.VIDEO getting-started-with-application-insights]\n\n\n<!--Link references-->\n\n[api]: app-insights-api-custom-events-metrics.md\n[apikey]: app-insights-api-custom-events-metrics.md#ikey\n[availability]: app-insights-monitor-web-app-availability.md\n[azure]: ../insights-perf-analytics.md\n[client]: app-insights-javascript.md\n[detect]: app-insights-detect-triage-diagnose.md\n[diagnostic]: app-insights-diagnostic-search.md\n[knowUsers]: app-insights-overview-usage.md\n[metrics]: app-insights-metrics-explorer.md\n[netlogs]: app-insights-asp-net-trace-logs.md\n[perf]: app-insights-web-monitor-performance.md\n[portal]: http://portal.azure.com/\n[qna]: app-insights-troubleshoot-faq.md\n[redfield]: app-insights-monitor-performance-live-website-now.md\n[roles]: app-insights-resources-roles-access-control.md\n[start]: app-insights-get-started.md\n\n \ntest\n"
}