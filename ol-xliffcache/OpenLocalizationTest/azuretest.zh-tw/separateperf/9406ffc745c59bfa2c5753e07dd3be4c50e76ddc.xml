{
  "nodes": [
    {
      "content": "Network Resource Provider",
      "pos": [
        27,
        52
      ]
    },
    {
      "content": "Network Resource Provider",
      "pos": [
        70,
        95
      ]
    },
    {
      "content": "Network Resource Provider",
      "pos": [
        412,
        437
      ]
    },
    {
      "content": "An underpinning need in today’s business success, is the ability to build and manage large scale network aware applications in an agile, flexible, secure and repeatable way.",
      "pos": [
        438,
        611
      ]
    },
    {
      "content": "Azure Resource Manager (ARM) enables you to create such applications, as a single collection of resources in resource groups.",
      "pos": [
        612,
        737
      ]
    },
    {
      "content": "Such resources are managed through various resource providers under ARM.",
      "pos": [
        738,
        810
      ]
    },
    {
      "content": "Azure Resource Manager (ARM) enables you to create such applications and the associated collection of network resources as a single collection of resources in a resource group.",
      "pos": [
        813,
        989
      ]
    },
    {
      "content": "The application and the network resources run as a single unit in an ARM resource group.",
      "pos": [
        990,
        1078
      ]
    },
    {
      "content": "You can manage networking resources by using any of the following management interfaces:",
      "pos": [
        1081,
        1169
      ]
    },
    {
      "content": "REST based API",
      "pos": [
        1173,
        1187
      ]
    },
    {
      "content": "PowerShell",
      "pos": [
        1190,
        1200
      ]
    },
    {
      "content": ".NET SDK",
      "pos": [
        1203,
        1211
      ]
    },
    {
      "content": "Node.JS SDK",
      "pos": [
        1214,
        1225
      ]
    },
    {
      "content": "Java SDK",
      "pos": [
        1228,
        1236
      ]
    },
    {
      "content": "Azure CLI",
      "pos": [
        1239,
        1248
      ]
    },
    {
      "content": "Azure Portal",
      "pos": [
        1251,
        1263
      ]
    },
    {
      "content": "ARM template language",
      "pos": [
        1266,
        1287
      ]
    },
    {
      "content": "With the introduction of Network Resource Providers, you can take advantage of the following benefits:",
      "pos": [
        1289,
        1391
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Metadata<ept id=\"p1\">**</ept> – you can add information to resources using tags.",
      "pos": [
        1395,
        1458
      ]
    },
    {
      "content": "These tags can be used to track resource utilization across resource groups and subscriptions.",
      "pos": [
        1459,
        1553
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Greater control of your network<ept id=\"p1\">**</ept> - network resources are loosely coupled and you can control them in a more granular fashion.",
      "pos": [
        1556,
        1684
      ]
    },
    {
      "content": "This means you have more flexibility in managing the networking resources.",
      "pos": [
        1685,
        1759
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Faster configuration<ept id=\"p1\">**</ept> - because network resources are loosely coupled, you can create and orchestrate network resources in parallel.",
      "pos": [
        1762,
        1897
      ]
    },
    {
      "content": "This has drastically reduced configuration time.",
      "pos": [
        1898,
        1946
      ]
    },
    {
      "pos": [
        1949,
        2115
      ],
      "content": "<bpt id=\"p1\">**</bpt>Role Based Access Control<ept id=\"p1\">**</ept> - RBAC provides default roles, with specific security scope, in addition to allowing the creation of custom roles for secure management."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Easier management and deployment<ept id=\"p1\">**</ept> - it’s easier to deploy and manage applications since you can can create an entire application stack as a single collection of resources in a resource group.",
      "pos": [
        2119,
        2313
      ]
    },
    {
      "content": "And faster to deploy, since you can deploy by simply providing a template JSON payload.",
      "pos": [
        2314,
        2401
      ]
    },
    {
      "pos": [
        2404,
        2530
      ],
      "content": "<bpt id=\"p1\">**</bpt>Rapid customization<ept id=\"p1\">**</ept> - you can use declarative-style templates to enable repeatable and rapid customization of deployments."
    },
    {
      "pos": [
        2534,
        2665
      ],
      "content": "<bpt id=\"p1\">**</bpt>Repeatable customization<ept id=\"p1\">**</ept> - you can use declarative-style templates to enable repeatable and rapid customization of deployments."
    },
    {
      "content": "Network resources",
      "pos": [
        2670,
        2687
      ]
    },
    {
      "content": "You can now manage network resources independently, instead of having them all managed through a single compute resource (a virtual machine).",
      "pos": [
        2689,
        2830
      ]
    },
    {
      "content": "This ensures a higher degree of flexibility and agility in composing a complex and large scale infrastructure in a resource group.",
      "pos": [
        2831,
        2961
      ]
    },
    {
      "content": "The diagram below illustrates a high-level view of the network resource model and its associations.",
      "pos": [
        2964,
        3063
      ]
    },
    {
      "content": "Top level resources are colored with a blue outline.",
      "pos": [
        3064,
        3116
      ]
    },
    {
      "content": "In addition to top level resources, you can see child resources colored with a gray outline.",
      "pos": [
        3117,
        3209
      ]
    },
    {
      "content": "You can manage each resource individually.",
      "pos": [
        3210,
        3252
      ]
    },
    {
      "content": "Network resource model",
      "pos": [
        3257,
        3279
      ]
    },
    {
      "content": "A conceptual view of a sample deployment involving a multi-tiered application is presented below.",
      "pos": [
        3329,
        3426
      ]
    },
    {
      "content": "All network resources are colored with a blue outline.",
      "pos": [
        3427,
        3481
      ]
    },
    {
      "content": "Network resource model",
      "pos": [
        3486,
        3508
      ]
    },
    {
      "content": "REST API",
      "pos": [
        3561,
        3569
      ]
    },
    {
      "content": "As mentioned earlier, network resources can be managed via a variety of interfaces, including REST API,.NET SDK, Node.JS SDK, Java SDK, PowerShell, CLI, Azure Portal and templates.",
      "pos": [
        3571,
        3751
      ]
    },
    {
      "content": "The Rest API’s conform to the HTTP 1.1 protocol specification.",
      "pos": [
        3754,
        3816
      ]
    },
    {
      "content": "The general URI structure of the API is presented below:",
      "pos": [
        3817,
        3873
      ]
    },
    {
      "content": "And the parameters in braces represent the following elements:",
      "pos": [
        4045,
        4107
      ]
    },
    {
      "pos": [
        4111,
        4160
      ],
      "content": "<bpt id=\"p1\">**</bpt>subscription-id<ept id=\"p1\">**</ept> - your Azure subscription id."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>resource-provider-namespace<ept id=\"p1\">**</ept> - namespace for the provider being used.",
      "pos": [
        4163,
        4235
      ]
    },
    {
      "content": "THe value for the network resource provider is <bpt id=\"p1\">*</bpt>Microsoft.Network<ept id=\"p1\">*</ept>.",
      "pos": [
        4236,
        4303
      ]
    },
    {
      "pos": [
        4306,
        4345
      ],
      "content": "<bpt id=\"p1\">**</bpt>region-name<ept id=\"p1\">**</ept> - the Azure region name"
    },
    {
      "content": "The following HTTP methods are supported when making calls to the REST API:",
      "pos": [
        4347,
        4422
      ]
    },
    {
      "pos": [
        4426,
        4549
      ],
      "content": "<bpt id=\"p1\">**</bpt>PUT<ept id=\"p1\">**</ept> - used to create a resource of a given type, modify a resource property or change an association between resources."
    },
    {
      "pos": [
        4553,
        4619
      ],
      "content": "<bpt id=\"p1\">**</bpt>GET<ept id=\"p1\">**</ept> - used to retrieve information for a provisioned resource."
    },
    {
      "pos": [
        4622,
        4671
      ],
      "content": "<bpt id=\"p1\">**</bpt>DELETE<ept id=\"p1\">**</ept> - used to delete an existing resource."
    },
    {
      "content": "Both the request and response conform to a JSON payload format.",
      "pos": [
        4673,
        4736
      ]
    },
    {
      "content": "For more details, see <bpt id=\"p1\">[</bpt>Azure Resource Management APIs<ept id=\"p1\">](https://msdn.microsoft.com/library/azure/dn948464.aspx)</ept>.",
      "pos": [
        4737,
        4848
      ]
    },
    {
      "content": "ARM template language",
      "pos": [
        4853,
        4874
      ]
    },
    {
      "content": "In addition to managing resources imperatively (via APIs or SDK), you can also use a declarative programming style to build and manage network resources by using the ARM Template Language.",
      "pos": [
        4875,
        5063
      ]
    },
    {
      "content": "A sample representation of a template is provided below –",
      "pos": [
        5066,
        5123
      ]
    },
    {
      "content": "The template is primarily a JSON description of the resources and the instance values injected via parameters.",
      "pos": [
        5530,
        5640
      ]
    },
    {
      "content": "The example below can be used to create a virtual network with 2 subnets.",
      "pos": [
        5641,
        5714
      ]
    },
    {
      "content": "You have the option of providing the parameter values manually when using a template, or you can use a parameter file.",
      "pos": [
        8265,
        8383
      ]
    },
    {
      "content": "The example below shows a possible set of parameter values to be used with the template above:",
      "pos": [
        8384,
        8478
      ]
    },
    {
      "content": "The main advantages of using templates are:",
      "pos": [
        8949,
        8992
      ]
    },
    {
      "content": "You can build a complex infrastructure in a resource group in a declarative style.",
      "pos": [
        8996,
        9078
      ]
    },
    {
      "content": "The orchestration of creating the resources, including dependency management, is handled by ARM.",
      "pos": [
        9079,
        9175
      ]
    },
    {
      "content": "The infrastructure can be created in a repeatable way across various regions and within a region by simply changing parameters.",
      "pos": [
        9179,
        9306
      ]
    },
    {
      "content": "The declarative style leads to shorter lead time in building the templates and rolling out the infrastructure.",
      "pos": [
        9310,
        9420
      ]
    },
    {
      "pos": [
        9423,
        9531
      ],
      "content": "For sample templates, see <bpt id=\"p1\">[</bpt>Azure quickstart templates<ept id=\"p1\">](https://github.com/Azure/azure-quickstart-templates)</ept>."
    },
    {
      "pos": [
        9533,
        9673
      ],
      "content": "For more information on the ARM Template Language, see <bpt id=\"p1\">[</bpt>Azure Resource Manager Template Language<ept id=\"p1\">](../resource-group-authoring-templates.md)</ept>."
    },
    {
      "content": "The sample template above uses the virtual network and subnet resources.",
      "pos": [
        9675,
        9747
      ]
    },
    {
      "content": "There are other network resources you can use as listed below:",
      "pos": [
        9748,
        9810
      ]
    },
    {
      "content": "NIC",
      "pos": [
        9815,
        9818
      ]
    },
    {
      "content": "Network Interface Card, or NIC, represents a network interface that can be associated to a virtual machine (VM).",
      "pos": [
        9819,
        9931
      ]
    },
    {
      "content": "A VM can have one or more NICs.",
      "pos": [
        9932,
        9963
      ]
    },
    {
      "content": "NIC's on a single VM",
      "pos": [
        9967,
        9987
      ]
    },
    {
      "content": "Key properties of a NIC resource include:",
      "pos": [
        10037,
        10078
      ]
    },
    {
      "content": "IP settings",
      "pos": [
        10082,
        10093
      ]
    },
    {
      "content": "A NIC can also be associated with the following network resources:",
      "pos": [
        10095,
        10161
      ]
    },
    {
      "content": "Network Security Group (NSG)",
      "pos": [
        10165,
        10193
      ]
    },
    {
      "content": "Load balancer",
      "pos": [
        10197,
        10210
      ]
    },
    {
      "content": "Virtual Network and Subnet",
      "pos": [
        10215,
        10241
      ]
    },
    {
      "content": "Virtual Networks (VNET) and subnets help define a security boundary for workloads running in Azure.",
      "pos": [
        10242,
        10341
      ]
    },
    {
      "content": "A VNET is characterized by an address space, also referred to as CIDR block.",
      "pos": [
        10342,
        10418
      ]
    },
    {
      "content": "A subnet is a child resource of a VNET, and helps define segments of address spaces within a CIDR block, using IP address prefixes.",
      "pos": [
        10421,
        10552
      ]
    },
    {
      "content": "VMs that execute various workloads essentially operate in a subnet boundary.",
      "pos": [
        10553,
        10629
      ]
    },
    {
      "content": "NIC's on a single VM",
      "pos": [
        10634,
        10654
      ]
    },
    {
      "content": "Key properties of a VNET resource include:",
      "pos": [
        10704,
        10746
      ]
    },
    {
      "content": "IP address space (CIDR block)",
      "pos": [
        10750,
        10779
      ]
    },
    {
      "content": "VNET name",
      "pos": [
        10783,
        10792
      ]
    },
    {
      "content": "subnets",
      "pos": [
        10795,
        10802
      ]
    },
    {
      "content": "A VNET can also be associated with the following network resources:",
      "pos": [
        10804,
        10871
      ]
    },
    {
      "content": "VPN Gateway",
      "pos": [
        10875,
        10886
      ]
    },
    {
      "content": "Key properties of a subnet include:",
      "pos": [
        10888,
        10923
      ]
    },
    {
      "content": "IP address prefix",
      "pos": [
        10927,
        10944
      ]
    },
    {
      "content": "Subnet name",
      "pos": [
        10947,
        10958
      ]
    },
    {
      "content": "A subnet can also be associated with the following network resources:",
      "pos": [
        10960,
        11029
      ]
    },
    {
      "content": "NSG",
      "pos": [
        11033,
        11036
      ]
    },
    {
      "content": "Load Balancer",
      "pos": [
        11041,
        11054
      ]
    },
    {
      "content": "A load balancer is used when you want to scale your applications.",
      "pos": [
        11055,
        11120
      ]
    },
    {
      "content": "Typical deployment scenarios involve applications running on multiple VM instances.",
      "pos": [
        11121,
        11204
      ]
    },
    {
      "content": "The VM instances are fronted by a load balancer that helps to distribute network traffic to the various instances.",
      "pos": [
        11205,
        11319
      ]
    },
    {
      "content": "NIC's on a single VM",
      "pos": [
        11324,
        11344
      ]
    },
    {
      "content": "Load balancers contain the following child resources:",
      "pos": [
        11394,
        11447
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Front end IP configuration<ept id=\"p1\">**</ept> – a Load balancer can include one or more front end IP addresses, otherwise known as a virtual IPs (VIPs).",
      "pos": [
        11451,
        11588
      ]
    },
    {
      "content": "These IP addresses serve as ingress for the traffic.",
      "pos": [
        11589,
        11641
      ]
    },
    {
      "pos": [
        11645,
        11757
      ],
      "content": "<bpt id=\"p1\">**</bpt>Backend address pool<ept id=\"p1\">**</ept> – these are IP addresses associated with the VM NICs to which load will be distributed."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Load balancing rules<ept id=\"p1\">**</ept> – a rule property maps a given front end IP and port combination to a set of back end IP addresses and port combination.",
      "pos": [
        11760,
        11905
      ]
    },
    {
      "content": "With a single definition of a load balancer resource, you can define multiple load balancing rules, each rule reflecting a combination of a front end IP and port and back end IP and port associated with VMs.",
      "pos": [
        11906,
        12113
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Probes<ept id=\"p1\">**</ept> – probes enable you to keep track of the health of VM instances.",
      "pos": [
        12117,
        12192
      ]
    },
    {
      "content": "If a health probe fails, the VM instance will be taken out of rotation automatically.",
      "pos": [
        12193,
        12278
      ]
    },
    {
      "pos": [
        12281,
        12412
      ],
      "content": "<bpt id=\"p1\">**</bpt>Inbound NAT rules<ept id=\"p1\">**</ept> – NAT rules defining the inbound traffic flowing through the front end IP and distributed to the back end IP."
    },
    {
      "content": "Public IP",
      "pos": [
        12417,
        12426
      ]
    },
    {
      "content": "A public IP address resource provides either a reserved or dynamic public IP address.",
      "pos": [
        12427,
        12512
      ]
    },
    {
      "content": "A Public IP address can be assigned to a load balancer, NAT, or associated with a private IP address on a NIC of a VM.",
      "pos": [
        12515,
        12633
      ]
    },
    {
      "content": "Key properties of a public IP resource include:",
      "pos": [
        12637,
        12684
      ]
    },
    {
      "pos": [
        12688,
        12735
      ],
      "content": "<bpt id=\"p1\">**</bpt>IP allocation method<ept id=\"p1\">**</ept> – reserved or dynamic."
    },
    {
      "content": "Network Security Group (NSG)",
      "pos": [
        12741,
        12769
      ]
    },
    {
      "content": "An NSG resource enables the creation of security boundary for workloads, by implementing allow and deny rules.",
      "pos": [
        12770,
        12880
      ]
    },
    {
      "content": "Such rules can be applied at the NIC level (VM instance level) or at the subnet level (group of VMs).",
      "pos": [
        12881,
        12982
      ]
    },
    {
      "content": "Key properties of NSG resource include:",
      "pos": [
        12984,
        13023
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Security rule<ept id=\"p1\">**</ept> - An NSG can have multiple security rules defined.",
      "pos": [
        13027,
        13095
      ]
    },
    {
      "content": "Each rule can allow or deny different types of traffic.",
      "pos": [
        13096,
        13151
      ]
    },
    {
      "content": "Security Rule",
      "pos": [
        13156,
        13169
      ]
    },
    {
      "content": "A security rule is a child resource of an NSG.",
      "pos": [
        13170,
        13216
      ]
    },
    {
      "content": "Key properties of a Security rule include:",
      "pos": [
        13219,
        13261
      ]
    },
    {
      "pos": [
        13266,
        13319
      ],
      "content": "<bpt id=\"p1\">**</bpt>Protocol<ept id=\"p1\">**</ept> – network protocol this rule applies to."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Source Port Range<ept id=\"p1\">**</ept> - source port, or range from, 0 to 65535.",
      "pos": [
        13322,
        13385
      ]
    },
    {
      "content": "A wildcard can be used to match all ports.",
      "pos": [
        13387,
        13429
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Destination Port Range<ept id=\"p1\">**</ept> - Destination port, or range, from 0 to 65535.",
      "pos": [
        13433,
        13506
      ]
    },
    {
      "content": "A wildcard can be used to match all ports.",
      "pos": [
        13508,
        13550
      ]
    },
    {
      "pos": [
        13553,
        13605
      ],
      "content": "<bpt id=\"p1\">**</bpt>Source Address Prefix<ept id=\"p1\">**</ept> – source IP address range."
    },
    {
      "pos": [
        13609,
        13671
      ],
      "content": "<bpt id=\"p1\">**</bpt>Destination Address Prefix<ept id=\"p1\">**</ept> – destination IP address range."
    },
    {
      "pos": [
        13674,
        13713
      ],
      "content": "<bpt id=\"p1\">**</bpt>Access<ept id=\"p1\">**</ept> – <bpt id=\"p2\">*</bpt>Allow<ept id=\"p2\">*</ept> or <bpt id=\"p3\">*</bpt>Deny<ept id=\"p3\">*</ept> traffic."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Priority<ept id=\"p1\">**</ept> – a value between 100 and 4096.",
      "pos": [
        13716,
        13760
      ]
    },
    {
      "content": "The priority number must be unique for each rule in collection of security rules.",
      "pos": [
        13761,
        13842
      ]
    },
    {
      "content": "The lower the priority number, the higher the priority of the rule.",
      "pos": [
        13843,
        13910
      ]
    },
    {
      "pos": [
        13913,
        14019
      ],
      "content": "<bpt id=\"p1\">**</bpt>Direction<ept id=\"p1\">**</ept> – specifies if the rule will be applied to traffic in the <bpt id=\"p2\">*</bpt>Inbound<ept id=\"p2\">*</ept> or <bpt id=\"p3\">*</bpt>Outbound<ept id=\"p3\">*</ept> direction."
    },
    {
      "content": "VPN Gateway",
      "pos": [
        14025,
        14036
      ]
    },
    {
      "content": "A VPN gateway resource enables you to create a secure connection between their on-premises data center and Azure.",
      "pos": [
        14038,
        14151
      ]
    },
    {
      "content": "A VPN gateway resource can be configured in three different ways:",
      "pos": [
        14152,
        14217
      ]
    },
    {
      "pos": [
        14222,
        14344
      ],
      "content": "<bpt id=\"p1\">**</bpt>Point to Site<ept id=\"p1\">**</ept> – you can securely access your Azure resources hosted in a VNET by using a VPN client from any computer."
    },
    {
      "pos": [
        14348,
        14467
      ],
      "content": "<bpt id=\"p1\">**</bpt>Multi-site connection<ept id=\"p1\">**</ept> – you can securely connect from your on-premises data centers to resources running in a VNET."
    },
    {
      "pos": [
        14471,
        14615
      ],
      "content": "<bpt id=\"p1\">**</bpt>VNET to VNET<ept id=\"p1\">**</ept> – you can securely connect across Azure VNETS within the same region, or across regions to build workloads with geo-redundancy."
    },
    {
      "content": "Key properties of a VPN gateway include:",
      "pos": [
        14617,
        14657
      ]
    },
    {
      "pos": [
        14662,
        14727
      ],
      "content": "<bpt id=\"p1\">**</bpt>Gateway type<ept id=\"p1\">**</ept> - dynamically routed or a static routed gateway."
    },
    {
      "pos": [
        14731,
        14851
      ],
      "content": "<bpt id=\"p1\">**</bpt>VPN Client Address Pool Prefix<ept id=\"p1\">**</ept> – IP addresses to be assigned to clients connecting in a point to site configuration."
    },
    {
      "content": "Traffic Manager Profile",
      "pos": [
        14856,
        14879
      ]
    },
    {
      "content": "Traffic manager and its child endpoint resource enable distribution of your traffic to endpoints in Azure and outside of Azure.",
      "pos": [
        14880,
        15007
      ]
    },
    {
      "content": "Such traffic distribution is governed by policies.",
      "pos": [
        15008,
        15058
      ]
    },
    {
      "content": "Traffic manager also allows endpoint health to be monitored, and traffic diverted appropriately based on the health of an endpoint.",
      "pos": [
        15059,
        15190
      ]
    },
    {
      "content": "Key properties of a traffic manager profile include:",
      "pos": [
        15193,
        15245
      ]
    },
    {
      "pos": [
        15249,
        15340
      ],
      "content": "<bpt id=\"p1\">**</bpt>Traffic routing method<ept id=\"p1\">**</ept> - possible values are <bpt id=\"p2\">*</bpt>Performance<ept id=\"p2\">*</ept>, <bpt id=\"p3\">*</bpt>Weighted<ept id=\"p3\">*</ept>, and <bpt id=\"p4\">*</bpt>Priority<ept id=\"p4\">*</ept>."
    },
    {
      "pos": [
        15343,
        15388
      ],
      "content": "<bpt id=\"p1\">**</bpt>DNS configuration<ept id=\"p1\">**</ept> - FQDN for the profile."
    },
    {
      "pos": [
        15391,
        15466
      ],
      "content": "<bpt id=\"p1\">**</bpt>Protocol<ept id=\"p1\">**</ept> - monitoring protocol, possible values are <bpt id=\"p2\">*</bpt>HTTP<ept id=\"p2\">*</ept> and <bpt id=\"p3\">*</bpt>HTTPS<ept id=\"p3\">*</ept>."
    },
    {
      "pos": [
        15469,
        15496
      ],
      "content": "<bpt id=\"p1\">**</bpt>Port<ept id=\"p1\">**</ept> - monitoring port."
    },
    {
      "pos": [
        15500,
        15527
      ],
      "content": "<bpt id=\"p1\">**</bpt>Path<ept id=\"p1\">**</ept> - monitoring path."
    },
    {
      "pos": [
        15530,
        15579
      ],
      "content": "<bpt id=\"p1\">**</bpt>Endpoints<ept id=\"p1\">**</ept> - container for endpoint resources."
    },
    {
      "content": "Endpoint",
      "pos": [
        15584,
        15592
      ]
    },
    {
      "content": "An endpoint is a child resource of a Traffic Manager Profile.",
      "pos": [
        15594,
        15655
      ]
    },
    {
      "content": "It represents a service or web endpoint to which user traffic is distributed based on the configured policy in the Traffic Manager Profile resource.",
      "pos": [
        15656,
        15804
      ]
    },
    {
      "content": "Key properties of an endpoint include:",
      "pos": [
        15807,
        15845
      ]
    },
    {
      "pos": [
        15850,
        15970
      ],
      "content": "<bpt id=\"p1\">**</bpt>Type<ept id=\"p1\">**</ept> - the type of the endpoint, possible values are <bpt id=\"p2\">*</bpt>Azure End point<ept id=\"p2\">*</ept>, <bpt id=\"p3\">*</bpt>External Endpoint<ept id=\"p3\">*</ept>, and  <bpt id=\"p4\">*</bpt>Nested Endpoint<ept id=\"p4\">*</ept>."
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Target Resource ID<ept id=\"p1\">**</ept> – public IP address of a service or web endpoint.",
      "pos": [
        15974,
        16046
      ]
    },
    {
      "content": "This can be an Azure or external endpoint.",
      "pos": [
        16047,
        16089
      ]
    },
    {
      "pos": [
        16092,
        16148
      ],
      "content": "<bpt id=\"p1\">**</bpt>Weight<ept id=\"p1\">**</ept> - endpoint weight used in traffic management."
    },
    {
      "pos": [
        16152,
        16226
      ],
      "content": "<bpt id=\"p1\">**</bpt>Priority<ept id=\"p1\">**</ept> - priority of the endpoint, used to define a failover action."
    },
    {
      "content": "Using a template",
      "pos": [
        16232,
        16248
      ]
    },
    {
      "content": "You can deploy services to Azure from a template by using PowerShell, AzureCLI, or by performing a click to deploy from GitHub.",
      "pos": [
        16250,
        16377
      ]
    },
    {
      "content": "To deploy services from a template in GitHub, execute the following steps:",
      "pos": [
        16378,
        16452
      ]
    },
    {
      "content": "Open the template3 file from GitHub.",
      "pos": [
        16457,
        16493
      ]
    },
    {
      "content": "As an example, open <bpt id=\"p1\">[</bpt>Virtual network with two subnets<ept id=\"p1\">](https://github.com/Azure/azure-quickstart-templates/tree/master/101-virtual-network)</ept>.",
      "pos": [
        16494,
        16634
      ]
    },
    {
      "pos": [
        16638,
        16730
      ],
      "content": "Click on <bpt id=\"p1\">**</bpt>Deploy to Azure<ept id=\"p1\">**</ept>, and then sign in on to the Azure portal with your credentials."
    },
    {
      "pos": [
        16734,
        16779
      ],
      "content": "Verify the template, and then click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        16783,
        16876
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Edit parameters<ept id=\"p1\">**</ept> and select a location, such as <bpt id=\"p2\">*</bpt>West US<ept id=\"p2\">*</ept>, for the vnet and subnets."
    },
    {
      "pos": [
        16880,
        16978
      ],
      "content": "If necessary, change the <bpt id=\"p1\">**</bpt>ADDRESSPREFIX<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>SUBNETPREFIX<ept id=\"p2\">**</ept> parameters, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Select a resource group<ept id=\"p1\">**</ept> and then click on the resource group you want to add the vnet and subnets to.",
      "pos": [
        16982,
        17093
      ]
    },
    {
      "content": "Alternatively, you can create a new resource group by clicking <bpt id=\"p1\">**</bpt>Or create new<ept id=\"p1\">**</ept>.",
      "pos": [
        17094,
        17175
      ]
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept>.",
      "pos": [
        17179,
        17196
      ]
    },
    {
      "content": "Notice the tile displaying <bpt id=\"p1\">**</bpt>Provisioning Template deployment<ept id=\"p1\">**</ept>.",
      "pos": [
        17197,
        17261
      ]
    },
    {
      "content": "Once the deployment is done, you will see a screen similar to one below.",
      "pos": [
        17262,
        17334
      ]
    },
    {
      "content": "Sample template deployment",
      "pos": [
        17338,
        17364
      ]
    },
    {
      "content": "See Also",
      "pos": [
        17417,
        17425
      ]
    },
    {
      "content": "Azure Networking API reference",
      "pos": [
        17428,
        17458
      ]
    },
    {
      "content": "Azure PowerShell reference for networking",
      "pos": [
        17518,
        17559
      ]
    },
    {
      "content": "Azure Resource Manager Template Language",
      "pos": [
        17619,
        17659
      ]
    },
    {
      "content": "Azure Networking – commonly used templates",
      "pos": [
        17705,
        17747
      ]
    },
    {
      "content": "Compute Resource Provider",
      "pos": [
        17804,
        17829
      ]
    },
    {
      "content": "Azure Resource Manager Overview",
      "pos": [
        17877,
        17908
      ]
    },
    {
      "content": "Role based access control in Azure Resource Manager",
      "pos": [
        17940,
        17991
      ]
    },
    {
      "content": "Using Tags in Azure Resource Manager",
      "pos": [
        18052,
        18088
      ]
    },
    {
      "content": "Template deployments",
      "pos": [
        18148,
        18168
      ]
    },
    {
      "content": "test",
      "pos": [
        18228,
        18232
      ]
    }
  ],
  "content": "<properties \n   pageTitle=\"Network Resource Provider\"\n   description=\"Network Resource Provider\"\n   services=\"azure-portal\"\n   documentationCenter=\"na\"\n   authors=\"telmosampaio\"\n   manager=\"adinah\"\n   editor=\"tysonn\" />\n<tags \n   ms.service=\"azure-portal\"\n   ms.devlang=\"na\"\n   ms.topic=\"article\"\n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"infrastructure-services\"\n   ms.date=\"04/22/2015\"\n   ms.author=\"telmos\" />\n\n# Network Resource Provider\nAn underpinning need in today’s business success, is the ability to build and manage large scale network aware applications in an agile, flexible, secure and repeatable way. Azure Resource Manager (ARM) enables you to create such applications, as a single collection of resources in resource groups. Such resources are managed through various resource providers under ARM. \n\nAzure Resource Manager (ARM) enables you to create such applications and the associated collection of network resources as a single collection of resources in a resource group. The application and the network resources run as a single unit in an ARM resource group. \n\nYou can manage networking resources by using any of the following management interfaces:\n\n- REST based API\n- PowerShell\n- .NET SDK\n- Node.JS SDK\n- Java SDK\n- Azure CLI\n- Azure Portal\n- ARM template language\n\nWith the introduction of Network Resource Providers, you can take advantage of the following benefits:\n\n- **Metadata** – you can add information to resources using tags. These tags can be used to track resource utilization across resource groups and subscriptions.\n- **Greater control of your network** - network resources are loosely coupled and you can control them in a more granular fashion. This means you have more flexibility in managing the networking resources.\n- **Faster configuration** - because network resources are loosely coupled, you can create and orchestrate network resources in parallel. This has drastically reduced configuration time.\n- **Role Based Access Control** - RBAC provides default roles, with specific security scope, in addition to allowing the creation of custom roles for secure management. \n- **Easier management and deployment** - it’s easier to deploy and manage applications since you can can create an entire application stack as a single collection of resources in a resource group. And faster to deploy, since you can deploy by simply providing a template JSON payload.\n- **Rapid customization** - you can use declarative-style templates to enable repeatable and rapid customization of deployments. \n- **Repeatable customization** - you can use declarative-style templates to enable repeatable and rapid customization of deployments.\n\n## Network resources \nYou can now manage network resources independently, instead of having them all managed through a single compute resource (a virtual machine). This ensures a higher degree of flexibility and agility in composing a complex and large scale infrastructure in a resource group.\n \nThe diagram below illustrates a high-level view of the network resource model and its associations. Top level resources are colored with a blue outline. In addition to top level resources, you can see child resources colored with a gray outline. You can manage each resource individually. \n\n![Network resource model](./media/resource-group-networking/Figure1.png)\n\nA conceptual view of a sample deployment involving a multi-tiered application is presented below. All network resources are colored with a blue outline. \n\n![Network resource model](./media/resource-group-networking/Figure2.png)\n\n## REST API \nAs mentioned earlier, network resources can be managed via a variety of interfaces, including REST API,.NET SDK, Node.JS SDK, Java SDK, PowerShell, CLI, Azure Portal and templates. \n\nThe Rest API’s conform to the HTTP 1.1 protocol specification. The general URI structure of the API is presented below: \n\n    https://management.azure.com/subscriptions/{subscription-id}/providers/{resource-provider-namespace}/locations/{region-location}/register?api-version={api-version}\n\nAnd the parameters in braces represent the following elements:\n\n- **subscription-id** - your Azure subscription id.\n- **resource-provider-namespace** - namespace for the provider being used. THe value for the network resource provider is *Microsoft.Network*.\n- **region-name** - the Azure region name\n\nThe following HTTP methods are supported when making calls to the REST API:\n\n- **PUT** - used to create a resource of a given type, modify a resource property or change an association between resources. \n- **GET** - used to retrieve information for a provisioned resource.\n- **DELETE** - used to delete an existing resource.\n\nBoth the request and response conform to a JSON payload format. For more details, see [Azure Resource Management APIs](https://msdn.microsoft.com/library/azure/dn948464.aspx).\n\n## ARM template language\nIn addition to managing resources imperatively (via APIs or SDK), you can also use a declarative programming style to build and manage network resources by using the ARM Template Language. \n\nA sample representation of a template is provided below – \n\n    {\n      \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json\",\n      \"contentVersion\": \"<version-number-of-template>\",\n      \"parameters\": { <parameter-definitions-of-template> },\n      \"variables\": { <variable-definitions-of-template> },\n      \"resources\": [ { <definition-of-resource-to-deploy> } ],\n      \"outputs\": { <output-of-template> }    \n    }\n\nThe template is primarily a JSON description of the resources and the instance values injected via parameters. The example below can be used to create a virtual network with 2 subnets.\n\n    {\n        \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/VNET.json\",\n        \"contentVersion\": \"1.0.0.0\",\n        \"parameters\" : {\n          \"location\": {\n            \"type\": \"String\",\n            \"allowedValues\": [\"East US\", \"West US\", \"West Europe\", \"East Asia\", \"South East Asia\"],\n            \"metadata\" : {\n              \"Description\" : \"Deployment location\"\n            }\n          },\n          \"virtualNetworkName\":{\n            \"type\" : \"string\",\n            \"defaultValue\":\"myVNET\",\n            \"metadata\" : {\n              \"Description\" : \"VNET name\"\n            }\n          },\n          \"addressPrefix\":{\n            \"type\" : \"string\",\n            \"defaultValue\" : \"10.0.0.0/16\",\n            \"metadata\" : {\n              \"Description\" : \"Address prefix\"\n            }\n    \n          },\n          \"subnet1Name\": {\n            \"type\" : \"string\",\n            \"defaultValue\" : \"Subnet-1\",\n            \"metadata\" : {\n              \"Description\" : \"Subnet 1 Name\"\n            }\n          },\n          \"subnet2Name\": {\n            \"type\" : \"string\",\n            \"defaultValue\" : \"Subnet-2\",\n            \"metadata\" : {\n              \"Description\" : \"Subnet 2 name\"\n            }\n          },\n          \"subnet1Prefix\" : {\n            \"type\" : \"string\",\n            \"defaultValue\" : \"10.0.0.0/24\",\n            \"metadata\" : {\n              \"Description\" : \"Subnet 1 Prefix\"\n            }\n          },\n          \"subnet2Prefix\" : {\n            \"type\" : \"string\",\n            \"defaultValue\" : \"10.0.1.0/24\",\n            \"metadata\" : {\n              \"Description\" : \"Subnet 2 Prefix\"\n            }\n          }\n        },\n        \"resources\": [\n        {\n          \"apiVersion\": \"2015-05-01-preview\",\n          \"type\": \"Microsoft.Network/virtualNetworks\",\n          \"name\": \"[parameters('virtualNetworkName')]\",\n          \"location\": \"[parameters('location')]\",\n          \"properties\": {\n            \"addressSpace\": {\n              \"addressPrefixes\": [\n                \"[parameters('addressPrefix')]\"\n              ]\n            },\n            \"subnets\": [\n              {\n                \"name\": \"[parameters('subnet1Name')]\",\n                \"properties\" : {\n                  \"addressPrefix\": \"[parameters('subnet1Prefix')]\"\n                }\n              },\n              {\n                \"name\": \"[parameters('subnet2Name')]\",\n                \"properties\" : {\n                  \"addressPrefix\": \"[parameters('subnet2Prefix')]\"\n                }\n              }\n            ]\n          }\n        }\n        ]\n    }\n\nYou have the option of providing the parameter values manually when using a template, or you can use a parameter file. The example below shows a possible set of parameter values to be used with the template above:\n\n    {\n      \"location\": {\n          \"value\": \"East US\"\n      },\n      \"virtualNetworkName\": {\n          \"value\": \"VNET1\"\n      },\n      \"subnet1Name\": {\n          \"value\": \"Subnet1\"\n      },\n      \"subnet2Name\": {\n          \"value\": \"Subnet2\"\n      },\n      \"addressPrefix\": {\n          \"value\": \"192.168.0.0/16\"\n      },\n      \"subnet1Prefix\": {\n          \"value\": \"192.168.1.0/24\"\n      },\n      \"subnet2Prefix\": {\n          \"value\": \"192.168.2.0/24\"\n      }\n    }\n\n\nThe main advantages of using templates are:\n\n- You can build a complex infrastructure in a resource group in a declarative style. The orchestration of creating the resources, including dependency management, is handled by ARM. \n- The infrastructure can be created in a repeatable way across various regions and within a region by simply changing parameters. \n- The declarative style leads to shorter lead time in building the templates and rolling out the infrastructure. \n\nFor sample templates, see [Azure quickstart templates](https://github.com/Azure/azure-quickstart-templates).\n\nFor more information on the ARM Template Language, see [Azure Resource Manager Template Language](../resource-group-authoring-templates.md).\n\nThe sample template above uses the virtual network and subnet resources. There are other network resources you can use as listed below:\n\n## NIC\nNetwork Interface Card, or NIC, represents a network interface that can be associated to a virtual machine (VM). A VM can have one or more NICs.\n\n![NIC's on a single VM](./media/resource-group-networking/Figure3.png)\n\nKey properties of a NIC resource include:\n\n- IP settings\n\nA NIC can also be associated with the following network resources:\n\n- Network Security Group (NSG) \n- Load balancer\n\n## Virtual Network and Subnet\nVirtual Networks (VNET) and subnets help define a security boundary for workloads running in Azure. A VNET is characterized by an address space, also referred to as CIDR block. \n\nA subnet is a child resource of a VNET, and helps define segments of address spaces within a CIDR block, using IP address prefixes. VMs that execute various workloads essentially operate in a subnet boundary. \n\n![NIC's on a single VM](./media/resource-group-networking/Figure4.png)\n\nKey properties of a VNET resource include:\n\n- IP address space (CIDR block) \n- VNET name\n- subnets\n\nA VNET can also be associated with the following network resources:\n\n- VPN Gateway\n\nKey properties of a subnet include:\n\n- IP address prefix\n- Subnet name\n\nA subnet can also be associated with the following network resources:\n\n- NSG\n\n## Load Balancer\nA load balancer is used when you want to scale your applications. Typical deployment scenarios involve applications running on multiple VM instances. The VM instances are fronted by a load balancer that helps to distribute network traffic to the various instances. \n\n![NIC's on a single VM](./media/resource-group-networking/Figure5.png)\n\nLoad balancers contain the following child resources:\n\n- **Front end IP configuration** – a Load balancer can include one or more front end IP addresses, otherwise known as a virtual IPs (VIPs). These IP addresses serve as ingress for the traffic. \n- **Backend address pool** – these are IP addresses associated with the VM NICs to which load will be distributed.\n- **Load balancing rules** – a rule property maps a given front end IP and port combination to a set of back end IP addresses and port combination. With a single definition of a load balancer resource, you can define multiple load balancing rules, each rule reflecting a combination of a front end IP and port and back end IP and port associated with VMs. \n- **Probes** – probes enable you to keep track of the health of VM instances. If a health probe fails, the VM instance will be taken out of rotation automatically.\n- **Inbound NAT rules** – NAT rules defining the inbound traffic flowing through the front end IP and distributed to the back end IP.\n\n## Public IP\nA public IP address resource provides either a reserved or dynamic public IP address.  \nA Public IP address can be assigned to a load balancer, NAT, or associated with a private IP address on a NIC of a VM.  \n\nKey properties of a public IP resource include:\n\n- **IP allocation method** – reserved or dynamic. \n\n## Network Security Group (NSG)\nAn NSG resource enables the creation of security boundary for workloads, by implementing allow and deny rules. Such rules can be applied at the NIC level (VM instance level) or at the subnet level (group of VMs).\n\nKey properties of NSG resource include:\n\n- **Security rule** - An NSG can have multiple security rules defined. Each rule can allow or deny different types of traffic.\n\n## Security Rule\nA security rule is a child resource of an NSG. \n\nKey properties of a Security rule include: \n\n- **Protocol** – network protocol this rule applies to.\n- **Source Port Range** - source port, or range from, 0 to 65535.  A wildcard can be used to match all ports. \n- **Destination Port Range** - Destination port, or range, from 0 to 65535.  A wildcard can be used to match all ports.\n- **Source Address Prefix** – source IP address range. \n- **Destination Address Prefix** – destination IP address range.\n- **Access** – *Allow* or *Deny* traffic.\n- **Priority** – a value between 100 and 4096. The priority number must be unique for each rule in collection of security rules. The lower the priority number, the higher the priority of the rule.\n- **Direction** – specifies if the rule will be applied to traffic in the *Inbound* or *Outbound* direction. \n\n## VPN Gateway \nA VPN gateway resource enables you to create a secure connection between their on-premises data center and Azure. A VPN gateway resource can be configured in three different ways:\n \n- **Point to Site** – you can securely access your Azure resources hosted in a VNET by using a VPN client from any computer. \n- **Multi-site connection** – you can securely connect from your on-premises data centers to resources running in a VNET. \n- **VNET to VNET** – you can securely connect across Azure VNETS within the same region, or across regions to build workloads with geo-redundancy.\n\nKey properties of a VPN gateway include:\n \n- **Gateway type** - dynamically routed or a static routed gateway. \n- **VPN Client Address Pool Prefix** – IP addresses to be assigned to clients connecting in a point to site configuration.\n\n## Traffic Manager Profile\nTraffic manager and its child endpoint resource enable distribution of your traffic to endpoints in Azure and outside of Azure. Such traffic distribution is governed by policies. Traffic manager also allows endpoint health to be monitored, and traffic diverted appropriately based on the health of an endpoint. \n\nKey properties of a traffic manager profile include:\n\n- **Traffic routing method** - possible values are *Performance*, *Weighted*, and *Priority*.\n- **DNS configuration** - FQDN for the profile.\n- **Protocol** - monitoring protocol, possible values are *HTTP* and *HTTPS*.\n- **Port** - monitoring port. \n- **Path** - monitoring path.\n- **Endpoints** - container for endpoint resources.\n\n## Endpoint \nAn endpoint is a child resource of a Traffic Manager Profile. It represents a service or web endpoint to which user traffic is distributed based on the configured policy in the Traffic Manager Profile resource. \n\nKey properties of an endpoint include:\n \n- **Type** - the type of the endpoint, possible values are *Azure End point*, *External Endpoint*, and  *Nested Endpoint*. \n- **Target Resource ID** – public IP address of a service or web endpoint. This can be an Azure or external endpoint.\n- **Weight** - endpoint weight used in traffic management. \n- **Priority** - priority of the endpoint, used to define a failover action. \n\n## Using a template\n\nYou can deploy services to Azure from a template by using PowerShell, AzureCLI, or by performing a click to deploy from GitHub. To deploy services from a template in GitHub, execute the following steps:\n\n1. Open the template3 file from GitHub. As an example, open [Virtual network with two subnets](https://github.com/Azure/azure-quickstart-templates/tree/master/101-virtual-network).\n2. Click on **Deploy to Azure**, and then sign in on to the Azure portal with your credentials.\n3. Verify the template, and then click **Save**.\n4. Click **Edit parameters** and select a location, such as *West US*, for the vnet and subnets.\n5. If necessary, change the **ADDRESSPREFIX** and **SUBNETPREFIX** parameters, and then click **OK**.\n6. Click **Select a resource group** and then click on the resource group you want to add the vnet and subnets to. Alternatively, you can create a new resource group by clicking **Or create new**.\n3. Click **Create**. Notice the tile displaying **Provisioning Template deployment**. Once the deployment is done, you will see a screen similar to one below.\n\n![Sample template deployment](./media/resource-group-networking/Figure6.png)\n\n## See Also\n\n[Azure Networking API reference](https://msdn.microsoft.com/library/azure/dn948464.aspx)\n\n[Azure PowerShell reference for networking](https://msdn.microsoft.com/library/azure/mt163510.aspx)\n\n[Azure Resource Manager Template Language](../resource-group-authoring-templates.md)\n\n[Azure Networking – commonly used templates](https://github.com/Azure/azure-quickstart-templates)\n\n[Compute Resource Provider](../virtual-machines-azurerm-versus-azuresm)\n\n[Azure Resource Manager Overview](../resource-group-overview)\n\n[Role based access control in Azure Resource Manager](https://msdn.microsoft.com/library/azure/dn906885.aspx) \n\n[Using Tags in Azure Resource Manager](https://msdn.microsoft.com/library/azure/dn848368.aspx)\n\n[Template deployments](https://msdn.microsoft.com/library/azure/dn790549.aspx) \n\ntest\n"
}