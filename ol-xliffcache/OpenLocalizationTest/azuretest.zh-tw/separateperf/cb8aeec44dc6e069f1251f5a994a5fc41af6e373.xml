{
  "nodes": [
    {
      "content": "Azure Resource Manager Template Functions",
      "pos": [
        26,
        67
      ]
    },
    {
      "content": "Describes the functions to use in an Azure Resource Manager template to retrieve values, format strings and retrieve deployment information.",
      "pos": [
        85,
        225
      ]
    },
    {
      "content": "Azure Resource Manager Template Functions",
      "pos": [
        532,
        573
      ]
    },
    {
      "content": "This topic describes all of the functions you can use in an Azure Resource Manager template.",
      "pos": [
        575,
        667
      ]
    },
    {
      "content": "add",
      "pos": [
        672,
        675
      ]
    },
    {
      "content": "add(operand1, operand2)",
      "pos": [
        679,
        702
      ]
    },
    {
      "content": "Returns the sum of the two provided integers.",
      "pos": [
        706,
        751
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        755,
        764
      ]
    },
    {
      "content": "Required",
      "pos": [
        792,
        800
      ]
    },
    {
      "content": "Description",
      "pos": [
        803,
        814
      ]
    },
    {
      "content": "operand1",
      "pos": [
        879,
        887
      ]
    },
    {
      "content": "Yes",
      "pos": [
        918,
        921
      ]
    },
    {
      "content": "First operand to use.",
      "pos": [
        927,
        948
      ]
    },
    {
      "content": "operand2",
      "pos": [
        951,
        959
      ]
    },
    {
      "content": "Yes",
      "pos": [
        990,
        993
      ]
    },
    {
      "content": "Second operand to use.",
      "pos": [
        999,
        1021
      ]
    },
    {
      "content": "base64",
      "pos": [
        1027,
        1033
      ]
    },
    {
      "content": "base64 (inputString)",
      "pos": [
        1037,
        1057
      ]
    },
    {
      "content": "Returns the base64 representation of the input string.",
      "pos": [
        1061,
        1115
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        1119,
        1128
      ]
    },
    {
      "content": "Required",
      "pos": [
        1156,
        1164
      ]
    },
    {
      "content": "Description",
      "pos": [
        1167,
        1178
      ]
    },
    {
      "content": "inputString",
      "pos": [
        1243,
        1254
      ]
    },
    {
      "content": "Yes",
      "pos": [
        1282,
        1285
      ]
    },
    {
      "content": "The string value to return as a base64 representation.",
      "pos": [
        1291,
        1345
      ]
    },
    {
      "content": "The following example show how to use the base64 function.",
      "pos": [
        1347,
        1405
      ]
    },
    {
      "content": "concat",
      "pos": [
        1623,
        1629
      ]
    },
    {
      "content": "concat (arg1, arg2, arg3, ...)",
      "pos": [
        1633,
        1663
      ]
    },
    {
      "content": "Combines multiple string values and returns the resulting string value.",
      "pos": [
        1667,
        1738
      ]
    },
    {
      "content": "This function can take any number of arguments.",
      "pos": [
        1739,
        1786
      ]
    },
    {
      "content": "The following example shows how to combine multiple values to return a value.",
      "pos": [
        1788,
        1865
      ]
    },
    {
      "content": "copyIndex",
      "pos": [
        2076,
        2085
      ]
    },
    {
      "content": "copyIndex(offset)",
      "pos": [
        2089,
        2106
      ]
    },
    {
      "content": "Returns the current index of an iteration loop.",
      "pos": [
        2110,
        2157
      ]
    },
    {
      "content": "For examples of using this function, see <bpt id=\"p1\">[</bpt>Create multiple instances of resources in Azure Resource Manager<ept id=\"p1\">](resource-group-create-multiple.md)</ept>.",
      "pos": [
        2158,
        2301
      ]
    },
    {
      "content": "deployment",
      "pos": [
        2306,
        2316
      ]
    },
    {
      "content": "deployment()",
      "pos": [
        2320,
        2332
      ]
    },
    {
      "content": "Returns information about the current deployment operation.",
      "pos": [
        2336,
        2395
      ]
    },
    {
      "content": "The information about the deployment is returned as an object with the following properties:",
      "pos": [
        2397,
        2489
      ]
    },
    {
      "content": "The following example shows how to return deployment information in the outputs section.",
      "pos": [
        2654,
        2742
      ]
    },
    {
      "content": "div",
      "pos": [
        2865,
        2868
      ]
    },
    {
      "content": "div(operand1, operand2)",
      "pos": [
        2872,
        2895
      ]
    },
    {
      "content": "Returns the integer division of the two provided integers.",
      "pos": [
        2899,
        2957
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        2961,
        2970
      ]
    },
    {
      "content": "Required",
      "pos": [
        2998,
        3006
      ]
    },
    {
      "content": "Description",
      "pos": [
        3009,
        3020
      ]
    },
    {
      "content": "operand1",
      "pos": [
        3085,
        3093
      ]
    },
    {
      "content": "Yes",
      "pos": [
        3124,
        3127
      ]
    },
    {
      "content": "Number being divided.",
      "pos": [
        3133,
        3154
      ]
    },
    {
      "content": "operand2",
      "pos": [
        3157,
        3165
      ]
    },
    {
      "content": "Yes",
      "pos": [
        3196,
        3199
      ]
    },
    {
      "content": "Number which is used to divide, has to be different from 0.",
      "pos": [
        3205,
        3264
      ]
    },
    {
      "content": "length",
      "pos": [
        3269,
        3275
      ]
    },
    {
      "content": "length(array)",
      "pos": [
        3279,
        3292
      ]
    },
    {
      "content": "Returns the number of elements in an array.",
      "pos": [
        3296,
        3339
      ]
    },
    {
      "content": "Typically, used to specify the number of iterations when creating resources.",
      "pos": [
        3340,
        3416
      ]
    },
    {
      "content": "For an example of using this function, see <bpt id=\"p1\">[</bpt>Create multiple instances of resources in Azure Resource Manager<ept id=\"p1\">](resource-group-create-multiple.md)</ept>.",
      "pos": [
        3417,
        3562
      ]
    },
    {
      "content": "listKeys",
      "pos": [
        3567,
        3575
      ]
    },
    {
      "content": "listKeys (resourceName or resourceIdentifier, [apiVersion])",
      "pos": [
        3579,
        3638
      ]
    },
    {
      "content": "Returns the keys of a storage account.",
      "pos": [
        3642,
        3680
      ]
    },
    {
      "content": "The resourceId can be specified by using the <bpt id=\"p1\">[</bpt>resourceId function<ept id=\"p1\">](./#resourceid)</ept> or by using the format <bpt id=\"p2\">**</bpt>providerNamespace/resourceType/resourceName<ept id=\"p2\">**</ept>.",
      "pos": [
        3681,
        3834
      ]
    },
    {
      "content": "You can use the function to get the primaryKey and secondaryKey.",
      "pos": [
        3835,
        3899
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        3905,
        3914
      ]
    },
    {
      "content": "Required",
      "pos": [
        3942,
        3950
      ]
    },
    {
      "content": "Description",
      "pos": [
        3953,
        3964
      ]
    },
    {
      "content": "resourceName or resourceIdentifier",
      "pos": [
        4029,
        4063
      ]
    },
    {
      "content": "Yes",
      "pos": [
        4068,
        4071
      ]
    },
    {
      "content": "Unique identifier of a storage account.",
      "pos": [
        4077,
        4116
      ]
    },
    {
      "content": "apiVersion",
      "pos": [
        4119,
        4129
      ]
    },
    {
      "content": "Yes",
      "pos": [
        4158,
        4161
      ]
    },
    {
      "content": "API version of resource runtime state.",
      "pos": [
        4167,
        4205
      ]
    },
    {
      "content": "The following example shows how to return the keys from a storage account in the outputs section.",
      "pos": [
        4207,
        4304
      ]
    },
    {
      "content": "mod",
      "pos": [
        4578,
        4581
      ]
    },
    {
      "content": "mod(operand1, operand2)",
      "pos": [
        4585,
        4608
      ]
    },
    {
      "content": "Returns the remainder of the integer division using the two provided integers.",
      "pos": [
        4612,
        4690
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        4694,
        4703
      ]
    },
    {
      "content": "Required",
      "pos": [
        4731,
        4739
      ]
    },
    {
      "content": "Description",
      "pos": [
        4742,
        4753
      ]
    },
    {
      "content": "operand1",
      "pos": [
        4818,
        4826
      ]
    },
    {
      "content": "Yes",
      "pos": [
        4857,
        4860
      ]
    },
    {
      "content": "Number being divided.",
      "pos": [
        4866,
        4887
      ]
    },
    {
      "content": "operand2",
      "pos": [
        4890,
        4898
      ]
    },
    {
      "content": "Yes",
      "pos": [
        4929,
        4932
      ]
    },
    {
      "content": "Number which is used to divide, has to be different from 0.",
      "pos": [
        4938,
        4997
      ]
    },
    {
      "content": "mul",
      "pos": [
        5003,
        5006
      ]
    },
    {
      "content": "mul(operand1, operand2)",
      "pos": [
        5010,
        5033
      ]
    },
    {
      "content": "Returns the multiplication of the two provided integers.",
      "pos": [
        5037,
        5093
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        5097,
        5106
      ]
    },
    {
      "content": "Required",
      "pos": [
        5134,
        5142
      ]
    },
    {
      "content": "Description",
      "pos": [
        5145,
        5156
      ]
    },
    {
      "content": "operand1",
      "pos": [
        5221,
        5229
      ]
    },
    {
      "content": "Yes",
      "pos": [
        5260,
        5263
      ]
    },
    {
      "content": "First operand to use.",
      "pos": [
        5269,
        5290
      ]
    },
    {
      "content": "operand2",
      "pos": [
        5293,
        5301
      ]
    },
    {
      "content": "Yes",
      "pos": [
        5332,
        5335
      ]
    },
    {
      "content": "Second operand to use.",
      "pos": [
        5341,
        5363
      ]
    },
    {
      "content": "padLeft",
      "pos": [
        5369,
        5376
      ]
    },
    {
      "content": "padLeft(stringToPad, totalLength, paddingCharacter)",
      "pos": [
        5380,
        5431
      ]
    },
    {
      "content": "Returns a right-aligned string by adding characters to the left until reaching the total specified length.",
      "pos": [
        5435,
        5541
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        5547,
        5556
      ]
    },
    {
      "content": "Required",
      "pos": [
        5584,
        5592
      ]
    },
    {
      "content": "Description",
      "pos": [
        5595,
        5606
      ]
    },
    {
      "content": "stringToPad",
      "pos": [
        5671,
        5682
      ]
    },
    {
      "content": "Yes",
      "pos": [
        5710,
        5713
      ]
    },
    {
      "content": "The string to right-align.",
      "pos": [
        5719,
        5745
      ]
    },
    {
      "content": "totalLength",
      "pos": [
        5748,
        5759
      ]
    },
    {
      "content": "Yes",
      "pos": [
        5787,
        5790
      ]
    },
    {
      "content": "The total number of characters in the returned string.",
      "pos": [
        5796,
        5850
      ]
    },
    {
      "content": "paddingCharacter",
      "pos": [
        5853,
        5869
      ]
    },
    {
      "content": "Yes",
      "pos": [
        5892,
        5895
      ]
    },
    {
      "content": "The character to use for left-padding until the total length is reached.",
      "pos": [
        5901,
        5973
      ]
    },
    {
      "content": "The following example shows how to pad the user-provided parameter value by adding the zero character until the string reaches 10 characters.",
      "pos": [
        5975,
        6116
      ]
    },
    {
      "content": "If the original parameter value is longer than 10 characters, no characters are added.",
      "pos": [
        6117,
        6203
      ]
    },
    {
      "content": "parameters",
      "pos": [
        6370,
        6380
      ]
    },
    {
      "content": "parameters (parameterName)",
      "pos": [
        6384,
        6410
      ]
    },
    {
      "content": "Returns a parameter value.",
      "pos": [
        6414,
        6440
      ]
    },
    {
      "content": "The specified parameter name must be defined in the parameters section of the template.",
      "pos": [
        6441,
        6528
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        6532,
        6541
      ]
    },
    {
      "content": "Required",
      "pos": [
        6569,
        6577
      ]
    },
    {
      "content": "Description",
      "pos": [
        6580,
        6591
      ]
    },
    {
      "content": "parameterName",
      "pos": [
        6656,
        6669
      ]
    },
    {
      "content": "Yes",
      "pos": [
        6695,
        6698
      ]
    },
    {
      "content": "The name of the parameter to return.",
      "pos": [
        6704,
        6740
      ]
    },
    {
      "content": "The following example shows a simplified use of the parameters function.",
      "pos": [
        6742,
        6814
      ]
    },
    {
      "content": "provider",
      "pos": [
        7085,
        7093
      ]
    },
    {
      "content": "provider (providerNamespace, [resourceType])",
      "pos": [
        7097,
        7141
      ]
    },
    {
      "content": "Return information about a resource provider and its supported resource types.",
      "pos": [
        7145,
        7223
      ]
    },
    {
      "content": "If not type is provided, all of the supported types are returned.",
      "pos": [
        7224,
        7289
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        7293,
        7302
      ]
    },
    {
      "content": "Required",
      "pos": [
        7330,
        7338
      ]
    },
    {
      "content": "Description",
      "pos": [
        7341,
        7352
      ]
    },
    {
      "content": "providerNamespace",
      "pos": [
        7417,
        7434
      ]
    },
    {
      "content": "Yes",
      "pos": [
        7456,
        7459
      ]
    },
    {
      "content": "Namespace of the provider",
      "pos": [
        7465,
        7490
      ]
    },
    {
      "content": "resourceType",
      "pos": [
        7493,
        7505
      ]
    },
    {
      "content": "No",
      "pos": [
        7532,
        7534
      ]
    },
    {
      "content": "The type of resource within the specified namespace.",
      "pos": [
        7541,
        7593
      ]
    },
    {
      "content": "Each supported type is returned in the following format:",
      "pos": [
        7595,
        7651
      ]
    },
    {
      "content": "The following example shows how to use the provider function:",
      "pos": [
        7747,
        7808
      ]
    },
    {
      "content": "reference",
      "pos": [
        7980,
        7989
      ]
    },
    {
      "content": "reference (resourceName or resourceIdentifier, [apiVersion])",
      "pos": [
        7993,
        8053
      ]
    },
    {
      "content": "Enables an expression to derive its value from another resource's runtime state.",
      "pos": [
        8057,
        8137
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        8141,
        8150
      ]
    },
    {
      "content": "Required",
      "pos": [
        8178,
        8186
      ]
    },
    {
      "content": "Description",
      "pos": [
        8189,
        8200
      ]
    },
    {
      "content": "resourceName or resourceIdentifier",
      "pos": [
        8265,
        8299
      ]
    },
    {
      "content": "Yes",
      "pos": [
        8304,
        8307
      ]
    },
    {
      "content": "Name or the unique identifier of a resource.",
      "pos": [
        8313,
        8357
      ]
    },
    {
      "content": "apiVersion",
      "pos": [
        8360,
        8370
      ]
    },
    {
      "content": "No",
      "pos": [
        8399,
        8401
      ]
    },
    {
      "content": "API version of resource runtime state.",
      "pos": [
        8408,
        8446
      ]
    },
    {
      "content": "Parameter should be used if resource is not provisioned within same template.",
      "pos": [
        8447,
        8524
      ]
    },
    {
      "content": "The <bpt id=\"p1\">**</bpt>reference<ept id=\"p1\">**</ept> function derives its value from a runtime state, and therefore cannot be used in the variables section.",
      "pos": [
        8526,
        8647
      ]
    },
    {
      "content": "It can be used in outputs section of a template.",
      "pos": [
        8648,
        8696
      ]
    },
    {
      "content": "By using the reference expression, you implicitly declare that one resource depends on another resource if the referenced resource is provisioned within same template.",
      "pos": [
        8698,
        8865
      ]
    },
    {
      "content": "You do not need to also use the <bpt id=\"p1\">**</bpt>dependsOn<ept id=\"p1\">**</ept> property.",
      "pos": [
        8866,
        8921
      ]
    },
    {
      "content": "The expression is not evaluated until the referenced resource has completed deployment.",
      "pos": [
        8923,
        9010
      ]
    },
    {
      "content": "replace",
      "pos": [
        9217,
        9224
      ]
    },
    {
      "content": "replace(originalString, oldCharacter, newCharacter)",
      "pos": [
        9228,
        9279
      ]
    },
    {
      "content": "Returns a new string with all instances of one character in the specified string replaced by another character.",
      "pos": [
        9283,
        9394
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        9398,
        9407
      ]
    },
    {
      "content": "Required",
      "pos": [
        9435,
        9443
      ]
    },
    {
      "content": "Description",
      "pos": [
        9446,
        9457
      ]
    },
    {
      "content": "originalString",
      "pos": [
        9522,
        9536
      ]
    },
    {
      "content": "Yes",
      "pos": [
        9561,
        9564
      ]
    },
    {
      "content": "The string that will have all instances of one character replaced by another character.",
      "pos": [
        9570,
        9657
      ]
    },
    {
      "content": "oldCharacter",
      "pos": [
        9660,
        9672
      ]
    },
    {
      "content": "Yes",
      "pos": [
        9699,
        9702
      ]
    },
    {
      "content": "The character to be removed from the original string.",
      "pos": [
        9708,
        9761
      ]
    },
    {
      "content": "newCharacter",
      "pos": [
        9764,
        9776
      ]
    },
    {
      "content": "Yes",
      "pos": [
        9803,
        9806
      ]
    },
    {
      "content": "The character to add in place of the removed character.",
      "pos": [
        9812,
        9867
      ]
    },
    {
      "content": "The following example shows how to remove all dashes from the user-provided string.",
      "pos": [
        9869,
        9952
      ]
    },
    {
      "content": "resourceGroup",
      "pos": [
        10124,
        10137
      ]
    },
    {
      "content": "resourceGroup()",
      "pos": [
        10141,
        10156
      ]
    },
    {
      "content": "Returns a structured object that represents the current resource group.",
      "pos": [
        10160,
        10231
      ]
    },
    {
      "content": "The object will be in the following format:",
      "pos": [
        10232,
        10275
      ]
    },
    {
      "content": "The following example uses the resource group location to assign the location for a web site.",
      "pos": [
        10454,
        10547
      ]
    },
    {
      "content": "resourceId",
      "pos": [
        10787,
        10797
      ]
    },
    {
      "content": "resourceId ([resourceGroupName], resourceType, resourceName1, [resourceName2]...)",
      "pos": [
        10801,
        10882
      ]
    },
    {
      "content": "Returns the unique identifier of a resource.",
      "pos": [
        10886,
        10930
      ]
    },
    {
      "content": "You use this function when the resource name is ambiguous or not provisioned within the same template.",
      "pos": [
        10931,
        11033
      ]
    },
    {
      "content": "The identifier is returned in the following format:",
      "pos": [
        11034,
        11085
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        11225,
        11234
      ]
    },
    {
      "content": "Required",
      "pos": [
        11245,
        11253
      ]
    },
    {
      "content": "Description",
      "pos": [
        11256,
        11267
      ]
    },
    {
      "content": "resourceGroupName",
      "pos": [
        11315,
        11332
      ]
    },
    {
      "content": "No",
      "pos": [
        11337,
        11339
      ]
    },
    {
      "content": "Optional resource group name.",
      "pos": [
        11346,
        11375
      ]
    },
    {
      "content": "Default value is current resource group.",
      "pos": [
        11376,
        11416
      ]
    },
    {
      "content": "Specify this value when you retrieving a resource in another resource group.",
      "pos": [
        11417,
        11493
      ]
    },
    {
      "content": "resourceType",
      "pos": [
        11496,
        11508
      ]
    },
    {
      "content": "Yes",
      "pos": [
        11518,
        11521
      ]
    },
    {
      "content": "Type of resource including resource provider namespace.",
      "pos": [
        11527,
        11582
      ]
    },
    {
      "content": "resourceName1",
      "pos": [
        11585,
        11598
      ]
    },
    {
      "content": "Yes",
      "pos": [
        11607,
        11610
      ]
    },
    {
      "content": "Name of resource.",
      "pos": [
        11616,
        11633
      ]
    },
    {
      "content": "resourceName2",
      "pos": [
        11636,
        11649
      ]
    },
    {
      "content": "No",
      "pos": [
        11658,
        11660
      ]
    },
    {
      "content": "Next resource name segment if resource is nested.",
      "pos": [
        11667,
        11716
      ]
    },
    {
      "content": "The following example shows how to retrieve the resource ids for a web site and a database.",
      "pos": [
        11718,
        11809
      ]
    },
    {
      "content": "The web site exists in a resource group named <bpt id=\"p1\">**</bpt>myWebsitesGroup<ept id=\"p1\">**</ept> and the database exists in the current resource group for this template.",
      "pos": [
        11810,
        11948
      ]
    },
    {
      "content": "Often, you need to use this function when using a storage account or virtual network in an alternate resource group.",
      "pos": [
        12143,
        12259
      ]
    },
    {
      "content": "The storage account or virtual network may be used across multiple resource groups; therefore, you do not want to delete them when deleting a single resource group.",
      "pos": [
        12260,
        12424
      ]
    },
    {
      "content": "The following example shows how a resource from an external resource group can easily be used:",
      "pos": [
        12425,
        12519
      ]
    },
    {
      "content": "split",
      "pos": [
        13881,
        13886
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>split(inputString, delimiter)<ept id=\"p1\">**</ept>",
      "pos": [
        13888,
        13921
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>split(inputString, [delimiters])<ept id=\"p1\">**</ept>",
      "pos": [
        13922,
        13958
      ]
    },
    {
      "content": "Returns an array of strings that contains the substrings of the input string that are delimited by the sent delimiters.",
      "pos": [
        13960,
        14079
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        14083,
        14092
      ]
    },
    {
      "content": "Required",
      "pos": [
        14120,
        14128
      ]
    },
    {
      "content": "Description",
      "pos": [
        14131,
        14142
      ]
    },
    {
      "content": "inputString",
      "pos": [
        14207,
        14218
      ]
    },
    {
      "content": "Yes",
      "pos": [
        14246,
        14249
      ]
    },
    {
      "content": "The string to to be splitted.",
      "pos": [
        14255,
        14284
      ]
    },
    {
      "content": "delimiter",
      "pos": [
        14287,
        14296
      ]
    },
    {
      "content": "Yes",
      "pos": [
        14326,
        14329
      ]
    },
    {
      "content": "The delimiter to use, can be a single string or an array of strings.",
      "pos": [
        14335,
        14403
      ]
    },
    {
      "content": "The following example splits the input string with a comma.",
      "pos": [
        14405,
        14464
      ]
    },
    {
      "content": "sub",
      "pos": [
        14633,
        14636
      ]
    },
    {
      "content": "sub(operand1, operand2)",
      "pos": [
        14640,
        14663
      ]
    },
    {
      "content": "Returns the subtraction of the two provided integers.",
      "pos": [
        14667,
        14720
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        14724,
        14733
      ]
    },
    {
      "content": "Required",
      "pos": [
        14761,
        14769
      ]
    },
    {
      "content": "Description",
      "pos": [
        14772,
        14783
      ]
    },
    {
      "content": "operand1",
      "pos": [
        14848,
        14856
      ]
    },
    {
      "content": "Yes",
      "pos": [
        14887,
        14890
      ]
    },
    {
      "content": "Number which is to be subtracted from.",
      "pos": [
        14896,
        14934
      ]
    },
    {
      "content": "operand2",
      "pos": [
        14937,
        14945
      ]
    },
    {
      "content": "Yes",
      "pos": [
        14976,
        14979
      ]
    },
    {
      "content": "Number to be subtracted.",
      "pos": [
        14985,
        15009
      ]
    },
    {
      "content": "subscription",
      "pos": [
        15015,
        15027
      ]
    },
    {
      "content": "subscription()",
      "pos": [
        15031,
        15045
      ]
    },
    {
      "content": "Returns details about the subscription in the following format.",
      "pos": [
        15049,
        15112
      ]
    },
    {
      "content": "The following example shows the subscription function called in the outputs section.",
      "pos": [
        15198,
        15282
      ]
    },
    {
      "content": "toLower",
      "pos": [
        15418,
        15425
      ]
    },
    {
      "content": "toLower(stringToChange)",
      "pos": [
        15429,
        15452
      ]
    },
    {
      "content": "Converts the specified string to lower case.",
      "pos": [
        15456,
        15500
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        15504,
        15513
      ]
    },
    {
      "content": "Required",
      "pos": [
        15541,
        15549
      ]
    },
    {
      "content": "Description",
      "pos": [
        15552,
        15563
      ]
    },
    {
      "content": "stringToChange",
      "pos": [
        15628,
        15642
      ]
    },
    {
      "content": "Yes",
      "pos": [
        15667,
        15670
      ]
    },
    {
      "content": "The string to convert to lower case.",
      "pos": [
        15676,
        15712
      ]
    },
    {
      "content": "The following example converts the user-provided parameter value to lower case.",
      "pos": [
        15714,
        15793
      ]
    },
    {
      "content": "toUpper",
      "pos": [
        15955,
        15962
      ]
    },
    {
      "content": "toUpper(stringToChange)",
      "pos": [
        15966,
        15989
      ]
    },
    {
      "content": "Converts the specified string to upper case.",
      "pos": [
        15993,
        16037
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        16041,
        16050
      ]
    },
    {
      "content": "Required",
      "pos": [
        16078,
        16086
      ]
    },
    {
      "content": "Description",
      "pos": [
        16089,
        16100
      ]
    },
    {
      "content": "stringToChange",
      "pos": [
        16165,
        16179
      ]
    },
    {
      "content": "Yes",
      "pos": [
        16204,
        16207
      ]
    },
    {
      "content": "The string to convert to upper case.",
      "pos": [
        16213,
        16249
      ]
    },
    {
      "content": "The following example converts the user-provided parameter value to upper case.",
      "pos": [
        16251,
        16330
      ]
    },
    {
      "content": "variables",
      "pos": [
        16493,
        16502
      ]
    },
    {
      "content": "variables (variableName)",
      "pos": [
        16506,
        16530
      ]
    },
    {
      "content": "Returns the value of variable.",
      "pos": [
        16534,
        16564
      ]
    },
    {
      "content": "The specified variable name must be defined in the variables section of the template.",
      "pos": [
        16565,
        16650
      ]
    },
    {
      "content": "Parameter",
      "pos": [
        16654,
        16663
      ]
    },
    {
      "content": "Required",
      "pos": [
        16691,
        16699
      ]
    },
    {
      "content": "Description",
      "pos": [
        16702,
        16713
      ]
    },
    {
      "content": "variable Name",
      "pos": [
        16778,
        16791
      ]
    },
    {
      "content": "Yes",
      "pos": [
        16817,
        16820
      ]
    },
    {
      "content": "The name of the variable to return.",
      "pos": [
        16826,
        16861
      ]
    },
    {
      "content": "Next Steps",
      "pos": [
        16867,
        16877
      ]
    },
    {
      "pos": [
        16880,
        17040
      ],
      "content": "For a description of the sections in an Azure Resource Manager template, see <bpt id=\"p1\">[</bpt>Authoring Azure Resource Manager templates<ept id=\"p1\">](resource-group-authoring-templates.md)</ept>"
    },
    {
      "pos": [
        17043,
        17164
      ],
      "content": "To merge multiple templates, see <bpt id=\"p1\">[</bpt>Using linked templates with Azure Resource Manager<ept id=\"p1\">](resource-group-linked-templates.md)</ept>"
    },
    {
      "pos": [
        17167,
        17345
      ],
      "content": "To iterate a specified number of times when creating a type of resource, see <bpt id=\"p1\">[</bpt>Create multiple instances of resources in Azure Resource Manager<ept id=\"p1\">](resource-group-create-multiple.md)</ept>"
    },
    {
      "pos": [
        17348,
        17512
      ],
      "content": "To see how to deploy the template you have created, see <bpt id=\"p1\">[</bpt>Deploy an application with Azure Resource Manager template<ept id=\"p1\">](azure-portal/resource-group-template-deploy.md)</ept>"
    },
    {
      "content": "test",
      "pos": [
        17515,
        17519
      ]
    }
  ],
  "content": "<properties\n   pageTitle=\"Azure Resource Manager Template Functions\"\n   description=\"Describes the functions to use in an Azure Resource Manager template to retrieve values, format strings and retrieve deployment information.\"\n   services=\"azure-resource-manager\"\n   documentationCenter=\"na\"\n   authors=\"tfitzmac\"\n   manager=\"wpickett\"\n   editor=\"\"/>\n\n<tags\n   ms.service=\"azure-resource-manager\"\n   ms.devlang=\"na\"\n   ms.topic=\"article\"\n   ms.tgt_pltfrm=\"na\"\n   ms.workload=\"na\"\n   ms.date=\"08/21/2015\"\n   ms.author=\"tomfitz\"/>\n\n# Azure Resource Manager Template Functions\n\nThis topic describes all of the functions you can use in an Azure Resource Manager template.\n\n## add\n\n**add(operand1, operand2)**\n\nReturns the sum of the two provided integers.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| operand1                           |   Yes    | First operand to use.\n| operand2                           |   Yes    | Second operand to use.\n\n\n## base64\n\n**base64 (inputString)**\n\nReturns the base64 representation of the input string.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| inputString                        |   Yes    | The string value to return as a base64 representation.\n\nThe following example show how to use the base64 function.\n\n    \"variables\": {\n      \"usernameAndPassword\": \"[concat('parameters('username'), ':', parameters('password'))]\",\n      \"authorizationHeader\": \"[concat('Basic ', base64(variables('usernameAndPassword')))]\"\n    }\n\n## concat\n\n**concat (arg1, arg2, arg3, ...)**\n\nCombines multiple string values and returns the resulting string value. This function can take any number of arguments.\n\nThe following example shows how to combine multiple values to return a value.\n\n    \"outputs\": {\n        \"siteUri\": {\n          \"type\": \"string\",\n          \"value\": \"[concat('http://',reference(resourceId('Microsoft.Web/sites', parameters('siteName'))).hostNames[0])]\"\n        }\n    }\n\n## copyIndex\n\n**copyIndex(offset)**\n\nReturns the current index of an iteration loop. For examples of using this function, see [Create multiple instances of resources in Azure Resource Manager](resource-group-create-multiple.md).\n\n## deployment\n\n**deployment()**\n\nReturns information about the current deployment operation.\n\nThe information about the deployment is returned as an object with the following properties:\n\n    {\n      \"name\": \"\",\n      \"properties\": {\n        \"template\": {},\n        \"parameters\": {},\n        \"mode\": \"\",\n        \"provisioningState\": \"\"\n      }\n    }\n\nThe following example shows how to return deployment information in the outputs section.\n\n    \"outputs\": {\n      \"exampleOutput\": {\n        \"value\": \"[deployment()]\",\n        \"type\" : \"object\"\n      }\n    }\n\n## div\n\n**div(operand1, operand2)**\n\nReturns the integer division of the two provided integers.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| operand1                           |   Yes    | Number being divided.\n| operand2                           |   Yes    | Number which is used to divide, has to be different from 0.\n\n## length\n\n**length(array)**\n\nReturns the number of elements in an array. Typically, used to specify the number of iterations when creating resources. For an example of using this function, see [Create multiple instances of resources in Azure Resource Manager](resource-group-create-multiple.md).\n\n## listKeys\n\n**listKeys (resourceName or resourceIdentifier, [apiVersion])**\n\nReturns the keys of a storage account. The resourceId can be specified by using the [resourceId function](./#resourceid) or by using the format **providerNamespace/resourceType/resourceName**. You can use the function to get the primaryKey and secondaryKey.\n  \n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| resourceName or resourceIdentifier |   Yes    | Unique identifier of a storage account.\n| apiVersion                         |   Yes    | API version of resource runtime state.\n\nThe following example shows how to return the keys from a storage account in the outputs section.\n\n    \"outputs\": { \n      \"exampleOutput\": { \n        \"value\": \"[listKeys(resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccountName')), providers('Microsoft.Storage', 'storageAccounts').apiVersions[0])]\", \n        \"type\" : \"object\" \n      } \n    } \n\n## mod\n\n**mod(operand1, operand2)**\n\nReturns the remainder of the integer division using the two provided integers.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| operand1                           |   Yes    | Number being divided.\n| operand2                           |   Yes    | Number which is used to divide, has to be different from 0.\n\n\n## mul\n\n**mul(operand1, operand2)**\n\nReturns the multiplication of the two provided integers.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| operand1                           |   Yes    | First operand to use.\n| operand2                           |   Yes    | Second operand to use.\n\n\n## padLeft\n\n**padLeft(stringToPad, totalLength, paddingCharacter)**\n\nReturns a right-aligned string by adding characters to the left until reaching the total specified length.\n  \n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| stringToPad                        |   Yes    | The string to right-align.\n| totalLength                        |   Yes    | The total number of characters in the returned string.\n| paddingCharacter                   |   Yes    | The character to use for left-padding until the total length is reached.\n\nThe following example shows how to pad the user-provided parameter value by adding the zero character until the string reaches 10 characters. If the original parameter value is longer than 10 characters, no characters are added.\n\n    \"parameters\": {\n        \"appName\": { \"type\": \"string\" }\n    },\n    \"variables\": { \n        \"paddedAppName\": \"[padLeft(parameters('appName'),10,'0')]\"\n    }\n\n\n## parameters\n\n**parameters (parameterName)**\n\nReturns a parameter value. The specified parameter name must be defined in the parameters section of the template.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| parameterName                      |   Yes    | The name of the parameter to return.\n\nThe following example shows a simplified use of the parameters function.\n\n    \"parameters\": { \n      \"siteName\": {\n          \"type\": \"string\"\n      }\n    },\n    \"resources\": [\n       {\n          \"apiVersion\": \"2014-06-01\",\n          \"name\": \"[parameters('siteName')]\",\n          \"type\": \"Microsoft.Web/Sites\",\n          ...\n       }\n    ]\n\n## provider\n\n**provider (providerNamespace, [resourceType])**\n\nReturn information about a resource provider and its supported resource types. If not type is provided, all of the supported types are returned.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| providerNamespace                  |   Yes    | Namespace of the provider\n| resourceType                       |   No     | The type of resource within the specified namespace.\n\nEach supported type is returned in the following format:\n\n    {\n        \"resourceType\": \"\",\n        \"locations\": [ ],\n        \"apiVersions\": [ ]\n    }\n\nThe following example shows how to use the provider function:\n\n    \"outputs\": {\n        \"exampleOutput\": {\n            \"value\": \"[providers('Microsoft.Storage', 'storageAccounts')]\",\n            \"type\" : \"object\"\n        }\n    }\n\n## reference\n\n**reference (resourceName or resourceIdentifier, [apiVersion])**\n\nEnables an expression to derive its value from another resource's runtime state.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| resourceName or resourceIdentifier |   Yes    | Name or the unique identifier of a resource.\n| apiVersion                         |   No     | API version of resource runtime state. Parameter should be used if resource is not provisioned within same template.\n\nThe **reference** function derives its value from a runtime state, and therefore cannot be used in the variables section. It can be used in outputs section of a template.\n\nBy using the reference expression, you implicitly declare that one resource depends on another resource if the referenced resource is provisioned within same template. You do not need to also use the **dependsOn** property. \nThe expression is not evaluated until the referenced resource has completed deployment.\n\n    \"outputs\": {\n      \"siteUri\": {\n          \"type\": \"string\",\n          \"value\": \"[concat('http://',reference(resourceId('Microsoft.Web/sites', parameters('siteName'))).hostNames[0])]\"\n      }\n    }\n\n## replace\n\n**replace(originalString, oldCharacter, newCharacter)**\n\nReturns a new string with all instances of one character in the specified string replaced by another character.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| originalString                     |   Yes    | The string that will have all instances of one character replaced by another character.\n| oldCharacter                       |   Yes    | The character to be removed from the original string.\n| newCharacter                       |   Yes    | The character to add in place of the removed character.\n\nThe following example shows how to remove all dashes from the user-provided string.\n\n    \"parameters\": {\n        \"identifier\": { \"type\": \"string\" }\n    },\n    \"variables\": { \n        \"newidentifier\": \"[replace(parameters('identifier'),'-','')]\"\n    }\n\n## resourceGroup\n\n**resourceGroup()**\n\nReturns a structured object that represents the current resource group. The object will be in the following format:\n\n    {\n      \"id\": \"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}\",\n      \"name\": \"{resourceGroupName}\",\n      \"location\": \"{resourceGroupLocation}\",\n    }\n\nThe following example uses the resource group location to assign the location for a web site.\n\n    \"resources\": [\n       {\n          \"apiVersion\": \"2014-06-01\",\n          \"type\": \"Microsoft.Web/sites\",\n          \"name\": \"[parameters('siteName')]\",\n          \"location\": \"[resourceGroup().location]\",\n          ...\n       }\n    ]\n\n## resourceId\n\n**resourceId ([resourceGroupName], resourceType, resourceName1, [resourceName2]...)**\n\nReturns the unique identifier of a resource. You use this function when the resource name is ambiguous or not provisioned within the same template. The identifier is returned in the following format:\n\n    /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/{resourceProviderNamespace}/{resourceType}/{resourceName}\n      \n| Parameter         | Required | Description\n| :---------------: | :------: | :----------\n| resourceGroupName |   No     | Optional resource group name. Default value is current resource group. Specify this value when you retrieving a resource in another resource group.\n| resourceType      |   Yes    | Type of resource including resource provider namespace.\n| resourceName1     |   Yes    | Name of resource.\n| resourceName2     |   No     | Next resource name segment if resource is nested.\n\nThe following example shows how to retrieve the resource ids for a web site and a database. The web site exists in a resource group named **myWebsitesGroup** and the database exists in the current resource group for this template.\n\n    [resourceId('myWebsitesGroup', 'Microsoft.Web/sites', parameters('siteName'))]\n    [resourceId('Microsoft.SQL/servers/databases', parameters('serverName'),parameters('databaseName'))]\n    \nOften, you need to use this function when using a storage account or virtual network in an alternate resource group. The storage account or virtual network may be used across multiple resource groups; therefore, you do not want to delete them when deleting a single resource group. The following example shows how a resource from an external resource group can easily be used:\n\n    {\n      \"$schema\": \"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n      \"contentVersion\": \"1.0.0.0\",\n      \"parameters\": {\n          \"virtualNetworkName\": {\n              \"type\": \"string\"\n          },\n          \"virtualNetworkResourceGroup\": {\n              \"type\": \"string\"\n          },\n          \"subnet1Name\": {\n              \"type\": \"string\"\n          },\n          \"nicName\": {\n              \"type\": \"string\"\n          }\n      },\n      \"variables\": {\n          \"vnetID\": \"[resourceId(parameters('virtualNetworkResourceGroup'), 'Microsoft.Network/virtualNetworks', parameters('virtualNetworkName'))]\",\n          \"subnet1Ref\": \"[concat(variables('vnetID'),'/subnets/', parameters('subnet1Name'))]\"\n      },\n      \"resources\": [\n      {\n          \"apiVersion\": \"2015-05-01-preview\",\n          \"type\": \"Microsoft.Network/networkInterfaces\",\n          \"name\": \"[parameters('nicName')]\",\n          \"location\": \"[parameters('location')]\",\n          \"properties\": {\n              \"ipConfigurations\": [{\n                  \"name\": \"ipconfig1\",\n                  \"properties\": {\n                      \"privateIPAllocationMethod\": \"Dynamic\",\n                      \"subnet\": {\n                          \"id\": \"[variables('subnet1Ref')]\"\n                      }\n                  }\n              }]\n           }\n      }]\n    }\n\n## split\n\n**split(inputString, delimiter)**\n**split(inputString, [delimiters])**\n\nReturns an array of strings that contains the substrings of the input string that are delimited by the sent delimiters.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| inputString                        |   Yes    | The string to to be splitted.\n| delimiter                          |   Yes    | The delimiter to use, can be a single string or an array of strings.\n\nThe following example splits the input string with a comma.\n\n    \"parameters\": {\n        \"inputString\": { \"type\": \"string\" }\n    },\n    \"variables\": { \n        \"stringPieces\": \"[split(parameters('inputString'), ',')]\"\n    }\n\n## sub\n\n**sub(operand1, operand2)**\n\nReturns the subtraction of the two provided integers.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| operand1                           |   Yes    | Number which is to be subtracted from.\n| operand2                           |   Yes    | Number to be subtracted.\n\n\n## subscription\n\n**subscription()**\n\nReturns details about the subscription in the following format.\n\n    {\n        \"id\": \"/subscriptions/#####\"\n        \"subscriptionId\": \"#####\"\n    }\n\nThe following example shows the subscription function called in the outputs section. \n\n    \"outputs\": { \n      \"exampleOutput\": { \n          \"value\": \"[subscription()]\", \n          \"type\" : \"object\" \n      } \n    } \n\n## toLower\n\n**toLower(stringToChange)**\n\nConverts the specified string to lower case.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| stringToChange                     |   Yes    | The string to convert to lower case.\n\nThe following example converts the user-provided parameter value to lower case.\n\n    \"parameters\": {\n        \"appName\": { \"type\": \"string\" }\n    },\n    \"variables\": { \n        \"lowerCaseAppName\": \"[toLower(parameters('appName'))]\"\n    }\n\n## toUpper\n\n**toUpper(stringToChange)**\n\nConverts the specified string to upper case.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| stringToChange                     |   Yes    | The string to convert to upper case.\n\nThe following example converts the user-provided parameter value to upper case.\n\n    \"parameters\": {\n        \"appName\": { \"type\": \"string\" }\n    },\n    \"variables\": { \n        \"upperCaseAppName\": \"[toUpper(parameters('appName'))]\"\n    }\n\n\n## variables\n\n**variables (variableName)**\n\nReturns the value of variable. The specified variable name must be defined in the variables section of the template.\n\n| Parameter                          | Required | Description\n| :--------------------------------: | :------: | :----------\n| variable Name                      |   Yes    | The name of the variable to return.\n\n\n## Next Steps\n- For a description of the sections in an Azure Resource Manager template, see [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md)\n- To merge multiple templates, see [Using linked templates with Azure Resource Manager](resource-group-linked-templates.md)\n- To iterate a specified number of times when creating a type of resource, see [Create multiple instances of resources in Azure Resource Manager](resource-group-create-multiple.md)\n- To see how to deploy the template you have created, see [Deploy an application with Azure Resource Manager template](azure-portal/resource-group-template-deploy.md)\n\n\ntest\n"
}