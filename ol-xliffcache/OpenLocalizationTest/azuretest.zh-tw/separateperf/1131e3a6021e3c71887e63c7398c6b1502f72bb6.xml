{
  "nodes": [
    {
      "content": "How to use Notification Hubs with Java",
      "pos": [
        28,
        66
      ]
    },
    {
      "content": "Learn how to use Azure Notification Hubs from a Java back-end.",
      "pos": [
        86,
        148
      ]
    },
    {
      "content": "How to use Notification Hubs from Java",
      "pos": [
        467,
        505
      ]
    },
    {
      "content": "[AZURE.SELECTOR]",
      "pos": [
        508,
        524
      ]
    },
    {
      "content": "Java",
      "pos": [
        529,
        533
      ]
    },
    {
      "content": "PHP",
      "pos": [
        579,
        582
      ]
    },
    {
      "content": "Python",
      "pos": [
        631,
        637
      ]
    },
    {
      "content": "Node.js",
      "pos": [
        700,
        707
      ]
    },
    {
      "content": "This topic describes the key features of the new fully supported official Azure Notification Hub Java SDK.",
      "pos": [
        776,
        882
      ]
    },
    {
      "content": "This is an open source project and you can view the entire SDK code at <bpt id=\"p1\">[</bpt><ept id=\"p1\">Java SDK]</ept>.",
      "pos": [
        884,
        966
      ]
    },
    {
      "content": "In general, you can access all Notification Hubs features from a Java/PHP/Python/Ruby back-end using the Notification Hub REST interface as described in the MSDN topic <bpt id=\"p1\">[</bpt>Notification Hubs REST APIs<ept id=\"p1\">](http://msdn.microsoft.com/library/dn223264.aspx)</ept>.",
      "pos": [
        969,
        1216
      ]
    },
    {
      "content": "This Java SDK provides a thin wrapper over these REST interfaces in Java.",
      "pos": [
        1217,
        1290
      ]
    },
    {
      "content": "The SDK supports currently:",
      "pos": [
        1293,
        1320
      ]
    },
    {
      "content": "CRUD on Notification Hubs",
      "pos": [
        1324,
        1349
      ]
    },
    {
      "content": "CRUD on Registrations",
      "pos": [
        1353,
        1374
      ]
    },
    {
      "content": "Installation Management",
      "pos": [
        1377,
        1400
      ]
    },
    {
      "content": "Import/Export Registrations",
      "pos": [
        1403,
        1430
      ]
    },
    {
      "content": "Regular Sends",
      "pos": [
        1433,
        1446
      ]
    },
    {
      "content": "Scheduled Sends",
      "pos": [
        1449,
        1464
      ]
    },
    {
      "content": "Async operations via Java NIO",
      "pos": [
        1467,
        1496
      ]
    },
    {
      "content": "Supported platforms: APNS (iOS), GCM (Android), WNS (Windows Store apps), MPNS(Windows Phone), ADM (Amazon Kindle Fire), Baidu (Android without Google services)",
      "pos": [
        1499,
        1659
      ]
    },
    {
      "content": "SDK Usage",
      "pos": [
        1665,
        1674
      ]
    },
    {
      "content": "Compile and build",
      "pos": [
        1680,
        1697
      ]
    },
    {
      "pos": [
        1699,
        1710
      ],
      "content": "Use <bpt id=\"p1\">[</bpt><ept id=\"p1\">Maven]</ept>"
    },
    {
      "content": "To build:",
      "pos": [
        1712,
        1721
      ]
    },
    {
      "content": "Code",
      "pos": [
        1743,
        1747
      ]
    },
    {
      "content": "Notification Hub CRUDs",
      "pos": [
        1753,
        1775
      ]
    },
    {
      "content": "Create a NamespaceManager:",
      "pos": [
        1779,
        1805
      ]
    },
    {
      "content": "Create Notification Hub:",
      "pos": [
        1898,
        1922
      ]
    },
    {
      "content": "OR",
      "pos": [
        2137,
        2139
      ]
    },
    {
      "content": "Get Notification Hub:",
      "pos": [
        2207,
        2228
      ]
    },
    {
      "content": "Update Notification Hub:",
      "pos": [
        2297,
        2321
      ]
    },
    {
      "content": "Delete Notification Hub:",
      "pos": [
        2457,
        2481
      ]
    },
    {
      "content": "Registration CRUDs",
      "pos": [
        2549,
        2567
      ]
    },
    {
      "content": "Create a Notification Hub client:",
      "pos": [
        2570,
        2603
      ]
    },
    {
      "content": "Create Windows registration:",
      "pos": [
        2673,
        2701
      ]
    },
    {
      "content": "Create iOS registration:",
      "pos": [
        2890,
        2914
      ]
    },
    {
      "content": "Similarly you can create registrations for Android (GCM), Windows Phone (MPNS), and Kindle Fire (ADM).",
      "pos": [
        3085,
        3187
      ]
    },
    {
      "content": "Create template registrations:",
      "pos": [
        3191,
        3221
      ]
    },
    {
      "content": "Create registrations using create registrationid + upsert pattern",
      "pos": [
        3423,
        3488
      ]
    },
    {
      "content": "Removes duplicates due to any lost responses if storing registration ids on the device:",
      "pos": [
        3492,
        3579
      ]
    },
    {
      "content": "Update registrations:",
      "pos": [
        3741,
        3762
      ]
    },
    {
      "content": "Delete registrations:",
      "pos": [
        3806,
        3827
      ]
    },
    {
      "content": "Query registrations:",
      "pos": [
        3873,
        3893
      ]
    },
    {
      "content": "Get single registration:",
      "pos": [
        3903,
        3927
      ]
    },
    {
      "content": "Get all registrations in hub:",
      "pos": [
        3982,
        4011
      ]
    },
    {
      "content": "Get registrations with tag:",
      "pos": [
        4062,
        4089
      ]
    },
    {
      "content": "Get registrations by channel:",
      "pos": [
        4152,
        4181
      ]
    },
    {
      "content": "All collection queries support $top and continuation tokens.",
      "pos": [
        4244,
        4304
      ]
    },
    {
      "content": "Installation API usage",
      "pos": [
        4310,
        4332
      ]
    },
    {
      "content": "Installation API is an alternative mechanism for registration management.",
      "pos": [
        4333,
        4406
      ]
    },
    {
      "content": "Instead of maintaining multiple registrations which is not trivial and may be easily done wrongly or inefficiently, it is now possible to use a SINGLE Installation object.",
      "pos": [
        4407,
        4578
      ]
    },
    {
      "content": "Installation contains everything you need: push channel (device token), tags, templates, secondary tiles (for WNS and APNS).",
      "pos": [
        4580,
        4704
      ]
    },
    {
      "content": "You don't need to call the service to get Id anymore - just generate GUID or any other identifier, keep it on device and send to your backend together with push channel (device token).",
      "pos": [
        4705,
        4889
      ]
    },
    {
      "content": "On the backend you should only do a single call: CreateOrUpdateInstallation, it is fully idempotent, so feel free to retry if needed.",
      "pos": [
        4891,
        5024
      ]
    },
    {
      "content": "As example for Amazon Kindle Fire it looks like this:",
      "pos": [
        5026,
        5079
      ]
    },
    {
      "content": "If you want to update it:",
      "pos": [
        5247,
        5272
      ]
    },
    {
      "content": "For advanced scenarios we have partial update capability which allows to modify only particular properties of the installation object.",
      "pos": [
        5614,
        5748
      ]
    },
    {
      "content": "Basically partial update is subset of JSON Patch operations you can run against Installation object.",
      "pos": [
        5749,
        5849
      ]
    },
    {
      "content": "Delete Installation:",
      "pos": [
        6391,
        6411
      ]
    },
    {
      "content": "CreateOrUpdate, Patch and Delete are eventually consistent with Get.",
      "pos": [
        6476,
        6544
      ]
    },
    {
      "content": "Your requested operation just goes to the system queue during the call and will be executed in background.",
      "pos": [
        6545,
        6651
      ]
    },
    {
      "content": "Note that Get is not designed for main runtime scenario but just for debug and troubleshooting purposes, it is tightly throttled by the service.",
      "pos": [
        6652,
        6796
      ]
    },
    {
      "content": "Send flow for Installations is the same as for Registrations.",
      "pos": [
        6798,
        6859
      ]
    },
    {
      "content": "We've just introduced an option to target notification to the particular Installation - just use tag \"InstallationId:{desired-id}\".",
      "pos": [
        6860,
        6991
      ]
    },
    {
      "content": "For case above it would look like this:",
      "pos": [
        6992,
        7031
      ]
    },
    {
      "content": "For one of several templates:",
      "pos": [
        7172,
        7201
      ]
    },
    {
      "content": "Schedule Notifications (available for STANDARD Tier)",
      "pos": [
        7463,
        7515
      ]
    },
    {
      "content": "The same as regular send but with one additional parameter - scheduledTime which says when notification should be delivered.",
      "pos": [
        7517,
        7641
      ]
    },
    {
      "content": "Service accepts any point of time between now + 5 minutes and now + 7 days.",
      "pos": [
        7642,
        7717
      ]
    },
    {
      "content": "Schedule a Windows native notification:",
      "pos": [
        7721,
        7760
      ]
    },
    {
      "content": "Import/Export (available for STANDARD Tier)",
      "pos": [
        7962,
        8005
      ]
    },
    {
      "content": "Sometimes it is required to perform bulk operation against registrations.",
      "pos": [
        8006,
        8079
      ]
    },
    {
      "content": "Usually it is for integration with another system or just a massive fix to say update the tags.",
      "pos": [
        8080,
        8175
      ]
    },
    {
      "content": "It is strongly not recommended to use Get/Update flow if we are talking about thousands of registrations.",
      "pos": [
        8176,
        8281
      ]
    },
    {
      "content": "Import/Export capability is designed to cover the scenario.",
      "pos": [
        8282,
        8341
      ]
    },
    {
      "content": "Basically you provide an access to some blob container under your storage account as a source of incoming data and location for output.",
      "pos": [
        8342,
        8477
      ]
    },
    {
      "content": "Submit export job:",
      "pos": [
        8481,
        8499
      ]
    },
    {
      "content": "Submit import job:",
      "pos": [
        8738,
        8756
      ]
    },
    {
      "content": "Wait until job is done:",
      "pos": [
        9063,
        9086
      ]
    },
    {
      "content": "Get all jobs:",
      "pos": [
        9296,
        9309
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>URI with SAS signature:<ept id=\"p1\">**</ept>",
      "pos": [
        9383,
        9410
      ]
    },
    {
      "content": "This is the URL of some blob file or blob container plus set of parameters like permissions and expiration time plus signature of all these things made using account's SAS key.",
      "pos": [
        9411,
        9587
      ]
    },
    {
      "content": "Azure Storage Java SDK has rich capabilities including creation of such kind of URIs.",
      "pos": [
        9588,
        9673
      ]
    },
    {
      "content": "As simple alternative you can take a look at ImportExportE2E test class (from the github location) which has very basic and compact implementation of signing algorithm.",
      "pos": [
        9674,
        9842
      ]
    },
    {
      "content": "Send Notifications",
      "pos": [
        9847,
        9865
      ]
    },
    {
      "content": "The Notification object is simply a body with headers, some utility methods help in building the native and template notifications objects.",
      "pos": [
        9866,
        10005
      ]
    },
    {
      "content": "Windows Store and Windows Phone 8.1 (non-Silverlight)",
      "pos": [
        10011,
        10064
      ]
    },
    {
      "content": "iOS",
      "pos": [
        10319,
        10322
      ]
    },
    {
      "content": "Android",
      "pos": [
        10503,
        10510
      ]
    },
    {
      "content": "Windows Phone 8.0 and 8.1 Silverlight",
      "pos": [
        10692,
        10729
      ]
    },
    {
      "content": "Kindle Fire",
      "pos": [
        11170,
        11181
      ]
    },
    {
      "content": "Send to Tags",
      "pos": [
        11363,
        11375
      ]
    },
    {
      "content": "Send to tag expression",
      "pos": [
        11523,
        11545
      ]
    },
    {
      "content": "Send template notification",
      "pos": [
        11610,
        11636
      ]
    },
    {
      "content": "Running your Java code should now produce a notification appearing on your target device.",
      "pos": [
        11879,
        11968
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;a name=\"next-steps\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>Next Steps",
      "pos": [
        11972,
        12007
      ]
    },
    {
      "content": "In this topic we showed how to create a simple Java REST client for Notification Hubs.",
      "pos": [
        12008,
        12094
      ]
    },
    {
      "content": "From here you can:",
      "pos": [
        12095,
        12113
      ]
    },
    {
      "pos": [
        12117,
        12182
      ],
      "content": "Download the full <bpt id=\"p1\">[</bpt><ept id=\"p1\">Java SDK]</ept>, which contains the entire SDK code."
    },
    {
      "content": "Play with the samples:",
      "pos": [
        12186,
        12208
      ]
    },
    {
      "content": "Get Started with Notification Hubs",
      "pos": [
        12216,
        12250
      ]
    },
    {
      "content": "Send breaking news",
      "pos": [
        12259,
        12277
      ]
    },
    {
      "content": "Send localized breaking news",
      "pos": [
        12286,
        12314
      ]
    },
    {
      "content": "Send notifications to authenticated users",
      "pos": [
        12323,
        12364
      ]
    },
    {
      "content": "Send cross-platform notifications to authenticated users",
      "pos": [
        12373,
        12429
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"How to use Notification Hubs with Java\" \n    description=\"Learn how to use Azure Notification Hubs from a Java back-end.\" \n    services=\"notification-hubs\" \n    documentationCenter=\"\" \n    authors=\"ysxu\" \n    manager=\"dwrede\" \n    editor=\"\"/>\n\n<tags \n    ms.service=\"notification-hubs\" \n    ms.workload=\"mobile\" \n    ms.tgt_pltfrm=\"java\" \n    ms.devlang=\"java\" \n    ms.topic=\"article\" \n    ms.date=\"07/17/2015\" \n    ms.author=\"yuaxu\"/>\n\n# How to use Notification Hubs from Java\n> [AZURE.SELECTOR] \n- [Java](notification-hubs-php-backend-how-to.md)\n- [PHP](notification-hubs-python-backend-how-to.md)\n- [Python](notification-hubs-nodejs-how-to-use-notification-hubs.md)\n- [Node.js](notification-hubs-nodejs-how-to-use-notification-hubs.md)\n        \nThis topic describes the key features of the new fully supported official Azure Notification Hub Java SDK. \nThis is an open source project and you can view the entire SDK code at [Java SDK]. \n\nIn general, you can access all Notification Hubs features from a Java/PHP/Python/Ruby back-end using the Notification Hub REST interface as described in the MSDN topic [Notification Hubs REST APIs](http://msdn.microsoft.com/library/dn223264.aspx). This Java SDK provides a thin wrapper over these REST interfaces in Java. \n\nThe SDK supports currently:\n\n- CRUD on Notification Hubs \n- CRUD on Registrations\n- Installation Management\n- Import/Export Registrations\n- Regular Sends\n- Scheduled Sends\n- Async operations via Java NIO\n- Supported platforms: APNS (iOS), GCM (Android), WNS (Windows Store apps), MPNS(Windows Phone), ADM (Amazon Kindle Fire), Baidu (Android without Google services) \n\n## SDK Usage\n\n### Compile and build\n\nUse [Maven]\n\nTo build:\n\n    mvn package\n\n## Code\n\n### Notification Hub CRUDs\n\n**Create a NamespaceManager:**\n    \n    NamespaceManager namespaceManager = new NamespaceManager(\"connection string\")\n\n**Create Notification Hub:**\n    \n    NotificationHubDescription hub = new NotificationHubDescription(\"hubname\");\n    hub.setWindowsCredential(new WindowsCredential(\"sid\",\"key\"));\n    hub = namespaceManager.createNotificationHub(hub);\n    \n OR\n\n    hub = new NotificationHub(\"connection string\", \"hubname\");\n\n**Get Notification Hub:**\n    \n    hub = namespaceManager.getNotificationHub(\"hubname\");\n\n**Update Notification Hub:**\n    \n    hub.setMpnsCredential(new MpnsCredential(\"mpnscert\", \"mpnskey\"));\n    hub = namespaceManager.updateNotificationHub(hub);\n\n**Delete Notification Hub:**\n    \n    namespaceManager.deleteNotificationHub(\"hubname\");\n\n### Registration CRUDs\n**Create a Notification Hub client:**\n\n    hub = new NotificationHub(\"connection string\", \"hubname\");\n\n**Create Windows registration:**\n\n    WindowsRegistration reg = new WindowsRegistration(new URI(CHANNELURI));\n    reg.getTags().add(\"myTag\");\n    reg.getTags().add(\"myOtherTag\");    \n    hub.createRegistration(reg);\n\n**Create iOS registration:**\n\n    AppleRegistration reg = new AppleRegistration(DEVICETOKEN);\n    reg.getTags().add(\"myTag\");\n    reg.getTags().add(\"myOtherTag\");\n    hub.createRegistration(reg);\n\nSimilarly you can create registrations for Android (GCM), Windows Phone (MPNS), and Kindle Fire (ADM).\n\n**Create template registrations:**\n\n    WindowsTemplateRegistration reg = new WindowsTemplateRegistration(new URI(CHANNELURI), WNSBODYTEMPLATE);\n    reg.getHeaders().put(\"X-WNS-Type\", \"wns/toast\");\n    hub.createRegistration(reg);\n\n**Create registrations using create registrationid + upsert pattern**\n\nRemoves duplicates due to any lost responses if storing registration ids on the device:\n\n    String id = hub.createRegistrationId();\n    WindowsRegistration reg = new WindowsRegistration(id, new URI(CHANNELURI));\n    hub.upsertRegistration(reg);\n\n**Update registrations:**\n    \n    hub.updateRegistration(reg);\n\n**Delete registrations:**\n    \n    hub.deleteRegistration(regid);\n\n**Query registrations:**\n\n*   **Get single registration:**\n    \n        hub.getRegistration(regid);\n    \n*   **Get all registrations in hub:**\n    \n        hub.getRegistrations();\n    \n*   **Get registrations with tag:**\n    \n        hub.getRegistrationsByTag(\"myTag\");\n    \n*   **Get registrations by channel:**\n    \n        hub.getRegistrationsByChannel(\"devicetoken\");\n\nAll collection queries support $top and continuation tokens.\n\n### Installation API usage\nInstallation API is an alternative mechanism for registration management. Instead of maintaining multiple registrations which is not trivial and may be easily done wrongly or inefficiently, it is now possible to use a SINGLE Installation object. \nInstallation contains everything you need: push channel (device token), tags, templates, secondary tiles (for WNS and APNS). You don't need to call the service to get Id anymore - just generate GUID or any other identifier, keep it on device and send to your backend together with push channel (device token). \nOn the backend you should only do a single call: CreateOrUpdateInstallation, it is fully idempotent, so feel free to retry if needed.\n\nAs example for Amazon Kindle Fire it looks like this:\n\n    Installation installation = new Installation(\"installation-id\", NotificationPlatform.Adm, \"adm-push-channel\");\n    hub.createOrUpdateInstallation(installation);\n\nIf you want to update it: \n\n    installation.addTag(\"foo\");\n    installation.addTemplate(\"template1\", new InstallationTemplate(\"{\\\"data\\\":{\\\"key1\\\":\\\"$(value1)\\\"}}\",\"tag-for-template1\"));\n    installation.addTemplate(\"template2\", new InstallationTemplate(\"{\\\"data\\\":{\\\"key2\\\":\\\"$(value2)\\\"}}\",\"tag-for-template2\"));\n    hub.createOrUpdateInstallation(installation);\n\nFor advanced scenarios we have partial update capability which allows to modify only particular properties of the installation object. Basically partial update is subset of JSON Patch operations you can run against Installation object.\n\n    PartialUpdateOperation addChannel = new PartialUpdateOperation(UpdateOperationType.Add, \"/pushChannel\", \"adm-push-channel2\");\n    PartialUpdateOperation addTag = new PartialUpdateOperation(UpdateOperationType.Add, \"/tags\", \"bar\");\n    PartialUpdateOperation replaceTemplate = new PartialUpdateOperation(UpdateOperationType.Replace, \"/templates/template1\", new InstallationTemplate(\"{\\\"data\\\":{\\\"key3\\\":\\\"$(value3)\\\"}}\",\"tag-for-template1\")).toJson());\n    hub.patchInstallation(\"installation-id\", addChannel, addTag, replaceTemplate);\n\nDelete Installation:\n\n    hub.deleteInstallation(installation.getInstallationId());\n\nCreateOrUpdate, Patch and Delete are eventually consistent with Get. Your requested operation just goes to the system queue during the call and will be executed in background. Note that Get is not designed for main runtime scenario but just for debug and troubleshooting purposes, it is tightly throttled by the service.\n\nSend flow for Installations is the same as for Registrations. We've just introduced an option to target notification to the particular Installation - just use tag \"InstallationId:{desired-id}\". For case above it would look like this:\n\n    Notification n = Notification.createWindowsNotification(\"WNS body\");\n    hub.sendNotification(n, \"InstallationId:{installation-id}\");\n\nFor one of several templates:\n\n    Map<String, String> prop =  new HashMap<String, String>();\n    prop.put(\"value3\", \"some value\");\n    Notification n = Notification.createTemplateNotification(prop);\n    hub.sendNotification(n, \"InstallationId:{installation-id} && tag-for-template1\");\n\n### Schedule Notifications (available for STANDARD Tier)\n\nThe same as regular send but with one additional parameter - scheduledTime which says when notification should be delivered. Service accepts any point of time between now + 5 minutes and now + 7 days.\n\n**Schedule a Windows native notification:**\n\n    Calendar c = Calendar.getInstance();\n    c.add(Calendar.DATE, 1);    \n    Notification n = Notification.createWindowsNotification(\"WNS body\");\n    hub.scheduleNotification(n, c.getTime());\n\n### Import/Export (available for STANDARD Tier)\nSometimes it is required to perform bulk operation against registrations. Usually it is for integration with another system or just a massive fix to say update the tags. It is strongly not recommended to use Get/Update flow if we are talking about thousands of registrations. Import/Export capability is designed to cover the scenario. Basically you provide an access to some blob container under your storage account as a source of incoming data and location for output.\n\n**Submit export job:**\n\n    NotificationHubJob job = new NotificationHubJob();\n    job.setJobType(NotificationHubJobType.ExportRegistrations);\n    job.setOutputContainerUri(\"container uri with SAS signature\");\n    job = hub.submitNotificationHubJob(job);\n\n\n**Submit import job:**\n\n    NotificationHubJob job = new NotificationHubJob();\n    job.setJobType(NotificationHubJobType.ImportCreateRegistrations);\n    job.setImportFileUri(\"input file uri with SAS signature\");\n    job.setOutputContainerUri(\"container uri with SAS signature\");\n    job = hub.submitNotificationHubJob(job);\n\n**Wait until job is done:**\n\n    while(true){\n        Thread.sleep(1000);\n        job = hub.getNotificationHubJob(job.getJobId());\n        if(job.getJobStatus() == NotificationHubJobStatus.Completed)\n            break;\n    }       \n\n**Get all jobs:**\n\n    List<NotificationHubJob> jobs = hub.getAllNotificationHubJobs();\n\n**URI with SAS signature:**\nThis is the URL of some blob file or blob container plus set of parameters like permissions and expiration time plus signature of all these things made using account's SAS key. Azure Storage Java SDK has rich capabilities including creation of such kind of URIs. As simple alternative you can take a look at ImportExportE2E test class (from the github location) which has very basic and compact implementation of signing algorithm.\n\n###Send Notifications\nThe Notification object is simply a body with headers, some utility methods help in building the native and template notifications objects.\n\n* **Windows Store and Windows Phone 8.1 (non-Silverlight)**\n\n        String toast = \"<toast><visual><binding template=\\\"ToastText01\\\"><text id=\\\"1\\\">Hello from Java!</text></binding></visual></toast>\";\n        Notification n = Notification.createWindowsNotification(toast);\n        hub.sendNotification(n);\n\n* **iOS**\n\n        String alert = \"{\\\"aps\\\":{\\\"alert\\\":\\\"Hello from Java!\\\"}}\";\n        Notification n = Notification.createAppleNotification(alert);\n        hub.sendNotification(n);\n\n* **Android**\n\n        String message = \"{\\\"data\\\":{\\\"msg\\\":\\\"Hello from Java!\\\"}}\";\n        Notification n = Notification.createGcmNotification(message);\n        hub.sendNotification(n);\n\n* **Windows Phone 8.0 and 8.1 Silverlight**\n\n        String toast = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\" +\n                    \"<wp:Notification xmlns:wp=\\\"WPNotification\\\">\" +\n                       \"<wp:Toast>\" +\n                            \"<wp:Text1>Hello from Java!</wp:Text1>\" +\n                       \"</wp:Toast> \" +\n                    \"</wp:Notification>\";\n        Notification n = Notification.createMpnsNotification(toast);\n        hub.sendNotification(n);\n\n* **Kindle Fire**\n\n        String message = \"{\\\"data\\\":{\\\"msg\\\":\\\"Hello from Java!\\\"}}\";\n        Notification n = Notification.createAdmNotification(message);\n        hub.sendNotification(n);\n\n* **Send to Tags**\n\n        Set<String> tags = new HashSet<String>();\n        tags.add(\"boo\");\n        tags.add(\"foo\");\n        hub.sendNotification(n, tags);\n\n* **Send to tag expression**       \n\n        hub.sendNotification(n, \"foo && ! bar\");\n\n* **Send template notification**\n\n        Map<String, String> prop =  new HashMap<String, String>();\n        prop.put(\"prop1\", \"v1\");\n        prop.put(\"prop2\", \"v2\");\n        Notification n = Notification.createTemplateNotification(prop);\n        hub.sendNotification(n);\n\nRunning your Java code should now produce a notification appearing on your target device.\n\n##<a name=\"next-steps\"></a>Next Steps\nIn this topic we showed how to create a simple Java REST client for Notification Hubs. From here you can:\n\n* Download the full [Java SDK], which contains the entire SDK code. \n* Play with the samples:\n    - [Get Started with Notification Hubs]\n    - [Send breaking news]\n    - [Send localized breaking news]\n    - [Send notifications to authenticated users]\n    - [Send cross-platform notifications to authenticated users]\n\n[Java SDK]: https://github.com/Azure/azure-notificationhubs-java-backend\n[Get started tutorial]: http://azure.microsoft.com/documentation/articles/notification-hubs-ios-get-started/\n[Get Started with Notification Hubs]: http://www.windowsazure.com/manage/services/notification-hubs/getting-started-windows-dotnet/\n[Send breaking news]: http://www.windowsazure.com/manage/services/notification-hubs/breaking-news-dotnet/\n[Send localized breaking news]: http://www.windowsazure.com/manage/services/notification-hubs/breaking-news-localized-dotnet/\n[Send notifications to authenticated users]: http://www.windowsazure.com/manage/services/notification-hubs/notify-users/\n[Send cross-platform notifications to authenticated users]: http://www.windowsazure.com/manage/services/notification-hubs/notify-users-xplat-mobile-services/\n[Maven]: http://maven.apache.org/\n \n"
}