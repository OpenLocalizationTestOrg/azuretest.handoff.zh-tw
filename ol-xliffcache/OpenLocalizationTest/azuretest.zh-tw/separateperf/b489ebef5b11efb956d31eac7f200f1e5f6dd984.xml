{
  "nodes": [
    {
      "content": "Manage Hadoop clusters in HDInsight using Azure portal | Microsoft Azure",
      "pos": [
        27,
        99
      ]
    },
    {
      "content": "Learn how to administer HDInsight Service.",
      "pos": [
        118,
        160
      ]
    },
    {
      "content": "Create an HDInsight cluster, open the interactive JavaScript console, and open the Hadoop command console.",
      "pos": [
        161,
        267
      ]
    },
    {
      "content": "Manage Hadoop clusters in HDInsight by using the Azure portal",
      "pos": [
        567,
        628
      ]
    },
    {
      "pos": [
        630,
        873
      ],
      "content": "Using the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://manage.windowsazure.com)</ept>, you can provision Hadoop clusters in Azure HDInsight, change Hadoop user password, and enable Remote Desktop Protocol (RDP) so you can access the Hadoop command console on the cluster."
    },
    {
      "content": "Manage Hadoop clusters in HDInsight by using the Azure preview portal",
      "pos": [
        962,
        1031
      ]
    },
    {
      "content": "Other tools for administering HDInsight",
      "pos": [
        1084,
        1123
      ]
    },
    {
      "content": "There are also other tools available for administering HDInsight in addition to the Azure portal.",
      "pos": [
        1124,
        1221
      ]
    },
    {
      "pos": [
        1225,
        1390
      ],
      "content": "For more information on administering HDInsight by using Azure PowerShell, see <bpt id=\"p1\">[</bpt>Administer HDInsight Using Azure PowerShell<ept id=\"p1\">](hdinsight-administer-use-powershell.md)</ept>."
    },
    {
      "pos": [
        1394,
        1551
      ],
      "content": "For more information on administering HDInsight by using the Azure CLI, see <bpt id=\"p1\">[</bpt>Administer HDInsight Using Azure CLI<ept id=\"p1\">](hdinsight-administer-use-command-line.md)</ept>."
    },
    {
      "content": "Prerequisites",
      "pos": [
        1555,
        1568
      ]
    },
    {
      "content": "Before you begin this article, you must have the following:",
      "pos": [
        1570,
        1629
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>An Azure subscription<ept id=\"p1\">**</ept>.",
      "pos": [
        1633,
        1659
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Get Azure free trial<ept id=\"p1\">](http://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/)</ept>.",
      "pos": [
        1660,
        1790
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Azure Storage account<ept id=\"p1\">**</ept> - An HDInsight cluster uses an Azure Blob storage container as the default file system.",
      "pos": [
        1793,
        1906
      ]
    },
    {
      "content": "For more information about how Azure Blob storage provides a seamless experience with HDInsight clusters, see <bpt id=\"p1\">[</bpt>Use Azure Blob Storage with HDInsight<ept id=\"p1\">](../hdinsight-use-blob-storage.md)</ept>.",
      "pos": [
        1907,
        2091
      ]
    },
    {
      "content": "For details on creating an Azure Storage account, see <bpt id=\"p1\">[</bpt>How to Create a Storage Account<ept id=\"p1\">](../storage-create-storage-account.md)</ept>.",
      "pos": [
        2092,
        2218
      ]
    },
    {
      "content": "Provision HDInsight clusters",
      "pos": [
        2223,
        2251
      ]
    },
    {
      "content": "You can provision HDInsight clusters from the Azure portal by using the Quick Create or Custom Create option.",
      "pos": [
        2253,
        2362
      ]
    },
    {
      "content": "See the following links for instructions:",
      "pos": [
        2363,
        2404
      ]
    },
    {
      "content": "Provision a cluster by using Quick Create",
      "pos": [
        2409,
        2450
      ]
    },
    {
      "content": "Provision a cluster by using Custom Create",
      "pos": [
        2494,
        2536
      ]
    },
    {
      "content": "Customize HDInsight clusters",
      "pos": [
        2677,
        2705
      ]
    },
    {
      "content": "HDInsight works with a wide range of Hadoop components.",
      "pos": [
        2707,
        2762
      ]
    },
    {
      "content": "For the list of the components that have been verified and supported, see <bpt id=\"p1\">[</bpt>What version of Hadoop is in Azure HDInsight<ept id=\"p1\">](hdinsight-component-versioning.md)</ept>.",
      "pos": [
        2763,
        2919
      ]
    },
    {
      "content": "You can customize HDInsight by using one of the following options:",
      "pos": [
        2920,
        2986
      ]
    },
    {
      "content": "Use Script Action to run custom scripts that can customize a cluster to either change cluster configuration or install custom components such as Giraph or Solr.",
      "pos": [
        2990,
        3150
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Customize HDInsight cluster using Script Action<ept id=\"p1\">](hdinsight-hadoop-customize-cluster.md)</ept>.",
      "pos": [
        3151,
        3266
      ]
    },
    {
      "content": "Use the cluster customization parameters in the HDInsight .NET SDK or Azure PowerShell during cluster provisioning.",
      "pos": [
        3269,
        3384
      ]
    },
    {
      "content": "These configuration changes are then preserved through the lifetime of the cluster and are not affected by cluster node reimages that Azure platform periodically performs for maintenance.",
      "pos": [
        3385,
        3572
      ]
    },
    {
      "content": "For more information on using the cluster customization parameters, see <bpt id=\"p1\">[</bpt>Provision HDInsight clusters<ept id=\"p1\">](hdinsight-provision-clusters.md)</ept>.",
      "pos": [
        3573,
        3709
      ]
    },
    {
      "content": "Some native Java components, like Mahout and Cascading, can be run on the cluster as JAR files.",
      "pos": [
        3712,
        3807
      ]
    },
    {
      "content": "These JAR files can be distributed to Azure Blob storage, and submitted to HDInsight clusters through Hadoop job submission mechanisms.",
      "pos": [
        3808,
        3943
      ]
    },
    {
      "content": "For more information, see <bpt id=\"p1\">[</bpt>Submit Hadoop jobs programmatically<ept id=\"p1\">](hdinsight-submit-hadoop-jobs-programmatically.md)</ept>.",
      "pos": [
        3944,
        4058
      ]
    },
    {
      "content": "Installation of custom software on the cluster by using Remote Desktop Connection is not supported.",
      "pos": [
        4486,
        4585
      ]
    },
    {
      "content": "You should avoid storing any files on the drives of the head node, as they will be lost if you need to re-create the clusters.",
      "pos": [
        4586,
        4712
      ]
    },
    {
      "content": "We recommend storing files on Azure Blob storage.",
      "pos": [
        4713,
        4762
      ]
    },
    {
      "content": "Blob storage is persistent.",
      "pos": [
        4763,
        4790
      ]
    },
    {
      "content": "Change the HDInsight cluster user name and password",
      "pos": [
        4794,
        4845
      ]
    },
    {
      "content": "An HDInsight cluster can have two user accounts.",
      "pos": [
        4846,
        4894
      ]
    },
    {
      "content": "The HDInsight cluster user account is created during the provisioning process.",
      "pos": [
        4895,
        4973
      ]
    },
    {
      "content": "You can also create an RDP user account for accessing the cluster via RDP.",
      "pos": [
        4974,
        5048
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Enable remote desktop<ept id=\"p1\">](#connect-to-hdinsight-clusters-by-using-rdp)</ept>.",
      "pos": [
        5049,
        5122
      ]
    },
    {
      "content": "To change the HDInsight cluster user name and password",
      "pos": [
        5126,
        5180
      ]
    },
    {
      "pos": [
        5187,
        5251
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://manage.windowsazure.com/)</ept>."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>HDINSIGHT<ept id=\"p1\">**</ept> on the left pane.",
      "pos": [
        5255,
        5292
      ]
    },
    {
      "content": "You will see a list of deployed HDInsight clusters.",
      "pos": [
        5293,
        5344
      ]
    },
    {
      "content": "Click the HDInsight cluster that you want to reset the user name and password for.",
      "pos": [
        5348,
        5430
      ]
    },
    {
      "pos": [
        5434,
        5484
      ],
      "content": "From the top of the page, click <bpt id=\"p1\">**</bpt>CONFIGURATION<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        5488,
        5530
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>OFF<ept id=\"p1\">**</ept> next to <bpt id=\"p2\">**</bpt>HADOOP SERVICES<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        5534,
        5613
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>SAVE<ept id=\"p1\">**</ept> on the bottom of the page, and wait for the disabling to finish."
    },
    {
      "pos": [
        5617,
        5695
      ],
      "content": "After the service has been disabled, click <bpt id=\"p1\">**</bpt>ON<ept id=\"p1\">**</ept> next to <bpt id=\"p2\">**</bpt>HADOOP SERVICES<ept id=\"p2\">**</ept>."
    },
    {
      "pos": [
        5699,
        5807
      ],
      "content": "For <bpt id=\"p1\">**</bpt>USER NAME<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>NEW PASSWORD<ept id=\"p2\">**</ept>, enter the new user name and password (respectively) for the cluster."
    },
    {
      "pos": [
        5811,
        5826
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>SAVE<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Connect to HDInsight clusters by using RDP",
      "pos": [
        5831,
        5873
      ]
    },
    {
      "content": "The credentials for the cluster that you provided at its creation give access to the services on the cluster, but not to the cluster itself through Remote Desktop.",
      "pos": [
        5875,
        6038
      ]
    },
    {
      "content": "Remote Desktop access is turned off by default, and so direct access to the cluster using it requires some additional, post-creation configuration.",
      "pos": [
        6039,
        6186
      ]
    },
    {
      "content": "To enable Remote Desktop",
      "pos": [
        6190,
        6214
      ]
    },
    {
      "pos": [
        6221,
        6285
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://manage.windowsazure.com/)</ept>."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>HDINSIGHT<ept id=\"p1\">**</ept> on the left pane.",
      "pos": [
        6289,
        6326
      ]
    },
    {
      "content": "You will see a list of deployed HDInsight clusters.",
      "pos": [
        6327,
        6378
      ]
    },
    {
      "content": "Click the HDInsight cluster that you want to connect to.",
      "pos": [
        6382,
        6438
      ]
    },
    {
      "pos": [
        6442,
        6492
      ],
      "content": "From the top of the page, click <bpt id=\"p1\">**</bpt>CONFIGURATION<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        6496,
        6549
      ],
      "content": "From the bottom of the page, click <bpt id=\"p1\">**</bpt>ENABLE REMOTE<ept id=\"p1\">**</ept>."
    },
    {
      "content": "In the <bpt id=\"p1\">**</bpt>Configure Remote Desktop<ept id=\"p1\">**</ept> wizard, enter a user name and password for the remote desktop.",
      "pos": [
        6553,
        6651
      ]
    },
    {
      "content": "Note that the user name must be different from the one used to create the cluster (<bpt id=\"p1\">**</bpt>admin<ept id=\"p1\">**</ept> by default with the Quick Create option).",
      "pos": [
        6652,
        6786
      ]
    },
    {
      "content": "Enter an expiration date in the <bpt id=\"p1\">**</bpt>EXPIRES ON<ept id=\"p1\">**</ept> box.",
      "pos": [
        6787,
        6838
      ]
    },
    {
      "content": "Note that the expiration date must be in the future and up to 90 days from today.",
      "pos": [
        6839,
        6920
      ]
    },
    {
      "content": "The expiration time of day is assumed by default to be midnight of the specified date.",
      "pos": [
        6921,
        7007
      ]
    },
    {
      "content": "Then click the check icon.",
      "pos": [
        7008,
        7034
      ]
    },
    {
      "content": "HDI.CreateRDPUser",
      "pos": [
        7042,
        7059
      ]
    },
    {
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> You can also use the HDInsight .NET SDK to enable Remote Desktop on a cluster.",
      "pos": [
        7092,
        7183
      ]
    },
    {
      "content": "Use the <bpt id=\"p1\">**</bpt>EnableRdp<ept id=\"p1\">**</ept> method on the HDInsight client object in the following manner: <bpt id=\"p2\">**</bpt>client.EnableRdp(clustername, location, \"rdpuser\", \"rdppassword\", DateTime.Now.AddDays(6))<ept id=\"p2\">**</ept>.",
      "pos": [
        7184,
        7364
      ]
    },
    {
      "content": "Similarly, to disable Remote Desktop on the cluster, you can use <bpt id=\"p1\">**</bpt>client.DisableRdp(clustername, location)<ept id=\"p1\">**</ept>.",
      "pos": [
        7365,
        7475
      ]
    },
    {
      "content": "For more information on these methods, see <bpt id=\"p1\">[</bpt>HDInsight .NET SDK Reference<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkId=529017)</ept>.",
      "pos": [
        7476,
        7597
      ]
    },
    {
      "content": "This is applicable only for HDInsight clusters running on Windows.",
      "pos": [
        7598,
        7664
      ]
    },
    {
      "pos": [
        7670,
        7782
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> Once RDP is enabled for a cluster, you must refresh the page before you can connect to the cluster."
    },
    {
      "content": "To connect to a cluster by using RDP",
      "pos": [
        7786,
        7822
      ]
    },
    {
      "pos": [
        7829,
        7893
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://manage.windowsazure.com/)</ept>."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>HDINSIGHT<ept id=\"p1\">**</ept> on the left pane.",
      "pos": [
        7897,
        7934
      ]
    },
    {
      "content": "You will see a list of deployed HDInsight clusters.",
      "pos": [
        7935,
        7986
      ]
    },
    {
      "content": "Click the HDInsight cluster that you want to connect to.",
      "pos": [
        7990,
        8046
      ]
    },
    {
      "pos": [
        8050,
        8100
      ],
      "content": "From the top of the page, click <bpt id=\"p1\">**</bpt>CONFIGURATION<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        8104,
        8156
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>CONNECT<ept id=\"p1\">**</ept>, and then follow the instructions."
    },
    {
      "content": "Create a self-signed certificate",
      "pos": [
        8160,
        8192
      ]
    },
    {
      "content": "If you want to perform any operations on the cluster by using the .NET SDK, you must create a self-signed certificate on the workstation, and also upload the certificate to your Azure subscription.",
      "pos": [
        8194,
        8391
      ]
    },
    {
      "content": "This is a one-time task.",
      "pos": [
        8392,
        8416
      ]
    },
    {
      "content": "You can install the same certificate on other machines, as long as the certificate is valid.",
      "pos": [
        8417,
        8509
      ]
    },
    {
      "content": "To create a self-signed certificate",
      "pos": [
        8513,
        8548
      ]
    },
    {
      "content": "Create a self-signed certificate that is used to authenticate the requests.",
      "pos": [
        8555,
        8630
      ]
    },
    {
      "content": "You can use Internet Information Services (IIS) or <bpt id=\"p1\">[</bpt>makecert<ept id=\"p1\">]( http://go.microsoft.com/fwlink/?LinkId=534000)</ept> to create the certificate.",
      "pos": [
        8631,
        8767
      ]
    },
    {
      "content": "Browse to the location of the certificate, right-click the certificate, click <bpt id=\"p1\">**</bpt>Install Certificate<ept id=\"p1\">**</ept>, and install the certificate to the computer's personal store.",
      "pos": [
        8772,
        8936
      ]
    },
    {
      "content": "Edit the certificate properties to assign it a friendly name.",
      "pos": [
        8937,
        8998
      ]
    },
    {
      "content": "Import the certificate into the Azure portal.",
      "pos": [
        9003,
        9048
      ]
    },
    {
      "content": "From the portal, click <bpt id=\"p1\">**</bpt>SETTINGS<ept id=\"p1\">**</ept> on the bottom left of the page, and then click <bpt id=\"p2\">**</bpt>MANAGEMENT CERTIFICATES<ept id=\"p2\">**</ept>.",
      "pos": [
        9049,
        9160
      ]
    },
    {
      "content": "From the bottom of the page, click <bpt id=\"p1\">**</bpt>UPLOAD<ept id=\"p1\">**</ept> and follow the instructions to upload the .cer file you created in the previous step.",
      "pos": [
        9161,
        9292
      ]
    },
    {
      "content": "HDI.ClusterCreate.UploadCert",
      "pos": [
        9300,
        9328
      ]
    },
    {
      "content": "Grant/revoke HTTP services access",
      "pos": [
        9369,
        9402
      ]
    },
    {
      "content": "HDInsight clusters have the following HTTP web services (all of these services have RESTful endpoints):",
      "pos": [
        9404,
        9507
      ]
    },
    {
      "content": "ODBC",
      "pos": [
        9511,
        9515
      ]
    },
    {
      "content": "JDBC",
      "pos": [
        9518,
        9522
      ]
    },
    {
      "content": "Ambari",
      "pos": [
        9525,
        9531
      ]
    },
    {
      "content": "Oozie",
      "pos": [
        9534,
        9539
      ]
    },
    {
      "content": "Templeton",
      "pos": [
        9542,
        9551
      ]
    },
    {
      "content": "By default, these services are granted for access.",
      "pos": [
        9553,
        9603
      ]
    },
    {
      "content": "You can revoke/grant the access from the Azure portal.",
      "pos": [
        9604,
        9658
      ]
    },
    {
      "pos": [
        9661,
        9757
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> By granting/revoking the access, you will reset the cluster user name and password."
    },
    {
      "content": "To grant/revoke HTTP web services access",
      "pos": [
        9761,
        9801
      ]
    },
    {
      "pos": [
        9808,
        9872
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://manage.windowsazure.com/)</ept>."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>HDINSIGHT<ept id=\"p1\">**</ept> on the left pane.",
      "pos": [
        9876,
        9913
      ]
    },
    {
      "content": "You will see a list of deployed HDInsight clusters.",
      "pos": [
        9914,
        9965
      ]
    },
    {
      "content": "Click the HDInsight cluster that you want to configure.",
      "pos": [
        9969,
        10024
      ]
    },
    {
      "pos": [
        10028,
        10078
      ],
      "content": "From the top of the page, click <bpt id=\"p1\">**</bpt>CONFIGURATION<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        10082,
        10134
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>ON<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>OFF<ept id=\"p2\">**</ept> next to <bpt id=\"p3\">**</bpt>HADOOP SERVICES<ept id=\"p3\">**</ept>."
    },
    {
      "pos": [
        10138,
        10246
      ],
      "content": "For <bpt id=\"p1\">**</bpt>USER NAME<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>NEW PASSWORD<ept id=\"p2\">**</ept>, enter the new user name and password (respectively) for the cluster."
    },
    {
      "pos": [
        10250,
        10265
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>SAVE<ept id=\"p1\">**</ept>."
    },
    {
      "content": "This can also be done through the Azure PowerShell cmdlets:",
      "pos": [
        10267,
        10326
      ]
    },
    {
      "content": "Grant-AzureHDInsightHttpServicesAccess",
      "pos": [
        10330,
        10368
      ]
    },
    {
      "content": "Revoke-AzureHDInsightHttpServicesAccess",
      "pos": [
        10371,
        10410
      ]
    },
    {
      "pos": [
        10412,
        10502
      ],
      "content": "See <bpt id=\"p1\">[</bpt>Administer HDInsight using Azure PowerShell<ept id=\"p1\">](hdinsight-administer-use-powershell.md)</ept>."
    },
    {
      "content": "Open a Hadoop command line",
      "pos": [
        10506,
        10532
      ]
    },
    {
      "content": "To connect to the cluster by using Remote Desktop and use the Hadoop command line, you must first have enabled Remote Desktop access to the cluster as described in the previous section.",
      "pos": [
        10534,
        10719
      ]
    },
    {
      "content": "To open a Hadoop command line",
      "pos": [
        10723,
        10752
      ]
    },
    {
      "pos": [
        10759,
        10823
      ],
      "content": "Sign in to the <bpt id=\"p1\">[</bpt>Azure portal<ept id=\"p1\">](https://manage.windowsazure.com/)</ept>."
    },
    {
      "content": "Click <bpt id=\"p1\">**</bpt>HDINSIGHT<ept id=\"p1\">**</ept> on the left pane.",
      "pos": [
        10827,
        10864
      ]
    },
    {
      "content": "You will see a list of deployed Hadoop clusters.",
      "pos": [
        10865,
        10913
      ]
    },
    {
      "content": "Click the HDInsight cluster that you want to connect to.",
      "pos": [
        10917,
        10973
      ]
    },
    {
      "pos": [
        10977,
        11024
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>CONFIGURATION<ept id=\"p1\">**</ept> on the top of the page."
    },
    {
      "pos": [
        11028,
        11072
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>CONNECT<ept id=\"p1\">**</ept> on the bottom of the page."
    },
    {
      "pos": [
        11076,
        11091
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Open<ept id=\"p1\">**</ept>."
    },
    {
      "content": "Enter your credentials, and then click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.",
      "pos": [
        11095,
        11141
      ]
    },
    {
      "content": "Use the user name and password you configured when you created the cluster.",
      "pos": [
        11142,
        11217
      ]
    },
    {
      "pos": [
        11221,
        11235
      ],
      "content": "Click <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept>."
    },
    {
      "pos": [
        11239,
        11294
      ],
      "content": "From the desktop, double-click <bpt id=\"p1\">**</bpt>Hadoop Command Line<ept id=\"p1\">**</ept>."
    },
    {
      "content": "HDI.HadoopCommandLine",
      "pos": [
        11302,
        11323
      ]
    },
    {
      "content": "In the previous screenshot, the folder name has the Hadoop version number embedded.",
      "pos": [
        11524,
        11607
      ]
    },
    {
      "content": "The version number can changed based on the version of the Hadoop components installed on the cluster.",
      "pos": [
        11608,
        11710
      ]
    },
    {
      "content": "You can use Hadoop environment variables to refer to those folders.",
      "pos": [
        11711,
        11778
      ]
    },
    {
      "content": "For example:",
      "pos": [
        11779,
        11791
      ]
    },
    {
      "content": "Scale clusters",
      "pos": [
        11897,
        11911
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Scale Hadoop clusters in HDInsight<ept id=\"p1\">](hdinsight-hadoop-cluster-scaling.md)</ept>.",
      "pos": [
        11912,
        11990
      ]
    },
    {
      "content": "Next steps",
      "pos": [
        11994,
        12004
      ]
    },
    {
      "content": "In this article, you have learned how to create an HDInsight cluster by using the Azure portal, and how to open the Hadoop command-line tool.",
      "pos": [
        12005,
        12146
      ]
    },
    {
      "content": "To learn more, see the following articles:",
      "pos": [
        12147,
        12189
      ]
    },
    {
      "content": "Administer HDInsight Using Azure PowerShell",
      "pos": [
        12194,
        12237
      ]
    },
    {
      "content": "Administer HDInsight Using Azure CLI",
      "pos": [
        12282,
        12318
      ]
    },
    {
      "content": "Provision HDInsight clusters",
      "pos": [
        12365,
        12393
      ]
    },
    {
      "content": "Submit Hadoop jobs programmatically",
      "pos": [
        12431,
        12466
      ]
    },
    {
      "content": "Get Started with Azure HDInsight",
      "pos": [
        12521,
        12553
      ]
    },
    {
      "content": "What version of Hadoop is in Azure HDInsight?",
      "pos": [
        12587,
        12632
      ]
    },
    {
      "content": "test",
      "pos": [
        13249,
        13253
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Manage Hadoop clusters in HDInsight using Azure portal | Microsoft Azure\"\n    description=\"Learn how to administer HDInsight Service. Create an HDInsight cluster, open the interactive JavaScript console, and open the Hadoop command console.\"\n    services=\"hdinsight\"\n    documentationCenter=\"\"\n    authors=\"mumian\"\n    manager=\"paulettm\"\n    editor=\"cgronlun\"/>\n\n<tags\n    ms.service=\"hdinsight\"\n    ms.workload=\"big-data\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"08/11/2015\"\n    ms.author=\"jgao\"/>\n\n# Manage Hadoop clusters in HDInsight by using the Azure portal\n\nUsing the [Azure portal](https://manage.windowsazure.com), you can provision Hadoop clusters in Azure HDInsight, change Hadoop user password, and enable Remote Desktop Protocol (RDP) so you can access the Hadoop command console on the cluster.\n\n[AZURE.INCLUDE [hdinsight-azure-portal](../../includes/hdinsight-azure-portal.md)]\n\n* [Manage Hadoop clusters in HDInsight by using the Azure preview portal](hdinsight-administer-use-management-portal.md)\n\n## Other tools for administering HDInsight\nThere are also other tools available for administering HDInsight in addition to the Azure portal.\n\n- For more information on administering HDInsight by using Azure PowerShell, see [Administer HDInsight Using Azure PowerShell](hdinsight-administer-use-powershell.md).\n\n- For more information on administering HDInsight by using the Azure CLI, see [Administer HDInsight Using Azure CLI](hdinsight-administer-use-command-line.md).\n\n##Prerequisites\n\nBefore you begin this article, you must have the following:\n\n- **An Azure subscription**. See [Get Azure free trial](http://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).\n- **Azure Storage account** - An HDInsight cluster uses an Azure Blob storage container as the default file system. For more information about how Azure Blob storage provides a seamless experience with HDInsight clusters, see [Use Azure Blob Storage with HDInsight](../hdinsight-use-blob-storage.md). For details on creating an Azure Storage account, see [How to Create a Storage Account](../storage-create-storage-account.md).\n\n\n##Provision HDInsight clusters\n\nYou can provision HDInsight clusters from the Azure portal by using the Quick Create or Custom Create option. See the following links for instructions:\n\n- [Provision a cluster by using Quick Create](../hdinsight-get-started.md#provision)\n- [Provision a cluster by using Custom Create](hdinsight-provision-clusters.md#portal)\n\n[AZURE.INCLUDE [data center list](../../includes/hdinsight-pricing-data-centers-clusters.md)]\n\n\n##Customize HDInsight clusters\n\nHDInsight works with a wide range of Hadoop components. For the list of the components that have been verified and supported, see [What version of Hadoop is in Azure HDInsight](hdinsight-component-versioning.md). You can customize HDInsight by using one of the following options:\n\n- Use Script Action to run custom scripts that can customize a cluster to either change cluster configuration or install custom components such as Giraph or Solr. For more information, see [Customize HDInsight cluster using Script Action](hdinsight-hadoop-customize-cluster.md).\n- Use the cluster customization parameters in the HDInsight .NET SDK or Azure PowerShell during cluster provisioning. These configuration changes are then preserved through the lifetime of the cluster and are not affected by cluster node reimages that Azure platform periodically performs for maintenance. For more information on using the cluster customization parameters, see [Provision HDInsight clusters](hdinsight-provision-clusters.md).\n- Some native Java components, like Mahout and Cascading, can be run on the cluster as JAR files. These JAR files can be distributed to Azure Blob storage, and submitted to HDInsight clusters through Hadoop job submission mechanisms. For more information, see [Submit Hadoop jobs programmatically](hdinsight-submit-hadoop-jobs-programmatically.md).\n\n\n    >[AZURE.NOTE] If you have issues deploying JAR files to HDInsight clusters or calling JAR files on HDInsight clusters, contact [Microsoft Support](http://azure.microsoft.com/support/options/).\n\n    > Cascading is not supported by HDInsight, and is not eligible for Microsoft Support. For lists of supported components, see [What's new in the cluster versions provided by HDInsight?](hdinsight-component-versioning.md).\n\n\nInstallation of custom software on the cluster by using Remote Desktop Connection is not supported. You should avoid storing any files on the drives of the head node, as they will be lost if you need to re-create the clusters. We recommend storing files on Azure Blob storage. Blob storage is persistent.\n\n##Change the HDInsight cluster user name and password\nAn HDInsight cluster can have two user accounts. The HDInsight cluster user account is created during the provisioning process. You can also create an RDP user account for accessing the cluster via RDP. See [Enable remote desktop](#connect-to-hdinsight-clusters-by-using-rdp).\n\n**To change the HDInsight cluster user name and password**\n\n1. Sign in to the [Azure portal](https://manage.windowsazure.com/).\n2. Click **HDINSIGHT** on the left pane. You will see a list of deployed HDInsight clusters.\n3. Click the HDInsight cluster that you want to reset the user name and password for.\n4. From the top of the page, click **CONFIGURATION**.\n5. Click **OFF** next to **HADOOP SERVICES**.\n6. Click **SAVE** on the bottom of the page, and wait for the disabling to finish.\n7. After the service has been disabled, click **ON** next to **HADOOP SERVICES**.\n8. For **USER NAME** and **NEW PASSWORD**, enter the new user name and password (respectively) for the cluster.\n8. Click **SAVE**.\n\n\n##Connect to HDInsight clusters by using RDP\n\nThe credentials for the cluster that you provided at its creation give access to the services on the cluster, but not to the cluster itself through Remote Desktop. Remote Desktop access is turned off by default, and so direct access to the cluster using it requires some additional, post-creation configuration.\n\n**To enable Remote Desktop**\n\n1. Sign in to the [Azure portal](https://manage.windowsazure.com/).\n2. Click **HDINSIGHT** on the left pane. You will see a list of deployed HDInsight clusters.\n3. Click the HDInsight cluster that you want to connect to.\n4. From the top of the page, click **CONFIGURATION**.\n5. From the bottom of the page, click **ENABLE REMOTE**.\n6. In the **Configure Remote Desktop** wizard, enter a user name and password for the remote desktop. Note that the user name must be different from the one used to create the cluster (**admin** by default with the Quick Create option). Enter an expiration date in the **EXPIRES ON** box. Note that the expiration date must be in the future and up to 90 days from today. The expiration time of day is assumed by default to be midnight of the specified date. Then click the check icon.\n\n    ![HDI.CreateRDPUser][image-hdi-create-rpd-user]\n\n\n> [AZURE.NOTE] You can also use the HDInsight .NET SDK to enable Remote Desktop on a cluster. Use the **EnableRdp** method on the HDInsight client object in the following manner: **client.EnableRdp(clustername, location, \"rdpuser\", \"rdppassword\", DateTime.Now.AddDays(6))**. Similarly, to disable Remote Desktop on the cluster, you can use **client.DisableRdp(clustername, location)**. For more information on these methods, see [HDInsight .NET SDK Reference](http://go.microsoft.com/fwlink/?LinkId=529017). This is applicable only for HDInsight clusters running on Windows.\n\n\n\n> [AZURE.NOTE] Once RDP is enabled for a cluster, you must refresh the page before you can connect to the cluster.\n\n**To connect to a cluster by using RDP**\n\n1. Sign in to the [Azure portal](https://manage.windowsazure.com/).\n2. Click **HDINSIGHT** on the left pane. You will see a list of deployed HDInsight clusters.\n3. Click the HDInsight cluster that you want to connect to.\n4. From the top of the page, click **CONFIGURATION**.\n5. Click **CONNECT**, and then follow the instructions.\n\n##Create a self-signed certificate\n\nIf you want to perform any operations on the cluster by using the .NET SDK, you must create a self-signed certificate on the workstation, and also upload the certificate to your Azure subscription. This is a one-time task. You can install the same certificate on other machines, as long as the certificate is valid.\n\n**To create a self-signed certificate**\n\n1. Create a self-signed certificate that is used to authenticate the requests. You can use Internet Information Services (IIS) or [makecert]( http://go.microsoft.com/fwlink/?LinkId=534000) to create the certificate.\n\n2. Browse to the location of the certificate, right-click the certificate, click **Install Certificate**, and install the certificate to the computer's personal store. Edit the certificate properties to assign it a friendly name.\n\n3. Import the certificate into the Azure portal. From the portal, click **SETTINGS** on the bottom left of the page, and then click **MANAGEMENT CERTIFICATES**. From the bottom of the page, click **UPLOAD** and follow the instructions to upload the .cer file you created in the previous step.\n\n    ![HDI.ClusterCreate.UploadCert][image-hdiclustercreate-uploadcert]\n\n\n##Grant/revoke HTTP services access\n\nHDInsight clusters have the following HTTP web services (all of these services have RESTful endpoints):\n\n- ODBC\n- JDBC\n- Ambari\n- Oozie\n- Templeton\n\nBy default, these services are granted for access. You can revoke/grant the access from the Azure portal.\n\n>[AZURE.NOTE] By granting/revoking the access, you will reset the cluster user name and password.\n\n**To grant/revoke HTTP web services access**\n\n1. Sign in to the [Azure portal](https://manage.windowsazure.com/).\n2. Click **HDINSIGHT** on the left pane. You will see a list of deployed HDInsight clusters.\n3. Click the HDInsight cluster that you want to configure.\n4. From the top of the page, click **CONFIGURATION**.\n5. Click **ON** or **OFF** next to **HADOOP SERVICES**.\n6. For **USER NAME** and **NEW PASSWORD**, enter the new user name and password (respectively) for the cluster.\n7. Click **SAVE**.\n\nThis can also be done through the Azure PowerShell cmdlets:\n\n- Grant-AzureHDInsightHttpServicesAccess\n- Revoke-AzureHDInsightHttpServicesAccess\n\nSee [Administer HDInsight using Azure PowerShell](hdinsight-administer-use-powershell.md).\n\n##Open a Hadoop command line\n\nTo connect to the cluster by using Remote Desktop and use the Hadoop command line, you must first have enabled Remote Desktop access to the cluster as described in the previous section.\n\n**To open a Hadoop command line**\n\n1. Sign in to the [Azure portal](https://manage.windowsazure.com/).\n2. Click **HDINSIGHT** on the left pane. You will see a list of deployed Hadoop clusters.\n3. Click the HDInsight cluster that you want to connect to.\n3. Click **CONFIGURATION** on the top of the page.\n4. Click **CONNECT** on the bottom of the page.\n5. Click **Open**.\n6. Enter your credentials, and then click **OK**. Use the user name and password you configured when you created the cluster.\n7. Click **Yes**.\n8. From the desktop, double-click **Hadoop Command Line**.\n\n    ![HDI.HadoopCommandLine][image-hadoopcommandline]\n\n\n    For more information on Hadoop commands, see [Hadoop commands reference](http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/CommandsManual.html).\n\nIn the previous screenshot, the folder name has the Hadoop version number embedded. The version number can changed based on the version of the Hadoop components installed on the cluster. You can use Hadoop environment variables to refer to those folders. For example:\n\n    cd %hadoop_home%\n    cd %hive_home%\n    cd %pig_home%\n    cd %sqoop_home%\n    cd %hcatalog_home%\n\n##Scale clusters\nSee [Scale Hadoop clusters in HDInsight](hdinsight-hadoop-cluster-scaling.md).\n\n##Next steps\nIn this article, you have learned how to create an HDInsight cluster by using the Azure portal, and how to open the Hadoop command-line tool. To learn more, see the following articles:\n\n* [Administer HDInsight Using Azure PowerShell](hdinsight-administer-use-powershell.md)\n* [Administer HDInsight Using Azure CLI](hdinsight-administer-use-command-line.md)\n* [Provision HDInsight clusters](hdinsight-provision-clusters.md)\n* [Submit Hadoop jobs programmatically](hdinsight-submit-hadoop-jobs-programmatically.md)\n* [Get Started with Azure HDInsight](../hdinsight-get-started.md)\n* [What version of Hadoop is in Azure HDInsight?](hdinsight-component-versioning.md)\n\n[image-cluster-quickcreate]: ./media/hdinsight-administer-use-management-portal/HDI.QuickCreateCluster.png\n[image-cluster-landing]: ./media/hdinsight-administer-use-management-portal/HDI.ClusterLanding.PNG \"Cluster landing page\"\n[image-hdi-create-rpd-user]: ./media/hdinsight-administer-use-management-portal/HDI.CreateRDPUser.png\n[image-hadoopcommandline]: ./media/hdinsight-administer-use-management-portal/HDI.HadoopCommandLine.PNG \"Hadoop command line\"\n[image-hdiclustercreate-uploadcert]: ./media/hdinsight-administer-use-management-portal/HDI.ClusterCreate.UploadCert.png\n\ntest\n"
}