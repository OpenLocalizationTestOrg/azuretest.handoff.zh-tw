{
  "nodes": [
    {
      "content": "Using the File connector in Logic Apps | Microsoft Azure App Service",
      "pos": [
        27,
        95
      ]
    },
    {
      "content": "How to create and configure the File Connector or API app and use it in a logic app in Azure App Service",
      "pos": [
        114,
        218
      ]
    },
    {
      "content": "Get started with the File Connector and add it to your Logic App",
      "pos": [
        537,
        601
      ]
    },
    {
      "content": "Connect to a file system to upload, download, and more to your files on a host machine.",
      "pos": [
        602,
        689
      ]
    },
    {
      "content": "Logic apps can trigger based on a variety of data sources and offer connectors to get and process data.",
      "pos": [
        690,
        793
      ]
    },
    {
      "content": "You can add the File connector to your business workflow and process data as part of this workflow within a Logic App.",
      "pos": [
        794,
        912
      ]
    },
    {
      "content": "The File Connector uses the Hybrid Connection Manager for hybrid connectivity to the host file system.",
      "pos": [
        915,
        1017
      ]
    },
    {
      "content": "Creating a File connector for your Logic App",
      "pos": [
        1022,
        1066
      ]
    },
    {
      "content": "To use the File connector, you need to first create an instance of the File connector API app.",
      "pos": [
        1070,
        1164
      ]
    },
    {
      "content": "This can be done as follows:",
      "pos": [
        1165,
        1193
      ]
    },
    {
      "content": "Open the Azure Marketplace using the + NEW option on the left side of the Azure Portal.",
      "pos": [
        1199,
        1286
      ]
    },
    {
      "content": "Browse to “Marketplace &gt; API Apps” and search for “File Connector”.",
      "pos": [
        1291,
        1358
      ]
    },
    {
      "content": "Configure the File connector as follows:",
      "pos": [
        1363,
        1403
      ]
    },
    {
      "content": "![][1]",
      "pos": [
        1406,
        1412
      ]
    },
    {
      "pos": [
        1420,
        1466
      ],
      "content": "<bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> - give a name for your File Connector"
    },
    {
      "content": "Package Settings",
      "pos": [
        1475,
        1491
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Root Folder<ept id=\"p1\">**</ept> - Specify the root folder path on your host machine.",
      "pos": [
        1504,
        1572
      ]
    },
    {
      "content": "Eg.",
      "pos": [
        1573,
        1576
      ]
    },
    {
      "content": "D:\\FileConnectorTest",
      "pos": [
        1577,
        1597
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Service Bus Connection String<ept id=\"p1\">**</ept> - Provide a Service Bus Connection String.",
      "pos": [
        1608,
        1684
      ]
    },
    {
      "content": "Make sure that the service bus namespace is of type Standard and NOT Basic to allow for use of Service Bus Relays.",
      "pos": [
        1685,
        1799
      ]
    },
    {
      "content": "Service Bus Relay is used to connect to the Hybrid Connection Manager.",
      "pos": [
        1801,
        1871
      ]
    },
    {
      "pos": [
        1878,
        1936
      ],
      "content": "<bpt id=\"p1\">**</bpt>App Service plan<ept id=\"p1\">**</ept> - select or create a App Service plan"
    },
    {
      "pos": [
        1943,
        2001
      ],
      "content": "<bpt id=\"p1\">**</bpt>Pricing tier<ept id=\"p1\">**</ept> - choose a pricing tier for the connector"
    },
    {
      "pos": [
        2008,
        2096
      ],
      "content": "<bpt id=\"p1\">**</bpt>Resource group<ept id=\"p1\">**</ept> - select or create a resource group where the connector should reside"
    },
    {
      "pos": [
        2103,
        2184
      ],
      "content": "<bpt id=\"p1\">**</bpt>Subscription<ept id=\"p1\">**</ept> - choose a subscription you want this connector to be created in"
    },
    {
      "pos": [
        2191,
        2286
      ],
      "content": "<bpt id=\"p1\">**</bpt>Location<ept id=\"p1\">**</ept> - choose the geographic location where you would like the connector to be deployed"
    },
    {
      "content": "Click on Create.",
      "pos": [
        2291,
        2307
      ]
    },
    {
      "content": "A new File Connector will be created",
      "pos": [
        2308,
        2344
      ]
    },
    {
      "content": "Configure Hybrid Connection Manager",
      "pos": [
        2349,
        2384
      ]
    },
    {
      "content": "Once the API App instance is created, browse to its dashboard.",
      "pos": [
        2388,
        2450
      ]
    },
    {
      "content": "This can be done by clicking on Browse &gt; API Apps &gt; select your File Connector API App.",
      "pos": [
        2452,
        2539
      ]
    },
    {
      "content": "From here the Hybrid Connection Manager needs to be configured.",
      "pos": [
        2541,
        2604
      ]
    },
    {
      "content": "For more information on configuring and trouble shooting the Hybrid Connection Manager see <bpt id=\"p1\">[</bpt><ept id=\"p1\">Using the Hybrid Connection Manager]</ept>.",
      "pos": [
        2605,
        2734
      ]
    },
    {
      "content": "Using the File Connector in your Logic App",
      "pos": [
        2739,
        2781
      ]
    },
    {
      "content": "Once your API app is created, you can now use the File connector as an action for your Logic App.",
      "pos": [
        2785,
        2882
      ]
    },
    {
      "content": "To do this, you need to:",
      "pos": [
        2883,
        2907
      ]
    },
    {
      "content": "Create a new Logic App and choose the same resource group which has the File connector.",
      "pos": [
        2913,
        3000
      ]
    },
    {
      "content": "Follow instructions to <bpt id=\"p1\">[</bpt><ept id=\"p1\">Create a new Logic App]</ept>.",
      "pos": [
        3001,
        3049
      ]
    },
    {
      "content": "Open “Triggers and Actions” within the created Logic App to open the Logic Apps Designer and configure your flow.",
      "pos": [
        3055,
        3168
      ]
    },
    {
      "content": "The File connector would appear in the “API Apps in this resource group” section in the gallery on the right hand side.",
      "pos": [
        3174,
        3293
      ]
    },
    {
      "content": "You can drop the File Connector API app into the editor by clicking on the “File Connector”.",
      "pos": [
        3299,
        3391
      ]
    },
    {
      "content": "File Connector exposes one trigger and 4 Actions:",
      "pos": [
        3392,
        3441
      ]
    },
    {
      "content": "![][5]",
      "pos": [
        3444,
        3450
      ]
    },
    {
      "content": "Each one of these exposes certain properties.",
      "pos": [
        3456,
        3501
      ]
    },
    {
      "content": "The image below lists the properties for the trigger and Get File Action:",
      "pos": [
        3502,
        3575
      ]
    },
    {
      "content": "![][6]",
      "pos": [
        3578,
        3584
      ]
    },
    {
      "content": "Once these are configured, the Trigger and Action can be used in your flow.",
      "pos": [
        3589,
        3664
      ]
    },
    {
      "content": "Similarly, other actions can be configured as well.",
      "pos": [
        3665,
        3716
      ]
    },
    {
      "pos": [
        3720,
        3817
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph> The file trigger will delete the file after it is successfully read from the folder."
    },
    {
      "content": "File Connector REST APIs",
      "pos": [
        3822,
        3846
      ]
    },
    {
      "content": "To use the connector outside of a logic App, the REST APIs exposed by the connector can be leveraged.",
      "pos": [
        3850,
        3951
      ]
    },
    {
      "content": "You can view this API Definitions using Browse-&gt;Api App-&gt;File Connector.",
      "pos": [
        3952,
        4024
      ]
    },
    {
      "content": "Now click on the API Definition lens under the Summary Section to view all the APIs exposed by this connector:",
      "pos": [
        4025,
        4135
      ]
    },
    {
      "content": "![][7]",
      "pos": [
        4138,
        4144
      ]
    },
    {
      "pos": [
        4146,
        4214
      ],
      "content": "Details of the APIs can be found at <bpt id=\"p1\">[</bpt><ept id=\"p1\">File Connector API Definition]</ept>."
    },
    {
      "content": "Do more with your Connector",
      "pos": [
        4219,
        4246
      ]
    },
    {
      "content": "Now that the connector is created, you can add it to a business workflow using a Logic App.",
      "pos": [
        4247,
        4338
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>What are Logic Apps?<ept id=\"p1\">](app-service-logic-what-are-logic-apps.md)</ept>.",
      "pos": [
        4339,
        4408
      ]
    },
    {
      "pos": [
        4410,
        4534
      ],
      "content": "View the Swagger REST API reference at <bpt id=\"p1\">[</bpt>Connectors and API Apps Reference<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?LinkId=529766)</ept>."
    },
    {
      "content": "You can also review performance statistics and control security to the connector.",
      "pos": [
        4536,
        4617
      ]
    },
    {
      "content": "See <bpt id=\"p1\">[</bpt>Manage and Monitor your built-in API Apps and Connectors<ept id=\"p1\">](app-service-logic-monitor-your-connectors.md)</ept>.",
      "pos": [
        4618,
        4727
      ]
    },
    {
      "content": "test",
      "pos": [
        5225,
        5229
      ]
    }
  ],
  "content": "<properties\n    pageTitle=\"Using the File connector in Logic Apps | Microsoft Azure App Service\"\n    description=\"How to create and configure the File Connector or API app and use it in a logic app in Azure App Service\"\n    authors=\"anuragdalmia\"\n    manager=\"dwrede\"\n    editor=\"\"\n    services=\"app-service\\logic\"\n    documentationCenter=\"\"/>\n\n<tags\n    ms.service=\"app-service-logic\"\n    ms.workload=\"integration\"\n    ms.tgt_pltfrm=\"na\"\n    ms.devlang=\"na\"\n    ms.topic=\"article\"\n    ms.date=\"08/23/2015\"\n    ms.author=\"andalmia\"/>\n\n# Get started with the File Connector and add it to your Logic App\nConnect to a file system to upload, download, and more to your files on a host machine. Logic apps can trigger based on a variety of data sources and offer connectors to get and process data. You can add the File connector to your business workflow and process data as part of this workflow within a Logic App. \n\nThe File Connector uses the Hybrid Connection Manager for hybrid connectivity to the host file system.\n\n## Creating a File connector for your Logic App ##\nTo use the File connector, you need to first create an instance of the File connector API app. This can be done as follows:\n\n1.  Open the Azure Marketplace using the + NEW option on the left side of the Azure Portal.\n2.  Browse to “Marketplace > API Apps” and search for “File Connector”.\n3.  Configure the File connector as follows:  \n![][1]\n\n    - **Name** - give a name for your File Connector\n    - **Package Settings**\n        - **Root Folder** - Specify the root folder path on your host machine. Eg. D:\\FileConnectorTest\n        - **Service Bus Connection String** - Provide a Service Bus Connection String. Make sure that the service bus namespace is of type Standard and NOT Basic to allow for use of Service Bus Relays.  Service Bus Relay is used to connect to the Hybrid Connection Manager.\n    - **App Service plan** - select or create a App Service plan\n    - **Pricing tier** - choose a pricing tier for the connector\n    - **Resource group** - select or create a resource group where the connector should reside\n    - **Subscription** - choose a subscription you want this connector to be created in\n    - **Location** - choose the geographic location where you would like the connector to be deployed\n\n4. Click on Create. A new File Connector will be created\n\n## Configure Hybrid Connection Manager ##\nOnce the API App instance is created, browse to its dashboard.  This can be done by clicking on Browse > API Apps > select your File Connector API App.  From here the Hybrid Connection Manager needs to be configured.\nFor more information on configuring and trouble shooting the Hybrid Connection Manager see [Using the Hybrid Connection Manager].\n\n## Using the File Connector in your Logic App ##\nOnce your API app is created, you can now use the File connector as an action for your Logic App. To do this, you need to:\n\n1.  Create a new Logic App and choose the same resource group which has the File connector. Follow instructions to [Create a new Logic App].\n\n2.  Open “Triggers and Actions” within the created Logic App to open the Logic Apps Designer and configure your flow.\n\n3.  The File connector would appear in the “API Apps in this resource group” section in the gallery on the right hand side.\n\n4.  You can drop the File Connector API app into the editor by clicking on the “File Connector”. File Connector exposes one trigger and 4 Actions:  \n![][5]\n\n6.  Each one of these exposes certain properties. The image below lists the properties for the trigger and Get File Action:  \n![][6]\n\n7. Once these are configured, the Trigger and Action can be used in your flow. Similarly, other actions can be configured as well.\n\n> [AZURE.NOTE] The file trigger will delete the file after it is successfully read from the folder.\n\n## File Connector REST APIs ##\nTo use the connector outside of a logic App, the REST APIs exposed by the connector can be leveraged. You can view this API Definitions using Browse->Api App->File Connector. Now click on the API Definition lens under the Summary Section to view all the APIs exposed by this connector:  \n![][7]\n\nDetails of the APIs can be found at [File Connector API Definition].\n\n## Do more with your Connector\nNow that the connector is created, you can add it to a business workflow using a Logic App. See [What are Logic Apps?](app-service-logic-what-are-logic-apps.md).\n\nView the Swagger REST API reference at [Connectors and API Apps Reference](http://go.microsoft.com/fwlink/p/?LinkId=529766).\n\nYou can also review performance statistics and control security to the connector. See [Manage and Monitor your built-in API Apps and Connectors](app-service-logic-monitor-your-connectors.md).\n\n<!-- Image reference -->\n[1]: ./media/app-service-logic-connector-file/img1.PNG\n[5]: ./media/app-service-logic-connector-file/img5.PNG\n[6]: ./media/app-service-logic-connector-file/img6.PNG\n[7]: ./media/app-service-logic-connector-file/img7.PNG\n\n<!-- Links -->\n[Create a new Logic App]: app-service-logic-create-a-logic-app.md\n[File Connector API Definition]: https://msdn.microsoft.com/library/dn936296.aspx\n[Using the Hybrid Connection Manager]: app-service-logic-hybrid-connection-manager.md\n\ntest\n"
}