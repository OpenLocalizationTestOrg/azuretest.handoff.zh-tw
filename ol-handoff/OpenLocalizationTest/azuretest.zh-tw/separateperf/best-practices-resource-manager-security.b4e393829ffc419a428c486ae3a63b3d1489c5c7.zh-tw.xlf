<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="zh-tw">
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Security considerations for Azure Resource Manager</source>
          <target state="new">Security considerations for Azure Resource Manager</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Shows recommended approaches in Azure Resource Manager for securing resources with keys and secrets, role-based access control and network security groups.</source>
          <target state="new">Shows recommended approaches in Azure Resource Manager for securing resources with keys and secrets, role-based access control and network security groups.</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Security considerations for Azure Resource Manager</source>
          <target state="new">Security considerations for Azure Resource Manager</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>When looking at aspects of security for your Azure Resource Manager templates, there are several areas to consider – keys and secrets, role-based access control,</source>
          <target state="new">When looking at aspects of security for your Azure Resource Manager templates, there are several areas to consider – keys and secrets, role-based access control,</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>and network security groups.</source>
          <target state="new">and network security groups.</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>This topic assumes you are familiar with Role-Based Access Control (RBAC) in Azure Resource Manager.</source>
          <target state="new">This topic assumes you are familiar with Role-Based Access Control (RBAC) in Azure Resource Manager.</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>For more information, see</source>
          <target state="new">For more information, see</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Role-based access control in the Microsoft Azure portal<ept id="p1">](role-based-access-control-configure.md)</ept> and</source>
          <target state="new"><bpt id="p1">[</bpt>Role-based access control in the Microsoft Azure portal<ept id="p1">](role-based-access-control-configure.md)</ept> and</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Managing and Auditing Access to Resources<ept id="p1">](resource-group-rbac.md)</ept></source>
          <target state="new"><bpt id="p1">[</bpt>Managing and Auditing Access to Resources<ept id="p1">](resource-group-rbac.md)</ept></target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>This topic is part of a larger whitepaper.</source>
          <target state="new">This topic is part of a larger whitepaper.</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>To read the full paper, download [World Class ARM Templates Considerations and Proven Practices](http://download.microsoft.com/download/8/E/1/8E1DBEFA-CECE-4DC9-A813-93520A5D7CFE/World Class ARM Templates - Considerations and Proven Practices.pdf).</source>
          <target state="new">To read the full paper, download [World Class ARM Templates Considerations and Proven Practices](http://download.microsoft.com/download/8/E/1/8E1DBEFA-CECE-4DC9-A813-93520A5D7CFE/World Class ARM Templates - Considerations and Proven Practices.pdf).</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Secrets and certificates</source>
          <target state="new">Secrets and certificates</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Azure Virtual Machines, Azure Resource Manager and Azure Key Vault are fully integrated to provide support for the secure handling of certificates which are</source>
          <target state="new">Azure Virtual Machines, Azure Resource Manager and Azure Key Vault are fully integrated to provide support for the secure handling of certificates which are</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>to be deployed in the VM.</source>
          <target state="new">to be deployed in the VM.</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>Utilizing Azure Key Vault with Resource Manager to orchestrate and store VM secrets and certificates is a best practice and</source>
          <target state="new">Utilizing Azure Key Vault with Resource Manager to orchestrate and store VM secrets and certificates is a best practice and</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>provides the following advantages:</source>
          <target state="new">provides the following advantages:</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>The templates only contain URI references to the secrets, which means the actual secrets are not in code, configuration or source code repositories.</source>
          <target state="new">The templates only contain URI references to the secrets, which means the actual secrets are not in code, configuration or source code repositories.</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>This prevents</source>
          <target state="new">This prevents</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>key phishing attacks on internal or external repos, such as harvest-bots in GitHub.</source>
          <target state="new">key phishing attacks on internal or external repos, such as harvest-bots in GitHub.</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Secrets stored in the Key Vault are under full RBAC control of a trusted operator.</source>
          <target state="new">Secrets stored in the Key Vault are under full RBAC control of a trusted operator.</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>If the trusted operator leaves the company or transfers within the</source>
          <target state="new">If the trusted operator leaves the company or transfers within the</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>company to a new group, they no longer have access to the keys they created in the Vault.</source>
          <target state="new">company to a new group, they no longer have access to the keys they created in the Vault.</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>Full compartmentalization of all assets:</source>
          <target state="new">Full compartmentalization of all assets:</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>- the templates to deploy the keys</source>
          <target state="new">- the templates to deploy the keys</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>- the templates to deploy a VM with references to the keys</source>
          <target state="new">- the templates to deploy a VM with references to the keys</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>- the actual key materials in the Vault.</source>
          <target state="new">- the actual key materials in the Vault.</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Each template (and action) can be under different RBAC roles for full separation of duties.</source>
          <target state="new">Each template (and action) can be under different RBAC roles for full separation of duties.</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>The loading of secrets into a VM at deployment time occurs via direct channel between the Azure Fabric and the Key Vault within the confines of the Microsoft</source>
          <target state="new">The loading of secrets into a VM at deployment time occurs via direct channel between the Azure Fabric and the Key Vault within the confines of the Microsoft</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>datacenter.</source>
          <target state="new">datacenter.</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Once the keys are in the Key Vault, they never see 'daylight' over an untrusted channel outside of the datacenter.</source>
          <target state="new">Once the keys are in the Key Vault, they never see 'daylight' over an untrusted channel outside of the datacenter.</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Key Vaults are always regional, so the secrets always have locality (and sovereignty) with the VMs.</source>
          <target state="new">Key Vaults are always regional, so the secrets always have locality (and sovereignty) with the VMs.</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>There are no global Key Vaults.</source>
          <target state="new">There are no global Key Vaults.</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Separation of keys from deployments</source>
          <target state="new">Separation of keys from deployments</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>A best practice is to maintain separate templates for:</source>
          <target state="new">A best practice is to maintain separate templates for:</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>Creation of vaults (which will contain the key material)</source>
          <target state="new">Creation of vaults (which will contain the key material)</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Deployment of the VMs (with URI references to the keys contained in the vaults)</source>
          <target state="new">Deployment of the VMs (with URI references to the keys contained in the vaults)</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>A typical enterprise scenario is to have a small group of Trusted Operators who have access to critical secrets within the deployed workloads, with a broader group</source>
          <target state="new">A typical enterprise scenario is to have a small group of Trusted Operators who have access to critical secrets within the deployed workloads, with a broader group</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>of dev/ops personnel who can create or update VM deployments.</source>
          <target state="new">of dev/ops personnel who can create or update VM deployments.</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Below is an example ARM template which creates and configures a new vault in the context</source>
          <target state="new">Below is an example ARM template which creates and configures a new vault in the context</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>of the currently authenticated user's identity in Azure Active Directory.</source>
          <target state="new">of the currently authenticated user's identity in Azure Active Directory.</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>This user would have the default permission to create, delete, list, update, backup,</source>
          <target state="new">This user would have the default permission to create, delete, list, update, backup,</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>restore, and get the public half of keys in this new key vault.</source>
          <target state="new">restore, and get the public half of keys in this new key vault.</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>While most of the fields in this template should be self-explanatory, the <bpt id="p1">**</bpt>enableVaultForDeployment<ept id="p1">**</ept> setting deserves more background: vaults do not have any default</source>
          <target state="new">While most of the fields in this template should be self-explanatory, the <bpt id="p1">**</bpt>enableVaultForDeployment<ept id="p1">**</ept> setting deserves more background: vaults do not have any default</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>standing access by any other Azure infrastructure component.</source>
          <target state="new">standing access by any other Azure infrastructure component.</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>By setting this value, it allows the Azure Compute infrastructure components read-only access to this</source>
          <target state="new">By setting this value, it allows the Azure Compute infrastructure components read-only access to this</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>specific named vault.</source>
          <target state="new">specific named vault.</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Therefore, a further best practice is to not comingle corporate sensitive data in the same vault as virtual machine secrets.</source>
          <target state="new">Therefore, a further best practice is to not comingle corporate sensitive data in the same vault as virtual machine secrets.</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>Once the vault is created, the next step is to reference that vault in the deployment template of a new VM.</source>
          <target state="new">Once the vault is created, the next step is to reference that vault in the deployment template of a new VM.</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>As mentioned above, a best practice is to have a</source>
          <target state="new">As mentioned above, a best practice is to have a</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>different dev/ops group manage VM deployments, with that group having no direct access to the keys as stored in the vault.</source>
          <target state="new">different dev/ops group manage VM deployments, with that group having no direct access to the keys as stored in the vault.</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>The below template fragment would be composed into higher order deployment constructs, each safely and securely referencing highly-sensitive secrets which are not</source>
          <target state="new">The below template fragment would be composed into higher order deployment constructs, each safely and securely referencing highly-sensitive secrets which are not</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>under the direct control of the operator.</source>
          <target state="new">under the direct control of the operator.</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>Service principals for cross-subscription interactions</source>
          <target state="new">Service principals for cross-subscription interactions</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>Service identities are represented by service principals in Active Directory.</source>
          <target state="new">Service identities are represented by service principals in Active Directory.</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>Service principals will be at the center of enabling key scenarios for Enterprise IT organizations, System Integrators (SI), and Cloud Service Vendors (CSV).</source>
          <target state="new">Service principals will be at the center of enabling key scenarios for Enterprise IT organizations, System Integrators (SI), and Cloud Service Vendors (CSV).</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>Specifically, there will be use cases where one of these organizations will need to interact with the subscription of one of their customers.</source>
          <target state="new">Specifically, there will be use cases where one of these organizations will need to interact with the subscription of one of their customers.</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>Your organization could provide an offering that will monitor a solution deployed in your customers environment and subscription.</source>
          <target state="new">Your organization could provide an offering that will monitor a solution deployed in your customers environment and subscription.</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>In this case, you will need to</source>
          <target state="new">In this case, you will need to</target>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>get access to logs and other data within a customers account so that you can utilize it in your monitoring solution.</source>
          <target state="new">get access to logs and other data within a customers account so that you can utilize it in your monitoring solution.</target>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>If you're a corporate IT organization, a systems integrator, you may provide an offering to a customer where you will deploy and manage a capability for them,</source>
          <target state="new">If you're a corporate IT organization, a systems integrator, you may provide an offering to a customer where you will deploy and manage a capability for them,</target>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>such as a data analytics platform, where the offering resides in the customers own subscription.</source>
          <target state="new">such as a data analytics platform, where the offering resides in the customers own subscription.</target>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>In these use cases, your organization would require an identity that could be given access to perform these actions within the context of a customer subscription.</source>
          <target state="new">In these use cases, your organization would require an identity that could be given access to perform these actions within the context of a customer subscription.</target>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>These scenarios bring with them a certain set of considerations for your customer:</source>
          <target state="new">These scenarios bring with them a certain set of considerations for your customer:</target>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>For security reasons, access may need to be scoped to certain types of actions, e.g. read only access.</source>
          <target state="new">For security reasons, access may need to be scoped to certain types of actions, e.g. read only access.</target>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>As deployed resources are provided at a cost, there may be similar constraints on access required for financial reasons.</source>
          <target state="new">As deployed resources are provided at a cost, there may be similar constraints on access required for financial reasons.</target>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>For security reasons, access may need to be scoped only to a specific resource (storage accounts) or resources (resource group containing an environment or solution)</source>
          <target state="new">For security reasons, access may need to be scoped only to a specific resource (storage accounts) or resources (resource group containing an environment or solution)</target>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>As a relationship with a vendor may change, the customer will want to have the ability to enable/disable access to SI or CSV</source>
          <target state="new">As a relationship with a vendor may change, the customer will want to have the ability to enable/disable access to SI or CSV</target>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source>As actions against this account having billing implications, the customer desires support for auditability and accountability for billing.</source>
          <target state="new">As actions against this account having billing implications, the customer desires support for auditability and accountability for billing.</target>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>From a compliance perspective, the customer will want to be able to audit your behavior within their environment</source>
          <target state="new">From a compliance perspective, the customer will want to be able to audit your behavior within their environment</target>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>A combination of a service principal and RBAC can be used to address these requirements.</source>
          <target state="new">A combination of a service principal and RBAC can be used to address these requirements.</target>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>Network security groups</source>
          <target state="new">Network security groups</target>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>Many scenarios will have requirements that specify how traffic to one or more VM instances in your virtual network is controlled.</source>
          <target state="new">Many scenarios will have requirements that specify how traffic to one or more VM instances in your virtual network is controlled.</target>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>You can use a Network Security</source>
          <target state="new">You can use a Network Security</target>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>Group (NSG) to do this as part of an ARM template deployment.</source>
          <target state="new">Group (NSG) to do this as part of an ARM template deployment.</target>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>A network security group is a top-level object that is associated with your subscription.</source>
          <target state="new">A network security group is a top-level object that is associated with your subscription.</target>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>An NSG contains access control rules that allow or deny traffic to</source>
          <target state="new">An NSG contains access control rules that allow or deny traffic to</target>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>VM instances.</source>
          <target state="new">VM instances.</target>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>The rules of an NSG can be changed at any time, and changes are applied to all associated instances.</source>
          <target state="new">The rules of an NSG can be changed at any time, and changes are applied to all associated instances.</target>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>To use an NSG, you must have a virtual network</source>
          <target state="new">To use an NSG, you must have a virtual network</target>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>that is associated with a region (location).</source>
          <target state="new">that is associated with a region (location).</target>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>NSGs are not compatible with virtual networks that are associated with an affinity group.</source>
          <target state="new">NSGs are not compatible with virtual networks that are associated with an affinity group.</target>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>If you don’t have a</source>
          <target state="new">If you don’t have a</target>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>regional virtual network and you want to control traffic to your endpoints, please see <bpt id="p1">[</bpt>About Network Access Control Lists (ACLs)<ept id="p1">](../virtual-network/virtual-networks-acl.md)</ept>.</source>
          <target state="new">regional virtual network and you want to control traffic to your endpoints, please see <bpt id="p1">[</bpt>About Network Access Control Lists (ACLs)<ept id="p1">](../virtual-network/virtual-networks-acl.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>You can associate an NSG with a VM, or to a subnet within a virtual network.</source>
          <target state="new">You can associate an NSG with a VM, or to a subnet within a virtual network.</target>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source>When associated with a VM, the NSG applies to all the traffic that is sent and</source>
          <target state="new">When associated with a VM, the NSG applies to all the traffic that is sent and</target>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source>received by the VM instance.</source>
          <target state="new">received by the VM instance.</target>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source>When applied to a subnet within your virtual network, it applies to all the traffic that is sent and received by all the VM instances</source>
          <target state="new">When applied to a subnet within your virtual network, it applies to all the traffic that is sent and received by all the VM instances</target>
        </trans-unit>
        <trans-unit id="188" translate="yes" xml:space="preserve">
          <source>in the subnet.</source>
          <target state="new">in the subnet.</target>
        </trans-unit>
        <trans-unit id="189" translate="yes" xml:space="preserve">
          <source>A VM or subnet can be associated with only 1 NSG, but each NSG can contain up to 200 rules.</source>
          <target state="new">A VM or subnet can be associated with only 1 NSG, but each NSG can contain up to 200 rules.</target>
        </trans-unit>
        <trans-unit id="190" translate="yes" xml:space="preserve">
          <source>You can have 100 NSGs per subscription.</source>
          <target state="new">You can have 100 NSGs per subscription.</target>
        </trans-unit>
        <trans-unit id="191" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph>  Endpoint-based ACLs and network security groups are not supported on the same VM instance.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph>  Endpoint-based ACLs and network security groups are not supported on the same VM instance.</target>
        </trans-unit>
        <trans-unit id="192" translate="yes" xml:space="preserve">
          <source>If you want to use an NSG and have an endpoint ACL already in place, first remove the endpoint ACL.</source>
          <target state="new">If you want to use an NSG and have an endpoint ACL already in place, first remove the endpoint ACL.</target>
        </trans-unit>
        <trans-unit id="193" translate="yes" xml:space="preserve">
          <source>For information about how to do this, see <bpt id="p1">[</bpt>Managing Access Control Lists (ACLs) for Endpoints by using PowerShell<ept id="p1">](../virtual-network/virtual-networks-acl-powershell.md)</ept>.</source>
          <target state="new">For information about how to do this, see <bpt id="p1">[</bpt>Managing Access Control Lists (ACLs) for Endpoints by using PowerShell<ept id="p1">](../virtual-network/virtual-networks-acl-powershell.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="194" translate="yes" xml:space="preserve">
          <source>How network security groups work</source>
          <target state="new">How network security groups work</target>
        </trans-unit>
        <trans-unit id="195" translate="yes" xml:space="preserve">
          <source>Network security groups are different than endpoint-based ACLs.</source>
          <target state="new">Network security groups are different than endpoint-based ACLs.</target>
        </trans-unit>
        <trans-unit id="196" translate="yes" xml:space="preserve">
          <source>Endpoint ACLs work only on the public port that is exposed through the Input endpoint.</source>
          <target state="new">Endpoint ACLs work only on the public port that is exposed through the Input endpoint.</target>
        </trans-unit>
        <trans-unit id="197" translate="yes" xml:space="preserve">
          <source>An</source>
          <target state="new">An</target>
        </trans-unit>
        <trans-unit id="198" translate="yes" xml:space="preserve">
          <source>NSG works on one or more VM instances and controls all the traffic that is inbound and outbound on the VM.</source>
          <target state="new">NSG works on one or more VM instances and controls all the traffic that is inbound and outbound on the VM.</target>
        </trans-unit>
        <trans-unit id="199" translate="yes" xml:space="preserve">
          <source>A network security group has a <bpt id="p1">*</bpt>Name<ept id="p1">*</ept>, is associated with a <bpt id="p2">*</bpt>Region<ept id="p2">*</ept> (one of the supported Azure locations), and has a descriptive label.</source>
          <target state="new">A network security group has a <bpt id="p1">*</bpt>Name<ept id="p1">*</ept>, is associated with a <bpt id="p2">*</bpt>Region<ept id="p2">*</ept> (one of the supported Azure locations), and has a descriptive label.</target>
        </trans-unit>
        <trans-unit id="200" translate="yes" xml:space="preserve">
          <source>It contains two types of</source>
          <target state="new">It contains two types of</target>
        </trans-unit>
        <trans-unit id="201" translate="yes" xml:space="preserve">
          <source>rules, Inbound and Outbound.</source>
          <target state="new">rules, Inbound and Outbound.</target>
        </trans-unit>
        <trans-unit id="202" translate="yes" xml:space="preserve">
          <source>The Inbound rules are applied on the incoming packets to a VM and the Outbound rules are applied to the outgoing packets from the VM.</source>
          <target state="new">The Inbound rules are applied on the incoming packets to a VM and the Outbound rules are applied to the outgoing packets from the VM.</target>
        </trans-unit>
        <trans-unit id="203" translate="yes" xml:space="preserve">
          <source>The rules are applied at the server machine where the VM is located.</source>
          <target state="new">The rules are applied at the server machine where the VM is located.</target>
        </trans-unit>
        <trans-unit id="204" translate="yes" xml:space="preserve">
          <source>An incoming or outgoing packet must match an Allow rule to be permitted; otherwise, it’s dropped.</source>
          <target state="new">An incoming or outgoing packet must match an Allow rule to be permitted; otherwise, it’s dropped.</target>
        </trans-unit>
        <trans-unit id="205" translate="yes" xml:space="preserve">
          <source>Rules are processed in the order of priority.</source>
          <target state="new">Rules are processed in the order of priority.</target>
        </trans-unit>
        <trans-unit id="206" translate="yes" xml:space="preserve">
          <source>For example, a rule with a lower priority number such as 100 is processed before rules with a higher priority numbers</source>
          <target state="new">For example, a rule with a lower priority number such as 100 is processed before rules with a higher priority numbers</target>
        </trans-unit>
        <trans-unit id="207" translate="yes" xml:space="preserve">
          <source>such as 200.</source>
          <target state="new">such as 200.</target>
        </trans-unit>
        <trans-unit id="208" translate="yes" xml:space="preserve">
          <source>Once a match is found, no more rules are processed.</source>
          <target state="new">Once a match is found, no more rules are processed.</target>
        </trans-unit>
        <trans-unit id="209" translate="yes" xml:space="preserve">
          <source>A rule specifies the following:</source>
          <target state="new">A rule specifies the following:</target>
        </trans-unit>
        <trans-unit id="210" translate="yes" xml:space="preserve">
          <source>Name: A unique identifier for the rule</source>
          <target state="new">Name: A unique identifier for the rule</target>
        </trans-unit>
        <trans-unit id="211" translate="yes" xml:space="preserve">
          <source>Type: Inbound/Outbound</source>
          <target state="new">Type: Inbound/Outbound</target>
        </trans-unit>
        <trans-unit id="212" translate="yes" xml:space="preserve">
          <source>Priority: An integer between 100 and 4096 (rules processed from low to high)</source>
          <target state="new">Priority: An integer between 100 and 4096 (rules processed from low to high)</target>
        </trans-unit>
        <trans-unit id="213" translate="yes" xml:space="preserve">
          <source>Source IP Address: CIDR of source IP range</source>
          <target state="new">Source IP Address: CIDR of source IP range</target>
        </trans-unit>
        <trans-unit id="214" translate="yes" xml:space="preserve">
          <source>Source Port Range: An integer or range between 0 and 65536</source>
          <target state="new">Source Port Range: An integer or range between 0 and 65536</target>
        </trans-unit>
        <trans-unit id="215" translate="yes" xml:space="preserve">
          <source>Destination IP Range: CIDR of the destination IP Range</source>
          <target state="new">Destination IP Range: CIDR of the destination IP Range</target>
        </trans-unit>
        <trans-unit id="216" translate="yes" xml:space="preserve">
          <source>Destination Port Range: An integer or range between 0 and 65536</source>
          <target state="new">Destination Port Range: An integer or range between 0 and 65536</target>
        </trans-unit>
        <trans-unit id="217" translate="yes" xml:space="preserve">
          <source>Protocol: TCP, UDP or ‘\*’</source>
          <target state="new">Protocol: TCP, UDP or ‘\*’</target>
        </trans-unit>
        <trans-unit id="218" translate="yes" xml:space="preserve">
          <source>Access: Allow/Deny</source>
          <target state="new">Access: Allow/Deny</target>
        </trans-unit>
        <trans-unit id="219" translate="yes" xml:space="preserve">
          <source>Default rules</source>
          <target state="new">Default rules</target>
        </trans-unit>
        <trans-unit id="220" translate="yes" xml:space="preserve">
          <source>An NSG contains default rules.</source>
          <target state="new">An NSG contains default rules.</target>
        </trans-unit>
        <trans-unit id="221" translate="yes" xml:space="preserve">
          <source>The default rules can't be deleted, but because they are assigned the lowest priority, they can be overridden by the rules that</source>
          <target state="new">The default rules can't be deleted, but because they are assigned the lowest priority, they can be overridden by the rules that</target>
        </trans-unit>
        <trans-unit id="222" translate="yes" xml:space="preserve">
          <source>you create.</source>
          <target state="new">you create.</target>
        </trans-unit>
        <trans-unit id="223" translate="yes" xml:space="preserve">
          <source>The default rules describe the default settings recommended by the platform.</source>
          <target state="new">The default rules describe the default settings recommended by the platform.</target>
        </trans-unit>
        <trans-unit id="224" translate="yes" xml:space="preserve">
          <source>As illustrated by the default rules below, traffic originating and ending</source>
          <target state="new">As illustrated by the default rules below, traffic originating and ending</target>
        </trans-unit>
        <trans-unit id="225" translate="yes" xml:space="preserve">
          <source>in a virtual network is allowed both in Inbound and Outbound directions.</source>
          <target state="new">in a virtual network is allowed both in Inbound and Outbound directions.</target>
        </trans-unit>
        <trans-unit id="226" translate="yes" xml:space="preserve">
          <source>While connectivity to the Internet is allowed for outbound direction, it is by default blocked for inbound direction.</source>
          <target state="new">While connectivity to the Internet is allowed for outbound direction, it is by default blocked for inbound direction.</target>
        </trans-unit>
        <trans-unit id="227" translate="yes" xml:space="preserve">
          <source>A default rule allows the Azure load balancer</source>
          <target state="new">A default rule allows the Azure load balancer</target>
        </trans-unit>
        <trans-unit id="228" translate="yes" xml:space="preserve">
          <source>to probe the health of a VM.</source>
          <target state="new">to probe the health of a VM.</target>
        </trans-unit>
        <trans-unit id="229" translate="yes" xml:space="preserve">
          <source>You can override this rule if the VM or set of VMs under the NSG does not participate in the load balanced set.</source>
          <target state="new">You can override this rule if the VM or set of VMs under the NSG does not participate in the load balanced set.</target>
        </trans-unit>
        <trans-unit id="230" translate="yes" xml:space="preserve">
          <source>The default rules are shown in the tables below.</source>
          <target state="new">The default rules are shown in the tables below.</target>
        </trans-unit>
        <trans-unit id="231" translate="yes" xml:space="preserve">
          <source>Inbound default rules</source>
          <target state="new">Inbound default rules</target>
        </trans-unit>
        <trans-unit id="232" translate="yes" xml:space="preserve">
          <source>Name</source>
          <target state="new">Name</target>
        </trans-unit>
        <trans-unit id="233" translate="yes" xml:space="preserve">
          <source>Priority</source>
          <target state="new">Priority</target>
        </trans-unit>
        <trans-unit id="234" translate="yes" xml:space="preserve">
          <source>Source IP</source>
          <target state="new">Source IP</target>
        </trans-unit>
        <trans-unit id="235" translate="yes" xml:space="preserve">
          <source>Source Port</source>
          <target state="new">Source Port</target>
        </trans-unit>
        <trans-unit id="236" translate="yes" xml:space="preserve">
          <source>Destination IP</source>
          <target state="new">Destination IP</target>
        </trans-unit>
        <trans-unit id="237" translate="yes" xml:space="preserve">
          <source>Destination Port</source>
          <target state="new">Destination Port</target>
        </trans-unit>
        <trans-unit id="238" translate="yes" xml:space="preserve">
          <source>Protocol</source>
          <target state="new">Protocol</target>
        </trans-unit>
        <trans-unit id="239" translate="yes" xml:space="preserve">
          <source>Access</source>
          <target state="new">Access</target>
        </trans-unit>
        <trans-unit id="240" translate="yes" xml:space="preserve">
          <source>ALLOW VNET INBOUND</source>
          <target state="new">ALLOW VNET INBOUND</target>
        </trans-unit>
        <trans-unit id="241" translate="yes" xml:space="preserve">
          <source>65000</source>
          <target state="new">65000</target>
        </trans-unit>
        <trans-unit id="242" translate="yes" xml:space="preserve">
          <source>VIRTUAL_NETWORK</source>
          <target state="new">VIRTUAL_NETWORK</target>
        </trans-unit>
        <trans-unit id="244" translate="yes" xml:space="preserve">
          <source>VIRTUAL_NETWORK</source>
          <target state="new">VIRTUAL_NETWORK</target>
        </trans-unit>
        <trans-unit id="247" translate="yes" xml:space="preserve">
          <source>ALLOW</source>
          <target state="new">ALLOW</target>
        </trans-unit>
        <trans-unit id="248" translate="yes" xml:space="preserve">
          <source>ALLOW AZURE LOAD BALANCER INBOUND</source>
          <target state="new">ALLOW AZURE LOAD BALANCER INBOUND</target>
        </trans-unit>
        <trans-unit id="249" translate="yes" xml:space="preserve">
          <source>65001</source>
          <target state="new">65001</target>
        </trans-unit>
        <trans-unit id="250" translate="yes" xml:space="preserve">
          <source>AZURE_LOADBALANCER</source>
          <target state="new">AZURE_LOADBALANCER</target>
        </trans-unit>
        <trans-unit id="255" translate="yes" xml:space="preserve">
          <source>ALLOW</source>
          <target state="new">ALLOW</target>
        </trans-unit>
        <trans-unit id="256" translate="yes" xml:space="preserve">
          <source>DENY ALL INBOUND</source>
          <target state="new">DENY ALL INBOUND</target>
        </trans-unit>
        <trans-unit id="257" translate="yes" xml:space="preserve">
          <source>65500</source>
          <target state="new">65500</target>
        </trans-unit>
        <trans-unit id="263" translate="yes" xml:space="preserve">
          <source>DENY</source>
          <target state="new">DENY</target>
        </trans-unit>
        <trans-unit id="264" translate="yes" xml:space="preserve">
          <source>Outbound default rules</source>
          <target state="new">Outbound default rules</target>
        </trans-unit>
        <trans-unit id="265" translate="yes" xml:space="preserve">
          <source>Name</source>
          <target state="new">Name</target>
        </trans-unit>
        <trans-unit id="266" translate="yes" xml:space="preserve">
          <source>Priority</source>
          <target state="new">Priority</target>
        </trans-unit>
        <trans-unit id="267" translate="yes" xml:space="preserve">
          <source>Source IP</source>
          <target state="new">Source IP</target>
        </trans-unit>
        <trans-unit id="268" translate="yes" xml:space="preserve">
          <source>Source Port</source>
          <target state="new">Source Port</target>
        </trans-unit>
        <trans-unit id="269" translate="yes" xml:space="preserve">
          <source>Destination IP</source>
          <target state="new">Destination IP</target>
        </trans-unit>
        <trans-unit id="270" translate="yes" xml:space="preserve">
          <source>Destination Port</source>
          <target state="new">Destination Port</target>
        </trans-unit>
        <trans-unit id="271" translate="yes" xml:space="preserve">
          <source>Protocol</source>
          <target state="new">Protocol</target>
        </trans-unit>
        <trans-unit id="272" translate="yes" xml:space="preserve">
          <source>Access</source>
          <target state="new">Access</target>
        </trans-unit>
        <trans-unit id="273" translate="yes" xml:space="preserve">
          <source>ALLOW VNET OUTBOUND</source>
          <target state="new">ALLOW VNET OUTBOUND</target>
        </trans-unit>
        <trans-unit id="274" translate="yes" xml:space="preserve">
          <source>65000</source>
          <target state="new">65000</target>
        </trans-unit>
        <trans-unit id="275" translate="yes" xml:space="preserve">
          <source>VIRTUAL_NETWORK</source>
          <target state="new">VIRTUAL_NETWORK</target>
        </trans-unit>
        <trans-unit id="277" translate="yes" xml:space="preserve">
          <source>VIRTUAL_NETWORK</source>
          <target state="new">VIRTUAL_NETWORK</target>
        </trans-unit>
        <trans-unit id="280" translate="yes" xml:space="preserve">
          <source>ALLOW</source>
          <target state="new">ALLOW</target>
        </trans-unit>
        <trans-unit id="281" translate="yes" xml:space="preserve">
          <source>ALLOW INTERNET OUTBOUND</source>
          <target state="new">ALLOW INTERNET OUTBOUND</target>
        </trans-unit>
        <trans-unit id="282" translate="yes" xml:space="preserve">
          <source>65001</source>
          <target state="new">65001</target>
        </trans-unit>
        <trans-unit id="285" translate="yes" xml:space="preserve">
          <source>INTERNET</source>
          <target state="new">INTERNET</target>
        </trans-unit>
        <trans-unit id="288" translate="yes" xml:space="preserve">
          <source>ALLOW</source>
          <target state="new">ALLOW</target>
        </trans-unit>
        <trans-unit id="289" translate="yes" xml:space="preserve">
          <source>DENY ALL OUTBOUND</source>
          <target state="new">DENY ALL OUTBOUND</target>
        </trans-unit>
        <trans-unit id="290" translate="yes" xml:space="preserve">
          <source>65500</source>
          <target state="new">65500</target>
        </trans-unit>
        <trans-unit id="296" translate="yes" xml:space="preserve">
          <source>DENY</source>
          <target state="new">DENY</target>
        </trans-unit>
        <trans-unit id="297" translate="yes" xml:space="preserve">
          <source>Special infrastructure rules</source>
          <target state="new">Special infrastructure rules</target>
        </trans-unit>
        <trans-unit id="298" translate="yes" xml:space="preserve">
          <source>NSG rules are explicit.</source>
          <target state="new">NSG rules are explicit.</target>
        </trans-unit>
        <trans-unit id="299" translate="yes" xml:space="preserve">
          <source>No traffic is allowed or denied beyond what is specified in the NSG rules.</source>
          <target state="new">No traffic is allowed or denied beyond what is specified in the NSG rules.</target>
        </trans-unit>
        <trans-unit id="300" translate="yes" xml:space="preserve">
          <source>However, two types of traffic are always allowed regardless of the</source>
          <target state="new">However, two types of traffic are always allowed regardless of the</target>
        </trans-unit>
        <trans-unit id="301" translate="yes" xml:space="preserve">
          <source>Network Security group specification.</source>
          <target state="new">Network Security group specification.</target>
        </trans-unit>
        <trans-unit id="302" translate="yes" xml:space="preserve">
          <source>These provisions are made to support the infrastructure:</source>
          <target state="new">These provisions are made to support the infrastructure:</target>
        </trans-unit>
        <trans-unit id="303" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Virtual IP of the Host Node<ept id="p1">**</ept>: Basic infrastructure services such as DHCP, DNS, and Health monitoring are provided through the virtualized host IP address</source>
          <target state="new"><bpt id="p1">**</bpt>Virtual IP of the Host Node<ept id="p1">**</ept>: Basic infrastructure services such as DHCP, DNS, and Health monitoring are provided through the virtualized host IP address</target>
        </trans-unit>
        <trans-unit id="304" translate="yes" xml:space="preserve">
          <source>168.63.129.16.</source>
          <target state="new">168.63.129.16.</target>
        </trans-unit>
        <trans-unit id="305" translate="yes" xml:space="preserve">
          <source>This public IP address belongs to Microsoft and will be the only virtualized IP address used in all regions for this purpose.</source>
          <target state="new">This public IP address belongs to Microsoft and will be the only virtualized IP address used in all regions for this purpose.</target>
        </trans-unit>
        <trans-unit id="306" translate="yes" xml:space="preserve">
          <source>This IP address maps to</source>
          <target state="new">This IP address maps to</target>
        </trans-unit>
        <trans-unit id="307" translate="yes" xml:space="preserve">
          <source>the physical IP address of the server machine (host node) hosting the VM.</source>
          <target state="new">the physical IP address of the server machine (host node) hosting the VM.</target>
        </trans-unit>
        <trans-unit id="308" translate="yes" xml:space="preserve">
          <source>The host node acts as the DHCP relay, the DNS recursive resolver, and the probe source for the</source>
          <target state="new">The host node acts as the DHCP relay, the DNS recursive resolver, and the probe source for the</target>
        </trans-unit>
        <trans-unit id="309" translate="yes" xml:space="preserve">
          <source>load balancer health probe and the machine health probe.</source>
          <target state="new">load balancer health probe and the machine health probe.</target>
        </trans-unit>
        <trans-unit id="310" translate="yes" xml:space="preserve">
          <source>Communication to this IP address should not be considered as an attack.</source>
          <target state="new">Communication to this IP address should not be considered as an attack.</target>
        </trans-unit>
        <trans-unit id="311" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Licensing (Key Management Service)<ept id="p1">**</ept>: Windows images running in the VMs should be licensed.</source>
          <target state="new"><bpt id="p1">**</bpt>Licensing (Key Management Service)<ept id="p1">**</ept>: Windows images running in the VMs should be licensed.</target>
        </trans-unit>
        <trans-unit id="312" translate="yes" xml:space="preserve">
          <source>To do this, a licensing request is sent to the Key Management Service</source>
          <target state="new">To do this, a licensing request is sent to the Key Management Service</target>
        </trans-unit>
        <trans-unit id="313" translate="yes" xml:space="preserve">
          <source>host servers that handle such queries.</source>
          <target state="new">host servers that handle such queries.</target>
        </trans-unit>
        <trans-unit id="314" translate="yes" xml:space="preserve">
          <source>This will always be on outbound port 1688.</source>
          <target state="new">This will always be on outbound port 1688.</target>
        </trans-unit>
        <trans-unit id="315" translate="yes" xml:space="preserve">
          <source>Default tags</source>
          <target state="new">Default tags</target>
        </trans-unit>
        <trans-unit id="316" translate="yes" xml:space="preserve">
          <source>Default tags are system-provided identifiers to address a category of IP addresses.</source>
          <target state="new">Default tags are system-provided identifiers to address a category of IP addresses.</target>
        </trans-unit>
        <trans-unit id="317" translate="yes" xml:space="preserve">
          <source>Default tags can be specified in user-defined rules.</source>
          <target state="new">Default tags can be specified in user-defined rules.</target>
        </trans-unit>
        <trans-unit id="318" translate="yes" xml:space="preserve">
          <source>Default tags for NSGs</source>
          <target state="new">Default tags for NSGs</target>
        </trans-unit>
        <trans-unit id="319" translate="yes" xml:space="preserve">
          <source>Tag</source>
          <target state="new">Tag</target>
        </trans-unit>
        <trans-unit id="320" translate="yes" xml:space="preserve">
          <source>Description</source>
          <target state="new">Description</target>
        </trans-unit>
        <trans-unit id="321" translate="yes" xml:space="preserve">
          <source>VIRTUAL_NETWORK</source>
          <target state="new">VIRTUAL_NETWORK</target>
        </trans-unit>
        <trans-unit id="322" translate="yes" xml:space="preserve">
          <source>Denotes all of your network address space.</source>
          <target state="new">Denotes all of your network address space.</target>
        </trans-unit>
        <trans-unit id="323" translate="yes" xml:space="preserve">
          <source>It includes the virtual network address space (IP CIDR in Azure) as well as all connected on-premises address space (Local Networks).</source>
          <target state="new">It includes the virtual network address space (IP CIDR in Azure) as well as all connected on-premises address space (Local Networks).</target>
        </trans-unit>
        <trans-unit id="324" translate="yes" xml:space="preserve">
          <source>This also includes virtual network-to-virtual network address spaces.</source>
          <target state="new">This also includes virtual network-to-virtual network address spaces.</target>
        </trans-unit>
        <trans-unit id="325" translate="yes" xml:space="preserve">
          <source>AZURE_LOADBALANCER</source>
          <target state="new">AZURE_LOADBALANCER</target>
        </trans-unit>
        <trans-unit id="326" translate="yes" xml:space="preserve">
          <source>Denotes the Azure Infrastructure load balancer and will translate to an Azure datacenter IP where Azure’s health probes will originate.</source>
          <target state="new">Denotes the Azure Infrastructure load balancer and will translate to an Azure datacenter IP where Azure’s health probes will originate.</target>
        </trans-unit>
        <trans-unit id="327" translate="yes" xml:space="preserve">
          <source>This is needed only if the VM or set of VMs associated with the NSG is participating in a load balanced set.</source>
          <target state="new">This is needed only if the VM or set of VMs associated with the NSG is participating in a load balanced set.</target>
        </trans-unit>
        <trans-unit id="328" translate="yes" xml:space="preserve">
          <source>INTERNET</source>
          <target state="new">INTERNET</target>
        </trans-unit>
        <trans-unit id="329" translate="yes" xml:space="preserve">
          <source>Denotes the IP address space that is outside the virtual network and can be reached by public Internet.</source>
          <target state="new">Denotes the IP address space that is outside the virtual network and can be reached by public Internet.</target>
        </trans-unit>
        <trans-unit id="330" translate="yes" xml:space="preserve">
          <source>This range includes Azure-owned public IP space as well.</source>
          <target state="new">This range includes Azure-owned public IP space as well.</target>
        </trans-unit>
        <trans-unit id="331" translate="yes" xml:space="preserve">
          <source>Ports and port ranges</source>
          <target state="new">Ports and port ranges</target>
        </trans-unit>
        <trans-unit id="332" translate="yes" xml:space="preserve">
          <source>NSG rules can be specified on a single source or destination port, or on a port range.</source>
          <target state="new">NSG rules can be specified on a single source or destination port, or on a port range.</target>
        </trans-unit>
        <trans-unit id="333" translate="yes" xml:space="preserve">
          <source>This approach is particularly useful when you want to open a wide range of ports</source>
          <target state="new">This approach is particularly useful when you want to open a wide range of ports</target>
        </trans-unit>
        <trans-unit id="334" translate="yes" xml:space="preserve">
          <source>for an application, such as FTP.</source>
          <target state="new">for an application, such as FTP.</target>
        </trans-unit>
        <trans-unit id="335" translate="yes" xml:space="preserve">
          <source>The range must be sequential and can't be mixed with individual port specifications.</source>
          <target state="new">The range must be sequential and can't be mixed with individual port specifications.</target>
        </trans-unit>
        <trans-unit id="336" translate="yes" xml:space="preserve">
          <source>To specify a range of ports, use the hyphen (–) character.</source>
          <target state="new">To specify a range of ports, use the hyphen (–) character.</target>
        </trans-unit>
        <trans-unit id="337" translate="yes" xml:space="preserve">
          <source>For example, <bpt id="p1">**</bpt>100-500<ept id="p1">**</ept>.</source>
          <target state="new">For example, <bpt id="p1">**</bpt>100-500<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="338" translate="yes" xml:space="preserve">
          <source>ICMP traffic</source>
          <target state="new">ICMP traffic</target>
        </trans-unit>
        <trans-unit id="339" translate="yes" xml:space="preserve">
          <source>With the current NSG rules, you can specify TCP or UDP as protocols but not ICMP.</source>
          <target state="new">With the current NSG rules, you can specify TCP or UDP as protocols but not ICMP.</target>
        </trans-unit>
        <trans-unit id="340" translate="yes" xml:space="preserve">
          <source>However, ICMP traffic is allowed within a virtual network by default through</source>
          <target state="new">However, ICMP traffic is allowed within a virtual network by default through</target>
        </trans-unit>
        <trans-unit id="341" translate="yes" xml:space="preserve">
          <source>the Inbound rules that support traffic from and to any port and protocol (\*) within the virtual network.</source>
          <target state="new">the Inbound rules that support traffic from and to any port and protocol (\*) within the virtual network.</target>
        </trans-unit>
        <trans-unit id="342" translate="yes" xml:space="preserve">
          <source>Associating an NSG with a VM</source>
          <target state="new">Associating an NSG with a VM</target>
        </trans-unit>
        <trans-unit id="343" translate="yes" xml:space="preserve">
          <source>When an NSG is directly associated with a VM, the network access rules in the NSG are directly applied to all traffic that is destined to the VM.</source>
          <target state="new">When an NSG is directly associated with a VM, the network access rules in the NSG are directly applied to all traffic that is destined to the VM.</target>
        </trans-unit>
        <trans-unit id="344" translate="yes" xml:space="preserve">
          <source>Whenever the NSG is</source>
          <target state="new">Whenever the NSG is</target>
        </trans-unit>
        <trans-unit id="345" translate="yes" xml:space="preserve">
          <source>updated for rule changes, the traffic handling reflects the updates within minutes.</source>
          <target state="new">updated for rule changes, the traffic handling reflects the updates within minutes.</target>
        </trans-unit>
        <trans-unit id="346" translate="yes" xml:space="preserve">
          <source>When the NSG is disassociated from the VM, the state reverts to its</source>
          <target state="new">When the NSG is disassociated from the VM, the state reverts to its</target>
        </trans-unit>
        <trans-unit id="347" translate="yes" xml:space="preserve">
          <source>pre-NSG condition—that is, to the system defaults before the NSG was introduced.</source>
          <target state="new">pre-NSG condition—that is, to the system defaults before the NSG was introduced.</target>
        </trans-unit>
        <trans-unit id="348" translate="yes" xml:space="preserve">
          <source>Associating an NSG with a subnet</source>
          <target state="new">Associating an NSG with a subnet</target>
        </trans-unit>
        <trans-unit id="349" translate="yes" xml:space="preserve">
          <source>When an NSG is associated with a subnet, the network access rules in the NSG are applied to all the VMs in the subnet.</source>
          <target state="new">When an NSG is associated with a subnet, the network access rules in the NSG are applied to all the VMs in the subnet.</target>
        </trans-unit>
        <trans-unit id="350" translate="yes" xml:space="preserve">
          <source>Whenever the access rules in the NSG are</source>
          <target state="new">Whenever the access rules in the NSG are</target>
        </trans-unit>
        <trans-unit id="351" translate="yes" xml:space="preserve">
          <source>updated, the changes are applied to all VMs in the subnet within minutes.</source>
          <target state="new">updated, the changes are applied to all VMs in the subnet within minutes.</target>
        </trans-unit>
        <trans-unit id="352" translate="yes" xml:space="preserve">
          <source>Associating an NSG with a subnet and a VM</source>
          <target state="new">Associating an NSG with a subnet and a VM</target>
        </trans-unit>
        <trans-unit id="353" translate="yes" xml:space="preserve">
          <source>You can associate one NSG with a VM and another NSG with the subnet where the VM resides.</source>
          <target state="new">You can associate one NSG with a VM and another NSG with the subnet where the VM resides.</target>
        </trans-unit>
        <trans-unit id="354" translate="yes" xml:space="preserve">
          <source>This scenario is supported to provide the VM with two layers of protection.</source>
          <target state="new">This scenario is supported to provide the VM with two layers of protection.</target>
        </trans-unit>
        <trans-unit id="355" translate="yes" xml:space="preserve">
          <source>On the inbound traffic, the packet follows the access rules specified in the subnet, followed by rules in the VM.</source>
          <target state="new">On the inbound traffic, the packet follows the access rules specified in the subnet, followed by rules in the VM.</target>
        </trans-unit>
        <trans-unit id="356" translate="yes" xml:space="preserve">
          <source>When outbound, the packet follows the rules specified</source>
          <target state="new">When outbound, the packet follows the rules specified</target>
        </trans-unit>
        <trans-unit id="357" translate="yes" xml:space="preserve">
          <source>in the VM first, then follows the rules specified in the subnet as shown below.</source>
          <target state="new">in the VM first, then follows the rules specified in the subnet as shown below.</target>
        </trans-unit>
        <trans-unit id="358" translate="yes" xml:space="preserve">
          <source>Associating an NSG to a subnet and a VM</source>
          <target state="new">Associating an NSG to a subnet and a VM</target>
        </trans-unit>
        <trans-unit id="359" translate="yes" xml:space="preserve">
          <source>When an NSG is associated with a VM or subnet, the network access control rules become very explicit.</source>
          <target state="new">When an NSG is associated with a VM or subnet, the network access control rules become very explicit.</target>
        </trans-unit>
        <trans-unit id="360" translate="yes" xml:space="preserve">
          <source>The platform will not insert any implicit rule to allow</source>
          <target state="new">The platform will not insert any implicit rule to allow</target>
        </trans-unit>
        <trans-unit id="361" translate="yes" xml:space="preserve">
          <source>traffic to a particular port.</source>
          <target state="new">traffic to a particular port.</target>
        </trans-unit>
        <trans-unit id="362" translate="yes" xml:space="preserve">
          <source>In this case, if you create an endpoint in the VM, you must also create a rule to allow traffic from the Internet.</source>
          <target state="new">In this case, if you create an endpoint in the VM, you must also create a rule to allow traffic from the Internet.</target>
        </trans-unit>
        <trans-unit id="363" translate="yes" xml:space="preserve">
          <source>If you don't do</source>
          <target state="new">If you don't do</target>
        </trans-unit>
        <trans-unit id="364" translate="yes" xml:space="preserve">
          <source>this, the <bpt id="p1">*</bpt>VIP:{Port}<ept id="p1">*</ept> can't be accessed from outside.</source>
          <target state="new">this, the <bpt id="p1">*</bpt>VIP:{Port}<ept id="p1">*</ept> can't be accessed from outside.</target>
        </trans-unit>
        <trans-unit id="365" translate="yes" xml:space="preserve">
          <source>For example, you can create a new VM and a new NSG.</source>
          <target state="new">For example, you can create a new VM and a new NSG.</target>
        </trans-unit>
        <trans-unit id="366" translate="yes" xml:space="preserve">
          <source>You associate the NSG with the VM.</source>
          <target state="new">You associate the NSG with the VM.</target>
        </trans-unit>
        <trans-unit id="367" translate="yes" xml:space="preserve">
          <source>The VM can communicate with other VMs in the virtual network through the</source>
          <target state="new">The VM can communicate with other VMs in the virtual network through the</target>
        </trans-unit>
        <trans-unit id="368" translate="yes" xml:space="preserve">
          <source>ALLOW VNET INBOUND rule.</source>
          <target state="new">ALLOW VNET INBOUND rule.</target>
        </trans-unit>
        <trans-unit id="369" translate="yes" xml:space="preserve">
          <source>The VM can also make outbound connections to the Internet using the ALLOW INTERNET OUTBOUND rule.</source>
          <target state="new">The VM can also make outbound connections to the Internet using the ALLOW INTERNET OUTBOUND rule.</target>
        </trans-unit>
        <trans-unit id="370" translate="yes" xml:space="preserve">
          <source>Later, you create an endpoint on port 80</source>
          <target state="new">Later, you create an endpoint on port 80</target>
        </trans-unit>
        <trans-unit id="371" translate="yes" xml:space="preserve">
          <source>to receive traffic to your website running in the VM.</source>
          <target state="new">to receive traffic to your website running in the VM.</target>
        </trans-unit>
        <trans-unit id="372" translate="yes" xml:space="preserve">
          <source>Packets destined to port 80 on the VIP (public Virtual IP address) from the Internet will not reach the VM until</source>
          <target state="new">Packets destined to port 80 on the VIP (public Virtual IP address) from the Internet will not reach the VM until</target>
        </trans-unit>
        <trans-unit id="373" translate="yes" xml:space="preserve">
          <source>you add a rule similar to the following table to the NSG.</source>
          <target state="new">you add a rule similar to the following table to the NSG.</target>
        </trans-unit>
        <trans-unit id="374" translate="yes" xml:space="preserve">
          <source>Explicit rule allowing traffic to a particular port</source>
          <target state="new">Explicit rule allowing traffic to a particular port</target>
        </trans-unit>
        <trans-unit id="375" translate="yes" xml:space="preserve">
          <source>Name</source>
          <target state="new">Name</target>
        </trans-unit>
        <trans-unit id="376" translate="yes" xml:space="preserve">
          <source>Priority</source>
          <target state="new">Priority</target>
        </trans-unit>
        <trans-unit id="377" translate="yes" xml:space="preserve">
          <source>Source IP</source>
          <target state="new">Source IP</target>
        </trans-unit>
        <trans-unit id="378" translate="yes" xml:space="preserve">
          <source>Source Port</source>
          <target state="new">Source Port</target>
        </trans-unit>
        <trans-unit id="379" translate="yes" xml:space="preserve">
          <source>Destination IP</source>
          <target state="new">Destination IP</target>
        </trans-unit>
        <trans-unit id="380" translate="yes" xml:space="preserve">
          <source>Destination Port</source>
          <target state="new">Destination Port</target>
        </trans-unit>
        <trans-unit id="381" translate="yes" xml:space="preserve">
          <source>Protocol</source>
          <target state="new">Protocol</target>
        </trans-unit>
        <trans-unit id="382" translate="yes" xml:space="preserve">
          <source>Access</source>
          <target state="new">Access</target>
        </trans-unit>
        <trans-unit id="383" translate="yes" xml:space="preserve">
          <source>WEB</source>
          <target state="new">WEB</target>
        </trans-unit>
        <trans-unit id="384" translate="yes" xml:space="preserve">
          <source>100</source>
          <target state="new">100</target>
        </trans-unit>
        <trans-unit id="385" translate="yes" xml:space="preserve">
          <source>INTERNET</source>
          <target state="new">INTERNET</target>
        </trans-unit>
        <trans-unit id="388" translate="yes" xml:space="preserve">
          <source>80</source>
          <target state="new">80</target>
        </trans-unit>
        <trans-unit id="389" translate="yes" xml:space="preserve">
          <source>TCP</source>
          <target state="new">TCP</target>
        </trans-unit>
        <trans-unit id="390" translate="yes" xml:space="preserve">
          <source>ALLOW</source>
          <target state="new">ALLOW</target>
        </trans-unit>
        <trans-unit id="391" translate="yes" xml:space="preserve">
          <source>User-defined routes</source>
          <target state="new">User-defined routes</target>
        </trans-unit>
        <trans-unit id="392" translate="yes" xml:space="preserve">
          <source>Azure uses a route table to decide how to forward IP traffic based on the destination of each packet.</source>
          <target state="new">Azure uses a route table to decide how to forward IP traffic based on the destination of each packet.</target>
        </trans-unit>
        <trans-unit id="393" translate="yes" xml:space="preserve">
          <source>Although Azure provides a default route table based on</source>
          <target state="new">Although Azure provides a default route table based on</target>
        </trans-unit>
        <trans-unit id="394" translate="yes" xml:space="preserve">
          <source>your virtual network settings, you may need to add custom routes to that table.</source>
          <target state="new">your virtual network settings, you may need to add custom routes to that table.</target>
        </trans-unit>
        <trans-unit id="395" translate="yes" xml:space="preserve">
          <source>The most common need for a custom entry in the route table is the use of a virtual appliance in your Azure environment.</source>
          <target state="new">The most common need for a custom entry in the route table is the use of a virtual appliance in your Azure environment.</target>
        </trans-unit>
        <trans-unit id="396" translate="yes" xml:space="preserve">
          <source>Take into account the scenario shown in</source>
          <target state="new">Take into account the scenario shown in</target>
        </trans-unit>
        <trans-unit id="397" translate="yes" xml:space="preserve">
          <source>the Figure below.</source>
          <target state="new">the Figure below.</target>
        </trans-unit>
        <trans-unit id="398" translate="yes" xml:space="preserve">
          <source>Suppose you want to ensure that all traffic directed to the mid-tier and backed subnets initiated from the front end subnet go through a</source>
          <target state="new">Suppose you want to ensure that all traffic directed to the mid-tier and backed subnets initiated from the front end subnet go through a</target>
        </trans-unit>
        <trans-unit id="399" translate="yes" xml:space="preserve">
          <source>virtual firewall appliance.</source>
          <target state="new">virtual firewall appliance.</target>
        </trans-unit>
        <trans-unit id="400" translate="yes" xml:space="preserve">
          <source>Simply adding the appliance to your virtual network and connecting it to the different subnets will not provide this functionality.</source>
          <target state="new">Simply adding the appliance to your virtual network and connecting it to the different subnets will not provide this functionality.</target>
        </trans-unit>
        <trans-unit id="401" translate="yes" xml:space="preserve">
          <source>You must also change the routing table applied to your subnet to ensure packets are forwarded to the virtual firewall appliance.</source>
          <target state="new">You must also change the routing table applied to your subnet to ensure packets are forwarded to the virtual firewall appliance.</target>
        </trans-unit>
        <trans-unit id="402" translate="yes" xml:space="preserve">
          <source>The same would be true if you implemented a virtual NAT appliance to control traffic between your Azure virtual network and the Internet.</source>
          <target state="new">The same would be true if you implemented a virtual NAT appliance to control traffic between your Azure virtual network and the Internet.</target>
        </trans-unit>
        <trans-unit id="403" translate="yes" xml:space="preserve">
          <source>To ensure the virtual</source>
          <target state="new">To ensure the virtual</target>
        </trans-unit>
        <trans-unit id="404" translate="yes" xml:space="preserve">
          <source>appliance is used you have to create a route specifying that all traffic destined to the Internet must be forwarded to the virtual appliance.</source>
          <target state="new">appliance is used you have to create a route specifying that all traffic destined to the Internet must be forwarded to the virtual appliance.</target>
        </trans-unit>
        <trans-unit id="405" translate="yes" xml:space="preserve">
          <source>Routing</source>
          <target state="new">Routing</target>
        </trans-unit>
        <trans-unit id="406" translate="yes" xml:space="preserve">
          <source>Packets are routed over a TCP/IP network based on a route table defined at each node on the physical network.</source>
          <target state="new">Packets are routed over a TCP/IP network based on a route table defined at each node on the physical network.</target>
        </trans-unit>
        <trans-unit id="407" translate="yes" xml:space="preserve">
          <source>A route table is a collection of individual</source>
          <target state="new">A route table is a collection of individual</target>
        </trans-unit>
        <trans-unit id="408" translate="yes" xml:space="preserve">
          <source>routes used to decide where to forward packets based on the destination IP address.</source>
          <target state="new">routes used to decide where to forward packets based on the destination IP address.</target>
        </trans-unit>
        <trans-unit id="409" translate="yes" xml:space="preserve">
          <source>A route consists of the following:</source>
          <target state="new">A route consists of the following:</target>
        </trans-unit>
        <trans-unit id="410" translate="yes" xml:space="preserve">
          <source>Address Prefix.</source>
          <target state="new">Address Prefix.</target>
        </trans-unit>
        <trans-unit id="411" translate="yes" xml:space="preserve">
          <source>The destination CIDR to which the route applies, such as 10.1.0.0/16.</source>
          <target state="new">The destination CIDR to which the route applies, such as 10.1.0.0/16.</target>
        </trans-unit>
        <trans-unit id="412" translate="yes" xml:space="preserve">
          <source>Next hop type.</source>
          <target state="new">Next hop type.</target>
        </trans-unit>
        <trans-unit id="413" translate="yes" xml:space="preserve">
          <source>The type of Azure hop the packet should be sent to.</source>
          <target state="new">The type of Azure hop the packet should be sent to.</target>
        </trans-unit>
        <trans-unit id="414" translate="yes" xml:space="preserve">
          <source>Possible values are:</source>
          <target state="new">Possible values are:</target>
        </trans-unit>
        <trans-unit id="415" translate="yes" xml:space="preserve">
          <source>Local.</source>
          <target state="new">Local.</target>
        </trans-unit>
        <trans-unit id="416" translate="yes" xml:space="preserve">
          <source>Represents the local virtual network.</source>
          <target state="new">Represents the local virtual network.</target>
        </trans-unit>
        <trans-unit id="417" translate="yes" xml:space="preserve">
          <source>For instance, if you have two subnets, 10.1.0.0/16 and 10.2.0.0/16 in the same virtual network, the route for each subnet in the route table will have a next hop value of Local.</source>
          <target state="new">For instance, if you have two subnets, 10.1.0.0/16 and 10.2.0.0/16 in the same virtual network, the route for each subnet in the route table will have a next hop value of Local.</target>
        </trans-unit>
        <trans-unit id="418" translate="yes" xml:space="preserve">
          <source>VPN Gateway.</source>
          <target state="new">VPN Gateway.</target>
        </trans-unit>
        <trans-unit id="419" translate="yes" xml:space="preserve">
          <source>Represents an Azure S2S VPN Gateway.</source>
          <target state="new">Represents an Azure S2S VPN Gateway.</target>
        </trans-unit>
        <trans-unit id="420" translate="yes" xml:space="preserve">
          <source>Internet.</source>
          <target state="new">Internet.</target>
        </trans-unit>
        <trans-unit id="421" translate="yes" xml:space="preserve">
          <source>Represents the default Internet gateway provided by the Azure Infrastructure</source>
          <target state="new">Represents the default Internet gateway provided by the Azure Infrastructure</target>
        </trans-unit>
        <trans-unit id="422" translate="yes" xml:space="preserve">
          <source>Virtual Appliance.</source>
          <target state="new">Virtual Appliance.</target>
        </trans-unit>
        <trans-unit id="423" translate="yes" xml:space="preserve">
          <source>Represents a virtual appliance you added to your Azure virtual network.</source>
          <target state="new">Represents a virtual appliance you added to your Azure virtual network.</target>
        </trans-unit>
        <trans-unit id="424" translate="yes" xml:space="preserve">
          <source>NULL.</source>
          <target state="new">NULL.</target>
        </trans-unit>
        <trans-unit id="425" translate="yes" xml:space="preserve">
          <source>Represents a black hole.</source>
          <target state="new">Represents a black hole.</target>
        </trans-unit>
        <trans-unit id="426" translate="yes" xml:space="preserve">
          <source>Packets forwarded to a black hole will not be forwarded at all.</source>
          <target state="new">Packets forwarded to a black hole will not be forwarded at all.</target>
        </trans-unit>
        <trans-unit id="427" translate="yes" xml:space="preserve">
          <source>Nexthop Value.</source>
          <target state="new">Nexthop Value.</target>
        </trans-unit>
        <trans-unit id="428" translate="yes" xml:space="preserve">
          <source>The next hop value contains the IP address packets should be forwarded to.</source>
          <target state="new">The next hop value contains the IP address packets should be forwarded to.</target>
        </trans-unit>
        <trans-unit id="429" translate="yes" xml:space="preserve">
          <source>Next hop values are only allowed in routes where the next hop type is <bpt id="p1">*</bpt>Virtual Appliance<ept id="p1">*</ept>.</source>
          <target state="new">Next hop values are only allowed in routes where the next hop type is <bpt id="p1">*</bpt>Virtual Appliance<ept id="p1">*</ept>.</target>
        </trans-unit>
        <trans-unit id="430" translate="yes" xml:space="preserve">
          <source>The next hop needs to be on the subnet (the local interface of the virtual appliance according to the network ID), not a remote subnet.</source>
          <target state="new">The next hop needs to be on the subnet (the local interface of the virtual appliance according to the network ID), not a remote subnet.</target>
        </trans-unit>
        <trans-unit id="431" translate="yes" xml:space="preserve">
          <source>Routing</source>
          <target state="new">Routing</target>
        </trans-unit>
        <trans-unit id="432" translate="yes" xml:space="preserve">
          <source>Default routes</source>
          <target state="new">Default routes</target>
        </trans-unit>
        <trans-unit id="433" translate="yes" xml:space="preserve">
          <source>Every subnet created in a virtual network is automatically associated with a route table that contains the following default route rules:</source>
          <target state="new">Every subnet created in a virtual network is automatically associated with a route table that contains the following default route rules:</target>
        </trans-unit>
        <trans-unit id="434" translate="yes" xml:space="preserve">
          <source>Local VNet Rule: This rule is automatically created for every subnet in a virtual network.</source>
          <target state="new">Local VNet Rule: This rule is automatically created for every subnet in a virtual network.</target>
        </trans-unit>
        <trans-unit id="435" translate="yes" xml:space="preserve">
          <source>It specifies that there is a direct link between the VMs in the VNet and there is no intermediate next hop.</source>
          <target state="new">It specifies that there is a direct link between the VMs in the VNet and there is no intermediate next hop.</target>
        </trans-unit>
        <trans-unit id="436" translate="yes" xml:space="preserve">
          <source>This enables the VMs on the same subnet, regardless of the network ID that the VMs exist in, to communicate with each other without requiring a default gateway address.</source>
          <target state="new">This enables the VMs on the same subnet, regardless of the network ID that the VMs exist in, to communicate with each other without requiring a default gateway address.</target>
        </trans-unit>
        <trans-unit id="437" translate="yes" xml:space="preserve">
          <source>On-premises Rule: This rule applies to all traffic destined to the on-premises address range and uses VPN gateway as the next hop destination.</source>
          <target state="new">On-premises Rule: This rule applies to all traffic destined to the on-premises address range and uses VPN gateway as the next hop destination.</target>
        </trans-unit>
        <trans-unit id="438" translate="yes" xml:space="preserve">
          <source>Internet Rule: This rule handles all traffic destined to the public Internet and uses the infrastructure internet gateway as the next hop for all traffic destined to the Internet.</source>
          <target state="new">Internet Rule: This rule handles all traffic destined to the public Internet and uses the infrastructure internet gateway as the next hop for all traffic destined to the Internet.</target>
        </trans-unit>
        <trans-unit id="439" translate="yes" xml:space="preserve">
          <source>BGP routes</source>
          <target state="new">BGP routes</target>
        </trans-unit>
        <trans-unit id="440" translate="yes" xml:space="preserve">
          <source>At the time of this writing, <bpt id="p1">[</bpt>ExpressRoute<ept id="p1">](expressroute/expressroute-introduction.md)</ept> is not yet supported in the <bpt id="p2">[</bpt>Network Resource Provider<ept id="p2">](virtual-network/resource-groups-networking.md)</ept> for Azure Resource Manager.</source>
          <target state="new">At the time of this writing, <bpt id="p1">[</bpt>ExpressRoute<ept id="p1">](expressroute/expressroute-introduction.md)</ept> is not yet supported in the <bpt id="p2">[</bpt>Network Resource Provider<ept id="p2">](virtual-network/resource-groups-networking.md)</ept> for Azure Resource Manager.</target>
        </trans-unit>
        <trans-unit id="441" translate="yes" xml:space="preserve">
          <source>If you have an ExpressRoute connection between your</source>
          <target state="new">If you have an ExpressRoute connection between your</target>
        </trans-unit>
        <trans-unit id="442" translate="yes" xml:space="preserve">
          <source>on-premises network and Azure, you can enable BGP to propagate routes from your on-premises network to Azure once ExpressRoute is supported in the NRP.</source>
          <target state="new">on-premises network and Azure, you can enable BGP to propagate routes from your on-premises network to Azure once ExpressRoute is supported in the NRP.</target>
        </trans-unit>
        <trans-unit id="443" translate="yes" xml:space="preserve">
          <source>These</source>
          <target state="new">These</target>
        </trans-unit>
        <trans-unit id="444" translate="yes" xml:space="preserve">
          <source>BGP routes are used in the same way as default routes and user defined routes in each Azure subnet.</source>
          <target state="new">BGP routes are used in the same way as default routes and user defined routes in each Azure subnet.</target>
        </trans-unit>
        <trans-unit id="445" translate="yes" xml:space="preserve">
          <source>For more information see</source>
          <target state="new">For more information see</target>
        </trans-unit>
        <trans-unit id="446" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>ExpressRoute Introduction<ept id="p1">](expressroute/expressroute-introduction.md)</ept>.</source>
          <target state="new"><bpt id="p1">[</bpt>ExpressRoute Introduction<ept id="p1">](expressroute/expressroute-introduction.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="447" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> When ExpressRoute on NRP is supported, you will be able to configure your Azure environment to use forced tunneling through your on-premises network by creating a user defined route for subnet 0.0.0.0/0 that uses the VPN gateway as the next hop.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> When ExpressRoute on NRP is supported, you will be able to configure your Azure environment to use forced tunneling through your on-premises network by creating a user defined route for subnet 0.0.0.0/0 that uses the VPN gateway as the next hop.</target>
        </trans-unit>
        <trans-unit id="448" translate="yes" xml:space="preserve">
          <source>However, this only works if you are using a VPN gateway, not ExpressRoute.</source>
          <target state="new">However, this only works if you are using a VPN gateway, not ExpressRoute.</target>
        </trans-unit>
        <trans-unit id="449" translate="yes" xml:space="preserve">
          <source>For ExpressRoute, forced tunneling is configured through BGP.</source>
          <target state="new">For ExpressRoute, forced tunneling is configured through BGP.</target>
        </trans-unit>
        <trans-unit id="450" translate="yes" xml:space="preserve">
          <source>User-defined routes</source>
          <target state="new">User-defined routes</target>
        </trans-unit>
        <trans-unit id="451" translate="yes" xml:space="preserve">
          <source>You cannot view the default routes specified above in your Azure environment, and for most environments, those are the only routes you will need.</source>
          <target state="new">You cannot view the default routes specified above in your Azure environment, and for most environments, those are the only routes you will need.</target>
        </trans-unit>
        <trans-unit id="452" translate="yes" xml:space="preserve">
          <source>However, you may need to create a route table and add one or more routes in specific cases, such as:</source>
          <target state="new">However, you may need to create a route table and add one or more routes in specific cases, such as:</target>
        </trans-unit>
        <trans-unit id="453" translate="yes" xml:space="preserve">
          <source>Forced tunneling to the Internet via your on-premises network.</source>
          <target state="new">Forced tunneling to the Internet via your on-premises network.</target>
        </trans-unit>
        <trans-unit id="454" translate="yes" xml:space="preserve">
          <source>Use of virtual appliances in your Azure environment.</source>
          <target state="new">Use of virtual appliances in your Azure environment.</target>
        </trans-unit>
        <trans-unit id="455" translate="yes" xml:space="preserve">
          <source>In the scenarios above, you will have to create a route table and add user defined routes to it.</source>
          <target state="new">In the scenarios above, you will have to create a route table and add user defined routes to it.</target>
        </trans-unit>
        <trans-unit id="456" translate="yes" xml:space="preserve">
          <source>You can have multiple route tables, and the same route table can</source>
          <target state="new">You can have multiple route tables, and the same route table can</target>
        </trans-unit>
        <trans-unit id="457" translate="yes" xml:space="preserve">
          <source>be associated to one or more subnets.</source>
          <target state="new">be associated to one or more subnets.</target>
        </trans-unit>
        <trans-unit id="458" translate="yes" xml:space="preserve">
          <source>And each subnet can only be associated to a single route table.</source>
          <target state="new">And each subnet can only be associated to a single route table.</target>
        </trans-unit>
        <trans-unit id="459" translate="yes" xml:space="preserve">
          <source>All VMs and cloud services in a subnet use the route table</source>
          <target state="new">All VMs and cloud services in a subnet use the route table</target>
        </trans-unit>
        <trans-unit id="460" translate="yes" xml:space="preserve">
          <source>associated to that subnet.</source>
          <target state="new">associated to that subnet.</target>
        </trans-unit>
        <trans-unit id="461" translate="yes" xml:space="preserve">
          <source>Subnets rely on default routes until a route table is associated to the subnet.</source>
          <target state="new">Subnets rely on default routes until a route table is associated to the subnet.</target>
        </trans-unit>
        <trans-unit id="462" translate="yes" xml:space="preserve">
          <source>Once an association exists, routing is done based on <bpt id="p1">[</bpt>Longest Prefix Match (LPM)<ept id="p1">](https://en.wikipedia.org/wiki/Longest_prefix_match)</ept></source>
          <target state="new">Once an association exists, routing is done based on <bpt id="p1">[</bpt>Longest Prefix Match (LPM)<ept id="p1">](https://en.wikipedia.org/wiki/Longest_prefix_match)</ept></target>
        </trans-unit>
        <trans-unit id="463" translate="yes" xml:space="preserve">
          <source>among both user defined routes and default routes.</source>
          <target state="new">among both user defined routes and default routes.</target>
        </trans-unit>
        <trans-unit id="464" translate="yes" xml:space="preserve">
          <source>If there is more than one route with the same LPM match then a route is selected based on its origin in the following</source>
          <target state="new">If there is more than one route with the same LPM match then a route is selected based on its origin in the following</target>
        </trans-unit>
        <trans-unit id="465" translate="yes" xml:space="preserve">
          <source>order:</source>
          <target state="new">order:</target>
        </trans-unit>
        <trans-unit id="466" translate="yes" xml:space="preserve">
          <source>User defined route</source>
          <target state="new">User defined route</target>
        </trans-unit>
        <trans-unit id="467" translate="yes" xml:space="preserve">
          <source>BGP route (when ExpressRoute is used)</source>
          <target state="new">BGP route (when ExpressRoute is used)</target>
        </trans-unit>
        <trans-unit id="468" translate="yes" xml:space="preserve">
          <source>Default route</source>
          <target state="new">Default route</target>
        </trans-unit>
        <trans-unit id="469" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> User defined routes are only applied to Azure VMs and cloud services.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> User defined routes are only applied to Azure VMs and cloud services.</target>
        </trans-unit>
        <trans-unit id="470" translate="yes" xml:space="preserve">
          <source>For instance, if you want to add a firewall virtual appliance between your on-premises network and Azure, you will have to create a user defined route for your Azure route tables that forwards all traffic going to the on-premises address space to the virtual appliance.</source>
          <target state="new">For instance, if you want to add a firewall virtual appliance between your on-premises network and Azure, you will have to create a user defined route for your Azure route tables that forwards all traffic going to the on-premises address space to the virtual appliance.</target>
        </trans-unit>
        <trans-unit id="471" translate="yes" xml:space="preserve">
          <source>However, incoming traffic from the on-premises address space will flow through your VPN gateway or ExpressRoute circuit straight to the Azure environment, bypassing the virtual appliance.</source>
          <target state="new">However, incoming traffic from the on-premises address space will flow through your VPN gateway or ExpressRoute circuit straight to the Azure environment, bypassing the virtual appliance.</target>
        </trans-unit>
        <trans-unit id="472" translate="yes" xml:space="preserve">
          <source>IP forwarding</source>
          <target state="new">IP forwarding</target>
        </trans-unit>
        <trans-unit id="473" translate="yes" xml:space="preserve">
          <source>As described above, one of the main reasons to create a user defined route is to forward traffic to a virtual appliance.</source>
          <target state="new">As described above, one of the main reasons to create a user defined route is to forward traffic to a virtual appliance.</target>
        </trans-unit>
        <trans-unit id="474" translate="yes" xml:space="preserve">
          <source>A virtual appliance is nothing more than a</source>
          <target state="new">A virtual appliance is nothing more than a</target>
        </trans-unit>
        <trans-unit id="475" translate="yes" xml:space="preserve">
          <source>VM that runs an application used to handle network traffic in some way, such as a firewall or a NAT device.</source>
          <target state="new">VM that runs an application used to handle network traffic in some way, such as a firewall or a NAT device.</target>
        </trans-unit>
        <trans-unit id="476" translate="yes" xml:space="preserve">
          <source>This virtual appliance VM must be able to receive incoming traffic that is not addressed to itself.</source>
          <target state="new">This virtual appliance VM must be able to receive incoming traffic that is not addressed to itself.</target>
        </trans-unit>
        <trans-unit id="477" translate="yes" xml:space="preserve">
          <source>To allow a VM to receive traffic addressed to other destinations,</source>
          <target state="new">To allow a VM to receive traffic addressed to other destinations,</target>
        </trans-unit>
        <trans-unit id="478" translate="yes" xml:space="preserve">
          <source>you must enable IP Forwarding in the VM.</source>
          <target state="new">you must enable IP Forwarding in the VM.</target>
        </trans-unit>
        <trans-unit id="479" translate="yes" xml:space="preserve">
          <source>Next steps</source>
          <target state="new">Next steps</target>
        </trans-unit>
        <trans-unit id="480" translate="yes" xml:space="preserve">
          <source>To understand how to set up security principals with the correct access to work with resources in your organization, see <bpt id="p1">[</bpt>Authenticating a Service Principal with Azure Resource Manager<ept id="p1">](resource-group-authenticate-service-principal.md)</ept></source>
          <target state="new">To understand how to set up security principals with the correct access to work with resources in your organization, see <bpt id="p1">[</bpt>Authenticating a Service Principal with Azure Resource Manager<ept id="p1">](resource-group-authenticate-service-principal.md)</ept></target>
        </trans-unit>
        <trans-unit id="481" translate="yes" xml:space="preserve">
          <source>If you need to lock access to a resource, you can use management locks.</source>
          <target state="new">If you need to lock access to a resource, you can use management locks.</target>
        </trans-unit>
        <trans-unit id="482" translate="yes" xml:space="preserve">
          <source>See <bpt id="p1">[</bpt>Lock Resources with Azure Resource Manager<ept id="p1">](resource-group-lock-resources.md)</ept></source>
          <target state="new">See <bpt id="p1">[</bpt>Lock Resources with Azure Resource Manager<ept id="p1">](resource-group-lock-resources.md)</ept></target>
        </trans-unit>
        <trans-unit id="483" translate="yes" xml:space="preserve">
          <source>To configure routing and IP forwarding, see <bpt id="p1">[</bpt>How to Create Routes and Enable IP Forwarding in Azure<ept id="p1">](virtual-network/virtual-networks-udr-how-to.md)</ept></source>
          <target state="new">To configure routing and IP forwarding, see <bpt id="p1">[</bpt>How to Create Routes and Enable IP Forwarding in Azure<ept id="p1">](virtual-network/virtual-networks-udr-how-to.md)</ept></target>
        </trans-unit>
        <trans-unit id="484" translate="yes" xml:space="preserve">
          <source>For an overview of role-based access control, see <bpt id="p1">[</bpt>Role-based access control in the Microsoft Azure portal<ept id="p1">](role-based-access-control-configure.md)</ept></source>
          <target state="new">For an overview of role-based access control, see <bpt id="p1">[</bpt>Role-based access control in the Microsoft Azure portal<ept id="p1">](role-based-access-control-configure.md)</ept></target>
        </trans-unit>
        <trans-unit id="485" translate="yes" xml:space="preserve">
          <source>test</source>
          <target state="new">test</target>
        </trans-unit>
      </group>
    </body>
  </file>
  <header xmlns="">
    <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">
    </xliffext:oltranslationpriority>
    <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">f7969e520fd294fafdd71664d82629d6afa621a4</xliffext:olfilehash>
  </header>
</xliff>