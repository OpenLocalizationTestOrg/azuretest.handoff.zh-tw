<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="zh-tw">
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Create a .NET MVC web app in Azure App Service with AD FS authentication</source>
          <target state="new">Create a .NET MVC web app in Azure App Service with AD FS authentication</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>Learn how to create an ASP.NET MVC line-of-business application in Azure App Service Web Apps that authenticates with on-premise STS.</source>
          <target state="new">Learn how to create an ASP.NET MVC line-of-business application in Azure App Service Web Apps that authenticates with on-premise STS.</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>This tutorial targets AD FS as the on-premise STS.</source>
          <target state="new">This tutorial targets AD FS as the on-premise STS.</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Create a .NET MVC web app in Azure App Service with AD FS authentication</source>
          <target state="new">Create a .NET MVC web app in Azure App Service with AD FS authentication</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>In this article, you will learn how to create an ASP.NET MVC line-of-business application in <bpt id="p1">[</bpt>Azure App Service Web Apps<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=529714)</ept> using an on-premises <bpt id="p2">[</bpt>Active Directory Federation Services<ept id="p2">](http://technet.microsoft.com/library/hh831502.aspx)</ept> as the identity provider.</source>
          <target state="new">In this article, you will learn how to create an ASP.NET MVC line-of-business application in <bpt id="p1">[</bpt>Azure App Service Web Apps<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=529714)</ept> using an on-premises <bpt id="p2">[</bpt>Active Directory Federation Services<ept id="p2">](http://technet.microsoft.com/library/hh831502.aspx)</ept> as the identity provider.</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>This scenario can work when you want to create line-of-business applications in Azure App Service Web Apps but your organization requires all data to be stored on-site.</source>
          <target state="new">This scenario can work when you want to create line-of-business applications in Azure App Service Web Apps but your organization requires all data to be stored on-site.</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> For an overview of the different enterprise authentication and authorization options for Azure App Service Web Apps, see <bpt id="p1">[</bpt>Use Active Directory for authentication in Azure App Service<ept id="p1">](web-sites-authentication-authorization.md)</ept>.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> For an overview of the different enterprise authentication and authorization options for Azure App Service Web Apps, see <bpt id="p1">[</bpt>Use Active Directory for authentication in Azure App Service<ept id="p1">](web-sites-authentication-authorization.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>What you will build</source>
          <target state="new">What you will build</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>You will build a basic ASP.NET application in Azure App Service Web Apps with the following features:</source>
          <target state="new">You will build a basic ASP.NET application in Azure App Service Web Apps with the following features:</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Authenticates users against AD FS</source>
          <target state="new">Authenticates users against AD FS</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>Uses <ph id="ph1">`[Authorize]`</ph> to authorize users for different actions</source>
          <target state="new">Uses <ph id="ph1">`[Authorize]`</ph> to authorize users for different actions</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Static configuration for both debugging in Visual Studio and publishing to App Service Web Apps (configure once, debug and publish anytime)</source>
          <target state="new">Static configuration for both debugging in Visual Studio and publishing to App Service Web Apps (configure once, debug and publish anytime)</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>What you will need</source>
          <target state="new">What you will need</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> If you want to get started with Azure App Service before signing up for an Azure account, go to <bpt id="p1">[</bpt>Try App Service<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=523751)</ept>, where you can immediately create a short-lived starter web app in App Service.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> If you want to get started with Azure App Service before signing up for an Azure account, go to <bpt id="p1">[</bpt>Try App Service<ept id="p1">](http://go.microsoft.com/fwlink/?LinkId=523751)</ept>, where you can immediately create a short-lived starter web app in App Service.</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>No credit cards required; no commitments.</source>
          <target state="new">No credit cards required; no commitments.</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>You need the following to complete this tutorial:</source>
          <target state="new">You need the following to complete this tutorial:</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>An on-premises AD FS deployment (for an end-to-end walkthrough of the test lab that I use, see <bpt id="p1">[</bpt>Test Lab: Standalone STS with AD FS in Azure VM (for test only)<ept id="p1">](TODO)</ept>)</source>
          <target state="new">An on-premises AD FS deployment (for an end-to-end walkthrough of the test lab that I use, see <bpt id="p1">[</bpt>Test Lab: Standalone STS with AD FS in Azure VM (for test only)<ept id="p1">](TODO)</ept>)</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Permissions to create relying party trusts in AD FS Management</source>
          <target state="new">Permissions to create relying party trusts in AD FS Management</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>Visual Studio 2013</source>
          <target state="new">Visual Studio 2013</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Azure SDK 2.5.1<ept id="p1">](http://go.microsoft.com/fwlink/p/?linkid=323510&amp;clcid=0x409)</ept> or later</source>
          <target state="new"><bpt id="p1">[</bpt>Azure SDK 2.5.1<ept id="p1">](http://go.microsoft.com/fwlink/p/?linkid=323510&amp;clcid=0x409)</ept> or later</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>Use sample application for line-of-business template</source>
          <target state="new">Use sample application for line-of-business template</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>The sample application in this tutorial, <bpt id="p1">[</bpt>WebApp-WSFederation-DotNet)<ept id="p1">](https://github.com/AzureADSamples/WebApp-WSFederation-DotNet)</ept>, is created by the Azure Active Directory team.</source>
          <target state="new">The sample application in this tutorial, <bpt id="p1">[</bpt>WebApp-WSFederation-DotNet)<ept id="p1">](https://github.com/AzureADSamples/WebApp-WSFederation-DotNet)</ept>, is created by the Azure Active Directory team.</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>Since AD FS supports WS-Federation, you can is it as a template to create new line-of-business applications with ease.</source>
          <target state="new">Since AD FS supports WS-Federation, you can is it as a template to create new line-of-business applications with ease.</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>It has the following features:</source>
          <target state="new">It has the following features:</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Uses <bpt id="p1">[</bpt>WS-Federation<ept id="p1">](http://msdn.microsoft.com/library/bb498017.aspx)</ept> to authenticate with an on-premises AD FS deployment</source>
          <target state="new">Uses <bpt id="p1">[</bpt>WS-Federation<ept id="p1">](http://msdn.microsoft.com/library/bb498017.aspx)</ept> to authenticate with an on-premises AD FS deployment</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>Sign-in and sign-out functionality</source>
          <target state="new">Sign-in and sign-out functionality</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Uses <bpt id="p1">[</bpt>Microsoft.Owin<ept id="p1">](http://www.asp.net/aspnet/overview/owin-and-katana/an-overview-of-project-katana)</ept> (instead of Windows Identity Foundation, i.e. WIF), which is the future of ASP.NET and much simpler to set up for authentication and authorization than WIF</source>
          <target state="new">Uses <bpt id="p1">[</bpt>Microsoft.Owin<ept id="p1">](http://www.asp.net/aspnet/overview/owin-and-katana/an-overview-of-project-katana)</ept> (instead of Windows Identity Foundation, i.e. WIF), which is the future of ASP.NET and much simpler to set up for authentication and authorization than WIF</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>Set up the sample application</source>
          <target state="new">Set up the sample application</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Clone or download the sample solution at <bpt id="p1">[</bpt>WebApp-WSFederation-DotNet<ept id="p1">](https://github.com/AzureADSamples/WebApp-WSFederation-DotNet)</ept> to your local directory.</source>
          <target state="new">Clone or download the sample solution at <bpt id="p1">[</bpt>WebApp-WSFederation-DotNet<ept id="p1">](https://github.com/AzureADSamples/WebApp-WSFederation-DotNet)</ept> to your local directory.</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> The instructions at <bpt id="p1">[</bpt>README.md<ept id="p1">](https://github.com/AzureADSamples/WebApp-WSFederation-DotNet/blob/master/README.md)</ept> shows you how to set up the application with Azure Active Directory, but in this tutorial you will set it up with AD FS, so follow the steps here instead.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> The instructions at <bpt id="p1">[</bpt>README.md<ept id="p1">](https://github.com/AzureADSamples/WebApp-WSFederation-DotNet/blob/master/README.md)</ept> shows you how to set up the application with Azure Active Directory, but in this tutorial you will set it up with AD FS, so follow the steps here instead.</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Open the solution, and then open Controllers\AccountController.cs in the <bpt id="p1">**</bpt>Solution Explorer<ept id="p1">**</ept>.</source>
          <target state="new">Open the solution, and then open Controllers\AccountController.cs in the <bpt id="p1">**</bpt>Solution Explorer<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>You will see that the code simply issues an authentication challenge to authenticate the user using WS-Federation.</source>
          <target state="new">You will see that the code simply issues an authentication challenge to authenticate the user using WS-Federation.</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>All authentication is configured in App_Start\Startup.Auth.cs.</source>
          <target state="new">All authentication is configured in App_Start\Startup.Auth.cs.</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>Open App_Start\Startup.Auth.cs.</source>
          <target state="new">Open App_Start\Startup.Auth.cs.</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>In the <ph id="ph1">`ConfigureAuth`</ph> method, note the line:</source>
          <target state="new">In the <ph id="ph1">`ConfigureAuth`</ph> method, note the line:</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>In the OWIN world, this is really the bare minimum you need to configure WS-Federation authentication.</source>
          <target state="new">In the OWIN world, this is really the bare minimum you need to configure WS-Federation authentication.</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>This is must simpler and more elegant than WIF, where Web.config is injected with XML all over the place.</source>
          <target state="new">This is must simpler and more elegant than WIF, where Web.config is injected with XML all over the place.</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>The only information you need is the relying party's (RP) identifier and the URL of your AD FS service's metadata file.</source>
          <target state="new">The only information you need is the relying party's (RP) identifier and the URL of your AD FS service's metadata file.</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>Here's an example:</source>
          <target state="new">Here's an example:</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>RP identifier: <ph id="ph1">`https://contoso.com/MyLOBApp`</ph></source>
          <target state="new">RP identifier: <ph id="ph1">`https://contoso.com/MyLOBApp`</ph></target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Metadata address: <ph id="ph1">`http://adfs.contoso.com/FederationMetadata/2007-06/FederationMetadata.xml`</ph></source>
          <target state="new">Metadata address: <ph id="ph1">`http://adfs.contoso.com/FederationMetadata/2007-06/FederationMetadata.xml`</ph></target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>In App_Start\Startup.Auth.cs, change the static string definitions as highlighted below:</source>
          <target state="new">In App_Start\Startup.Auth.cs, change the static string definitions as highlighted below:</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>private static string realm = ConfigurationManager.AppSettings["ida:</source>
          <target state="new">private static string realm = ConfigurationManager.AppSettings["ida:</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>RPIdentifier</source>
          <target state="new">RPIdentifier</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>"];</source>
          <target state="new">"];</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>private static string aadInstance = ConfigurationManager.AppSettings["ida:AADInstance"];</source>
          <target state="new">private static string aadInstance = ConfigurationManager.AppSettings["ida:AADInstance"];</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>private static string tenant = ConfigurationManager.AppSettings["ida:Tenant"];</source>
          <target state="new">private static string tenant = ConfigurationManager.AppSettings["ida:Tenant"];</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>private static string metadata = string.Format("{0}/{1}/federationmetadata/2007-06/federationmetadata.xml", aadInstance, tenant);</source>
          <target state="new">private static string metadata = string.Format("{0}/{1}/federationmetadata/2007-06/federationmetadata.xml", aadInstance, tenant);</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>private static string metadata = string.Format("https://{0}/federationmetadata/2007-06/federationmetadata.xml", ConfigurationManager.AppSettings["ida:ADFS"]);</source>
          <target state="new">private static string metadata = string.Format("https://{0}/federationmetadata/2007-06/federationmetadata.xml", ConfigurationManager.AppSettings["ida:ADFS"]);</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>string authority = String.Format(CultureInfo.InvariantCulture, aadInstance, tenant);</source>
          <target state="new">string authority = String.Format(CultureInfo.InvariantCulture, aadInstance, tenant);</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>You will now make the corresponding changes in Web.config.</source>
          <target state="new">You will now make the corresponding changes in Web.config.</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Open the Web.config and modify the app settings as highlighted below:</source>
          <target state="new">Open the Web.config and modify the app settings as highlighted below:</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>&amp;lt;appSettings&amp;gt;</source>
          <target state="new">&amp;lt;appSettings&amp;gt;</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="webpages:Version" value="3.0.0.0" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="webpages:Version" value="3.0.0.0" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="webpages:Enabled" value="false" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="webpages:Enabled" value="false" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="ClientValidationEnabled" value="true" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="ClientValidationEnabled" value="true" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="UnobtrusiveJavaScriptEnabled" value="true" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="UnobtrusiveJavaScriptEnabled" value="true" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="ida:Wtrealm" value="[Enter the App ID URI of WebApp-WSFederation-DotNet https://contoso.onmicrosoft.com/WebApp-WSFederation-DotNet]" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="ida:Wtrealm" value="[Enter the App ID URI of WebApp-WSFederation-DotNet https://contoso.onmicrosoft.com/WebApp-WSFederation-DotNet]" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="ida:AADInstance" value="https://login.windows.net" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="ida:AADInstance" value="https://login.windows.net" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="ida:Tenant" value="[Enter tenant name, e.g. contoso.onmicrosoft.com]" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="ida:Tenant" value="[Enter tenant name, e.g. contoso.onmicrosoft.com]" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="ida:RPIdentifier" value="[Enter the relying party identifier as configured in AD FS, e.g. https://localhost:44320/]" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="ida:RPIdentifier" value="[Enter the relying party identifier as configured in AD FS, e.g. https://localhost:44320/]" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="ida:ADFS" value="[Enter the FQDN of AD FS service, e.g. adfs.contoso.com]" /&amp;gt;</source>
          <target state="new">&amp;lt;add key="ida:ADFS" value="[Enter the FQDN of AD FS service, e.g. adfs.contoso.com]" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>&amp;lt;/appSettings&amp;gt;</source>
          <target state="new">&amp;lt;/appSettings&amp;gt;</target>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Fill in the key values based on your respective environment.</source>
          <target state="new">Fill in the key values based on your respective environment.</target>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>Build the application to make sure there are no errors.</source>
          <target state="new">Build the application to make sure there are no errors.</target>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>That's it.</source>
          <target state="new">That's it.</target>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>Now the sample application is ready to work with AD FS.</source>
          <target state="new">Now the sample application is ready to work with AD FS.</target>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source>You will still need to configure an RP trust with this application in AD FS later.</source>
          <target state="new">You will still need to configure an RP trust with this application in AD FS later.</target>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>Deploy the sample application to Azure App Service Web Apps</source>
          <target state="new">Deploy the sample application to Azure App Service Web Apps</target>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>Here, you will publish the application to a web app in App Service Web Apps while preserving the debug environment.</source>
          <target state="new">Here, you will publish the application to a web app in App Service Web Apps while preserving the debug environment.</target>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>Note that you're going to publish the application before it has an RP trust with AD FS, so authentication still doesn't work yet.</source>
          <target state="new">Note that you're going to publish the application before it has an RP trust with AD FS, so authentication still doesn't work yet.</target>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>However, if you do it now you can have the web app URL that you will also use to configure the RP trust later.</source>
          <target state="new">However, if you do it now you can have the web app URL that you will also use to configure the RP trust later.</target>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>Right-click your project and select <bpt id="p1">**</bpt>Publish<ept id="p1">**</ept>.</source>
          <target state="new">Right-click your project and select <bpt id="p1">**</bpt>Publish<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Microsoft Azure Web Apps<ept id="p1">**</ept>.</source>
          <target state="new">Select <bpt id="p1">**</bpt>Microsoft Azure Web Apps<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>If you haven't signed in to Azure, click <bpt id="p1">**</bpt>Sign In<ept id="p1">**</ept> and use the Microsoft account for your Azure subscription to sign in.</source>
          <target state="new">If you haven't signed in to Azure, click <bpt id="p1">**</bpt>Sign In<ept id="p1">**</ept> and use the Microsoft account for your Azure subscription to sign in.</target>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>Once signed in, click <bpt id="p1">**</bpt>New<ept id="p1">**</ept> to create a new web app.</source>
          <target state="new">Once signed in, click <bpt id="p1">**</bpt>New<ept id="p1">**</ept> to create a new web app.</target>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>Fill in all required fields.</source>
          <target state="new">Fill in all required fields.</target>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>You are going to connect to on-premise data later, so you won't create a database for this web app.</source>
          <target state="new">You are going to connect to on-premise data later, so you won't create a database for this web app.</target>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Create<ept id="p1">**</ept>.</source>
          <target state="new">Click <bpt id="p1">**</bpt>Create<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>Once the web app is created, the Publish Web dialog is opened.</source>
          <target state="new">Once the web app is created, the Publish Web dialog is opened.</target>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>In <bpt id="p1">**</bpt>Destination URL<ept id="p1">**</ept>, change <bpt id="p2">**</bpt>http<ept id="p2">**</ept> to <bpt id="p3">**</bpt>https<ept id="p3">**</ept>.</source>
          <target state="new">In <bpt id="p1">**</bpt>Destination URL<ept id="p1">**</ept>, change <bpt id="p2">**</bpt>http<ept id="p2">**</ept> to <bpt id="p3">**</bpt>https<ept id="p3">**</ept>.</target>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>Copy the entire URL to a text editor.</source>
          <target state="new">Copy the entire URL to a text editor.</target>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>You will use it later.</source>
          <target state="new">You will use it later.</target>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>Then, click <bpt id="p1">**</bpt>Publish<ept id="p1">**</ept>.</source>
          <target state="new">Then, click <bpt id="p1">**</bpt>Publish<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source>In Visual Studio, open <bpt id="p1">**</bpt>Web.Release.config<ept id="p1">**</ept> in your project.</source>
          <target state="new">In Visual Studio, open <bpt id="p1">**</bpt>Web.Release.config<ept id="p1">**</ept> in your project.</target>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source>Insert the following XML into the <ph id="ph1">`&lt;configuration&gt;`</ph> tag, and replace the key value with your publish web app's URL.</source>
          <target state="new">Insert the following XML into the <ph id="ph1">`&lt;configuration&gt;`</ph> tag, and replace the key value with your publish web app's URL.</target>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source>&amp;lt;appSettings&amp;gt;</source>
          <target state="new">&amp;lt;appSettings&amp;gt;</target>
        </trans-unit>
        <trans-unit id="188" translate="yes" xml:space="preserve">
          <source>&amp;lt;add key="ida:RPIdentifier" value="</source>
          <target state="new">&amp;lt;add key="ida:RPIdentifier" value="</target>
        </trans-unit>
        <trans-unit id="189" translate="yes" xml:space="preserve">
          <source>[e.g. https://mylobapp.azurewebsites.net/]</source>
          <target state="new">[e.g. https://mylobapp.azurewebsites.net/]</target>
        </trans-unit>
        <trans-unit id="190" translate="yes" xml:space="preserve">
          <source>" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" /&amp;gt;</source>
          <target state="new">" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" /&amp;gt;</target>
        </trans-unit>
        <trans-unit id="191" translate="yes" xml:space="preserve">
          <source>&amp;lt;/appSettings&amp;gt;</source>
          <target state="new">&amp;lt;/appSettings&amp;gt;</target>
        </trans-unit>
        <trans-unit id="192" translate="yes" xml:space="preserve">
          <source>When you're done, you have two RP identifiers configured in your project, one for your debug environment in Visual Studio, and one for the published web app in Azure.</source>
          <target state="new">When you're done, you have two RP identifiers configured in your project, one for your debug environment in Visual Studio, and one for the published web app in Azure.</target>
        </trans-unit>
        <trans-unit id="193" translate="yes" xml:space="preserve">
          <source>You will set up an RP trust for each of the two environments in AD FS.</source>
          <target state="new">You will set up an RP trust for each of the two environments in AD FS.</target>
        </trans-unit>
        <trans-unit id="194" translate="yes" xml:space="preserve">
          <source>During debugging, the app settings in Web.config is used to make your <bpt id="p1">**</bpt>Debug<ept id="p1">**</ept> configuration work with AD FS, and when it's published (by default, the <bpt id="p2">**</bpt>Release<ept id="p2">**</ept> configuration is published), a transformed Web.config is uploaded that incorporates the app setting changes in Web.Release.config.</source>
          <target state="new">During debugging, the app settings in Web.config is used to make your <bpt id="p1">**</bpt>Debug<ept id="p1">**</ept> configuration work with AD FS, and when it's published (by default, the <bpt id="p2">**</bpt>Release<ept id="p2">**</ept> configuration is published), a transformed Web.config is uploaded that incorporates the app setting changes in Web.Release.config.</target>
        </trans-unit>
        <trans-unit id="195" translate="yes" xml:space="preserve">
          <source>If you want to attach the published web app in Azure to the debugger (i.e. you must upload debug symbols of your code in the published web app), you can create a clone of the Debug configuration for Azure debugging, but with its own custom Web.config transform (e.g. Web.AzureDebug.config) that uses the app settings from Web.Release.config.</source>
          <target state="new">If you want to attach the published web app in Azure to the debugger (i.e. you must upload debug symbols of your code in the published web app), you can create a clone of the Debug configuration for Azure debugging, but with its own custom Web.config transform (e.g. Web.AzureDebug.config) that uses the app settings from Web.Release.config.</target>
        </trans-unit>
        <trans-unit id="196" translate="yes" xml:space="preserve">
          <source>This allows you to maintain a static configuration across the different environments.</source>
          <target state="new">This allows you to maintain a static configuration across the different environments.</target>
        </trans-unit>
        <trans-unit id="197" translate="yes" xml:space="preserve">
          <source>Configure relying party trusts in AD FS Management</source>
          <target state="new">Configure relying party trusts in AD FS Management</target>
        </trans-unit>
        <trans-unit id="198" translate="yes" xml:space="preserve">
          <source>Now you need to configure a RP trust in AD FS Mangement before you can your sample application can actually authenticate with AD FS.</source>
          <target state="new">Now you need to configure a RP trust in AD FS Mangement before you can your sample application can actually authenticate with AD FS.</target>
        </trans-unit>
        <trans-unit id="199" translate="yes" xml:space="preserve">
          <source>You will need to set up two separate RP trusts, one for your debug environment and one for your published web app.</source>
          <target state="new">You will need to set up two separate RP trusts, one for your debug environment and one for your published web app.</target>
        </trans-unit>
        <trans-unit id="200" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> Make sure that you repeat the steps below for both of your environments.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> Make sure that you repeat the steps below for both of your environments.</target>
        </trans-unit>
        <trans-unit id="201" translate="yes" xml:space="preserve">
          <source>On your AD FS server, log in with credentials that have management rights to AD FS.</source>
          <target state="new">On your AD FS server, log in with credentials that have management rights to AD FS.</target>
        </trans-unit>
        <trans-unit id="202" translate="yes" xml:space="preserve">
          <source>Open AD FS Management.</source>
          <target state="new">Open AD FS Management.</target>
        </trans-unit>
        <trans-unit id="203" translate="yes" xml:space="preserve">
          <source>Right-click <bpt id="p1">**</bpt>AD FS\Trusted Relationships\Relying Party Trusts<ept id="p1">**</ept> and select <bpt id="p2">**</bpt>Add Relying Party Trust<ept id="p2">**</ept>.</source>
          <target state="new">Right-click <bpt id="p1">**</bpt>AD FS\Trusted Relationships\Relying Party Trusts<ept id="p1">**</ept> and select <bpt id="p2">**</bpt>Add Relying Party Trust<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="204" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Select Data Source<ept id="p1">**</ept> page, select <bpt id="p2">**</bpt>Enter data about the relying party manually<ept id="p2">**</ept>.</source>
          <target state="new">In the <bpt id="p1">**</bpt>Select Data Source<ept id="p1">**</ept> page, select <bpt id="p2">**</bpt>Enter data about the relying party manually<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="205" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Specify Display Name<ept id="p1">**</ept> page, type a display name for the application and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</source>
          <target state="new">In the <bpt id="p1">**</bpt>Specify Display Name<ept id="p1">**</ept> page, type a display name for the application and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="206" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Choose Protocol<ept id="p1">**</ept> page, click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</source>
          <target state="new">In the <bpt id="p1">**</bpt>Choose Protocol<ept id="p1">**</ept> page, click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="207" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Configure Certificate<ept id="p1">**</ept> page, click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</source>
          <target state="new">In the <bpt id="p1">**</bpt>Configure Certificate<ept id="p1">**</ept> page, click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="208" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> Since you should be using HTTPS already, encrypted tokens are optional.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> Since you should be using HTTPS already, encrypted tokens are optional.</target>
        </trans-unit>
        <trans-unit id="209" translate="yes" xml:space="preserve">
          <source>If you really want to encrypt tokens from AD FS on this page, you must also add token-decrypting logic in your code.</source>
          <target state="new">If you really want to encrypt tokens from AD FS on this page, you must also add token-decrypting logic in your code.</target>
        </trans-unit>
        <trans-unit id="210" translate="yes" xml:space="preserve">
          <source>For more information, see <bpt id="p1">[</bpt>Manually configuring OWIN WS-Federation middleware and accepting encrypted tokens<ept id="p1">](http://chris.59north.com/post/2014/08/21/Manually-configuring-OWIN-WS-Federation-middleware-and-accepting-encrypted-tokens.aspx)</ept>.</source>
          <target state="new">For more information, see <bpt id="p1">[</bpt>Manually configuring OWIN WS-Federation middleware and accepting encrypted tokens<ept id="p1">](http://chris.59north.com/post/2014/08/21/Manually-configuring-OWIN-WS-Federation-middleware-and-accepting-encrypted-tokens.aspx)</ept>.</target>
        </trans-unit>
        <trans-unit id="211" translate="yes" xml:space="preserve">
          <source>Before you move onto the next step, you need one piece of information from your Visual Studio project.</source>
          <target state="new">Before you move onto the next step, you need one piece of information from your Visual Studio project.</target>
        </trans-unit>
        <trans-unit id="212" translate="yes" xml:space="preserve">
          <source>In the project properties, note the <bpt id="p1">**</bpt>SSL URL<ept id="p1">**</ept> of the application.</source>
          <target state="new">In the project properties, note the <bpt id="p1">**</bpt>SSL URL<ept id="p1">**</ept> of the application.</target>
        </trans-unit>
        <trans-unit id="213" translate="yes" xml:space="preserve">
          <source>Back in AD FS Management, in the <bpt id="p1">**</bpt>Configure URL<ept id="p1">**</ept> page of the <bpt id="p2">**</bpt>Add Relying Party Trust Wizard<ept id="p2">**</ept>, select <bpt id="p3">**</bpt>Enable support for the WS-Federation Passive protocol<ept id="p3">**</ept> and type in the SSL URL of your Visual Studio project that you noted in the previous step.</source>
          <target state="new">Back in AD FS Management, in the <bpt id="p1">**</bpt>Configure URL<ept id="p1">**</ept> page of the <bpt id="p2">**</bpt>Add Relying Party Trust Wizard<ept id="p2">**</ept>, select <bpt id="p3">**</bpt>Enable support for the WS-Federation Passive protocol<ept id="p3">**</ept> and type in the SSL URL of your Visual Studio project that you noted in the previous step.</target>
        </trans-unit>
        <trans-unit id="214" translate="yes" xml:space="preserve">
          <source>Then, click <bpt id="p1">**</bpt>Next<ept id="p1">**</ept>.</source>
          <target state="new">Then, click <bpt id="p1">**</bpt>Next<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="215" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> URL specifies where to send the client after authentication succeeds.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> URL specifies where to send the client after authentication succeeds.</target>
        </trans-unit>
        <trans-unit id="216" translate="yes" xml:space="preserve">
          <source>For the debug environment, it should be <ph id="ph1">&lt;code&gt;</ph><ph id="ph2">https://localhost:&amp;lt;port&amp;gt;/</ph><ph id="ph3">&lt;/code&gt;</ph>.</source>
          <target state="new">For the debug environment, it should be <ph id="ph1">&lt;code&gt;</ph><ph id="ph2">https://localhost:&amp;lt;port&amp;gt;/</ph><ph id="ph3">&lt;/code&gt;</ph>.</target>
        </trans-unit>
        <trans-unit id="217" translate="yes" xml:space="preserve">
          <source>For the published web app, it should be the web app URL.</source>
          <target state="new">For the published web app, it should be the web app URL.</target>
        </trans-unit>
        <trans-unit id="218" translate="yes" xml:space="preserve">
          <source>In the <bpt id="p1">**</bpt>Configure Identifiers<ept id="p1">**</ept> page, verify that your project SSL URL is already listed and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</source>
          <target state="new">In the <bpt id="p1">**</bpt>Configure Identifiers<ept id="p1">**</ept> page, verify that your project SSL URL is already listed and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="219" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Next<ept id="p1">**</ept> all the way to the end of the wizard with default selections.</source>
          <target state="new">Click <bpt id="p1">**</bpt>Next<ept id="p1">**</ept> all the way to the end of the wizard with default selections.</target>
        </trans-unit>
        <trans-unit id="220" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> In App_Start\Startup.Auth.cs of your Visual Studio project, this identifier is matched against the value of <ph id="ph2">&lt;code&gt;</ph><ph id="ph3">WsFederationAuthenticationOptions.Wtrealm</ph><ph id="ph4">&lt;/code&gt;</ph> during federated authentication.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> In App_Start\Startup.Auth.cs of your Visual Studio project, this identifier is matched against the value of <ph id="ph2">&lt;code&gt;</ph><ph id="ph3">WsFederationAuthenticationOptions.Wtrealm</ph><ph id="ph4">&lt;/code&gt;</ph> during federated authentication.</target>
        </trans-unit>
        <trans-unit id="221" translate="yes" xml:space="preserve">
          <source>By default, the application's URL from the previous step is added as an RP identifier.</source>
          <target state="new">By default, the application's URL from the previous step is added as an RP identifier.</target>
        </trans-unit>
        <trans-unit id="222" translate="yes" xml:space="preserve">
          <source>You have now finished configuring the RP application for your project in AD FS.</source>
          <target state="new">You have now finished configuring the RP application for your project in AD FS.</target>
        </trans-unit>
        <trans-unit id="223" translate="yes" xml:space="preserve">
          <source>Next, you will configure this application to send the claims needed by your application.</source>
          <target state="new">Next, you will configure this application to send the claims needed by your application.</target>
        </trans-unit>
        <trans-unit id="224" translate="yes" xml:space="preserve">
          <source>The <bpt id="p1">**</bpt>Edit Claim Rules<ept id="p1">**</ept> dialog is opened by default for you at the end of the wizard so you can start immediately.</source>
          <target state="new">The <bpt id="p1">**</bpt>Edit Claim Rules<ept id="p1">**</ept> dialog is opened by default for you at the end of the wizard so you can start immediately.</target>
        </trans-unit>
        <trans-unit id="225" translate="yes" xml:space="preserve">
          <source>Let's configure at least the following claims (with schemas in parentheses):</source>
          <target state="new">Let's configure at least the following claims (with schemas in parentheses):</target>
        </trans-unit>
        <trans-unit id="226" translate="yes" xml:space="preserve">
          <source>Name (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name) - used by ASP.NET to hydrate <ph id="ph1">`User.Identity.Name`</ph>.</source>
          <target state="new">Name (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name) - used by ASP.NET to hydrate <ph id="ph1">`User.Identity.Name`</ph>.</target>
        </trans-unit>
        <trans-unit id="227" translate="yes" xml:space="preserve">
          <source>User principal name (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn) - used to uniquely identify users in the organization.</source>
          <target state="new">User principal name (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn) - used to uniquely identify users in the organization.</target>
        </trans-unit>
        <trans-unit id="228" translate="yes" xml:space="preserve">
          <source>Group memberships as roles (http://schemas.microsoft.com/ws/2008/06/identity/claims/role) - can be used with <ph id="ph1">`[Authorize(Roles="role1, role2,...")]`</ph> decoration to authorize controllers/actions.</source>
          <target state="new">Group memberships as roles (http://schemas.microsoft.com/ws/2008/06/identity/claims/role) - can be used with <ph id="ph1">`[Authorize(Roles="role1, role2,...")]`</ph> decoration to authorize controllers/actions.</target>
        </trans-unit>
        <trans-unit id="229" translate="yes" xml:space="preserve">
          <source>In reality, this may not be the most performant approach for role authorization, especially if your AD users regularly belong to hundreds of security groups, which translates to hundreds of role claims in the SAML token.</source>
          <target state="new">In reality, this may not be the most performant approach for role authorization, especially if your AD users regularly belong to hundreds of security groups, which translates to hundreds of role claims in the SAML token.</target>
        </trans-unit>
        <trans-unit id="230" translate="yes" xml:space="preserve">
          <source>An alternative approach is to send a single role claim conditionally depending on the user's membership in a particular group.</source>
          <target state="new">An alternative approach is to send a single role claim conditionally depending on the user's membership in a particular group.</target>
        </trans-unit>
        <trans-unit id="231" translate="yes" xml:space="preserve">
          <source>However, we'll keep it simple for this tutorial.</source>
          <target state="new">However, we'll keep it simple for this tutorial.</target>
        </trans-unit>
        <trans-unit id="232" translate="yes" xml:space="preserve">
          <source>Name ID (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier) - can be used for anti-forgery validation.</source>
          <target state="new">Name ID (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier) - can be used for anti-forgery validation.</target>
        </trans-unit>
        <trans-unit id="233" translate="yes" xml:space="preserve">
          <source>For more information on how to make it work with anti-forgery validation, see the <bpt id="p1">**</bpt>Add line-of-business functionality to the sample application<ept id="p1">**</ept> section of <bpt id="p2">[</bpt>Create a .NET MVC web app in Azure App Service with Azure Active Directory authentication<ept id="p2">](web-sites-dotnet-lob-application-azure-ad.md#bkmk_crud)</ept>.</source>
          <target state="new">For more information on how to make it work with anti-forgery validation, see the <bpt id="p1">**</bpt>Add line-of-business functionality to the sample application<ept id="p1">**</ept> section of <bpt id="p2">[</bpt>Create a .NET MVC web app in Azure App Service with Azure Active Directory authentication<ept id="p2">](web-sites-dotnet-lob-application-azure-ad.md#bkmk_crud)</ept>.</target>
        </trans-unit>
        <trans-unit id="234" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> The claim types you need to configure for your application is determined by your application's needs.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> The claim types you need to configure for your application is determined by your application's needs.</target>
        </trans-unit>
        <trans-unit id="235" translate="yes" xml:space="preserve">
          <source>For the list of claims supported by Azure Active Directory applications (i.e. RP trusts), for example, see <bpt id="p1">[</bpt>Supported Token and Claim Types<ept id="p1">](http://msdn.microsoft.com/library/azure/dn195587.aspx)</ept>.</source>
          <target state="new">For the list of claims supported by Azure Active Directory applications (i.e. RP trusts), for example, see <bpt id="p1">[</bpt>Supported Token and Claim Types<ept id="p1">](http://msdn.microsoft.com/library/azure/dn195587.aspx)</ept>.</target>
        </trans-unit>
        <trans-unit id="236" translate="yes" xml:space="preserve">
          <source>In the Edit Claim Rules dialog, click <bpt id="p1">**</bpt>Add Rule<ept id="p1">**</ept>.</source>
          <target state="new">In the Edit Claim Rules dialog, click <bpt id="p1">**</bpt>Add Rule<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="237" translate="yes" xml:space="preserve">
          <source>Configure the name, UPN, and role claims as shown below and click <bpt id="p1">**</bpt>Finish<ept id="p1">**</ept>.</source>
          <target state="new">Configure the name, UPN, and role claims as shown below and click <bpt id="p1">**</bpt>Finish<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="238" translate="yes" xml:space="preserve">
          <source>Next, you will create a transient name ID claim using the steps demonstrated in <bpt id="p1">[</bpt>Name Identifiers in SAML assertions<ept id="p1">](http://blogs.msdn.com/b/card/archive/2010/02/17/name-identifiers-in-saml-assertions.aspx)</ept>.</source>
          <target state="new">Next, you will create a transient name ID claim using the steps demonstrated in <bpt id="p1">[</bpt>Name Identifiers in SAML assertions<ept id="p1">](http://blogs.msdn.com/b/card/archive/2010/02/17/name-identifiers-in-saml-assertions.aspx)</ept>.</target>
        </trans-unit>
        <trans-unit id="239" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Add Rule<ept id="p1">**</ept> again.</source>
          <target state="new">Click <bpt id="p1">**</bpt>Add Rule<ept id="p1">**</ept> again.</target>
        </trans-unit>
        <trans-unit id="240" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Send Claims Using a Custom Rule<ept id="p1">**</ept> and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</source>
          <target state="new">Select <bpt id="p1">**</bpt>Send Claims Using a Custom Rule<ept id="p1">**</ept> and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="241" translate="yes" xml:space="preserve">
          <source>Paste the following rule language into the <bpt id="p1">**</bpt>Custom rule<ept id="p1">**</ept> box, name the rule <bpt id="p2">**</bpt>Per Session Identifier<ept id="p2">**</ept> and click <bpt id="p3">**</bpt>Finish<ept id="p3">**</ept>.</source>
          <target state="new">Paste the following rule language into the <bpt id="p1">**</bpt>Custom rule<ept id="p1">**</ept> box, name the rule <bpt id="p2">**</bpt>Per Session Identifier<ept id="p2">**</ept> and click <bpt id="p3">**</bpt>Finish<ept id="p3">**</ept>.</target>
        </trans-unit>
        <trans-unit id="242" translate="yes" xml:space="preserve">
          <source>c1:[Type == "http://schemas.microsoft.com/ws/2008/06/identity/claims/windowsaccountname"] &amp;amp;&amp;amp;</source>
          <target state="new">c1:[Type == "http://schemas.microsoft.com/ws/2008/06/identity/claims/windowsaccountname"] &amp;amp;&amp;amp;</target>
        </trans-unit>
        <trans-unit id="243" translate="yes" xml:space="preserve">
          <source>c2:[Type == "http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationinstant"]</source>
          <target state="new">c2:[Type == "http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationinstant"]</target>
        </trans-unit>
        <trans-unit id="244" translate="yes" xml:space="preserve">
          <source>=&gt; add(</source>
          <target state="new">=&gt; add(</target>
        </trans-unit>
        <trans-unit id="245" translate="yes" xml:space="preserve">
          <source>store = "_OpaqueIdStore",</source>
          <target state="new">store = "_OpaqueIdStore",</target>
        </trans-unit>
        <trans-unit id="246" translate="yes" xml:space="preserve">
          <source>types = ("</source>
          <target state="new">types = ("</target>
        </trans-unit>
        <trans-unit id="247" translate="yes" xml:space="preserve">
          <source>http://contoso.com/internal/sessionid</source>
          <target state="new">http://contoso.com/internal/sessionid</target>
        </trans-unit>
        <trans-unit id="248" translate="yes" xml:space="preserve">
          <source>"),</source>
          <target state="new">"),</target>
        </trans-unit>
        <trans-unit id="249" translate="yes" xml:space="preserve">
          <source>query = "{0};{1};{2};{3};{4}",</source>
          <target state="new">query = "{0};{1};{2};{3};{4}",</target>
        </trans-unit>
        <trans-unit id="250" translate="yes" xml:space="preserve">
          <source>param = "useEntropy",</source>
          <target state="new">param = "useEntropy",</target>
        </trans-unit>
        <trans-unit id="251" translate="yes" xml:space="preserve">
          <source>param = c1.Value,</source>
          <target state="new">param = c1.Value,</target>
        </trans-unit>
        <trans-unit id="252" translate="yes" xml:space="preserve">
          <source>param = c1.OriginalIssuer,</source>
          <target state="new">param = c1.OriginalIssuer,</target>
        </trans-unit>
        <trans-unit id="253" translate="yes" xml:space="preserve">
          <source>param = "",</source>
          <target state="new">param = "",</target>
        </trans-unit>
        <trans-unit id="254" translate="yes" xml:space="preserve">
          <source>param = c2.Value);</source>
          <target state="new">param = c2.Value);</target>
        </trans-unit>
        <trans-unit id="255" translate="yes" xml:space="preserve">
          <source>Your custom rule should look like this:</source>
          <target state="new">Your custom rule should look like this:</target>
        </trans-unit>
        <trans-unit id="256" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Add Rule<ept id="p1">**</ept> again.</source>
          <target state="new">Click <bpt id="p1">**</bpt>Add Rule<ept id="p1">**</ept> again.</target>
        </trans-unit>
        <trans-unit id="257" translate="yes" xml:space="preserve">
          <source>Select <bpt id="p1">**</bpt>Transform an Incoming Claim<ept id="p1">**</ept> and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</source>
          <target state="new">Select <bpt id="p1">**</bpt>Transform an Incoming Claim<ept id="p1">**</ept> and click <bpt id="p2">**</bpt>Next<ept id="p2">**</ept>.</target>
        </trans-unit>
        <trans-unit id="258" translate="yes" xml:space="preserve">
          <source>Configure the rule as shown below (using the claim type you created in the custom rule) and click <bpt id="p1">**</bpt>Finish<ept id="p1">**</ept>.</source>
          <target state="new">Configure the rule as shown below (using the claim type you created in the custom rule) and click <bpt id="p1">**</bpt>Finish<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="259" translate="yes" xml:space="preserve">
          <source>For detailed information on the steps for the transient Name ID claim above, see <bpt id="p1">[</bpt>Name Identifiers in SAML assertions<ept id="p1">](http://blogs.msdn.com/b/card/archive/2010/02/17/name-identifiers-in-saml-assertions.aspx)</ept>.</source>
          <target state="new">For detailed information on the steps for the transient Name ID claim above, see <bpt id="p1">[</bpt>Name Identifiers in SAML assertions<ept id="p1">](http://blogs.msdn.com/b/card/archive/2010/02/17/name-identifiers-in-saml-assertions.aspx)</ept>.</target>
        </trans-unit>
        <trans-unit id="260" translate="yes" xml:space="preserve">
          <source>Click <bpt id="p1">**</bpt>Apply<ept id="p1">**</ept> in the <bpt id="p2">**</bpt>Edit Claim Rules<ept id="p2">**</ept> dialog.</source>
          <target state="new">Click <bpt id="p1">**</bpt>Apply<ept id="p1">**</ept> in the <bpt id="p2">**</bpt>Edit Claim Rules<ept id="p2">**</ept> dialog.</target>
        </trans-unit>
        <trans-unit id="261" translate="yes" xml:space="preserve">
          <source>It should now look like the screenshot below:</source>
          <target state="new">It should now look like the screenshot below:</target>
        </trans-unit>
        <trans-unit id="262" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> Again, make sure that you repeat these steps for both your debug environment and published web app.</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> Again, make sure that you repeat these steps for both your debug environment and published web app.</target>
        </trans-unit>
        <trans-unit id="263" translate="yes" xml:space="preserve">
          <source>Test federated authentication for your application</source>
          <target state="new">Test federated authentication for your application</target>
        </trans-unit>
        <trans-unit id="264" translate="yes" xml:space="preserve">
          <source>You are ready to test your application's authentication logic against AD FS.</source>
          <target state="new">You are ready to test your application's authentication logic against AD FS.</target>
        </trans-unit>
        <trans-unit id="265" translate="yes" xml:space="preserve">
          <source>In my AD FS lab environment, I have a test user that belongs to a test group in Active Directory (AD).</source>
          <target state="new">In my AD FS lab environment, I have a test user that belongs to a test group in Active Directory (AD).</target>
        </trans-unit>
        <trans-unit id="266" translate="yes" xml:space="preserve">
          <source>To test authentication in the debugger, all you need to do now is type <ph id="ph1">`F5`</ph>.</source>
          <target state="new">To test authentication in the debugger, all you need to do now is type <ph id="ph1">`F5`</ph>.</target>
        </trans-unit>
        <trans-unit id="267" translate="yes" xml:space="preserve">
          <source>If you want to test authentication in the published web app, navigate to the URL.</source>
          <target state="new">If you want to test authentication in the published web app, navigate to the URL.</target>
        </trans-unit>
        <trans-unit id="268" translate="yes" xml:space="preserve">
          <source>After the web application loads, click <bpt id="p1">**</bpt>Sign In<ept id="p1">**</ept>.</source>
          <target state="new">After the web application loads, click <bpt id="p1">**</bpt>Sign In<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="269" translate="yes" xml:space="preserve">
          <source>You should now get either a login dialog or the login page served by AD FS, depending on the authentication method chosen by AD FS.</source>
          <target state="new">You should now get either a login dialog or the login page served by AD FS, depending on the authentication method chosen by AD FS.</target>
        </trans-unit>
        <trans-unit id="270" translate="yes" xml:space="preserve">
          <source>Here's what I get in Internet Explorer 11.</source>
          <target state="new">Here's what I get in Internet Explorer 11.</target>
        </trans-unit>
        <trans-unit id="271" translate="yes" xml:space="preserve">
          <source>Once you log in with a user in the AD domain of the AD FS deployment, you should now see the homepage again with <bpt id="p1">**</bpt>Hello, <ph id="ph1">&lt;User Name&gt;</ph>!<ept id="p1">**</ept> in the corner.</source>
          <target state="new">Once you log in with a user in the AD domain of the AD FS deployment, you should now see the homepage again with <bpt id="p1">**</bpt>Hello, <ph id="ph1">&lt;User Name&gt;</ph>!<ept id="p1">**</ept> in the corner.</target>
        </trans-unit>
        <trans-unit id="272" translate="yes" xml:space="preserve">
          <source>Here's what I get.</source>
          <target state="new">Here's what I get.</target>
        </trans-unit>
        <trans-unit id="273" translate="yes" xml:space="preserve">
          <source>So far, you've succeeded in the following ways:</source>
          <target state="new">So far, you've succeeded in the following ways:</target>
        </trans-unit>
        <trans-unit id="274" translate="yes" xml:space="preserve">
          <source>Your application has successfully reached AD FS and a matching RP identifier is found in the AD FS database</source>
          <target state="new">Your application has successfully reached AD FS and a matching RP identifier is found in the AD FS database</target>
        </trans-unit>
        <trans-unit id="275" translate="yes" xml:space="preserve">
          <source>AD FS has successfully authenticated an AD user and redirect you back to the application's homepage</source>
          <target state="new">AD FS has successfully authenticated an AD user and redirect you back to the application's homepage</target>
        </trans-unit>
        <trans-unit id="276" translate="yes" xml:space="preserve">
          <source>AD FS as successfully sent the name claim (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name) to your application, as indicated by the fact that the user name is displayed in the corner.</source>
          <target state="new">AD FS as successfully sent the name claim (http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name) to your application, as indicated by the fact that the user name is displayed in the corner.</target>
        </trans-unit>
        <trans-unit id="277" translate="yes" xml:space="preserve">
          <source>If the name claim is missing, you would have seen <bpt id="p1">**</bpt>Hello, !<ept id="p1">**</ept>.</source>
          <target state="new">If the name claim is missing, you would have seen <bpt id="p1">**</bpt>Hello, !<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="278" translate="yes" xml:space="preserve">
          <source>If you take a look at Views\Shared\_LoginPartial.cshtml, you will find that it uses <ph id="ph1">`User.Identity.Name`</ph> to display the user name.</source>
          <target state="new">If you take a look at Views\Shared\_LoginPartial.cshtml, you will find that it uses <ph id="ph1">`User.Identity.Name`</ph> to display the user name.</target>
        </trans-unit>
        <trans-unit id="279" translate="yes" xml:space="preserve">
          <source>As mentioned previously, ASP.NET hydrates this property with the name claim of the authenticated user, if it is available in the SAML token.</source>
          <target state="new">As mentioned previously, ASP.NET hydrates this property with the name claim of the authenticated user, if it is available in the SAML token.</target>
        </trans-unit>
        <trans-unit id="280" translate="yes" xml:space="preserve">
          <source>To see all the claims that are sent by AD FS, put a breakpoint in Controllers\HomeController.cs, in the Index action method.</source>
          <target state="new">To see all the claims that are sent by AD FS, put a breakpoint in Controllers\HomeController.cs, in the Index action method.</target>
        </trans-unit>
        <trans-unit id="281" translate="yes" xml:space="preserve">
          <source>After the user is authenticated, inspect the <ph id="ph1">`System.Security.Claims.Current.Claims`</ph> collection.</source>
          <target state="new">After the user is authenticated, inspect the <ph id="ph1">`System.Security.Claims.Current.Claims`</ph> collection.</target>
        </trans-unit>
        <trans-unit id="282" translate="yes" xml:space="preserve">
          <source>Authorize users for specific controllers or actions</source>
          <target state="new">Authorize users for specific controllers or actions</target>
        </trans-unit>
        <trans-unit id="283" translate="yes" xml:space="preserve">
          <source>Since you have included group memberships as role claims in your RP trust configuration, you can now use these directly in the <ph id="ph1">`[Authorize(Roles="...")]`</ph> decoration for controllers and actions.</source>
          <target state="new">Since you have included group memberships as role claims in your RP trust configuration, you can now use these directly in the <ph id="ph1">`[Authorize(Roles="...")]`</ph> decoration for controllers and actions.</target>
        </trans-unit>
        <trans-unit id="284" translate="yes" xml:space="preserve">
          <source>In a line-of-business application with the Create-Read-Update-Delete (CRUD) pattern, you can authorize specific roles to access each action.</source>
          <target state="new">In a line-of-business application with the Create-Read-Update-Delete (CRUD) pattern, you can authorize specific roles to access each action.</target>
        </trans-unit>
        <trans-unit id="285" translate="yes" xml:space="preserve">
          <source>For now, you will just try out this feature on the existing Home controller.</source>
          <target state="new">For now, you will just try out this feature on the existing Home controller.</target>
        </trans-unit>
        <trans-unit id="286" translate="yes" xml:space="preserve">
          <source>Open Controllers\HomeController.cs.</source>
          <target state="new">Open Controllers\HomeController.cs.</target>
        </trans-unit>
        <trans-unit id="287" translate="yes" xml:space="preserve">
          <source>Decorate the <ph id="ph1">`About`</ph> and <ph id="ph2">`Contact`</ph> action methods similar to below, using security group memberships that your authenticated user has.</source>
          <target state="new">Decorate the <ph id="ph1">`About`</ph> and <ph id="ph2">`Contact`</ph> action methods similar to below, using security group memberships that your authenticated user has.</target>
        </trans-unit>
        <trans-unit id="288" translate="yes" xml:space="preserve">
          <source>[Authorize(Roles="Test Group")]</source>
          <target state="new">[Authorize(Roles="Test Group")]</target>
        </trans-unit>
        <trans-unit id="289" translate="yes" xml:space="preserve">
          <source>public ActionResult About()</source>
          <target state="new">public ActionResult About()</target>
        </trans-unit>
        <trans-unit id="290" translate="yes" xml:space="preserve">
          <source>{</source>
          <target state="new">{</target>
        </trans-unit>
        <trans-unit id="291" translate="yes" xml:space="preserve">
          <source>ViewBag.Message = "Your application description page.";</source>
          <target state="new">ViewBag.Message = "Your application description page.";</target>
        </trans-unit>
        <trans-unit id="292" translate="yes" xml:space="preserve">
          <source>}</source>
          <target state="new">}</target>
        </trans-unit>
        <trans-unit id="293" translate="yes" xml:space="preserve">
          <source>[Authorize(Roles="Domain Admins")]</source>
          <target state="new">[Authorize(Roles="Domain Admins")]</target>
        </trans-unit>
        <trans-unit id="294" translate="yes" xml:space="preserve">
          <source>public ActionResult Contact()</source>
          <target state="new">public ActionResult Contact()</target>
        </trans-unit>
        <trans-unit id="295" translate="yes" xml:space="preserve">
          <source>{</source>
          <target state="new">{</target>
        </trans-unit>
        <trans-unit id="296" translate="yes" xml:space="preserve">
          <source>ViewBag.Message = "Your contact page.";</source>
          <target state="new">ViewBag.Message = "Your contact page.";</target>
        </trans-unit>
        <trans-unit id="297" translate="yes" xml:space="preserve">
          <source>}</source>
          <target state="new">}</target>
        </trans-unit>
        <trans-unit id="298" translate="yes" xml:space="preserve">
          <source>Since I added <bpt id="p1">**</bpt>Test User<ept id="p1">**</ept> to <bpt id="p2">**</bpt>Test Group<ept id="p2">**</ept> in my AD FS lab environment, I'll use Test Group to test authorization on <ph id="ph1">`About`</ph>.</source>
          <target state="new">Since I added <bpt id="p1">**</bpt>Test User<ept id="p1">**</ept> to <bpt id="p2">**</bpt>Test Group<ept id="p2">**</ept> in my AD FS lab environment, I'll use Test Group to test authorization on <ph id="ph1">`About`</ph>.</target>
        </trans-unit>
        <trans-unit id="299" translate="yes" xml:space="preserve">
          <source>For <ph id="ph1">`Contact`</ph>, I'll test the negative case of <bpt id="p1">**</bpt>Domain Admins<ept id="p1">**</ept>, to which <bpt id="p2">**</bpt>Test User<ept id="p2">**</ept> doesn't belong.</source>
          <target state="new">For <ph id="ph1">`Contact`</ph>, I'll test the negative case of <bpt id="p1">**</bpt>Domain Admins<ept id="p1">**</ept>, to which <bpt id="p2">**</bpt>Test User<ept id="p2">**</ept> doesn't belong.</target>
        </trans-unit>
        <trans-unit id="300" translate="yes" xml:space="preserve">
          <source>Start the debugger by typing <ph id="ph1">`F5`</ph> and sign in, then click <bpt id="p1">**</bpt>About<ept id="p1">**</ept>.</source>
          <target state="new">Start the debugger by typing <ph id="ph1">`F5`</ph> and sign in, then click <bpt id="p1">**</bpt>About<ept id="p1">**</ept>.</target>
        </trans-unit>
        <trans-unit id="301" translate="yes" xml:space="preserve">
          <source>You should now be viewing the <ph id="ph1">`~/About/Index`</ph> page successfully, if your authenticated user is authorized for that action.</source>
          <target state="new">You should now be viewing the <ph id="ph1">`~/About/Index`</ph> page successfully, if your authenticated user is authorized for that action.</target>
        </trans-unit>
        <trans-unit id="302" translate="yes" xml:space="preserve">
          <source>Now click <bpt id="p1">**</bpt>Contact<ept id="p1">**</ept>, which in my case should not authorize <bpt id="p2">**</bpt>Test User<ept id="p2">**</ept> for the action.</source>
          <target state="new">Now click <bpt id="p1">**</bpt>Contact<ept id="p1">**</ept>, which in my case should not authorize <bpt id="p2">**</bpt>Test User<ept id="p2">**</ept> for the action.</target>
        </trans-unit>
        <trans-unit id="303" translate="yes" xml:space="preserve">
          <source>However, the browser is redirected to AD FS, which eventually shows this message:</source>
          <target state="new">However, the browser is redirected to AD FS, which eventually shows this message:</target>
        </trans-unit>
        <trans-unit id="304" translate="yes" xml:space="preserve">
          <source>If you investigate this error in Event Viewer on the AD FS server, you will see this exception message:</source>
          <target state="new">If you investigate this error in Event Viewer on the AD FS server, you will see this exception message:</target>
        </trans-unit>
        <trans-unit id="305" translate="yes" xml:space="preserve">
          <source>Microsoft.IdentityServer.Web.InvalidRequestException: MSIS7042:</source>
          <target state="new">Microsoft.IdentityServer.Web.InvalidRequestException: MSIS7042:</target>
        </trans-unit>
        <trans-unit id="306" translate="yes" xml:space="preserve">
          <source>The same client browser session has made '6' requests in the last '11' seconds.</source>
          <target state="new">The same client browser session has made '6' requests in the last '11' seconds.</target>
        </trans-unit>
        <trans-unit id="307" translate="yes" xml:space="preserve">
          <source>Contact your administrator for details.</source>
          <target state="new">Contact your administrator for details.</target>
        </trans-unit>
        <trans-unit id="308" translate="yes" xml:space="preserve">
          <source>at Microsoft.IdentityServer.Web.Protocols.PassiveProtocolHandler.UpdateLoopDetectionCookie(WrappedHttpListenerContext context)</source>
          <target state="new">at Microsoft.IdentityServer.Web.Protocols.PassiveProtocolHandler.UpdateLoopDetectionCookie(WrappedHttpListenerContext context)</target>
        </trans-unit>
        <trans-unit id="309" translate="yes" xml:space="preserve">
          <source>at Microsoft.IdentityServer.Web.Protocols.WSFederation.WSFederationProtocolHandler.SendSignInResponse(WSFederationContext context, MSISSignInResponse response)</source>
          <target state="new">at Microsoft.IdentityServer.Web.Protocols.WSFederation.WSFederationProtocolHandler.SendSignInResponse(WSFederationContext context, MSISSignInResponse response)</target>
        </trans-unit>
        <trans-unit id="310" translate="yes" xml:space="preserve">
          <source>at Microsoft.IdentityServer.Web.PassiveProtocolListener.ProcessProtocolRequest(ProtocolContext protocolContext, PassiveProtocolHandler protocolHandler)</source>
          <target state="new">at Microsoft.IdentityServer.Web.PassiveProtocolListener.ProcessProtocolRequest(ProtocolContext protocolContext, PassiveProtocolHandler protocolHandler)</target>
        </trans-unit>
        <trans-unit id="311" translate="yes" xml:space="preserve">
          <source>at Microsoft.IdentityServer.Web.PassiveProtocolListener.OnGetContext(WrappedHttpListenerContext context)</source>
          <target state="new">at Microsoft.IdentityServer.Web.PassiveProtocolListener.OnGetContext(WrappedHttpListenerContext context)</target>
        </trans-unit>
        <trans-unit id="312" translate="yes" xml:space="preserve">
          <source>The reason this happens is that by default, MVC returns a 401 Unauthorized when a user's roles are not authorized.</source>
          <target state="new">The reason this happens is that by default, MVC returns a 401 Unauthorized when a user's roles are not authorized.</target>
        </trans-unit>
        <trans-unit id="313" translate="yes" xml:space="preserve">
          <source>This triggers a reauthentication request to your identity provider (AD FS).</source>
          <target state="new">This triggers a reauthentication request to your identity provider (AD FS).</target>
        </trans-unit>
        <trans-unit id="314" translate="yes" xml:space="preserve">
          <source>Since the user is already authenticated, AD FS returns to the same page, which then issues another 401, creating a redirect loop.</source>
          <target state="new">Since the user is already authenticated, AD FS returns to the same page, which then issues another 401, creating a redirect loop.</target>
        </trans-unit>
        <trans-unit id="315" translate="yes" xml:space="preserve">
          <source>You will override AuthorizeAttribute's <ph id="ph1">`HandleUnauthorizedRequest`</ph> method with simple logic to show something that makes sense instead of continuing the redirect loop.</source>
          <target state="new">You will override AuthorizeAttribute's <ph id="ph1">`HandleUnauthorizedRequest`</ph> method with simple logic to show something that makes sense instead of continuing the redirect loop.</target>
        </trans-unit>
        <trans-unit id="316" translate="yes" xml:space="preserve">
          <source>Create a file in the project called AuthorizeAttribute.cs, and paste the code below into it.</source>
          <target state="new">Create a file in the project called AuthorizeAttribute.cs, and paste the code below into it.</target>
        </trans-unit>
        <trans-unit id="317" translate="yes" xml:space="preserve">
          <source>The override code sends an HTTP 403 (Forbidden) instead of HTTP 401 (Unauthorized) in  authenticated-but-unauthorized cases.</source>
          <target state="new">The override code sends an HTTP 403 (Forbidden) instead of HTTP 401 (Unauthorized) in  authenticated-but-unauthorized cases.</target>
        </trans-unit>
        <trans-unit id="318" translate="yes" xml:space="preserve">
          <source>Run the debugger again with <ph id="ph1">`F5`</ph>.</source>
          <target state="new">Run the debugger again with <ph id="ph1">`F5`</ph>.</target>
        </trans-unit>
        <trans-unit id="319" translate="yes" xml:space="preserve">
          <source>Clicking <bpt id="p1">**</bpt>Contact<ept id="p1">**</ept> now shows a more informative (albeit unattractive) error message:</source>
          <target state="new">Clicking <bpt id="p1">**</bpt>Contact<ept id="p1">**</ept> now shows a more informative (albeit unattractive) error message:</target>
        </trans-unit>
        <trans-unit id="320" translate="yes" xml:space="preserve">
          <source>Publish the application to Azure App Service Web Apps again, and test the behavior of the live application.</source>
          <target state="new">Publish the application to Azure App Service Web Apps again, and test the behavior of the live application.</target>
        </trans-unit>
        <trans-unit id="321" translate="yes" xml:space="preserve">
          <source>Connect to on-premises data</source>
          <target state="new">Connect to on-premises data</target>
        </trans-unit>
        <trans-unit id="322" translate="yes" xml:space="preserve">
          <source>A reason that you would want to implement your line-of-business application with AD FS instead of Azure Active Directory is compliance issues with keeping organization data off-premise.</source>
          <target state="new">A reason that you would want to implement your line-of-business application with AD FS instead of Azure Active Directory is compliance issues with keeping organization data off-premise.</target>
        </trans-unit>
        <trans-unit id="323" translate="yes" xml:space="preserve">
          <source>This may also mean that your web app in Azure must access on-premise databases, since you are not allowed to use <bpt id="p1">[</bpt>SQL Database<ept id="p1">](/services/sql-database/)</ept> as the data tier for your web apps.</source>
          <target state="new">This may also mean that your web app in Azure must access on-premise databases, since you are not allowed to use <bpt id="p1">[</bpt>SQL Database<ept id="p1">](/services/sql-database/)</ept> as the data tier for your web apps.</target>
        </trans-unit>
        <trans-unit id="324" translate="yes" xml:space="preserve">
          <source>Azure App Service Web Apps supports accessing on-premise databases with two approaches: <bpt id="p1">[</bpt>Hybrid Connections<ept id="p1">](../integration-hybrid-connection-overview.md)</ept> and <bpt id="p2">[</bpt>Virtual Networks<ept id="p2">](web-sites-integrate-with-vnet.md)</ept>.</source>
          <target state="new">Azure App Service Web Apps supports accessing on-premise databases with two approaches: <bpt id="p1">[</bpt>Hybrid Connections<ept id="p1">](../integration-hybrid-connection-overview.md)</ept> and <bpt id="p2">[</bpt>Virtual Networks<ept id="p2">](web-sites-integrate-with-vnet.md)</ept>.</target>
        </trans-unit>
        <trans-unit id="325" translate="yes" xml:space="preserve">
          <source>For more information, see <bpt id="p1">[</bpt>Using VNET integration and Hybrid connections with Azure App Service Web Apps<ept id="p1">](http://azure.microsoft.com/blog/2014/10/30/using-vnet-or-hybrid-conn-with-websites/)</ept>.</source>
          <target state="new">For more information, see <bpt id="p1">[</bpt>Using VNET integration and Hybrid connections with Azure App Service Web Apps<ept id="p1">](http://azure.microsoft.com/blog/2014/10/30/using-vnet-or-hybrid-conn-with-websites/)</ept>.</target>
        </trans-unit>
        <trans-unit id="326" translate="yes" xml:space="preserve">
          <source>Further resources</source>
          <target state="new">Further resources</target>
        </trans-unit>
        <trans-unit id="327" translate="yes" xml:space="preserve">
          <source>Protect the Application with SSL and the Authorize Attribute</source>
          <target state="new">Protect the Application with SSL and the Authorize Attribute</target>
        </trans-unit>
        <trans-unit id="328" translate="yes" xml:space="preserve">
          <source>Use Active Directory for authentication in Azure App Service</source>
          <target state="new">Use Active Directory for authentication in Azure App Service</target>
        </trans-unit>
        <trans-unit id="329" translate="yes" xml:space="preserve">
          <source>Create a .NET MVC web app in Azure App Service with Azure Active Directory authentication</source>
          <target state="new">Create a .NET MVC web app in Azure App Service with Azure Active Directory authentication</target>
        </trans-unit>
        <trans-unit id="330" translate="yes" xml:space="preserve">
          <source>Use the On-Premises Organizational Authentication Option (ADFS) With ASP.NET in Visual Studio 2013</source>
          <target state="new">Use the On-Premises Organizational Authentication Option (ADFS) With ASP.NET in Visual Studio 2013</target>
        </trans-unit>
        <trans-unit id="331" translate="yes" xml:space="preserve">
          <source>Vittorio Bertocci's blog</source>
          <target state="new">Vittorio Bertocci's blog</target>
        </trans-unit>
        <trans-unit id="332" translate="yes" xml:space="preserve">
          <source>Migrate a VS2013 Web Project From WIF to Katana</source>
          <target state="new">Migrate a VS2013 Web Project From WIF to Katana</target>
        </trans-unit>
        <trans-unit id="333" translate="yes" xml:space="preserve">
          <source>Active Directory Federation Services Overview</source>
          <target state="new">Active Directory Federation Services Overview</target>
        </trans-unit>
        <trans-unit id="334" translate="yes" xml:space="preserve">
          <source>WS-Federation 1.1 specification</source>
          <target state="new">WS-Federation 1.1 specification</target>
        </trans-unit>
        <trans-unit id="335" translate="yes" xml:space="preserve">
          <source>test</source>
          <target state="new">test</target>
        </trans-unit>
      </group>
    </body>
  </file>
  <header xmlns="">
    <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">
    </xliffext:oltranslationpriority>
    <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">a1293cf5e919fd250cdf99ce8b9840ec56ed9ac8</xliffext:olfilehash>
  </header>
</xliff>