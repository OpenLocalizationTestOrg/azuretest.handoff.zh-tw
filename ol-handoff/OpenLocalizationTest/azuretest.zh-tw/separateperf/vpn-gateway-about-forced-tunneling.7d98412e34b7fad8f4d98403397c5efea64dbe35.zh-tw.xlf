<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="zh-tw">
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Configure Forced Tunneling for Microsoft Azure VPN Gateways | Microsoft Azure</source>
          <target state="new">Configure Forced Tunneling for Microsoft Azure VPN Gateways | Microsoft Azure</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>If you have a virtual network with a cross-premises VPN-gateway, you can redirect or</source>
          <target state="new">If you have a virtual network with a cross-premises VPN-gateway, you can redirect or</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Configure forced tunneling</source>
          <target state="new">Configure forced tunneling</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Forced tunneling lets you redirect or "force" all Internet-bound traffic back to your on-premises location via a site-to-site VPN tunnel for inspection and auditing.</source>
          <target state="new">Forced tunneling lets you redirect or "force" all Internet-bound traffic back to your on-premises location via a site-to-site VPN tunnel for inspection and auditing.</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>This is a critical security requirement for most enterprise IT policies.</source>
          <target state="new">This is a critical security requirement for most enterprise IT policies.</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Without forced tunneling, Internet-bound traffic from your VMs in Azure will always traverse from Azure network infrastructure directly out to the Internet, without the option to allow you to inspect or audit the traffic.</source>
          <target state="new">Without forced tunneling, Internet-bound traffic from your VMs in Azure will always traverse from Azure network infrastructure directly out to the Internet, without the option to allow you to inspect or audit the traffic.</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>Unauthorized Internet access can potentially lead to information disclosure or other types of security breaches.</source>
          <target state="new">Unauthorized Internet access can potentially lead to information disclosure or other types of security breaches.</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>The following diagram illustrates how forced tunneling works.</source>
          <target state="new">The following diagram illustrates how forced tunneling works.</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>Forced Tunneling</source>
          <target state="new">Forced Tunneling</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>In the example above, the Frontend subnet is not forced tunneled.</source>
          <target state="new">In the example above, the Frontend subnet is not forced tunneled.</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>The workloads in the Frontend subnet can continue to accept and respond to customer requests from the Internet directly.</source>
          <target state="new">The workloads in the Frontend subnet can continue to accept and respond to customer requests from the Internet directly.</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>The Mid-tier and Backend subnets are forced tunneled.</source>
          <target state="new">The Mid-tier and Backend subnets are forced tunneled.</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Any outbound connections from these two subnets to the Internet will be forced or redirected back to an on-premises site via one of the S2S VPN tunnels.</source>
          <target state="new">Any outbound connections from these two subnets to the Internet will be forced or redirected back to an on-premises site via one of the S2S VPN tunnels.</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>This allows you to restrict and inspect Internet access from your Virtual Machines or cloud services in Azure, while continuing to enable your multi-tier service architecture required.</source>
          <target state="new">This allows you to restrict and inspect Internet access from your Virtual Machines or cloud services in Azure, while continuing to enable your multi-tier service architecture required.</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>You also have the option to apply forced tunneling to the entire virtual networks if there are no Internet-facing workloads in your virtual networks.</source>
          <target state="new">You also have the option to apply forced tunneling to the entire virtual networks if there are no Internet-facing workloads in your virtual networks.</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>Requirements and considerations</source>
          <target state="new">Requirements and considerations</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>Forced tunneling in Azure is configured via virtual network User-Defined routes.</source>
          <target state="new">Forced tunneling in Azure is configured via virtual network User-Defined routes.</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>Redirecting traffic to an on-premises site is expressed as a Default Route to the Azure VPN gateway.</source>
          <target state="new">Redirecting traffic to an on-premises site is expressed as a Default Route to the Azure VPN gateway.</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>The following section lists the current limitation of the routing table and routes for an Azure Virtual Network:</source>
          <target state="new">The following section lists the current limitation of the routing table and routes for an Azure Virtual Network:</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>Each virtual network subnet has a built-in, system routing table.</source>
          <target state="new">Each virtual network subnet has a built-in, system routing table.</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>The system routing table has the following 3 groups of routes:</source>
          <target state="new">The system routing table has the following 3 groups of routes:</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Local VNet routes:<ept id="p1">**</ept> Directly to the destination VMs in the same virtual network</source>
          <target state="new"><bpt id="p1">**</bpt>Local VNet routes:<ept id="p1">**</ept> Directly to the destination VMs in the same virtual network</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>On premises routes:<ept id="p1">**</ept> To the Azure VPN gateway</source>
          <target state="new"><bpt id="p1">**</bpt>On premises routes:<ept id="p1">**</ept> To the Azure VPN gateway</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>Default route:<ept id="p1">**</ept> Directly to the Internet.</source>
          <target state="new"><bpt id="p1">**</bpt>Default route:<ept id="p1">**</ept> Directly to the Internet.</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Note that packets destined to the private IP addresses not covered by the previous two routes will be dropped.</source>
          <target state="new">Note that packets destined to the private IP addresses not covered by the previous two routes will be dropped.</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>With the release of User-Defined Routes, you can create a routing table to add a default route, and then associate the routing table to your VNet subnet(s) to enable forced tunneling on those subnets.</source>
          <target state="new">With the release of User-Defined Routes, you can create a routing table to add a default route, and then associate the routing table to your VNet subnet(s) to enable forced tunneling on those subnets.</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Forced tunneling must be associated with a VNet that has a dynamic routing VPN gateway (not a static gateway).</source>
          <target state="new">Forced tunneling must be associated with a VNet that has a dynamic routing VPN gateway (not a static gateway).</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>You need to set a "default site" among the cross-premises local sites connected to the virtual network.</source>
          <target state="new">You need to set a "default site" among the cross-premises local sites connected to the virtual network.</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Note that ExpressRoute forced tunneling is not configured via this mechanism, but instead, is enabled by advertising a default route via the ExpressRoute BGP peering sessions.</source>
          <target state="new">Note that ExpressRoute forced tunneling is not configured via this mechanism, but instead, is enabled by advertising a default route via the ExpressRoute BGP peering sessions.</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>Please see the <bpt id="p1">[</bpt>ExpressRoute Documentation<ept id="p1">](https://azure.microsoft.com/documentation/services/expressroute/)</ept> for more information.</source>
          <target state="new">Please see the <bpt id="p1">[</bpt>ExpressRoute Documentation<ept id="p1">](https://azure.microsoft.com/documentation/services/expressroute/)</ept> for more information.</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>Configuration overview</source>
          <target state="new">Configuration overview</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>The procedure below will help you specify forced tunneling for a virtual network.</source>
          <target state="new">The procedure below will help you specify forced tunneling for a virtual network.</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>The configuration steps correspond to the virtual network netcfg file example below.</source>
          <target state="new">The configuration steps correspond to the virtual network netcfg file example below.</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>In the example, the virtual network "MultiTier-VNet" has 3 subnets: <bpt id="p1">*</bpt>Frontend<ept id="p1">*</ept>, <bpt id="p2">*</bpt>Midtier<ept id="p2">*</ept>, and <bpt id="p3">*</bpt>Backend<ept id="p3">*</ept> subnets, with 4 cross premises connections: <bpt id="p4">*</bpt>DefaultSiteHQ<ept id="p4">*</ept>, and 3 <bpt id="p5">*</bpt>Branches<ept id="p5">*</ept>.</source>
          <target state="new">In the example, the virtual network "MultiTier-VNet" has 3 subnets: <bpt id="p1">*</bpt>Frontend<ept id="p1">*</ept>, <bpt id="p2">*</bpt>Midtier<ept id="p2">*</ept>, and <bpt id="p3">*</bpt>Backend<ept id="p3">*</ept> subnets, with 4 cross premises connections: <bpt id="p4">*</bpt>DefaultSiteHQ<ept id="p4">*</ept>, and 3 <bpt id="p5">*</bpt>Branches<ept id="p5">*</ept>.</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>The procedure steps will set the <bpt id="p1">*</bpt>DefaultSiteHQ<ept id="p1">*</ept> as the default site connection for forced tunneling, and configure the <bpt id="p2">*</bpt>Midtier<ept id="p2">*</ept> and <bpt id="p3">*</bpt>Backend<ept id="p3">*</ept> subnets to use forced tunneling.</source>
          <target state="new">The procedure steps will set the <bpt id="p1">*</bpt>DefaultSiteHQ<ept id="p1">*</ept> as the default site connection for forced tunneling, and configure the <bpt id="p2">*</bpt>Midtier<ept id="p2">*</ept> and <bpt id="p3">*</bpt>Backend<ept id="p3">*</ept> subnets to use forced tunneling.</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Prerequisites</source>
          <target state="new">Prerequisites</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>Azure Subscription</source>
          <target state="new">Azure Subscription</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>A configured virtual network.</source>
          <target state="new">A configured virtual network.</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>The latest version of the Azure PowerShell cmdlets using the Web Platform Installer.</source>
          <target state="new">The latest version of the Azure PowerShell cmdlets using the Web Platform Installer.</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>You can download and install the latest version from the <bpt id="p1">**</bpt>Windows PowerShell<ept id="p1">**</ept> section of the <bpt id="p2">[</bpt>Download page<ept id="p2">](http://azure.microsoft.com/downloads/)</ept>.</source>
          <target state="new">You can download and install the latest version from the <bpt id="p1">**</bpt>Windows PowerShell<ept id="p1">**</ept> section of the <bpt id="p2">[</bpt>Download page<ept id="p2">](http://azure.microsoft.com/downloads/)</ept>.</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Configure forced tunneling</source>
          <target state="new">Configure forced tunneling</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>Use the following procedure to configure forced tunneling.</source>
          <target state="new">Use the following procedure to configure forced tunneling.</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>Create a routing table.</source>
          <target state="new">Create a routing table.</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>Use the following cmdlet to create your route table.</source>
          <target state="new">Use the following cmdlet to create your route table.</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>Add a default route to the routing table.</source>
          <target state="new">Add a default route to the routing table.</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>The cmdlet example below adds a default route to the routing table created in Step 1.</source>
          <target state="new">The cmdlet example below adds a default route to the routing table created in Step 1.</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Note that the only route supported is the destination prefix of "0.0.0.0/0" to the "VPNGateway" nexthop.</source>
          <target state="new">Note that the only route supported is the destination prefix of "0.0.0.0/0" to the "VPNGateway" nexthop.</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>Associate the routing table to the subnets.</source>
          <target state="new">Associate the routing table to the subnets.</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>After a routing table is created and a route added, use the cmdlet below to add or associate the route table to a VNet subnet.</source>
          <target state="new">After a routing table is created and a route added, use the cmdlet below to add or associate the route table to a VNet subnet.</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>The samples below add the route table "MyRouteTable" to the Midtier and Backend subnets of VNet MultiTier-VNet.</source>
          <target state="new">The samples below add the route table "MyRouteTable" to the Midtier and Backend subnets of VNet MultiTier-VNet.</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>Assign a default site for forced tunneling.</source>
          <target state="new">Assign a default site for forced tunneling.</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>In the preceding step, the sample cmdlet scripts created the routing table and associated the route table to two of the VNet subnets.</source>
          <target state="new">In the preceding step, the sample cmdlet scripts created the routing table and associated the route table to two of the VNet subnets.</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>The remaining step is to select a local site among the multi-site connections of the virtual network as the default site or tunnel.</source>
          <target state="new">The remaining step is to select a local site among the multi-site connections of the virtual network as the default site or tunnel.</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>Additional PowerShell cmdlets</source>
          <target state="new">Additional PowerShell cmdlets</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>Below are some additional PowerShell cmdlets that you may find helpful when working with forced tunneling configurations.</source>
          <target state="new">Below are some additional PowerShell cmdlets that you may find helpful when working with forced tunneling configurations.</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>To delete a route table:</source>
          <target state="new">To delete a route table:</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>To list a route table:</source>
          <target state="new">To list a route table:</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>To delete a route from a route table:</source>
          <target state="new">To delete a route from a route table:</target>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>To remove a route from a subnet:</source>
          <target state="new">To remove a route from a subnet:</target>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>To list the route table associated with a subnet:</source>
          <target state="new">To list the route table associated with a subnet:</target>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>To remove a default site from a VNet VPN gateway:</source>
          <target state="new">To remove a default site from a VNet VPN gateway:</target>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>Next Steps</source>
          <target state="new">Next Steps</target>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>For information about securing your network traffic.</source>
          <target state="new">For information about securing your network traffic.</target>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>See <bpt id="p1">[</bpt>What is a Network Security Group<ept id="p1">](../virtual-network/virtual-networks-nsg.md)</ept>.</source>
          <target state="new">See <bpt id="p1">[</bpt>What is a Network Security Group<ept id="p1">](../virtual-network/virtual-networks-nsg.md)</ept>.</target>
        </trans-unit>
      </group>
    </body>
  </file>
  <header xmlns="">
    <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">
    </xliffext:oltranslationpriority>
    <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">2415da359bbe7278ddf816a1150257ee738fce1e</xliffext:olfilehash>
  </header>
</xliff>